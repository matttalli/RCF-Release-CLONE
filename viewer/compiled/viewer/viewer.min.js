var _rcfViewer =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 142);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


if (true) {
  module.exports = __webpack_require__(112);
} else {}


/***/ }),
/* 1 */
/***/ (function(module, exports) {

// `IsCallable` abstract operation
// https://tc39.es/ecma262/#sec-iscallable
module.exports = function (argument) {
  return typeof argument == 'function';
};


/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

var isObject = __webpack_require__(20);

var $String = String;
var $TypeError = TypeError;

// `Assert: Type(argument) is Object`
module.exports = function (argument) {
  if (isObject(argument)) return argument;
  throw $TypeError($String(argument) + ' is not an object');
};


/***/ }),
/* 3 */
/***/ (function(module, exports) {

module.exports = function (exec) {
  try {
    return !!exec();
  } catch (error) {
    return true;
  }
};


/***/ }),
/* 4 */
/***/ (function(module, exports) {

function _typeof(o) {
  "@babel/helpers - typeof";

  return module.exports = _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) {
    return typeof o;
  } : function (o) {
    return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o;
  }, module.exports.__esModule = true, module.exports["default"] = module.exports, _typeof(o);
}
module.exports = _typeof, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

var toPropertyKey = __webpack_require__(74);
function _defineProperty(e, r, t) {
  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {
    value: t,
    enumerable: !0,
    configurable: !0,
    writable: !0
  }) : e[r] = t, e;
}
module.exports = _defineProperty, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 6 */
/***/ (function(module, exports) {

module.exports = jQuery;

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {var check = function (it) {
  return it && it.Math == Math && it;
};

// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
module.exports =
  // eslint-disable-next-line es-x/no-global-this -- safe
  check(typeof globalThis == 'object' && globalThis) ||
  check(typeof window == 'object' && window) ||
  // eslint-disable-next-line no-restricted-globals -- safe
  check(typeof self == 'object' && self) ||
  check(typeof global == 'object' && global) ||
  // eslint-disable-next-line no-new-func -- fallback
  (function () { return this; })() || Function('return this')();

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(81)))

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

var NATIVE_BIND = __webpack_require__(23);

var FunctionPrototype = Function.prototype;
var bind = FunctionPrototype.bind;
var call = FunctionPrototype.call;
var uncurryThis = NATIVE_BIND && bind.bind(call, call);

module.exports = NATIVE_BIND ? function (fn) {
  return fn && uncurryThis(fn);
} : function (fn) {
  return fn && function () {
    return call.apply(fn, arguments);
  };
};


/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// https://github.com/tc39/proposal-iterator-helpers
var $ = __webpack_require__(19);
var global = __webpack_require__(7);
var anInstance = __webpack_require__(100);
var isCallable = __webpack_require__(1);
var createNonEnumerableProperty = __webpack_require__(21);
var fails = __webpack_require__(3);
var hasOwn = __webpack_require__(10);
var wellKnownSymbol = __webpack_require__(14);
var IteratorPrototype = __webpack_require__(60).IteratorPrototype;
var IS_PURE = __webpack_require__(29);

var TO_STRING_TAG = wellKnownSymbol('toStringTag');

var NativeIterator = global.Iterator;

// FF56- have non-standard global helper `Iterator`
var FORCED = IS_PURE
  || !isCallable(NativeIterator)
  || NativeIterator.prototype !== IteratorPrototype
  // FF44- non-standard `Iterator` passes previous tests
  || !fails(function () { NativeIterator({}); });

var IteratorConstructor = function Iterator() {
  anInstance(this, IteratorPrototype);
};

if (!hasOwn(IteratorPrototype, TO_STRING_TAG)) {
  createNonEnumerableProperty(IteratorPrototype, TO_STRING_TAG, 'Iterator');
}

if (FORCED || !hasOwn(IteratorPrototype, 'constructor') || IteratorPrototype.constructor === Object) {
  createNonEnumerableProperty(IteratorPrototype, 'constructor', IteratorConstructor);
}

IteratorConstructor.prototype = IteratorPrototype;

$({ global: true, constructor: true, forced: FORCED }, {
  Iterator: IteratorConstructor
});


/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

var uncurryThis = __webpack_require__(8);
var toObject = __webpack_require__(50);

var hasOwnProperty = uncurryThis({}.hasOwnProperty);

// `HasOwnProperty` abstract operation
// https://tc39.es/ecma262/#sec-hasownproperty
// eslint-disable-next-line es-x/no-object-hasown -- safe
module.exports = Object.hasOwn || function hasOwn(it, key) {
  return hasOwnProperty(toObject(it), key);
};


/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

var objectWithoutPropertiesLoose = __webpack_require__(120);
function _objectWithoutProperties(e, t) {
  if (null == e) return {};
  var o,
    r,
    i = objectWithoutPropertiesLoose(e, t);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e);
    for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);
  }
  return i;
}
module.exports = _objectWithoutProperties, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

var fails = __webpack_require__(3);

// Detect IE8's incomplete defineProperty implementation
module.exports = !fails(function () {
  // eslint-disable-next-line es-x/no-object-defineproperty -- required for testing
  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;
});


/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

var isCallable = __webpack_require__(1);
var tryToString = __webpack_require__(28);

var $TypeError = TypeError;

// `Assert: IsCallable(argument) is true`
module.exports = function (argument) {
  if (isCallable(argument)) return argument;
  throw $TypeError(tryToString(argument) + ' is not a function');
};


/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__(7);
var shared = __webpack_require__(49);
var hasOwn = __webpack_require__(10);
var uid = __webpack_require__(51);
var NATIVE_SYMBOL = __webpack_require__(48);
var USE_SYMBOL_AS_UID = __webpack_require__(47);

var WellKnownSymbolsStore = shared('wks');
var Symbol = global.Symbol;
var symbolFor = Symbol && Symbol['for'];
var createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;

module.exports = function (name) {
  if (!hasOwn(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {
    var description = 'Symbol.' + name;
    if (NATIVE_SYMBOL && hasOwn(Symbol, name)) {
      WellKnownSymbolsStore[name] = Symbol[name];
    } else if (USE_SYMBOL_AS_UID && symbolFor) {
      WellKnownSymbolsStore[name] = symbolFor(description);
    } else {
      WellKnownSymbolsStore[name] = createWellKnownSymbol(description);
    }
  } return WellKnownSymbolsStore[name];
};


/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

var NATIVE_BIND = __webpack_require__(23);

var call = Function.prototype.call;

module.exports = NATIVE_BIND ? call.bind(call) : function () {
  return call.apply(call, arguments);
};


/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// https://github.com/tc39/proposal-iterator-helpers
var $ = __webpack_require__(19);
var apply = __webpack_require__(62);
var aCallable = __webpack_require__(13);
var anObject = __webpack_require__(2);
var createIteratorProxy = __webpack_require__(63);
var callWithSafeIterationClosing = __webpack_require__(64);

var IteratorProxy = createIteratorProxy(function (args) {
  var iterator = this.iterator;
  var filterer = this.filterer;
  var next = this.next;
  var result, done, value;
  while (true) {
    result = anObject(apply(next, iterator, args));
    done = this.done = !!result.done;
    if (done) return;
    value = result.value;
    if (callWithSafeIterationClosing(iterator, filterer, value)) return value;
  }
});

$({ target: 'Iterator', proto: true, real: true, forced: true }, {
  filter: function filter(filterer) {
    return new IteratorProxy({
      iterator: anObject(this),
      filterer: aCallable(filterer)
    });
  }
});


/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// https://github.com/tc39/proposal-iterator-helpers
var $ = __webpack_require__(19);
var iterate = __webpack_require__(38);
var anObject = __webpack_require__(2);

$({ target: 'Iterator', proto: true, real: true, forced: true }, {
  forEach: function forEach(fn) {
    iterate(anObject(this), fn, { IS_ITERATOR: true });
  }
});


/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

var arrayWithHoles = __webpack_require__(122);
var iterableToArrayLimit = __webpack_require__(123);
var unsupportedIterableToArray = __webpack_require__(75);
var nonIterableRest = __webpack_require__(124);
function _slicedToArray(r, e) {
  return arrayWithHoles(r) || iterableToArrayLimit(r, e) || unsupportedIterableToArray(r, e) || nonIterableRest();
}
module.exports = _slicedToArray, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__(7);
var getOwnPropertyDescriptor = __webpack_require__(41).f;
var createNonEnumerableProperty = __webpack_require__(21);
var defineBuiltIn = __webpack_require__(33);
var defineGlobalProperty = __webpack_require__(31);
var copyConstructorProperties = __webpack_require__(91);
var isForced = __webpack_require__(99);

/*
  options.target         - name of the target object
  options.global         - target is the global object
  options.stat           - export as static methods of target
  options.proto          - export as prototype methods of target
  options.real           - real prototype method for the `pure` version
  options.forced         - export even if the native feature is available
  options.bind           - bind methods to the target, required for the `pure` version
  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version
  options.unsafe         - use the simple assignment of property instead of delete + defineProperty
  options.sham           - add a flag to not completely full polyfills
  options.enumerable     - export as enumerable property
  options.dontCallGetSet - prevent calling a getter on target
  options.name           - the .name of the function if it does not match the key
*/
module.exports = function (options, source) {
  var TARGET = options.target;
  var GLOBAL = options.global;
  var STATIC = options.stat;
  var FORCED, target, key, targetProperty, sourceProperty, descriptor;
  if (GLOBAL) {
    target = global;
  } else if (STATIC) {
    target = global[TARGET] || defineGlobalProperty(TARGET, {});
  } else {
    target = (global[TARGET] || {}).prototype;
  }
  if (target) for (key in source) {
    sourceProperty = source[key];
    if (options.dontCallGetSet) {
      descriptor = getOwnPropertyDescriptor(target, key);
      targetProperty = descriptor && descriptor.value;
    } else targetProperty = target[key];
    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);
    // contained in target
    if (!FORCED && targetProperty !== undefined) {
      if (typeof sourceProperty == typeof targetProperty) continue;
      copyConstructorProperties(sourceProperty, targetProperty);
    }
    // add a flag to not completely full polyfills
    if (options.sham || (targetProperty && targetProperty.sham)) {
      createNonEnumerableProperty(sourceProperty, 'sham', true);
    }
    defineBuiltIn(target, key, sourceProperty, options);
  }
};


/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

var isCallable = __webpack_require__(1);

module.exports = function (it) {
  return typeof it == 'object' ? it !== null : isCallable(it);
};


/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

var DESCRIPTORS = __webpack_require__(12);
var definePropertyModule = __webpack_require__(32);
var createPropertyDescriptor = __webpack_require__(42);

module.exports = DESCRIPTORS ? function (object, key, value) {
  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));
} : function (object, key, value) {
  object[key] = value;
  return object;
};


/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

/*! Built on 15/08/2025 15:51 */
module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=26)}([function(e,t){e.exports=__webpack_require__(0)},function(e,t,n){e.exports={has_controls:"player__has_controls--1sKJx",controls:"player__controls--3BaRR",content:"player__content--20_mI",scoreCard:"player__scoreCard--1dqo7",titleBar:"player__titleBar--2W4t1",standardButton:"player__standardButton--GGXcb",standardIcon:"player__standardIcon--2FrHS",toggleButton:"player__toggleButton--1jVls",activitySetNavigation:"player__activitySetNavigation--1CyFL",extendedActivitySetNavigation:"player__extendedActivitySetNavigation--mItGY",activitySetNavigation_closeButton:"player__activitySetNavigation_closeButton--1FBCT",activitySetNavigation_nextButton:"player__activitySetNavigation_nextButton--37w4d",activitySetNavigation_paginationText:"player__activitySetNavigation_paginationText--r9FKO",activitySetNavigation_previousButton:"player__activitySetNavigation_previousButton--2WJwu",checkAnswersButton:"player__checkAnswersButton--246E1",storyDoneButton:"player__storyDoneButton--2mSTK",resetActivityButton:"player__resetActivityButton--2d1hS",showOneByOneButton:"player__showOneByOneButton--1njc2",showAllButton:"player__showAllButton--1mwbF",showAllItemButton:"player__showAllItemButton--fHWok",showAnswers_Text:"player__showAnswers_Text--15PpT",titleBar_activitySetTitle:"player__titleBar_activitySetTitle--11ud5",titleBar_closeButton:"player__titleBar_closeButton--2lUX8",titleBar_fullscreenToggleButton:"player__titleBar_fullscreenToggleButton--1nsKa",tryAgainButton:"player__tryAgainButton--J9p5K",nextActivitySetButton:"player__nextActivitySetButton--2_lVo",multiStepNextActivitySetButton:"player__multiStepNextActivitySetButton--3I4ne",multiStepPreviousActivitySetButton:"player__multiStepPreviousActivitySetButton--3WSUJ",itemBasedNextButton:"player__itemBasedNextButton--1Lb-V",itemBasedPreviousButton:"player__itemBasedPreviousButton--3rjyM",itemBasedFinishButton:"player__itemBasedFinishButton--1Y_c2",multiStepSubmitButton:"player__multiStepSubmitButton--CFZpi",endPlaylistButton:"player__endPlaylistButton--2Xmmu",endAssessmentButton:"player__endAssessmentButton--3-BuM",timedPlaylistTimer:"player__timedPlaylistTimer--1Nxkm",endSingleActivityButton:"player__endSingleActivityButton--3uNyf",itemBased_test:"player__itemBased_test--LMtuu",itemBased_practice:"player__itemBased_practice--1JKBp",itemBased_challenge:"player__itemBased_challenge--pcogn",has_flashcard:"player__has_flashcard--3g0cJ",has_story_reading:"player__has_story_reading--3sUfZ",has_story_comprehension:"player__has_story_comprehension--2UHy0",itemBased_review:"player__itemBased_review--3Z5FM",progressBar_wrong:"player__progressBar_wrong--3hEYc",progressBar_partiallyCorrect:"player__progressBar_partiallyCorrect--1GXuu",progressBar_correct:"player__progressBar_correct--2aTOs",progressBar_attempted:"player__progressBar_attempted--lZfBz",has_activitySetNavigation:"player__has_activitySetNavigation--13wLZ",has_content:"player__has_content--3lN-0",has_scoreCard:"player__has_scoreCard--2uMJL",has_titleBar:"player__has_titleBar--2hJ1s",has_itemBasedHeader:"player__has_itemBasedHeader--2JdGD",has_itemBasedCoverScreen:"player__has_itemBasedCoverScreen--K9cnf",has_controlsMarking:"player__has_controlsMarking--3Lfow",has_controlsNavigation:"player__has_controlsNavigation--fsiYS",has_controlsReset:"player__has_controlsReset--1cN1B",has_controlsShowAnswers:"player__has_controlsShowAnswers--vjkpV",has_rcfActivityActivitySetTitle:"player__has_rcfActivityActivitySetTitle--3dy9u",has_checkAnswersButton:"player__has_checkAnswersButton--Zy1V7",has_disabledCheckAnswersButton:"player__has_disabledCheckAnswersButton--36G6c",has_storyDoneButton:"player__has_storyDoneButton--3m152",has_submitButton:"player__has_submitButton--2JmoY",has_tryAgainButton:"player__has_tryAgainButton--1CpjF",has_editButton:"player__has_editButton--2xnuE",has_endPlaylistButton:"player__has_endPlaylistButton--1n6Lh",has_endAssessmentButton:"player__has_endAssessmentButton--3dss1",has_endSingleActivityButton:"player__has_endSingleActivityButton--BCS3A",has_itemBasedFinishButton:"player__has_itemBasedFinishButton--_nMaI",has_itemBasedNextButton:"player__has_itemBasedNextButton--3b70u",has_itemBasedPreviousButton:"player__has_itemBasedPreviousButton--1g4j1",has_itemBasedStartButton:"player__has_itemBasedStartButton--2rgAF",has_nextActivitySetButton:"player__has_nextActivitySetButton--3Op4-",has_controls_reset:"player__has_controls_reset--2znlW",has_resetActivityButton:"player__has_resetActivityButton--2zHyI",has_itemBasedResetActivityButton:"player__has_itemBasedResetActivityButton--3WiMP",has_multiStepResetActivityButton:"player__has_multiStepResetActivityButton--hyMe_",has_showAnswersText:"player__has_showAnswersText--33h_K",has_answersToggleButton:"player__has_answersToggleButton--2Cny3",has_showAllButton:"player__has_showAllButton--10tnb",has_showAnswersButton:"player__has_showAnswersButton--3PGB1",has_showOneByOneButton:"player__has_showOneByOneButton--1_Ujj",has_fixedWordBox:"player__has_fixedWordBox--2lYbP",has_multiStepStartButton:"player__has_multiStepStartButton--2SgaS",has_multiStepNextActivitySetButton:"player__has_multiStepNextActivitySetButton--3pcSR",has_multiStepPreviousActivitySetButton:"player__has_multiStepPreviousActivitySetButton--1n4zZ",has_multiStepPreviousActivityButton:"player__has_multiStepPreviousActivityButton--1B5w6",has_multiStepNextActivityButton:"player__has_multiStepNextActivityButton--SVsXi",has_multiStepSubmitButton:"player__has_multiStepSubmitButton--3Y5yE",has_multiStepHeader:"player__has_multiStepHeader--JcUg1",has_pendingMarks:"player__has_pendingMarks--2QUf3",has_noAttemptAvailable:"player__has_noAttemptAvailable--dCzPm",devContainerWindow:"player__devContainerWindow--1qrZU",devContainerDiv:"player__devContainerDiv--29U6G",score_text:"player__score_text--3NYp0",score_percentage:"player__score_percentage--1WxG2",score_correct_text:"player__score_correct_text--kLyjx",navigationArrowsContainer:"player__navigationArrowsContainer--2JCTo",navigationArrows:"player__navigationArrows--1KXSd",controls_marking:"player__controls_marking--2srOJ",controls_navigation:"player__controls_navigation--1OlXq",controls_reset:"player__controls_reset--2kp_k",controls_showAnswers:"player__controls_showAnswers--215q6",showAnswers_buttons:"player__showAnswers_buttons--2BfpV",itemBasedStartButton:"player__itemBasedStartButton--3VueE",answersToggleButton:"player__answersToggleButton--26-z0",markedAnswers:"player__markedAnswers--2jmmW",correctAnswers:"player__correctAnswers--15Yzw",buttonStyle:"player__buttonStyle--3ZUQO",itemBasedCoverScreen_container:"player__itemBasedCoverScreen_container--1beBe",itemBasedCoverScreen_activitySetTitle:"player__itemBasedCoverScreen_activitySetTitle--a0a6w",currentActivity:"player__currentActivity--3aJ1a",activitySet:"player__activitySet--1MH8T",title:"player__title--3RyTM",coverScreen_activityModeLabel:"player__coverScreen_activityModeLabel--2sJBJ",activityMode:"player__activityMode--1p3Rd",itemBasedHeader:"player__itemBasedHeader--2dU8a",itemBasedHeader_backButton:"player__itemBasedHeader_backButton--3H4yP",itemBasedProgressBar_lives:"player__itemBasedProgressBar_lives--3VqwM",listAllItems:"player__listAllItems--3Ohie",itemBasedProgressBar_practiceProgress:"player__itemBasedProgressBar_practiceProgress--39Ke7",listItems:"player__listItems--Nh0m8",itemBasedProgressBar_reviewProgress:"player__itemBasedProgressBar_reviewProgress--2bCGf",itemClass:"player__itemClass--2o82Y",itemBasedProgressBar_testProgress:"player__itemBasedProgressBar_testProgress--2SGyc",rewardObject:"player__rewardObject--16Hb9",completionText:"player__completionText--aq3FY",playerStyles:"player__playerStyles--2TxO0",reward_text:"player__reward_text--2cDjR",rewardText:"player__rewardText--2KEpk",reward_badge:"player__reward_badge--29GNb",countCorrect:"player__countCorrect--1CMa7",countWrong:"player__countWrong--1Tsdv",rcfActivity_activitySetTitle:"player__rcfActivity_activitySetTitle--2Ba5_",className:"player__className--3jhKd",scoreCard_closeButton:"player__scoreCard_closeButton--3PLTT",scoreCard_scoreText:"player__scoreCard_scoreText--1BB-m",componentTable:"player__componentTable--2pTzH",developmentDialog:"player__developmentDialog--3BX5f",titleBar_buttons:"player__titleBar_buttons--3qkMC",titleBar_dotsGridIcon:"player__titleBar_dotsGridIcon--1EQuK",multiStepPreviousActivityButton:"player__multiStepPreviousActivityButton--2OVGp",multiStepStartButton:"player__multiStepStartButton--2uzHV",review:"player__review--2dBid","no-activity-controls":"player__no-activity-controls--1qKwB",standAloneMedia_audio:"player__standAloneMedia_audio--3QIrm",standAloneMedia_video:"player__standAloneMedia_video--19jA-",flashcard:"player__flashcard--25wOG",story_comprehension:"player__story_comprehension--2QMge",story_reading:"player__story_reading--3Oj4i",coverScreen_rules:"player__coverScreen_rules--MuFMl",coverScreen_rulesForChallenge:"player__coverScreen_rulesForChallenge--3aSXP",coverScreen_rulesForPractice:"player__coverScreen_rulesForPractice--2tm2W",coverScreen_rulesFortest:"player__coverScreen_rulesFortest--2F6w-",coverScreen_promptContainer:"player__coverScreen_promptContainer--q8D2H",coverScreen_promptForChallenge:"player__coverScreen_promptForChallenge--3Ttvq",coverScreen_promptForPractice:"player__coverScreen_promptForPractice--1Cn9r",coverScreen_promptForTest:"player__coverScreen_promptForTest--gK3O_",timedPlaylistSubmitted:"player__timedPlaylistSubmitted--2oQ-l",timedPlaylistTimedOut:"player__timedPlaylistTimedOut--2qhUc",timedPlaylistFinish:"player__timedPlaylistFinish--eXRMW",challengeMode_progressive:"player__challengeMode_progressive--zf-Dt",challengeMode_random:"player__challengeMode_random--1ylsJ",has_multiStepCoverScreen:"player__has_multiStepCoverScreen--3_4vz",multiStepCoverScreen_container:"player__multiStepCoverScreen_container--3VSBb",multiStepCoverScreen:"player__multiStepCoverScreen--7Oda-",coverScreen_activitySetTitle:"player__coverScreen_activitySetTitle--15eZa",coverScreen_multiStepsLabel:"player__coverScreen_multiStepsLabel--3NnBo",coverScreen_activitySetDetails:"player__coverScreen_activitySetDetails--27FHP",coverScreen_activitySetDescriptionContainer:"player__coverScreen_activitySetDescriptionContainer--1T2Iw",coverScreen_activitySetDescription:"player__coverScreen_activitySetDescription--_DiUF",is_leftSide:"player__is_leftSide--3xAZj",is_rightSide:"player__is_rightSide--1MNOY",scoreValue:"player__scoreValue--11xti",scoreOpenGradable:"player__scoreOpenGradable--AL18x",scoreWrong:"player__scoreWrong--3_yWb",scoreCorrect:"player__scoreCorrect--2W2_u",score_youScoreText:"player__score_youScoreText--Xsus3",score_percentageValue:"player__score_percentageValue--2V8Po",score_percentageChar:"player__score_percentageChar--1VfN3",score_correctText:"player__score_correctText--h_UBr",scoreStatus:"player__scoreStatus--fSK3O",openGradable:"player__openGradable--3FGKG",has_itemBasedScoreScreen:"player__has_itemBasedScoreScreen--NS-Td",has_multiStepScoreScreen:"player__has_multiStepScoreScreen--11eRI",scoreScreen_container:"player__scoreScreen_container--3Vjlg",scoreScreen:"player__scoreScreen--28djo",scoreScreen_itemBased:"player__scoreScreen_itemBased--2TXOk",scoreScreen_multiStep:"player__scoreScreen_multiStep--24_KA",scoreScreen_activitySetTitle:"player__scoreScreen_activitySetTitle--3YcGd",scoreScreen_score_percentageContainer:"player__scoreScreen_score_percentageContainer--3Sahd",scoreScreen_score_percentageContent:"player__scoreScreen_score_percentageContent--5L_q6",scoreScreen_livesContainer:"player__scoreScreen_livesContainer--sQHKi",scoreScreen_lives:"player__scoreScreen_lives--1FJn7",scoreScreen_score:"player__scoreScreen_score--3qhTe",scoreScreen_correctContainer:"player__scoreScreen_correctContainer--2M2PS",scoreScreen_correctText:"player__scoreScreen_correctText--FWpjf",scoreScreen_correctIcon:"player__scoreScreen_correctIcon--3UEyf",scoreScreen_wrongContainer:"player__scoreScreen_wrongContainer--qE_rl",scoreScreen_wrongText:"player__scoreScreen_wrongText--13T_P",scoreScreen_wrongIcon:"player__scoreScreen_wrongIcon--20tsS",scoreScreen_reward:"player__scoreScreen_reward--gCUi5",scoreScreen_completionText:"player__scoreScreen_completionText--3UlCf",scoreScreen_individualScoreDetails:"player__scoreScreen_individualScoreDetails--2eGnp",scoreScreen_teacherMarkPendingNotice:"player__scoreScreen_teacherMarkPendingNotice--1e4Wl",hostedByScorm:"player__hostedByScorm--EHvyq",theme_1:"player__theme_1--1ArVv",theme_2:"player__theme_2--3zLbz",theme_3:"player__theme_3--37_q8",itemBasedCoverScreen_challengeReward:"player__itemBasedCoverScreen_challengeReward--3iMU7",fullScreen:"player__fullScreen--QeZe9",windowed:"player__windowed--1GbfZ",noAttemptAvailable:"player__noAttemptAvailable--1wskN",coverScreen:"player__coverScreen--1gbqD",theme_4:"player__theme_4--3pCKn",theme_calmBlue:"player__theme_calmBlue--1tO91",theme_purpleSky:"player__theme_purpleSky--UIu58",theme_turtleBay:"player__theme_turtleBay--1gz-T",has_timedPlaylistEndScreen:"player__has_timedPlaylistEndScreen--273Lk",maximized:"player__maximized--3eKcd",loader:"player__loader--1fQNI",contentInner:"player__contentInner--QYWr8",hidden:"player__hidden--v3CeV",noAttemptAvailable_text:"player__noAttemptAvailable_text--3gpWL",primaryButton:"player__primaryButton--I8s-b",itemBasedEndPlaylistButton:"player__itemBasedEndPlaylistButton--25ZyG",multiStepNextActivityButton:"player__multiStepNextActivityButton--1Mo5P",timedPlaylistSubmitButton:"player__timedPlaylistSubmitButton--2_b3p",timedPlaylistFinishButton:"player__timedPlaylistFinishButton--s59Wb",nextTimedPlaylistActivitySetButton:"player__nextTimedPlaylistActivitySetButton--1qbpT",submitAnswersButton:"player__submitAnswersButton--1dxN6",submitButton:"player__submitButton--2U4ov",previousTimedPlaylistActivitySetButton:"player__previousTimedPlaylistActivitySetButton--3mlIV",lastTimedPlaylistActivitySetButton:"player__lastTimedPlaylistActivitySetButton--3vB0A",timedPlaylistInProgress:"player__timedPlaylistInProgress--3SQaE",timedPlaylistTimer_hideInStrictHomework:"player__timedPlaylistTimer_hideInStrictHomework--2Dpfp",activitySet_dragIcon:"player__activitySet_dragIcon--1AGCg",activitySet_Buttons:"player__activitySet_Buttons--2FJUN",activitySet_titleBarButtons:"player__activitySet_titleBarButtons--3qiUH",has_nextTimedPlaylistActivitySetButton:"player__has_nextTimedPlaylistActivitySetButton--1ioRW",has_previousTimedPlaylistActivitySetButton:"player__has_previousTimedPlaylistActivitySetButton--1y3M8",has_timedPlaylistFinishButton:"player__has_timedPlaylistFinishButton--250y4",has_timedPlaylistSubmitButton:"player__has_timedPlaylistSubmitButton--3Xh8P",showAnswersRevealButton:"player__showAnswersRevealButton--3KS1K",has_showAnswersRevealButton:"player__has_showAnswersRevealButton--1Xvzc",titleBar_dragIcon:"player__titleBar_dragIcon--RN8d8",multiStepHeader:"player__multiStepHeader--3uFSJ",has_titleBarButtons:"player__has_titleBarButtons--IgQfI",header_titleBarButtons:"player__header_titleBarButtons--36hQ4",header_closeButton:"player__header_closeButton--3kxvj",multiStepHeader_backButton:"player__multiStepHeader_backButton--2h_eS",itemBasedProgressBar_challenge:"player__itemBasedProgressBar_challenge--3s3C3",itemBasedProgressBar_progress:"player__itemBasedProgressBar_progress--1NF9W",multiStepProgressBar_progress:"player__multiStepProgressBar_progress--15WBg",timedPlaylistProgressBar_progress:"player__timedPlaylistProgressBar_progress--1VRPZ",timedPlaylistTimer_red:"player__timedPlaylistTimer_red--JTInV",progressBar_active:"player__progressBar_active--YXQRF",timedPlaylistProgressPagination_pagination:"player__timedPlaylistProgressPagination_pagination--1tXEB",progressPagination_ellipsis:"player__progressPagination_ellipsis--DxleJ",progressPagination_finishButton:"player__progressPagination_finishButton--38Qbl",progressPagination_button:"player__progressPagination_button--F18tg",progressPagination_active:"player__progressPagination_active--nVUM0",progressPagination_attempted:"player__progressPagination_attempted--35b8i",timedPlaylistProgressPagination_previous:"player__timedPlaylistProgressPagination_previous--1B-YD",timedPlaylistProgressPagination_next:"player__timedPlaylistProgressPagination_next--bk0yb",progressBar_pendingMarks:"player__progressBar_pendingMarks--2ujzZ",span:"player__span--1rNVk",itemBasedProgressBar_timer:"player__itemBasedProgressBar_timer--3iNkU",itemBasedProgressBar_timerContainer:"player__itemBasedProgressBar_timerContainer--1m0_K",itemBasedProgressBar_red:"player__itemBasedProgressBar_red--3AMcd",itemBasedProgressBar_orange:"player__itemBasedProgressBar_orange--1F9mi",itemBasedProgressBar_green:"player__itemBasedProgressBar_green--3jskr",itemBasedProgressBar_bounce:"player__itemBasedProgressBar_bounce--ZVenz",bounceAnimation:"player__bounceAnimation--NI0qV",itemBasedProgressBar_shortBounce:"player__itemBasedProgressBar_shortBounce--17UrB",shortBounceAnimation:"player__shortBounceAnimation--243s0",itemBasedProgressBar_counterContainer:"player__itemBasedProgressBar_counterContainer--HsPC1",itemBasedProgressBar_correctCounter:"player__itemBasedProgressBar_correctCounter--14TAf",paginationLoader:"player__paginationLoader--1VlH4",paginationLoaderAnimation1:"player__paginationLoaderAnimation1--1gygd",paginationLoaderAnimation2:"player__paginationLoaderAnimation2--FK0ev",paginationLoaderAnimation3:"player__paginationLoaderAnimation3--3Hqtr",coverScreen_multiStep:"player__coverScreen_multiStep--2o-XH",coverScreen_itemBased:"player__coverScreen_itemBased--_8fkf",coverScreen_container:"player__coverScreen_container--c1EID",timedPlaylistEndScreen_container:"player__timedPlaylistEndScreen_container--2mrgS",coverScreen_conditionsContainer:"player__coverScreen_conditionsContainer--2J1_X",timedPlaylistEndScreen_playlistSubmittedSVG:"player__timedPlaylistEndScreen_playlistSubmittedSVG--131F7",timedPlaylistEndScreen:"player__timedPlaylistEndScreen--3WULo",timedPlaylistEndScreen_header:"player__timedPlaylistEndScreen_header--3PZBj",timedPlaylistEndScreen_paragraph:"player__timedPlaylistEndScreen_paragraph--2bZ-z",timedPlaylistEndScreen_playlistTimedOutSVG:"player__timedPlaylistEndScreen_playlistTimedOutSVG--2ABaA",timedPlaylistEndScreen_playlistFinishSVG:"player__timedPlaylistEndScreen_playlistFinishSVG--1A9wF",coverScreen_conditionsLabels:"player__coverScreen_conditionsLabels--2dCw7",coverScreen_rulesContainer:"player__coverScreen_rulesContainer--2Zb-J",life_active:"player__life_active--DMLt3",linkStep:"player__linkStep--1NA0u",none:"player__none--3P9Wf",good:"player__good--3nRcn",great:"player__great--39LAA",excellent:"player__excellent--1z4XE",itemBasedScoreScreen_score_accuracyText:"player__itemBasedScoreScreen_score_accuracyText--e7ERz",itemBased_reviewModeLabel:"player__itemBased_reviewModeLabel--3T5VX",loader_block:"player__loader_block--2YWT-",s3:"player__s3--2YZH3",loader_title:"player__loader_title--1Iydd",fontSizeControlGroup:"player__fontSizeControlGroup--3t47_",controlFontSizeMenuButton:"player__controlFontSizeMenuButton--3EAyc",changeFontSizeButton:"player__changeFontSizeButton--3tg2k",fontSizeControlMenu_active:"player__fontSizeControlMenu_active--1jB1G",fontSizeControlMenu:"player__fontSizeControlMenu--7CQSS",changeFontSizeButton_active:"player__changeFontSizeButton_active--34P8v"}},function(e,t){e.exports=__webpack_require__(113)},function(e,t){e.exports=__webpack_require__(118)},function(e,t){e.exports=__webpack_require__(119)},function(e,t){e.exports=__webpack_require__(144)},function(e,t){e.exports=__webpack_require__(5)},function(e,t){e.exports=__webpack_require__(125)},function(e,t){e.exports=__webpack_require__(126)},function(e,t){e.exports=__webpack_require__(18)},function(e,t){e.exports=__webpack_require__(39)},function(e,t){e.exports=__webpack_require__(40)},function(e,t){e.exports=__webpack_require__(130)},function(e,t){e.exports=__webpack_require__(4)},function(e,t){e.exports=__webpack_require__(131)},function(e,t){e.exports=__webpack_require__(143)},function(e,t){e.exports=__webpack_require__(135)},function(e){e.exports=JSON.parse('{"translation":{"components":{"activitySetNavigation":{"closeButton":{"ariaLabel":"Close activity window"},"nextButton":{"ariaLabel":"Go to next activity"},"previousButton":{"ariaLabel":"Go to previous activity"},"paginationText":{"label":"{{index}} of {{total}}"}},"header":{"closeButton":{"ariaLabel":"Close activity window"}},"scoreCard":{"closeButton":{"ariaLabel":"Close score card"},"scoreCardText":{"forTeacher":"Scored {{score}} out of {{maxScore}}","forStudent":"Scored {{score}} out of {{maxScore}}"},"openGradableText":{"awaitingMarks":"Requires teacher grading.","marked":"This activity has been graded."}},"noAttemptAvailable":{"caption":"This activity has not been attempted."},"titleBar":{"closeWindowButton":{"ariaLabel":"Close activity window"},"toggleWindowSizeButton":{"ariaLabel":"Toggle window size"}},"loadingAnimation":{"loading":"Loading…"},"fontSizeControl":{"fontSizeMenuToggleButton":"Change font size","fontSizeSmall":"Smallest font size","fontSizeMedium":"Medium font size","fontSizeLarge":"Large font size","fontSizeLarger":"Largest font size"}},"controls":{"marking":{"checkAnswersButton":{"ariaLabel":"Check answers for this activity","caption":"Check"},"storyDoneButton":{"ariaLabel":"Submit your answers to be graded","caption":"Submit"},"submitButton":{"ariaLabel":"Submit your answers to be graded","caption":"Submit"},"retryButton":{"ariaLabel":"Try this activity again","caption":"Try again"},"editButton":{"ariaLabel":"Edit grade","caption":"Edit"}},"navigation":{"endTimedPlaylistButton":{"ariaLabel":"Complete and submit all work","caption":"Submit"},"finishTimedPlaylistButton":{"ariaLabel":"Continue to the submit screen","caption":"Next"},"nextTimedPlaylistActivitySetButton":{"ariaLabel":"Go to next question","caption":"Next"},"previousTimedPlaylistActivitySetButton":{"ariaLabel":"Go to previous activity","caption":"Previous"},"lastTimedPlaylistActivitySetButton":{"ariaLabel":"Go to previous activity","caption":"Previous"},"closeTimedPlaylistButton":{"ariaLabel":"Close quick-fire window","caption":"Close"},"endPlaylistButton":{"ariaLabel":"Close this playlist window","caption":"Close"},"endSingleActivityButton":{"ariaLabel":"Close activity window","caption":"Close"},"itemBasedFinishButton":{"ariaLabel":"Finish quick-fire activity","caption":"Next"},"itemBasedPreviousButton":{"ariaLabel":"Go to previous quick-fire question","caption":"Previous"},"itemBasedNextButton":{"ariaLabel":"Go to next quick-fire question","caption":"Next"},"itemBasedStartButton":{"ariaLabel":"Start quick-fire activity","caption":"Start"},"multiStepNextActivityButton":{"ariaLabel":"Go to next step","caption":"Next"},"multiStepPreviousActivityButton":{"ariaLabel":"Go to previous step","caption":"Previous"},"multiStepStartButton":{"ariaLabel":"Start multi-step activity","caption":"Start"},"multiStepSubmitButton":{"ariaLabel":"Submit answers for this multi-step activity","caption":"Done"},"nextActivitySetButton":{"ariaLabel":"Go to next activity","caption":"Next"}},"reset":{"multiStepResetButton":{"ariaLabel":"Try this activity again","caption":"Try again"},"resetActivityButton":{"ariaLabel":"Reset activity"}},"showAnswers":{"answersToggleButton":{"showingUserAnswers":{"ariaLabel":"Toggle to show correct answers","caption":"Correct answers"},"showingCorrectAnswers":{"ariaLabel":"Toggle to show student answers","asTeacher":{"caption":"Student\'s answers"},"asStudent":{"caption":"My answers"}}},"multiStepShowAnswersButton":{"ariaLabel":"Show my answers","caption":"My answers"},"showAllAnswersButton":{"ariaLabel":"Show all answers for this activity","caption":"All"},"showAnswersButton":{"ariaLabel":"Show answers for this activity","caption":"Show answers"},"showAnswersTextLabel":{"label":"Show answers:"},"showOneByOneButton":{"ariaLabel":"Show next answer","largeCaption":"One by one","smallerCaption":"1 by 1"}}},"coverScreens":{"itemBasedCoverScreen":{"ariaLabel":"Quick-fire activity cover screen","rulesLabel":"Rules:","standardLabel":"{{questionCount}} questions to answer.","progressiveChallengeLabel":"{{timeLimit}} seconds to answer.","prompts":{"challengeMode":"Go for gold!","practiceMode":"Practice makes perfect.","testMode":"How many can you get right?"},"rules":{"progressiveChallengeMode":"Challenge yourself to answer the questions without losing any lives and before your time runs out.","standardChallengeMode":"Challenge yourself to answer all the questions without losing any lives and before your time runs out.","practiceMode":"Answer all the questions. If you get one wrong, you\'ll get a chance to see the correct answer.","testMode":"Answer all the questions."}},"multiStepCoverScreen":{"ariaLabel":"Multi-step activity cover screen","activitiesToComplete":{"label_one":"{{count}} step to be completed.","label_other":"{{count}} steps to be completed."},"containsOpenGradables":"Contains teacher-graded activities."}},"itemBasedActivities":{"header":{"backButton":{"ariaLabel":"Back to quick-fire cover screen"},"correctCounter":{"ariaLabel":"Correct answers"},"livesProgressBar":{"ariaLabel":"Lives remaining"},"standardProgressBar":{"ariaLabel":"Progress bar indicating completion status"},"reviewProgressBar":{"ariaLabel":"Progress bar indicating completion status"}},"teacherReviewLabel":"Review mode"},"multiStepActivitySets":{"backButton":{"ariaLabel":"Back to multi-step cover screen"},"progressBar":{"ariaLabel":"Progress bar indicating completion status by step"}},"scoreScreens":{"itemBased":{"ariaLabel":"Activity score screen","resetButton":{"ariaLabel":"Reset this activity","caption":"Try again"},"correct":{"ariaLabel":"Correctly answered"},"wrong":{"ariaLabel":"Incorrectly answered"},"lives":{"ariaLabel":"Lives count {{count}}"},"rewards":{"none":{"completionText":"Game over!"},"good":{"completionText":"Good effort!"},"great":{"completionText":"Well done!"},"excellent":{"completionText":"Excellent"},"empty":{"completionText":""},"reviewCompleted":{"completionText":"Review completed"}},"rewardPenalties":{"keepPracticing":"Keep practising.","outOfTimeText":"Time\'s up!","outOfLivesText":"You lost all your lives."}},"multiStepActivitySets":{"ariaLabel":"Multi-step score screen","completionText":"Completed","stepLabel":"Step {{index}}","correctLabel":"Correct","scoreText":{"forOpenGradableWithFeedback":"{{score}} out of {{pointsAvailable}}","forOpenGradableWithNoFeedback":"? out of {{pointsAvailable}}","forClosedGradable":"{{score}} out of {{pointsAvailable}}","otherGradableTypes":"-"},"teachersMarksPendingLabel":"Teacher\'s grading pending"},"scorePercentage":{"ariaLabel":"Score percentage","caption":"correct"}},"assessment":{"manualSubmissionScreen":{"header":"Your answers have been sent.","line1":"Your results will be available after the end date and time. If a review or grading is needed, this will be completed before the results are shared."},"timedOutScreen":{"header":"You have run out of time.","line1":"Your work has been sent for review."},"finishScreen":{"header":"Review your work and press \'Submit\' to send your answers.","line1":""},"progressPaginationBar":{"finishButton":{"ariaLabel":"Finish and submit screen","caption":"Finish"}}},"strictHomework":{"manualSubmissionScreen":{"header":"This homework has been submitted to your teacher.","line1":"Your results will be available after the homework end date, once your teacher has completed any grading required."},"timedOutScreen":{"header":"This homework has reached the end date and time.","line1":"This homework has been submitted to your teacher with any answers provided before the end date."},"finishScreen":{"header":"Press \'Submit\' to complete this homework.","line1":"Your results will be available after the homework end date, once your teacher has completed any grading required."},"progressPaginationBar":{"finishButton":{"ariaLabel":"Finish and submit screen","caption":"Finish"}}}}}')},function(e){e.exports=JSON.parse('{"translation":{"components":{"activitySetNavigation":{"closeButton":{"ariaLabel":"Cerrar ventana"},"nextButton":{"ariaLabel":"Siguiente actividad"},"previousButton":{"ariaLabel":"Actividad anterior"},"paginationText":{"label":"{{index}} de {{total}}"}},"header":{"closeButton":{"ariaLabel":"Cerrar ventana"}},"scoreCard":{"closeButton":{"ariaLabel":"Cerrar resultados"},"scoreCardText":{"forTeacher":"Puntos: {{score}} de {{maxScore}}","forStudent":"Puntos: {{score}} de {{maxScore}}"},"openGradableText":{"awaitingMarks":"Pendiente de calificación.","marked":"La actividad ha sido calificada."}},"noAttemptAvailable":{"caption":"Aún no se ha intentado esta actividad."},"titleBar":{"closeWindowButton":{"ariaLabel":"Cerrar ventana"},"toggleWindowSizeButton":{"ariaLabel":"Cambiar tamaño de ventana"}},"loadingAnimation":{"loading":"Cargando..."},"fontSizeControl":{"fontSizeMenuToggleButton":"Tamaño de letra","fontSizeSmall":"Letra chica","fontSizeMedium":"Letra normal","fontSizeLarge":"Letra grande","fontSizeLarger":"Letra más grande"}},"controls":{"marking":{"checkAnswersButton":{"ariaLabel":"Revisar respuestas de esta actividad","caption":"Revisar"},"storyDoneButton":{"ariaLabel":"Enviar respuestas de esta actividad","caption":"Enviar"},"submitButton":{"ariaLabel":"Enviar respuestas de esta actividad","caption":"Enviar"},"retryButton":{"ariaLabel":"Intentar nuevamente esta actividad","caption":"Reintentar"},"editButton":{"ariaLabel":"Editar calificación","caption":"Editar"}},"navigation":{"endTimedPlaylistButton":{"ariaLabel":"Completar y enviar todas las actividades","caption":"Enviar"},"finishTimedPlaylistButton":{"ariaLabel":"Continuar hasta la pantalla de finalización","caption":"Siguiente"},"nextTimedPlaylistActivitySetButton":{"ariaLabel":"Siguiente actividad","caption":"Siguiente"},"previousTimedPlaylistActivitySetButton":{"ariaLabel":"Actividad anterior","caption":"Anterior"},"lastTimedPlaylistActivitySetButton":{"ariaLabel":"Actividad anterior","caption":"Anterior"},"closeTimedPlaylistButton":{"ariaLabel":"Cerrar la ventana actual","caption":"Cerrar"},"endPlaylistButton":{"ariaLabel":"Cerrar la ventana actual","caption":"Cerrar"},"endSingleActivityButton":{"ariaLabel":"Cerrar la ventana actual","caption":"Cerrar"},"itemBasedFinishButton":{"ariaLabel":"Finalizar preguntas rápidas","caption":"Siguiente"},"itemBasedPreviousButton":{"ariaLabel":"Pregunta rápida anterior","caption":"Anterior"},"itemBasedNextButton":{"ariaLabel":"Siguiente pregunta rápida","caption":"Siguiente"},"itemBasedStartButton":{"ariaLabel":"Iniciar actividad de preguntas rápidas","caption":"Empezar"},"multiStepNextActivityButton":{"ariaLabel":"Siguiente paso","caption":"Siguiente"},"multiStepPreviousActivityButton":{"ariaLabel":"Paso anterior","caption":"Anterior"},"multiStepStartButton":{"ariaLabel":"Iniciar actividad de múltiples pasos","caption":"Empezar"},"multiStepSubmitButton":{"ariaLabel":"Finalizar y enviar actividad de múltiples pasos","caption":"Finalizar"},"nextActivitySetButton":{"ariaLabel":"Siguiente actividad","caption":"Siguiente"}},"reset":{"multiStepResetButton":{"ariaLabel":"Restablecer actividades","caption":"Reintentar"},"resetActivityButton":{"ariaLabel":"Restablecer actividad"}},"showAnswers":{"answersToggleButton":{"showingUserAnswers":{"ariaLabel":"Mostrar respuestas correctas","caption":"Respuestas"},"showingCorrectAnswers":{"ariaLabel":"Mostrar respuestas del estudiante","asTeacher":{"caption":"Del estudiante"},"asStudent":{"caption":"Mis respuestas"}}},"multiStepShowAnswersButton":{"ariaLabel":"Mostrar mis respuestas para esta actividad","caption":"Mis respuestas"},"showAllAnswersButton":{"ariaLabel":"Mostrar todas las respuestas para esta actividad","caption":"Todas"},"showAnswersButton":{"ariaLabel":"Mostrar respuestas para esta actividad","caption":"Respuestas"},"showAnswersTextLabel":{"label":"Respuestas:"},"showOneByOneButton":{"ariaLabel":"Mostrar respuestas para esta actividad una a una","largeCaption":"Una por una","smallerCaption":"1 a 1"}}},"coverScreens":{"itemBasedCoverScreen":{"ariaLabel":"Pantalla inicial de la actividad de preguntas rápidas","rulesLabel":"Reglas:","standardLabel":"{{questionCount}} preguntas para contestar.","progressiveChallengeLabel":"{{timeLimit}} segundos para contestar.","prompts":{"challengeMode":"¡Esfuérzate al máximo!","practiceMode":"La práctica hace al maestro.","testMode":"¿Cuántas puedes contestar correctamente?"},"rules":{"progressiveChallengeMode":"Contesta las preguntas sin perder vidas antes de que se agote el tiempo.","standardChallengeMode":"Contesta todas las preguntas sin perder vidas antes de que se agote el tiempo.","practiceMode":"Contesta todas las preguntas. Si no aciertas alguna, podrás ver la respuesta correcta.","testMode":"Contesta todas las preguntas."}},"multiStepCoverScreen":{"ariaLabel":"Pantalla inicial de la actividad de múltiples pasos","activitiesToComplete":{"label_one":"Incluye {{count}} paso para completar.","label_other":"Incluye {{count}} pasos para completar."},"containsOpenGradables":"Incluye contenido calificado por un profesor."}},"itemBasedActivities":{"header":{"backButton":{"ariaLabel":"Volver a la pantalla inicial de la actividad de preguntas rápidas"},"correctCounter":{"ariaLabel":"Respuesta correcta"},"livesProgressBar":{"ariaLabel":"Cantidad de vidas"},"standardProgressBar":{"ariaLabel":"Barra de progreso de las preguntas rápidas"},"reviewProgressBar":{"ariaLabel":"Barra de progreso"}},"teacherReviewLabel":"Modo revisión"},"multiStepActivitySets":{"backButton":{"ariaLabel":"Volver a pantalla inicial de la actividad de multiples pasos"},"progressBar":{"ariaLabel":"Barra de progreso de los pasos"}},"scoreScreens":{"itemBased":{"ariaLabel":"Pantalla de resultados de la actividad de preguntas rápidas","resetButton":{"ariaLabel":"Restablecer actividad","caption":"Reintentar"},"correct":{"ariaLabel":"Respuestas correctas"},"wrong":{"ariaLabel":"Respuestas incorrectas"},"lives":{"ariaLabel":"Cantidad de vidas {{count}}"},"rewards":{"none":{"completionText":"Sigue practicando"},"good":{"completionText":"¡Buen intento!"},"great":{"completionText":"¡Muy bien!"},"excellent":{"completionText":"¡Excelente!"},"empty":{"completionText":""},"reviewCompleted":{"completionText":"Revisión finalizada"}},"rewardPenalties":{"keepPracticing":"Sigue practicando","outOfTimeText":"¡Se acabó el tiempo!","outOfLivesText":"Perdiste todas tus vidas."}},"multiStepActivitySets":{"ariaLabel":"Pantalla de resultados de actividad de múltiples pasos","completionText":"Completada","stepLabel":"Paso {{index}}","correctLabel":"correcto","scoreText":{"forOpenGradableWithFeedback":"{{score}} de {{pointsAvailable}}","forOpenGradableWithNoFeedback":"? de {{pointsAvailable}}","forClosedGradable":"{{score}} de {{pointsAvailable}}","otherGradableTypes":"-"},"teachersMarksPendingLabel":"Pendiente de calificación."},"scorePercentage":{"ariaLabel":"Porcentaje de respuestas correctas","caption":"correcto"}},"assessment":{"manualSubmissionScreen":{"header":"Tus respuestas han sido enviadas.","line1":"Los resultados estarán disponibles una vez pasada la fecha de entrega y tras la calificación del profesor."},"timedOutScreen":{"header":"Se ha agotado el tiempo.","line1":"Tu trabajo ha sido enviado para su revisión."},"finishScreen":{"header":"Revisa tu trabajo y presiona «Enviar» para enviar tus respuestas.","line1":""},"progressPaginationBar":{"finishButton":{"ariaLabel":"Continuar a finalizar y enviar el trabajo","caption":"Finalizar"}}},"strictHomework":{"manualSubmissionScreen":{"header":"La tarea se ha enviado correctamente.","line1":"Los resultados estarán disponibles una vez pasada la fecha de entrega y tras la calificación del profesor."},"timedOutScreen":{"header":"Ha pasado la fecha y hora de entrega de esta tarea.","line1":"Tu trabajo ha sido enviado para su revisión."},"finishScreen":{"header":"Revisa tu trabajo y presiona «Enviar» para completar esta tarea.","line1":""},"progressPaginationBar":{"finishButton":{"ariaLabel":"Pantalla de finalización y envío del trabajo","caption":"Finalizar"}}}}}')},function(e,t){e.exports=__webpack_require__(77)},function(e,t){e.exports=__webpack_require__(136)},function(e,t){e.exports=__webpack_require__(138)},function(e,t){e.exports=__webpack_require__(139)},function(e,t,n){(function(e){var t=n(13);!function(){function n(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function r(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function a(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function i(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function o(e,t){function r(){var e=a;i(e)&&e.a.parentNode&&t(e.g)}var a=e;n(e.b,r),n(e.c,r),i(e)}function c(e,t,n){t=t||{},n=n||window,this.family=e,this.style=t.style||"normal",this.weight=t.weight||"normal",this.stretch=t.stretch||"normal",this.context=n}var s=null,l=null,u=null,d=null;function p(e){return null===d&&(d=!!e.document.fonts),d}function v(){if(null===u){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}u=""!==e.style.font}return u}function f(e,t){return[e.style,e.weight,v()?e.stretch:"","100px",t].join(" ")}c.prototype.load=function(e,t){var n=this,i=e||"BESbswy",c=0,u=t||3e3,d=(new Date).getTime();return new Promise((function(e,t){if(p(n.context)&&!function(e){return null===l&&(p(e)&&/Apple/.test(window.navigator.vendor)?(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),l=!!e&&603>parseInt(e[1],10)):l=!1),l}(n.context)){var v=new Promise((function(e,t){!function r(){(new Date).getTime()-d>=u?t():n.context.document.fonts.load(f(n,'"'+n.family+'"'),i).then((function(t){1<=t.length?e():setTimeout(r,25)}),(function(){t()}))}()})),y=new Promise((function(e,t){c=setTimeout(t,u)}));Promise.race([y,v]).then((function(){clearTimeout(c),e(n)}),(function(){t(n)}))}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t),e()})):document.attachEvent("onreadystatechange",(function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())}))}((function(){function l(){var t;(t=-1!=m&&-1!=h||-1!=m&&-1!=b||-1!=h&&-1!=b)&&((t=m!=h&&m!=b&&h!=b)||(null===s&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),s=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=s&&(m==w&&h==w&&b==w||m==g&&h==g&&b==g||m==S&&h==S&&b==S)),t=!t),t&&(_.parentNode&&_.parentNode.removeChild(_),clearTimeout(c),e(n))}var p=new r(i),v=new r(i),y=new r(i),m=-1,h=-1,b=-1,w=-1,g=-1,S=-1,_=document.createElement("div");_.dir="ltr",a(p,f(n,"sans-serif")),a(v,f(n,"serif")),a(y,f(n,"monospace")),_.appendChild(p.a),_.appendChild(v.a),_.appendChild(y.a),n.context.document.body.appendChild(_),w=p.a.offsetWidth,g=v.a.offsetWidth,S=y.a.offsetWidth,function e(){if((new Date).getTime()-d>=u)_.parentNode&&_.parentNode.removeChild(_),t(n);else{var r=n.context.document.hidden;!0!==r&&void 0!==r||(m=p.a.offsetWidth,h=v.a.offsetWidth,b=y.a.offsetWidth,l()),c=setTimeout(e,50)}}(),o(p,(function(e){m=e,l()})),a(p,f(n,'"'+n.family+'",sans-serif')),o(v,(function(e){h=e,l()})),a(v,f(n,'"'+n.family+'",serif')),o(y,(function(e){b=e,l()})),a(y,f(n,'"'+n.family+'",monospace'))}))}))},"object"===t(e)?e.exports=c:(window.FontFaceObserver=c,window.FontFaceObserver.prototype.load=c.prototype.load)}()}).call(this,n(25)(e))},function(e,t,n){var r=n(13);"object"!==("undefined"==typeof globalThis?"undefined":r(globalThis))&&(Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__)},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";n.r(t);var r=n(3),a=n.n(r),i=n(10),o=n.n(i),c=n(11),s=n.n(c),l=n(2),u=n.n(l),d=n(15),p=n.n(d),v=n(5),f=n(17),y=n(18);p.a.use(v.initReactI18next).init({fallbackLng:"en",resources:{en:f,es:y}});var m=p.a,h=n(19),b=n.n(h),w=n(20),g=n.n(w),S=n(21),_=n.n(S),C=n(16),A=n.n(C),B=n(0),E=n.n(B),x=n(6),O=n.n(x),P=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i,o,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.rcfPlayerOptions.rcfAdapter,r=t.viewActivityOptions,a=r.activitySetId,i=r.student,o={activity_1:{example:"answers for activity_1, activitySetId ".concat(a),answers:[],score:0},activity_2:{example:"answers for activity_2, activitySetId ".concat(a),answers:[],score:0}},!i){e.next=6;break}return c={student:i,durationInSeconds:100,activitySetId:a,answers:o,maxScore:10,userScore:8,submitType:"submit-closed-gradable"},e.next=6,n.setAnswersForActivitySet(c);case 6:return s={answersByActivity:o},e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i,o,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.rcfPlayerOptions.rcfAdapter,r=t.viewActivityOptions,a=r.activitySetId,i=r.student,o=r.previousAttempt,i){e.next=3;break}return e.abrupt("return",t);case 3:return e.next=5,n.getAnswersForActivitySet({activitySetId:a,student:i,previousAttempt:o})||{};case 5:return c=e.sent,s={answersByActivity:T(T({},t.answersByActivity),c)},e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=(n(24),function(){function e(t){o()(this,e);var n=console.log.bind(globalThis.console);"production"!==t&&(this.log=n),this.alwaysLog=n}return s()(e,[{key:"log",value:function(){}},{key:"alwaysLog",value:function(){}}]),e}());function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I={closedGradable:"closed-gradable",openNonGradable:"open-non-gradable",openGradable:"open-gradable",nonGradable:"non-gradable",answerKey:"answer-key",itemBased:"item-based",story:"story",game:"game"},F={test:"itemBased_test",practice:"itemBased_practice",challenge:"itemBased_challenge"},D=N(N({},F),{},{noControls:"no-activity-controls",flashcard:"flashcard",storyReading:"story_reading",storyComprehension:"story_comprehension",standAloneAudio:"standAloneMedia_audio",standAloneVideo:"standAloneMedia_video"}),R={submitClosedGradable:"submit-closed-gradable",submitOpenNonGradable:"submit-open-non-gradable",submitOpenGradable:"submit-open-gradable",submitOpenGradableFeedback:"submit-open-gradable-feedback",submitNonGradable:"submit-non-gradable",submitMixedGradable:"submit-mixed-gradable",submitMixedWithOpenGradable:"submit-mixed-with-open-gradable",submitMixedWithOpenGradableFeedback:"submit-mixed-with-open-gradable-feedback"},W={empty:"empty",none:"none",good:"good",great:"great",excellent:"excellent"},z="none",G="userAnswers",H="oneByOneAnswers",V="correctAnswers",q={playerInitializedDeferred:"playerInitializedDeferred",playerInitialized:"playerInitialized",activitySetManifestLoaded:"activitySetManifestLoaded",activityContentLoaded:"activityContentLoaded",coverScreenActive:"coverScreenActive",multiStepCoverScreenActive:"multiStepCoverScreenActive",multiStepScoreScreenActive:"multiStepScoreScreenActive",itemScoreScreenActive:"itemScoreScreenActive",timedPlaylistCompleteScreenActive:"timedPlaylistCompleteScreenActive",timedPlaylistTimeoutScreenActive:"timedPlaylistTimeoutScreenActive",timedPlaylistFinishScreenActive:"timedPlaylistFinishScreenActive",rcfLoaded:"rcfLoaded",noAttemptAvailable:"noAttemptAvailable",closing:"closing"},U={default:"noGamePresent",startScreen:"gameStartScreen",endScreen:"gameEndScreen",playing:"gamePlaying"},Z="next",K="previous",J="finish",Y="answer-key",Q="closed-gradable",X="game",$="item-based",ee="non-gradable",te="open-gradable",ne="open-non-gradable",re="story",ae=[I.nonGradable,I.answerKey,I.closedGradable,I.openGradable,I.openNonGradable,I.itemBased,I.story,I.game],ie=[I.closedGradable,I.openGradable,I.openNonGradable,I.story,I.itemBased,I.game],oe=[I.nonGradable,I.answerKey,I.closedGradable,I.openGradable,I.openNonGradable,I.story,I.game],ce=[I.closedGradable,I.itemBased,I.story],se=(I.closedGradable,I.openGradable,I.answerKey,I.openNonGradable,I.game,I.openNonGradable,I.answerKey,I.closedGradable,I.itemBased,I.story,[I.answerKey,I.closedGradable]),le=[I.answerKey,I.closedGradable],ue=[I.openGradable,I.openNonGradable],de=[I.openNonGradable,I.nonGradable,I.answerKey,I.story],pe=[I.nonGradable,I.answerKey],ve=[q.rcfLoaded,q.coverScreenActive,q.multiStepCoverScreenActive,q.multiStepScoreScreenActive,q.itemScoreScreenActive,q.noAttemptAvailable,q.timedPlaylistFinishScreenActive],fe=[q.rcfLoaded,q.coverScreenActive,q.itemScoreScreenActive,q.multiStepCoverScreenActive,q.multiStepScoreScreenActive,q.noAttemptAvailable],ye=[H,V],me=[H,V,G],he=["OpenSans-Regular","Castledown-Regular"],be=n(7),we=n.n(be);function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _e={development:"development",production:"production",cape:"cape",throwException:"throwException"},Ce={default:"theme_3",theme1:"theme_1",theme2:"theme_2",theme3:"theme_3","calm-blue":"theme_calmBlue","purple-sky":"theme_purpleSky","turtle-bay":"theme_turtleBay"},Ae={small:"userFontSmall",medium:"userFontMedium",large:"userFontLarge",larger:"userFontExtralarge"},Be=Se(Se({},D),{},{review:"review"}),Ee={top:"top",bottom:"bottom"},xe={student:"student",teacher:"teacher",admin:"admin"},Oe={assessment:"assessment",hotspot:"hotspot",homework:"homework",gradebook:"gradebook",strictHomework:"strictHomework"},Pe={default:"default",scorm:"scorm"},ke=function(e){return e.itemPools?e.itemPools.reduce((function(e,t){return e.concat(t)}),[]):[]},Te=function(e,t){var n=ke(e),r=e.activityId;if(!n)return[];return n.reduce((function(e,n){var a=t["".concat(r,"_").concat(n)];return a&&e.push(a),e}),[])},Le=function(e,t){var n=e.gradableType,r=e.pointsAvailable,a=e.itemPointsAvailable,i=ke(e);return n===I.itemBased?t&&a?a[t]:i?i.length:0:parseInt(r,10)},je={isStartScreen:"IS_START_SCREEN",isPlaying:"IS_PLAYING",isGameOverScreen:"IS_GAME_OVER_SCREEN",isGameWonScreen:"IS_GAME_WON_SCREEN",isPaused:"IS_PAUSED"},Me="IS_OPEN",Ne=Object.freeze({composite:"composite",list:"list",simple:"simple",choice:"choice",sequence:"sequence",complexOrdering:"complexordering",answerKey:"answerKey",openGradableRecording:"openGradable_recording",openGradableWriting:"openGradable_writing",openGradableTeacherGradedTask:"openGradable_teacherGradedTask",openGradableFreeDrawing:"openGradable_freeDrawing",gameSequenceTileMaze:"game_sequenceTileMaze",gameCategoriseTileMaze:"game_categoriseTileMaze",gameBalloons:"game_balloonsGame",gamePelmanism:"game_pelmanism",gameSpellingBee:"game_spellingBeeGame",vendorGame:"vendorGame"}),Ie=Object.freeze({byItem:"item",byList:"list",byFeedback:"feedback",unmarked:"unmarked",distractor:"distractor"}),Fe=Object.freeze({won:"won",lost:"lost",inProgress:"in-progress",notStarted:"not-started"}),De=function(e){return e.viewActivityOptions.linkOrigin===Oe.homework},Re=function(e){var t=e.viewActivityOptions.userRole;return[xe.admin,xe.teacher].includes(t)},We=function(e,t){return Re(e)&&De(e)&&t.gradableType===I.itemBased},ze=function(e){return e.viewActivityOptions.linkOrigin===Oe.gradebook},Ge={title:"",description:"",activities:[],activitySetId:""},He={activityId:"",gradableType:I.nonGradable,pointsAvailable:"",teacherPointsAvailable:"",currentItemPool:0,itemPools:[],rcfVersion:"",rootPath:"",css:[],html:"",json:"",items:[],itemBasedTimeLimit:60},Ve=we()((function(e){var t=e.manifestDetails,n=e.contentByActivity,r=e.answersByActivity,a=e.viewActivityOptions.activitySetId,i=e.itemId,o=t.activitySets[a];if(!o)return{activitySet:Ge,activity:He,pointsAvailable:0,answersByActivityKey:"",itemAnswers:[]};var c=e.activityId;if(!c)throw new Error("activityId must be set");var s=t.activities[c];if(!s)throw new Error("details for activity ".concat(c," not found"));var l=t.rcfVersions[s.rcfVersion],u=n?n[c]:void 0,d=Te(s,r),p=Le(s,i),v=i&&!ze(e)?"".concat(c,"_").concat(i):c,f=r?r[v]:void 0,y=e.showingAnswers!==z;f&&(y=f.score===p);var m=We(e,s)?Be.review:o.activityMode,h={activitySet:o,activity:s,rcfVersion:l,content:u,answers:f,perfectScore:y,pointsAvailable:p,answersByActivityKey:v,currentItemPool:0,itemAnswers:d};return m&&(h.activityMode=m),h})),qe=function(e){var t=Ve(e).activity.gradableType;return ce.includes(t)},Ue=function(e){return!(Re(e)&&!ze(e))},Ze=function(e){return!(Re(e)&&!ze(e))},Ke=function(e){return e.viewActivityOptions.userRole===xe.student},Je=function(e){var t=Ve(e).activityMode;return!(!Ke(e)||ze(e)||t!==Be.practice)},Ye=function(e){if(!qe(e))return!1;switch(Ve(e).activity.gradableType){case I.closedGradable:return Ue(e);case I.story:return Ze(e);case I.itemBased:return Je(e);default:return!0}},Qe=n(8),Xe=n.n(Qe),$e={activitySetId:"unknown",activityId:"unknown",activityMode:"unknown",templateId:"unknown",gradableType:"unknown",interactions:[]},et=function(e){var t=e.rcfPlayerOptions.contentWebviewDocument,n=e.viewActivityOptions.activitySetId,r=Ve(e).activityMode,a=t.querySelector(".activity");if(!a)return $e;var i=a.getAttribute("id")||"",o=a.getAttribute("class")||"",c=a.getAttribute("data-gradabletype")||"",s=(o.match(/mm_[a-z]\d+/)||[""])[0].replace("mm_",""),l=a.getAttribute("data-mobileinteractions")||"",u=a.getAttribute("data-desktopinteractions")||"",d=a.getAttribute("data-itembasedinteractions")||"",p=a.getAttribute("data-opengradableinteractions")||"",v=a.getAttribute("data-unmarkedinteractions")||"",f=a.getAttribute("data-interactions")||"";return{activitySetId:n,activityId:i,activityMode:r,templateId:s,gradableType:c,interactions:[].concat(Xe()(f.split(" ")),Xe()(u.split(" ")),Xe()(l.split(" ")),Xe()(p.split(" ")),Xe()(v.split(" ")),Xe()(d.split(" "))).filter((function(e){return e.length>0}))}},tt=function(){var e=a()(u.a.mark((function e(t,n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rcfPlayerOptions.rcfAdapter,a=et(t),e.next=4,r.onEvent({type:n,activityDetails:a});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),nt=function(){var e=a()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt(t,"activity-answers-shown");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rt=function(e){return e.answers.filter((function(e){return e.markedBy&&"nobody"===e.markedBy}))},at=function(e){return rt(e).length>0},it=function(e,t){var n=JSON.parse(JSON.stringify(e)),r=rt(n),a=n.answers.filter((function(e){return"nobody"!==e.markedBy}));if(r.length<1)return n;var i=r.map((function(e){return e.elm})),o=t.answers.filter((function(e){return i.includes(e.elm)})),c=r.map((function(e){var t=o.find((function(t){return t.elm===e.elm}));return t&&(e.value=t.value),e}));return n.answers=[].concat(Xe()(a),Xe()(c)),n},ot=function(e,t){return at(e)?it(e,t):e},ct=function(e){var t=e.itemId;return e.rcfPlayerOptions.contentWebviewWindow.RCF.Application.getUserAnswers(t)},st=function(e){var t,n=null===(t=e.rcfPlayerOptions.contentWebviewWindow)||void 0===t?void 0:t.RCF;n&&n.Application.disableActivity()},lt=function(e,t){e.rcfPlayerOptions.contentWebviewWindow.RCF.Application.setAnswers(t,e.itemId)},ut=function(e){var t=e.itemId;e.rcfPlayerOptions.contentWebviewWindow.RCF.Application.hideMarkedAnswers(t)},dt=function(e){return e.playerStatus===q.rcfLoaded},pt=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(dt(t)){e.next=2;break}return e.abrupt("return",{});case 2:return n=Ve(t),r=n.content?n.content.correctAnswers:{answers:[]},a=ct(t),i=ot(r,a),ut(t),lt(t,i),st(t),e.next=11,nt(t);case 11:return o={showingAnswers:V,userAnswersToggle:Ye(t)},e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),vt=function(e,t){var n,r=null===(n=e.rcfPlayerOptions.contentWebviewWindow)||void 0===n?void 0:n.RCF;return!!r&&r.Application.showNextAnswer(t)},ft=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.showingAnswers,dt(t)){e.next=3;break}return e.abrupt("return",{});case 3:if(r=Ve(t),(a=r.content)&&a.correctAnswers){e.next=7;break}return e.abrupt("return",{});case 7:if(i=a.correctAnswers,ut(t),st(t),o=vt(t,i),n!==z){e.next=14;break}return e.next=14,nt(t);case 14:return c={showingAnswers:o?H:V},e.abrupt("return",c);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),yt=function(){var e=a()(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(dt(t)){e.next=2;break}return e.abrupt("return",{});case 2:return n={hideShowAnswersRevealButton:!0},e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mt={windowed:"windowed",maximized:"maximized",fullScreen:"full-screen",audioScriptOpen:"audio-script-open",audioScriptClosed:"audio-script-closed"},ht={first:"first",best:"best",last:"last",inProgress:"in-progress"},bt=function(){var e=a()(u.a.mark((function e(t){var n,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.currentDisplayType)!==mt.fullScreen){e.next=3;break}return e.abrupt("return",{});case 3:return r=t.rcfPlayerOptions.rcfAdapter,a={currentDisplayType:n=n===mt.windowed?mt.maximized:mt.windowed},e.next=8,r.onEvent({type:"display-type-ui-option",displayType:n});case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),wt=function(e){var t=Ve(e).activity,n=ke(t),r=n.indexOf(e.itemId),a=n.length-1;if(!(r<0))return r!==a?n[r+1]:void t.itemPools},gt=function(e){return e===D.challenge},St=function(e){var t=Ve(e).activityMode;return gt(t)},_t=function(e){if(!St(e))return!1;var t=Ve(e).activity.itemSets;if(!t)return!1;var n=function(e){return t[e]&&t[e].length>0};return n("core")&&(n("challenge")||n("challenge2"))},Ct=we()((function(e){return e.reduce((function(e,t){var n=t.itemId;return n&&(e[n]=t),e}),{})})),At=function(e,t){var n=Ve(t),r=n.activity.itemPointsAvailable,a=n.itemAnswers;if(!r)return 0;var i=Ct(a);return e.filter((function(e){return Bt(e,i,r)})).length},Bt=function(e,t,n){var r=t[e],a=n[e];return r&&r.score===a},Et=function(e){var t=e.itemId,n=Ve(e).activity.itemPools;if(!t)throw"itemId required to determine current itemPool";if(!n)throw"itemPools required in activity to determine current itemPool";var r=-1;return n.forEach((function(e,n){e.find((function(e){return t===e}))&&(r=n)})),r},xt=function(e,t){return!!t[e]},Ot=function(e,t){var n=Ve(t),r=n.activity.itemPools,a=n.itemAnswers,i=Ct(a),o=r[e];return o?o.filter((function(e){return!xt(e,i)})):[]},Pt=function(e){var t=Ve(e).activity.itemPools,n=e.logger,r=Et(e),a=t.length-1,i=r-1;if(!(i<0||r>a)){n.log("Finding previous pool with unanswered questions.");for(var o=[],c=i;c>=0;c--)o.push(c);return o.find((function(t){var r=Ot(t,e).length>0;return r?n.log("Found pool ".concat(t)):n.log("Skipping pool ".concat(t,", no unanswered items")),r}))}},kt=function(e,t){var n=Ve(t).itemAnswers;return!!Ct(n)[e]},Tt=function(e){var t=e.itemId,n=e.logger;if(!t)throw"itemId is required to determine whether to retreat one level";if(!(0===At([t],e)))return!1;if((n.log("Answer either not correct or missing, may retreat one level."),Re(e))&&!kt(t,e))return n.log("Not retreating one level, teacher allowed to skip item"),!1;return null==Pt(e)?(n.log("Not retreating one level, we are already at lowest level without questions"),!1):(n.log("Retreating one level due to failed question"),!0)},Lt=function(e){var t=Ve(e).activity.itemPools,n=e.logger,r=Et(e),a=t.length-1,i=r===a?r:r+1;if(!(i<0||r>a)){n.log("Choosing item from next pool.");for(var o=[],c=i;c<=a;c++)o.push(c);var s=[];return o.find((function(t){var r=(s=Ot(t,e)).length>0;return r?n.log("Choosing from pool ".concat(t)):n.log("Skipping pool ".concat(t,", no unanswered items")),r})),s[0]}},jt=function(e){var t=e.logger;t.log("Choosing item from previous pool.");var n,r=Et(e),a=Pt(e);return null==a?(t.log("returning answer from same pool",r,"No previous pool with unanswered questions"),n=r):(t.log("returning answer from previous pool",a),n=a),Ot(n,e)[0]},Mt=function(e){var t=e.itemId;if(!t)throw"ItemId is required for finding next item";var n=Et(e),r=Ve(e).activity.itemPools[n],a=r.indexOf(t);return r[a+1]},Nt=we()((function(e,t){var n=e.itemPointsAvailable;return t&&n?3-t.filter((function(e){if(!e.itemId)throw new Error("no itemId in itemAnswer");return e.score<n[e.itemId]})).length:3})),It=function(e){var t=Ve(e),n=t.activity,r=t.itemAnswers;return Nt(n,r)<1},Ft=function(e){var t=Et(e),n=e.logger,r=Ve(e).activity.itemPools[t],a=At(r,e),i=r.length,o=Math.random()<a/i;return o&&n.log("Advancing to next pool on random chance"),o},Dt=function(e){var t=e.itemId,n=e.logger;if(!t)throw"ItemId is required for finding next item";var r=Et(e),a=Ve(e).activity.itemPools[r],i=a.indexOf(t)>=a.length-1;return i&&n.log("This pool has no more questions."),i},Rt=function(e){var t=Ve(e).activity.itemPools,n=Et(e),r=t.length-1,a=e.logger;return n===r?(a.log("Not advancing level, we are already at the top level."),!1):Ft(e)||Dt(e)},Wt=function(e){if(!It(e))return Tt(e)?jt(e):Rt(e)?Lt(e):Mt(e)},zt=function(e){return _t(e)?Wt(e):wt(e)},Gt=n(1),Ht=n.n(Gt),Vt=n(4),qt=n.n(Vt);function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kt={isMultiStep:!1,activities:[],nextActivitySetId:null,previousActivitySetId:null,playListCount:0,currentIndex:0,description:"",title:""},Jt={nextActivitySetId:null,previousActivitySetId:null,playListCount:1,currentIndex:0,description:"",title:""},Yt=function(e){return Zt(Zt({},Kt),{},{title:e.title,description:e.description,isMultiStep:e.activities.length>1,activities:e.activities})},Qt=we()((function(e){var t=e.viewActivityOptions,n=t.activitySetId,r=t.playList,a=e.manifestDetails.activitySets[n],i=!!a&&a.activities.length>1;if(!a)return Zt({},Kt);if(!r)return Yt(a);if("activity-set-list"!==r.type)throw new Error("only a playList type of activity-set-list is currently supported");var o=r.ids;if(0===o.length)throw new Error("playList must have at least one activity set");if(!o.includes(n))throw new Error("current activitySetId not in playlist");var c=o.length;if(1===c)return Zt(Zt({},Jt),{},{isMultiStep:i,title:a.title,description:a.description,activities:a.activities});var s=c-1,l=o.indexOf(n),u=l<s?o[l+1]:null,d=l>0?o[l-1]:null;return{isMultiStep:i,activities:a.activities,nextActivitySetId:u,previousActivitySetId:d,playListCount:c,currentIndex:l,title:a.title,description:a.description}})),Xt=function(e){var t=e.viewActivityOptions.linkOrigin;return[Oe.assessment,Oe.strictHomework].includes(t)},$t=function(e){if(Xt(e))return!1;var t=e.rcfPlayerOptions,n=t.initialDisplayType,r=t.titleBarPosition,a=Qt(e).playListCount;return r===Ee.top&&(n===mt.windowed||n===mt.maximized)&&a>0},en=function(e){var t=e.rcfPlayerOptions.initialDisplayType;if(Xt(e))return!1;if(t===mt.fullScreen||$t(e))return!1;var n=Ve(e).activity.gradableType;return ae.includes(n)},tn=function(e){return Qt(e).isMultiStep},nn=function(e){var t=e.noActivityControlsRequired;return Ve(e).activitySet.activityMode===D.noControls||t},rn=function(e){if(en(e))return!1;if(Xt(e))return!1;if(tn(e))return!1;var t=e.gameStatus;return Ve(e).activity.gradableType!==I.itemBased&&(!nn(e)||t!==U.playing)},an=B.createContext(),on=function(e){var t=e.state,n=e.children;return B.createElement(an.Provider,{value:{state:t}},n)},cn=function(e){return e.playerStatus===q.multiStepScoreScreenActive},sn=function(e){return e.playerStatus===q.multiStepCoverScreenActive},ln=function(e){return e.playerStatus===q.coverScreenActive},un=function(e){var t=e.activitySet,n=E.a.useContext(an).state,r=cn(n)?Ht.a.scoreScreen_activitySetTitle:sn(n)||ln(n)?Ht.a.coverScreen_activitySetTitle:Ht.a.rcfActivity_activitySetTitle;return E.a.createElement("div",{className:r},E.a.createElement("span",null,t.title))},dn=function(){return E.a.createElement("svg",{width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},E.a.createElement("g",{clipPath:"url(#clip0_14496_111405)"},E.a.createElement("path",{d:"M8.1973 3.5C7.83071 3.5 7.50142 3.72421 7.36708 4.0653L0.980255 20.2807C0.74965 20.8662 1.18122 21.5 1.81048 21.5H2.10124C2.46783 21.5 2.79712 21.2758 2.93146 20.9347L4.70169 16.4403C4.83604 16.0992 5.16533 15.875 5.53192 15.875H12.5931C12.9597 15.875 13.2889 16.0992 13.4233 16.4403L15.1935 20.9347C15.3279 21.2758 15.6572 21.5 16.0237 21.5H16.1895C16.8188 21.5 17.2504 20.8662 17.0197 20.2807L10.6329 4.0653C10.4986 3.72422 10.1693 3.5 9.8027 3.5H8.1973ZM5.75757 13.9712L8.99941 5.75L12.2412 13.9712H5.75757Z",fill:"black"}),E.a.createElement("path",{d:"M19.6341 5.38485H22.5V6.64343H19.6341V9.5H18.3588V6.64343H15.5V5.38485H18.3588V2.5H19.6341V5.38485Z",fill:"black"})),E.a.createElement("defs",null,E.a.createElement("clipPath",{id:"clip0_14496_111405"},E.a.createElement("rect",{width:"24",height:"24",fill:"white",transform:"translate(0.5 0.5)"}))))},pn=function(e){var t=e.actions.onToggleFontSizeContolMenu,n=e.state,r=Object(v.useTranslation)().t;return E.a.createElement("button",{className:qt()(Ht.a.controlFontSizeMenuButton,Ht.a.standardButton),"aria-controls":"font-size-control-menu","aria-expanded":n.fontSizeControl.buttonActive,"aria-haspopup":"true","aria-label":r("components.fontSizeControl.fontSizeMenuToggleButton"),onClick:t},E.a.createElement(dn,null))},vn=function(e){var t=e.actions.onChangeFontSize,n=e.ariaLabel,r=e.icon,a=e.targetFontSize,i=e.state.fontSizeControl.currentFontSize===a,o=i?Ht.a.changeFontSizeButton_active:"";return E.a.createElement("button",{className:qt()(Ht.a.changeFontSizeButton,Ht.a.standardIcon,o),"aria-label":n,"aria-pressed":i,onClick:function(){return t(a)}},r)},fn=function(){return E.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},E.a.createElement("path",{d:"M11.8029 6.43164C11.6891 6.43164 11.5867 6.50099 11.5444 6.60674L7.31567 17.1874C7.24258 17.3703 7.37727 17.5691 7.57422 17.5691H8.36131C8.4752 17.5691 8.5776 17.4998 8.61987 17.394L9.87093 14.2638C9.91319 14.158 10.0156 14.0887 10.1295 14.0887H14.9486C15.0625 14.0887 15.1649 14.158 15.2072 14.2638L16.4582 17.394C16.5005 17.4998 16.6029 17.5691 16.7168 17.5691H17.4254C17.6223 17.5691 17.757 17.3703 17.6839 17.1874L13.4552 6.60674C13.413 6.50099 13.3106 6.43164 13.1967 6.43164H11.8029ZM10.464 12.9107L12.4994 7.82383L14.5348 12.9107H10.464Z",fill:"black"}))},yn=function(){return E.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},E.a.createElement("path",{d:"M11.5708 4.57422C11.4189 4.57422 11.2824 4.66669 11.226 4.80769L5.58772 18.9152C5.49026 19.159 5.66986 19.4242 5.93246 19.4242H6.98191C7.13376 19.4242 7.2703 19.3317 7.32665 19.1907L8.99473 15.0171C9.05109 14.8761 9.18763 14.7836 9.33947 14.7836H15.765C15.9168 14.7836 16.0533 14.8761 16.1097 15.0171L17.7778 19.1907C17.8341 19.3317 17.9707 19.4242 18.1225 19.4242H19.0673C19.3299 19.4242 19.5095 19.159 19.4121 18.9152L13.7738 4.80769C13.7174 4.66669 13.5809 4.57422 13.4291 4.57422H11.5708ZM9.78556 13.2129L12.4994 6.43047L15.2133 13.2129H9.78556Z",fill:"black"}))},mn=function(){return E.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},E.a.createElement("path",{d:"M11.2613 2.09961C11.0589 2.09961 10.8768 2.2229 10.8017 2.41091L3.28395 21.2209C3.15401 21.546 3.39347 21.8996 3.74361 21.8996H5.14288C5.34534 21.8996 5.52739 21.7763 5.60253 21.5883L7.82663 16.0234C7.90177 15.8354 8.08383 15.7121 8.28629 15.7121H16.8536C17.0561 15.7121 17.2381 15.8354 17.3133 16.0234L19.5374 21.5883C19.6125 21.7763 19.7946 21.8996 19.997 21.8996H21.2568C21.6069 21.8996 21.8464 21.546 21.7164 21.2209L14.1987 2.41091C14.1236 2.2229 13.9415 2.09961 13.7391 2.09961H11.2613ZM8.88107 13.6179L12.4995 4.57461L16.118 13.6179H8.88107Z",fill:"black"}))},hn=function(){return E.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},E.a.createElement("path",{d:"M10.9983 0C10.7529 0 10.5323 0.149447 10.4412 0.377329L1.3288 23.1773C1.17129 23.5714 1.46154 24 1.88595 24H3.58204C3.82744 24 4.04811 23.8506 4.13919 23.6227L6.83508 16.8773C6.92615 16.6494 7.14682 16.5 7.39223 16.5H17.7769C18.0223 16.5 18.2429 16.6494 18.334 16.8773L21.0299 23.6227C21.121 23.8506 21.3417 24 21.5871 24H23.114C23.5385 24 23.8287 23.5714 23.6712 23.1773L14.5588 0.377329C14.4677 0.149447 14.2471 0 14.0017 0H10.9983ZM8.11318 13.9615L12.4992 3L16.8852 13.9615H8.11318Z",fill:"black"}))},bn=function(e){return!!tn(e)&&!!sn(e)},wn=function(e){return!!tn(e)&&!!cn(e)},gn=function(e){return!1},Sn=we()((function(e){return e.playerStatus===q.itemScoreScreenActive})),_n=we()((function(e){var t=Ve(e).activity.gradableType;return t===I.itemBased?Sn(e):!!Object.values(I).includes(t)&&gn(e)})),Cn=function(e){var t=Ve(e).activityMode;return[Be.standAloneAudio,Be.standAloneVideo].includes(t)},An=function(e){return!bn(e)&&(!wn(e)&&(!ln(e)&&(!_n(e)&&!Cn(e))))},Bn=function(e){var t=e.actions,n=e.state,r=Object(v.useTranslation)().t;if(!An(n))return!1;var a=n.fontSizeControl.buttonActive?Ht.a.fontSizeControlMenu_active:"";return E.a.createElement("div",{className:qt()(Ht.a.fontSizeControlGroup,a)},E.a.createElement(pn,{actions:t,state:n}),E.a.createElement("div",{id:"font-size-control-menu",className:Ht.a.fontSizeControlMenu,role:"menuitemradio"},E.a.createElement(vn,{actions:t,ariaLabel:r("components.fontSizeControl.fontSizeSmall"),icon:E.a.createElement(fn,null),targetFontSize:Ae.small,state:n}),E.a.createElement(vn,{actions:t,ariaLabel:r("components.fontSizeControl.fontSizeMedium"),icon:E.a.createElement(yn,null),targetFontSize:Ae.medium,state:n}),E.a.createElement(vn,{actions:t,ariaLabel:r("components.fontSizeControl.fontSizeLarge"),icon:E.a.createElement(mn,null),targetFontSize:Ae.large,state:n}),E.a.createElement(vn,{actions:t,ariaLabel:r("components.fontSizeControl.fontSizeLarger"),icon:E.a.createElement(hn,null),targetFontSize:Ae.larger,state:n})))},En=function(e){var t=e.state,n=e.actions,r=Ve(t).content;if(!r||t.playerStatus===q.activitySetManifestLoaded)return null;var a=Qt(t),i=t.showingAnswers,o=t.playerStatus,c=ye.includes(i)?"correctAnswers":void 0,s=o===q.rcfLoaded?void 0:Ht.a.hidden,l=rn(t),u=qt()(Ht.a.content,c,s),d=l?E.a.createElement(un,{activitySet:a}):"",p=o===q.rcfLoaded,v=o===q.rcfLoaded?"false":"true";return E.a.createElement("div",{id:"activity-content",className:u,"aria-live":"polite",role:"main","data-loaded":p,"aria-hidden":v},E.a.createElement("div",{className:Ht.a.contentInner},d,E.a.createElement(Bn,{state:t,actions:n}),E.a.createElement("div",{id:"activity",dangerouslySetInnerHTML:{__html:r.html}})))},xn=function(e,t){var n=e.rcfPlayerOptions,r=n.contentWebviewWindow,a=n.contentWebviewDocument,i=Ve(e).activity.emptyAnswersLookup;if(!i)throw new Error("emptyAnswersLookup required");var o=r.RCF,c=o.Application.getUserAnswers(t),s=c.answers;if(s)for(var l=0;l<s.length;l++)if(s[l]){var u=s[l].elm;if(u){var d=JSON.parse(i[u]);s[l]=d}}o.Application.setAnswers(c,t),o.Application.hideMarkedAnswers(t),o.Application.playItem(t);var p=a.getElementById("activity-content");p&&p.scrollTo&&p.scrollTo(0,0),o.Application.enableActivity(),o.Application.hideFeedback()},On=function(){var e=a()(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(dt(t)){e.next=2;break}return e.abrupt("return",{});case 2:if(n=zt(t)){e.next=5;break}return e.abrupt("return",{});case 5:return xn(t,n),r={itemId:n,userAnswersToggle:!1,itemBasedProgressKnown:Z,showingAnswers:z},e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pn=function(e){var t=Ve(e).activity,n=ke(t),r=n.indexOf(e.itemId);return r<1?null:n[r-1]},kn=function(){var e=a()(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(dt(t)){e.next=2;break}return e.abrupt("return",{});case 2:if(n=Pn(t)){e.next=5;break}return e.abrupt("return",{});case 5:return xn(t,n),r={itemId:n,userAnswersToggle:!1,itemBasedProgressKnown:K,showingAnswers:z},e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Tn=function(){return{scoreCardDismissed:!0}},Ln=function(e){var t=e.rcfPlayerOptions.contentWebviewWindow.RCF;t&&t.Application.cleanUp()},jn=function(){var e=a()(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rcfPlayerOptions.rcfAdapter,e.next=3,n.onEvent({type:"close-window-requested"});case 3:return Ln(t),e.abrupt("return",{playerStatus:q.closing});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Mn=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rcfPlayerOptions.rcfAdapter,a={type:"playlist-completion-requested"},(i=null===(n=t.viewActivityOptions.playList)||void 0===n?void 0:n.id)&&(a.playlistId=i),e.next=6,r.onEvent(a);case 6:return dt(t)&&Ln(t),e.abrupt("return",{playerStatus:q.closing});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Nn=function(e,t){return(t===F.challenge?Object.keys(e):["core"]).reduce((function(t,n){return[].concat(Xe()(t),Xe()(e[n]))}),[])},In=function(e,t,n){return n?e.length:t===F.challenge&&e.length>10?10:e.length},Fn=function(e){return e.slice().sort((function(){return Math.random()>=.5?-1:1}))},Dn=function(e){return Ve(e).activityMode===Be.review},Rn=function(e){var t=Ve(e),n=t.activity.itemSets,r=t.activitySet.activityMode;if(!n)return[];var a=Dn(e),i=Nn(n,r),o=In(i,r,a);return a||r===F.test||(i=Fn(i)),i.length=o,i};function Wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wn(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gn=function(e,t){var n=zn(zn({},e),{},{activityId:t});return _t(n)};function Hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qn=function(e,t){var n=Ve(Vn(Vn({},e),{},{activityId:t})).activity.itemSets;if(!n)return[[]];var r=Object.values(n).filter((function(e){return!!e&&e.length>0}));return 0===r.length?[[]]:r.map((function(e){return Fn(e)}))};function Un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Un(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kn=function(e){var t=e.viewActivityOptions.activitySetId,n=e.manifestDetails,r=n.activitySets,a=n.activities,i=r[t];if(!i)return{};var o,c=i.activities.length>0,s=e.activityId,l=e.viewActivityOptions.multiStepActivityId,u=a[s=c&&l?l:i.activities[0]],d=(o=Gn(e,s)?qn(e,s):Jn(e,s))[0];return{activityId:s,itemId:0===d.length?void 0:d[0],manifestDetails:Zn(Zn({},e.manifestDetails),{},{activities:Zn(Zn({},a),{},O()({},s,Zn(Zn({},u),{},{items:d,itemPools:o,currentItemPool:0})))})}},Jn=function(e,t){return[Rn(Zn(Zn({},e),{},{activityId:t}))]};function Yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yn(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xn=function(e,t){var n=Qn(Qn({},e),{},{attempts:0});return Object.keys(n).forEach((function(e){e.split("_")[0]===t&&delete n[e]})),n},$n=function(e){return e.answers.some((function(e){var t=e.value;return!!t&&t.hasOwnProperty("teacher")}))},er=function(e){var t=e.activity.gradableType,n=e.answers;if(!n)return null;switch(t){case I.openNonGradable:return R.submitOpenNonGradable;case I.openGradable:return $n(n)?R.submitOpenGradableFeedback:R.submitOpenGradable;case I.nonGradable:return R.submitNonGradable;default:return R.submitClosedGradable}},tr=function(e){return er(e)===R.submitOpenGradableFeedback},nr=function(e){var t=Ve(e);tr(t)||e.rcfPlayerOptions.contentWebviewWindow.RCF.Application.resetAnswers()};function rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rr(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ir=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i,o,c,s,l,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.rcfPlayerOptions.contentWebviewWindow,r=t.playerStatus,a=t.answersByActivity,i=t.activityId,o=t.logger,ve.includes(r)){e.next=3;break}return e.abrupt("return",{});case 3:return(c=n.RCF).Application.hideMarkedAnswers(),c.Application.hideFeedback(),nr(t),c.Application.enableActivity(),c.Application.setActivityMode("default",c.Application.getUserAnswers()),s=Kn(t),l=Xn(a,i||""),(d=ar(ar({userAnswersToggle:!1,showingAnswers:z,answersByActivity:l,scoreCardDismissed:!1,readOnly:!1},s),{},{storyDone:!1,hideShowAnswersRevealButton:!1})).itemId?d.playerStatus=q.coverScreenActive:(o.log("activity has started"),d.activityStartTime=Date.now()),e.abrupt("return",d);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?or(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sr=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i,o,c,s,l,d,p,v,f,y;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.rcfPlayerOptions.contentWebviewWindow,r=t.playerStatus,a=t.itemId,r===q.rcfLoaded){e.next=3;break}return e.abrupt("return",{});case 3:return i=Ve(t),o=i.answersByActivityKey,c=i.content,s=i.answers,l=c?c.correctAnswers:{id:"",answers:[]},v=n.RCF,f=v.Application.getUserAnswers(a),d=cr({answers:[]},v.MarkingEngine.getMarkedAnswers(l,f)),p=s&&s.attempts?s.attempts:0,d.attempts=p,v.Application.hideFeedback(),v.Application.enableActivity(),v.Application.tryAgain(d),v.Application.hideMarkedAnswers(),y={userAnswersToggle:!1,showingAnswers:z,answersByActivity:cr(cr({},t.answersByActivity),{},O()({},o,d)),scoreCardDismissed:!1,storyDone:!1},e.abrupt("return",y);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lr="An error occurred while viewing the activity. Please try again",ur=function(){var e=a()(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.error(n),!("displayUiDialog"in(r=t.rcfAdapter))){e.next=8;break}return e.next=6,r.displayUiDialog({title:"Error",type:"error",text:lr,buttons:{confirm:"ok"}});case 6:e.next=9;break;case 8:console.warn("displayUiDialog method not found in supplied adapter, so cannot display error dialog: ".concat(lr),n);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("error occurred while displaying the error dialog:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}(),dr=function(e,t){var n=t.activities,r=e.activities,a=new Set(n.map((function(e){return r[e].gradableType})).filter((function(e){return!!e})));return Xe()(a)},pr=function(e,t){return e.activities.some((function(e){var n=t[e];return!!n&&$n(n)}))},vr=function(e){var t=Qt(e),n=dr(e.manifestDetails,t),r=n.length>1;if(n.includes(I.openGradable)){var a=r?R.submitMixedWithOpenGradableFeedback:R.submitOpenGradableFeedback,i=r?R.submitMixedWithOpenGradable:R.submitOpenGradable;return pr(t,e.answersByActivity)?a:i}if(r)return R.submitMixedGradable;switch(n[0]){case I.openNonGradable:return R.submitOpenNonGradable;case I.nonGradable:return R.submitNonGradable;default:return R.submitClosedGradable}},fr=function(e){return tn(e)?vr(e):er(Ve(e))},yr=function(e){var t=e.activityId,n=e.durationInSeconds,r=e.viewActivityOptions.student,a=e.storyDone,i=Ve(e),o=i.activityMode,c=i.answers,s=i.activity.gradableType,l=Qt(e),u=fr(e),d=Xt(e);if(!u)throw new Error("expected submit type");if(!t)throw new Error("expected activityId");if(Ke(e)&&!r)throw new Error("expected student");if(!l.isMultiStep&&!c)throw new Error("expected answers for non multi-step activity set");if(e.itemId)return!1;if(s===I.story&&o===Be.storyComprehension&&!d&&!a)return!1;var p=!pr(l,e.answersByActivity);if(Re(e)&&p)return!1;if(!d&&p&&null==n)throw new Error("expected durationInSeconds");return!0},mr=n(13),hr=n.n(mr),br=function(e,t){e.answers.forEach((function(e){if("openGradable_recording"===e.type){var n=e.value;n&&"object"===hr()(n)&&!Array.isArray(n)&&["teacher","user"].forEach((function(e){var r=n[e];if(r){var a=r.audioUrl;void 0!==a&&t(r,a)}}))}}))},wr=function(e,t){br(e,(function(e,n){"/"==n[0]&&(e.audioUrl="".concat(t).concat(n))}))},gr=function(e,t,n){return e.reduce((function(e,r){var a,i=n[r];if(i){var o=JSON.parse(JSON.stringify(i));a=t,br(o,(function(e,t){0===t.indexOf(a)&&(e.audioUrl=t.slice(a.length))})),e[r]=o}return e}),{})},Sr=function(e){var t=Qt(e).activities,n=e.viewActivityOptions.activitySetId,r=e.manifestDetails.activitySets[n].activityMode;return t.reduce((function(t,n){var a=e.manifestDetails.activities[n]||{pointsAvailable:0},i=a.gradableType;if(a.gradableType===I.itemBased&&(r===F.test||r===F.practice))return Le(a);var o=parseInt(a.pointsAvailable||0);return i===I.openGradable&&(o+=parseInt(a.teacherPointsAvailable||0)),parseInt(t)+parseInt(o)}),0)},_r=function(e){return Qt(e).activities.reduce((function(t,n){var r=e.answersByActivity[n]||null,a=r&&r.score?Number(r.score):0;return Number(t)+Number(a)}),0)};function Cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Br=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=m.t,a={none:{key:"none",rewardText:"",badgeAssetClass:"none",completionText:r("scoreScreens.itemBased.rewards.none.completionText")},good:{key:"good",rewardText:"",badgeAssetClass:"good",completionText:r("scoreScreens.itemBased.rewards.good.completionText")},great:{key:"great",rewardText:"",badgeAssetClass:"great",completionText:r("scoreScreens.itemBased.rewards.great.completionText")},excellent:{key:"excellent",rewardText:"",badgeAssetClass:"excellent",completionText:r("scoreScreens.itemBased.rewards.excellent.completionText")},empty:{key:"empty",rewardText:"",badgeAssetClass:"",completionText:r("scoreScreens.itemBased.rewards.empty.completionText")}},i=Ar({},a[e]);return t.length>0&&(i.rewardText=t),n.length>0&&(i.completionText=n),i},Er=function(e){var t=(0,m.t)("scoreScreens.itemBased.rewardPenalties.keepPracticing");return e<.6?Br(W.none,"",t):Br(e<.8?W.good:e<1?W.great:W.excellent)},xr=function(e,t,n){var r=m.t,a=r("scoreScreens.itemBased.rewardPenalties.outOfTimeText"),i=r("scoreScreens.itemBased.rewardPenalties.outOfLivesText"),o=t?a:"";return 0==e?Br(W.none,i):Br(n<=.3?W.none:n<=.7?W.good:n<=.99?W.great:W.excellent,o)},Or=function(e,t){return function(e){return isFinite(e)?e:0}(e/t||0)};function Pr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return kr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kr(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Tr=function(e,t){var n,r=new Array(e.length).fill(0),a=Pr(t);try{for(a.s();!(n=a.n()).done;)for(var i=n.value,o=0;o<e.length;o++)if(e[o].includes(i.itemId)&&i.attempts){r[o]+=i.score*(o+1);break}}catch(e){a.e(e)}finally{a.f()}return r},Lr=function(e){return e.map((function(e,t){return e.length*(t+1)}))},jr=function(e,t){return e.reduce((function(e,t){return e+t}))*t},Mr=function(e,t,n,r){var a=e.logger,i=Tr(n,r),o=Lr(n),c=jr(i,t/3),s=jr(o,1);return a.log("totalPoints: ",c,i.map((function(e,t){return"Level ".concat(t+1,". Points: ").concat(e)}))),a.log("maxPoints: ",s,o.map((function(e,t){return"Level ".concat(t+1,". Max Points: ").concat(e)}))),Or(c,s)},Nr=function(e){var t=Ve(e),n=t.activity.itemPointsAvailable,r=t.itemAnswers;return n?r.reduce((function(e,t){var r=t.score,a=t.itemId;a&&(r===(n[a]||0)&&e++);return e}),0):0},Ir=function(e){return Ve(e).itemAnswers.length-Nr(e)},Fr=function(e,t){return 0===Ir(e)&&3===t&&!e.outOfTime},Dr=function(e,t,n,r){var a=m.t,i=a("scoreScreens.itemBased.rewardPenalties.outOfTimeText"),o=a("scoreScreens.itemBased.rewardPenalties.outOfLivesText");if(0==t)return Br(W.none,o);if(Fr(e,t))return Br(W.excellent);var c=Mr(e,t,n,r),s=e.outOfTime?i:"";return Br(0===c?W.none:c<=1/3?W.good:c<=2/3?W.great:W.excellent,s)},Rr=function(e){var t=m.t,n=Ve(e),r=n.activitySet.activityMode,a=n.activity,i=n.answers,o=n.itemAnswers;if(e.answersCameFromGradebook&&i&&i.reward)return i.reward;var c=ke(a),s=(null==i?void 0:i.score)||0,l=(null==i?void 0:i.attempts)||0,u=3-(l-s),d=c?c.length:0,p=Dn(e),v={};switch(r){case F.challenge:v=_t(e)?Dr(e,u,a.itemPools,o):xr(u,e.outOfTime,Or(s,d));break;case F.test:case F.practice:v=Er(Or(s,l));break;default:v=Br(W.empty)}return p&&(v.completionText=t("scoreScreens.itemBased.rewards.reviewCompleted.completionText")),v},Wr=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i,o,c,s,l,d,p,v,f,y,m,h,b,w,g,S,_,C;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.viewActivityOptions,r=n.activitySetId,a=n.student,i=t.rcfPlayerOptions,o=i.rcfAdapter,c=i.uploadedFilesRootUrl,s=t.durationInSeconds,l=t.activityId,d=t.timedPlaylistInProgress,yr(t)){e.next=3;break}return e.abrupt("return");case 3:if(p=Qt(t),v=fr(t),f=p.isMultiStep,v){e.next=8;break}throw new Error("expected submit type");case 8:if(l){e.next=10;break}throw new Error("expected activityId");case 10:if(a){e.next=12;break}throw new Error("expected student");case 12:if(y=Ve(t),m=y.pointsAvailable,h=y.answers,b=p.activities,w=gr(b,c,t.answersByActivity),g=f?Sr(t):m,S=f?_r(t):(null==h?void 0:h.score)||0,_={student:a,durationInSeconds:s,activitySetId:r,answers:w,maxScore:g,userScore:S,submitType:v,inProgress:d||!1},t.viewActivityOptions.playList&&t.viewActivityOptions.playList.id&&(_.playlistId=t.viewActivityOptions.playList.id),!St(t)){e.next=25;break}if((C=Rr(t)).key!==W.empty){e.next=23;break}throw new Error("expected reward");case 23:_.reward=C.key,_.answers&&_.answers[l]&&(_.answers[l].reward=C);case 25:return e.next=27,o.setAnswersForActivitySet(_);case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zr=function(){var e=a()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt(t,"activity-attempted");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gr=function(e){var t=e.answers;return(null==t?void 0:t.attempts)||0},Hr=function(e){var t=e.rcfPlayerOptions.contentWebviewWindow,n=e.itemId;return t.RCF.Application.getUserAnswers(n)};function Vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ur=function(e){var t=e.rcfPlayerOptions.contentWebviewWindow,n=e.itemId,r=Hr(e);if(!r)return{};var a=t.RCF,i=Xt(e),o=Ve(e),c=o.content,s=(null==c?void 0:c.correctAnswers)||{answers:[]},l=(i?0:Gr(o))+1;return qr(qr(qr({answers:[]},a.MarkingEngine.getMarkedAnswers(s,r)),!!n&&n.length>0&&{itemId:n}),{},{attempts:l})},Zr=function(e){return!tn(e)},Kr=function(e){return!Xt(e)&&!e.itemId},Jr=function(e){return Math.ceil((Date.now()-e)/1e3)},Yr=function(e){return Jr(e.activityStartTime||0)},Qr=function(e){var t=e.itemId,n=Xt(e),r=Yr(e);return!t&&!n?r:null},Xr=n(12),$r=function(e){return[Xr.MARKED_INTERACTION_NAMES.balloons,Xr.MARKED_INTERACTION_NAMES.sequenceTileMaze,Xr.MARKED_INTERACTION_NAMES.categoriseTileMaze,Xr.MARKED_INTERACTION_NAMES.spellingBee,Xr.MARKED_INTERACTION_NAMES.pelmanism,Xr.MARKED_INTERACTION_NAMES.story].some((function(t){return e.includes(t)}))},ea=function(e){return e.viewActivityOptions.userRole===xe.teacher},ta=function(e,t){return t.activity.gradableType===I.openGradable&&ze(e)&&ea(e)},na=[I.closedGradable,I.game],ra=function(e){var t=Ve(e),n=t.activity.gradableType;if(Xt(e))return!1;if(ta(e,t))return!1;var r=nn(e);if(na.includes(n))return!r;var a=et(e).interactions;return!$r(a)&&!de.includes(n)},aa=function(e){e.rcfPlayerOptions.contentWebviewWindow.RCF.Application.showFeedback()},ia=function(e){aa(e),st(e)},oa=function(e){return Ve(e).activity.gradableType},ca=function(e){var t=Xt(e),n=oa(e);return!t||t&&n===I.itemBased},sa=function(e,t){var n;if(ca(e)){var r=e.rcfPlayerOptions.contentWebviewWindow,a=e.itemId,i=r.RCF;(null==t||null===(n=t.answers)||void 0===n?void 0:n.length)>0&&i.Application.showMarkedAnswers(t,a),ra(e)&&ia(e)}},la=function(){var e=a()(u.a.mark((function e(t,n,r,a){var i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.uploadUserFile({userId:r,base64EncodedData:n},a);case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}();function ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function da(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pa=function(){var e=a()(u.a.mark((function e(t,n,r){var a,i,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.answers,i=0;case 2:if(!(i<a.length)){e.next=20;break}if(o=a[i],!(c=o.value)){e.next=17;break}if(!c.teacher||!c.teacher.audioBase64){e.next=11;break}return e.next=9,la(n,c.teacher.audioBase64,r,!0);case 9:c.teacher.audioUrl=e.sent,delete c.teacher.audioBase64;case 11:if(!c.user||!c.user.audioBase64){e.next=16;break}return e.next=14,la(n,c.user.audioBase64,r,!1);case 14:c.user.audioUrl=e.sent,delete c.user.audioBase64;case 16:o.value=c;case 17:i++,e.next=2;break;case 20:return e.abrupt("return",da({},t));case 21:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function va(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?va(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):va(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ya=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i,o,c,s,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fa({},t.answersByActivity),r=t.rcfPlayerOptions.rcfAdapter,a=t.viewActivityOptions.student,i=void 0===a?"":a,o=Ve(t),c=o.answersByActivityKey,s=o.answers,e.next=5,pa(s,r,i);case 5:return n[c]=e.sent,l={answersByActivity:n},e.abrupt("return",l);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ma(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ha(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ma(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ma(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ba=function(){var e=a()(u.a.mark((function e(t,n){var r,a,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ve(t),a=r.answersByActivityKey,i={answersByActivity:ha(ha({},t.answersByActivity),{},O()({},a,n))},e.next=4,ya(ha(ha({},t),i));case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),wa=function(e){return e.value&&e.value.user&&e.value.user.value&&e.value.user.value.length>0?1:0},ga=function(e){return e.value&&e.value.user&&(e.value.user.audioBase64||e.value.user.audioUrl)?1:0},Sa=function(e){var t,n,r,a;return null!==(t=e.value)&&void 0!==t&&null!==(n=t.user)&&void 0!==n&&n.drawing&&(null===(r=e.value)||void 0===r||null===(a=r.user)||void 0===a?void 0:a.drawing.length)>0?1:0},_a=function(e){var t=e.value||"";return t||t.length>0?1:0},Ca=function(e){return Array.isArray(e.value)?e.value.length:1},Aa=function(e){return e.markType===Ie.byItem&&Array.isArray(e.value)?e.value.length:1},Ba=function(e){return 1},Ea=function(e){var t=e.markType,n=!0,r=0;return Array.isArray(e.value)?(e.value.forEach((function(e){var t=e.value;t&&t.length>0?r+=Array.isArray(t)?t.length:1:n=!1})),t===Ie.byList&&n?1:t!==Ie.byList||n?r:0):0},xa=function(e){if(e.userChoiceAnswers)return e.userChoiceAnswers.length>0?1:0;var t=e.value||"";return t||t.length>0?1:0},Oa=function(e){return e&&e.value&&e.value.completion&&[Fe.won,Fe.lost].includes(e.value.completion)?1:0},Pa=function(e){return e.answers.reduce((function(e,t){switch(t.type){case Ne.openGradableWriting:return e+wa(t);case Ne.openGradableRecording:return e+ga(t);case Ne.openGradableTeacherGradedTask:return e+1;case Ne.openGradableFreeDrawing:return e+Sa(t);case Ne.simple:return e+_a(t);case Ne.list:return e+Ca(t);case Ne.sequence:return e+Aa(t);case Ne.complexOrdering:return e+Ba(t);case Ne.composite:return e+Ea(t);case Ne.choice:return e+xa(t);case Ne.gamePelmanism:case Ne.gameBalloons:case Ne.gameCategoriseTileMaze:case Ne.gameSequenceTileMaze:case Ne.gameSpellingBee:case Ne.vendorGame:return e+Oa(t);default:return 0}}),0)};function ka(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ka(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ka(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var La=function(e,t){var n,r=e.viewActivityOptions.activitySetId;if(!Xt(e))return null;switch(oa(e)){case I.closedGradable:case I.openGradable:return Ta({},O()({},r,Pa(t)>0));case I.itemBased:return null;case I.story:case I.nonGradable:return(null===(n=t.answers)||void 0===n?void 0:n.length)>0?Ta({},O()({},r,Pa(t)>0)):Ta({},O()({},r,!0))}return null};function ja(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ma(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ja(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ja(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Na=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=ct(t)){e.next=3;break}return e.abrupt("return",{});case 3:return r=t.activityId,a=Ur(t),sa(t,a),r&&delete t.partialAnswersByActivity[r],e.next=9,ba(t,a);case 9:if(i=e.sent,o=Ma(Ma(Ma({},t),i),{},{showingAnswers:G,answersCameFromGradebook:!1,durationInSeconds:Qr(t)}),(c=La(t,n))&&(o.playlistStatus=Ma(Ma({},t.playlistStatus),c)),o.partialAnswersByActivity&&Object.keys(o.partialAnswersByActivity).length<1&&delete o.partialAnswersByActivity,!Zr(t)){e.next=20;break}if(!Kr(t)){e.next=18;break}return e.next=18,zr(t);case 18:return e.next=20,Wr(o);case 20:return e.abrupt("return",o);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ia=function(e){var t=e.RCF,n=e.answersToShow,r=e.reviewTeacherFeedbackMode,a=e.leaveTeacherFeedbackMode,i=e.itemId;t.Application.setAnswers(n,i);var o=t.Application.setOpenGradableMode||t.Application.setActivityMode;r?o("reviewTeacherFeedback",n):a&&o("leaveTeacherFeedback",n)};function Fa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Da(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fa(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ra=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i,o,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ve(t),r=n.answersByActivityKey,a=t.rcfPlayerOptions.contentWebviewWindow,i=a.RCF,o=Da({answers:[]},i.Application.getTeacherFeedback()),c=Da(Da({},t),{},{answersByActivity:Da(Da({},t.answersByActivity),{},O()({},r,o))}),e.t0=Da,e.t1=Da({},t),e.next=9,ya(c);case 9:return e.t2=e.sent,s=(0,e.t0)(e.t1,e.t2),e.next=13,Wr(s);case 13:return Ia({RCF:i,answersToShow:o,reviewTeacherFeedbackMode:!0,leaveTeacherFeedbackMode:!1,itemId:void 0}),e.abrupt("return",s);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Wa=function(e){var t=e.state,n=t.playerStatus,r=t.apiCallInProgress,a=t.readOnly,i=t.rcfPlayerOptions.contentWebviewWindow;if(n===q.rcfLoaded&&Xt(e.state))return!0;var o=i.RCF.Application.isRecording;return!(![q.rcfLoaded,q.multiStepCoverScreenActive].includes(n)||r||a||o&&o())},za=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Wa(t)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,new Promise((function(e){return t.setState({apiCallInProgress:!0},e)}));case 4:if(e.prev=4,n=t.state,r=Ve(n),!ta(n,r)){e.next=14;break}return e.next=11,Ra(n);case 11:e.t0=e.sent,e.next=17;break;case 14:return e.next=16,Na(n);case 16:e.t0=e.sent;case 17:if(a=e.t0,t.state.activityId===a.activityId){e.next=20;break}return e.abrupt("return");case 20:return a.scoreCardDismissed=!1,a.itemBasedProgressKnown=void 0,e.next=25,new Promise((function(e){return t.setState(a,e)}));case 25:e.next=30;break;case 27:throw e.prev=27,e.t1=e.catch(4),e.t1;case 30:return e.prev=30,i={apiCallInProgress:!1},e.next=34,new Promise((function(e){return t.setState(i,e)}));case 34:return e.finish(30);case 35:case"end":return e.stop()}}),e,null,[[4,27,30,35]])})));return function(t){return e.apply(this,arguments)}}(),Ga=function(){var e=a()(u.a.mark((function e(t,n){var r,a,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=t.state,a=r.activityStartTime,i=r.rcfPlayerOptions.contentWebviewWindow,a===n){e.next=5;break}return e.abrupt("return");case 5:if(!i.closed){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,za(t);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),ur(t.state.rcfPlayerOptions,e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}(),Ha=function(e){var t=e.activityId;return!!t&&!!(e.answersByActivity[t]||null)},Va=function(e){var t=e.rcfPlayerOptions.contentWebviewDocument;if(!t)return!1;var n=t.querySelector(".activity");return!!n&&(n.getAttribute("data-interactions")||"").split(" ").includes("rcfPelmanism")},qa=function(e){var t=e.rcfPlayerOptions.contentWebviewWindow;return!!t&&(!!t.RCF&&(!!t.RCF.Application.hasActivityCompleteUI()&&!Va(e)))},Ua=function(e){var t=e.state,n=t.activityStartTime;if(Ke(t)&&!ze(t)&&!Xt(t)&&!Cn(t)){var r=Ve(t).activity.gradableType;if(pe.includes(r)&&!qa(t)&&!Ha(t)){var a=tn(t)?10:3e3;setTimeout((function(){Ga(e,n)}),a)}}},Za=function(e){return e.retainCache?{}:{manifestDetails:{rcfVersions:{},activitySets:{},activities:{}},answersByActivity:{},contentByActivity:{}}},Ka=function(e){var t=e.rcfPlayerOptions.contentWebviewWindow,n=e.logger,r=t.RCF;try{r.Application.pauseActivity()}catch(e){n.log("ignored pauseActivity error:",e.message)}},Ja=function(e){var t=e.viewActivityQueue,n=Qt(e).isMultiStep;return JSON.parse(JSON.stringify(t[0])).changedActivitySet?{}:n?JSON.parse(JSON.stringify(e.answersByActivity)):{}},Ya=function(e){if(tn(e))return e.activitySetStartTime};function Qa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qa(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $a=function(e){try{var t=e.state,n=t.viewActivityQueue,r=t.playerStatus;if(n.length>0&&(Ka(e.state),Ln(e.state),ve.includes(r))){var a=JSON.parse(JSON.stringify(n[0])),i=Za(a),o=Ja(e.state),c=Ya(e.state),s=Xa(Xa({},i),{},{viewActivityOptions:a,viewActivityQueue:n.slice(1),playerStatus:q.playerInitialized,answersByActivity:o,showingAnswers:z,userAnswersToggle:!1,itemId:void 0,scoreCardDismissed:!1,activityStartTime:void 0,activitySetStartTime:c,durationInSeconds:void 0,readOnly:!1,seenLastStoryPage:!1,storyDone:!1});e.setState(s,(function(){return ko(e)}))}}catch(t){ur(e.state.rcfPlayerOptions,t)}},ei=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i,o,c,s,l,d,p,v,f,y=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(y.length>1&&void 0!==y[1])||y[1],r=Xt(t),a=t.rcfPlayerOptions.contentWebviewWindow,i=t.playerStatus,o=t.itemId,[q.rcfLoaded,q.multiStepCoverScreenActive,q.multiStepScoreScreenActive].includes(i)){e.next=5;break}return e.abrupt("return",{});case 5:if(c=Ve(t),s=c.answers){e.next=9;break}throw new Error("no marked answers");case 9:return l=a.RCF,d=$n(s),p=ta(t,c),v=s,ze(t)&&(v.fromGradebook=!0),Ia({RCF:l,answersToShow:v,reviewTeacherFeedbackMode:d,leaveTeacherFeedbackMode:p,itemId:o}),d||r||(l.Application.showMarkedAnswers(s,o),l.Application.showFeedback()),ra(t)&&st(t),f={showingAnswers:G,userAnswersToggle:n},!t.readOnly&&d&&(f.readOnly=!0),e.abrupt("return",f);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ti=function(){var e=a()(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ei(t.state,!1);case 2:return n=e.sent,e.next=5,new Promise((function(e){return t.setState(n,e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ni=function(){var e=a()(u.a.mark((function e(t){var n,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state.rcfPlayerOptions.contentWebviewWindow,(r=n.RCF).Application.enableActivity(),a={userAnswersToggle:!1,scoreCardDismissed:!0,showingAnswers:z},r.Application.hideMarkedAnswers(),e.next=7,new Promise((function(e){return t.setState(a,e)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ri=function(e){return e.viewActivityOptions.linkOrigin===Oe.hotspot},ai=function(e){return ri(e)&&Ke(e)},ii=function(){var e=a()(u.a.mark((function e(t,n){var r,a,i,o,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=n.state.seenLastStoryPage,n.setState({storyStatus:t,seenLastStoryPage:r||t.isLastPage}),a=n.state,i=Ha(a),o=a.viewActivityOptions.linkOrigin,c=Ve(a),s=c.activityMode,e.t0=o,e.next=e.t0===Oe.hotspot?10:e.t0===Oe.gradebook?18:21;break;case 10:if(!(ai(a)&&i&&a.storyDone)){e.next=15;break}return e.next=13,ti(n);case 13:e.next=17;break;case 15:return e.next=17,ni(n);case 17:return e.abrupt("break",24);case 18:return e.next=20,ti(n);case 20:return e.abrupt("break",24);case 21:return e.next=23,ni(n);case 23:return e.abrupt("break",24);case 24:if(!Xt(a)){e.next=35;break}if(s!==Be.storyReading){e.next=31;break}if(!t.isLastPage){e.next=29;break}return e.next=29,za(n);case 29:e.next=33;break;case 31:return e.next=33,za(n);case 33:e.next=38;break;case 35:if(s!==Be.storyReading||!t.isLastPage){e.next=38;break}return e.next=38,za(n);case 38:e.next=43;break;case 40:e.prev=40,e.t1=e.catch(0),ur(n.state.rcfPlayerOptions,e.t1);case 43:case"end":return e.stop()}}),e,null,[[0,40]])})));return function(t,n){return e.apply(this,arguments)}}();function oi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oi(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var si=function(){var e=a()(u.a.mark((function e(t,n,r){var a,i,o,c,s,l,d,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=function(){return[je.isGameOverScreen,je.isGameWonScreen].includes(n.eventName)},i=function(){return n.eventName==je.isPlaying},o=function(){return n.eventName==je.isStartScreen},c=r.state.logger,s=!0,e.prev=5,!a()){e.next=13;break}return e.next=9,za(r);case 9:l=U.endScreen,r.setState({gameStatus:l}),e.next=14;break;case 13:i()?(d=U.playing,r.setState(ci(ci({},Tn()),{gameStatus:d}))):o()?(p=U.startScreen,r.setState({gameStatus:p})):s=!1;case 14:s&&(console.group("Player received game event"),c.alwaysLog(li(),">> Game Event: [".concat(n.eventName,"] method with args ["),n,"]"),console.groupEnd()),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),ur(r.state.rcfPlayerOptions,e.t0);case 20:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(t,n,r){return e.apply(this,arguments)}}(),li=function(){var e=new Date;return"".concat(e.getHours(),":").concat(e.getMinutes(),":").concat(e.getSeconds())},ui=si,di=function(e){return!!e.viewActivityOptions.playList},pi=function(e){return e.currentDisplayType===mt.fullScreen},vi=function(e){return!pi(e)&&(!di(e)&&Cn(e))},fi=function(e){return e===Me?mt.audioScriptOpen:mt.audioScriptClosed},yi=function(){var e=a()(u.a.mark((function e(t,n){var r,a,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.state,vi(r)){e.next=3;break}return e.abrupt("return");case 3:return a=r.rcfPlayerOptions.rcfAdapter,i=fi(t.status),e.prev=5,e.next=8,a.onEvent({type:"display-type-ui-option",displayType:i});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),ur(r.rcfPlayerOptions,e.t0);case 13:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(t,n){return e.apply(this,arguments)}}(),mi=function(e){var t=e.state.rcfPlayerOptions,n=t.contentWebviewWindow,r=t.contentWebviewDocument,a=n.jQuery(r);a.off("rcf.story.change.page"),a.off("rcf.game.change.screen"),a.off("rcf.audio.script"),a.on("rcf.story.change.page",(function(t,n){return ii(n,e)})),a.on("rcf.game.change.screen",(function(t,n){return ui(t,n,e)})),a.on("rcf.audio.script",(function(t,n){return yi(n,e)}))},hi=function(){var e=a()(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rcfPlayerOptions.rcfAdapter,e.next=3,r.onEvent({type:"activity-set-id-requested",activitySetId:n});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),bi=function(e){var t=e.rcfPlayerOptions,n=t.contentWebviewDocument,r=t.contentRootUrl,a=Ve(e).activity.rootPath,i=n.getElementById("base");if(i){var o=i.getAttribute("href"),c="".concat(r,"/").concat(a,"/");o!==c&&i.setAttribute("href",c)}},wi=function(e){var t=e.body;return t?t.getAttribute("data-rcf-manifest-version"):void 0},gi=function(e,t){var n=e.body;n&&n.setAttribute("data-rcf-manifest-version",t)},Si=function(e,t){var n=e.body;if(!n)throw new Error("document body expected");return new Promise((function(r){var a=e.createElement("script");a.type="text/javascript",a.src=t,a.onload=function(){n.removeChild(a),r()},n.appendChild(a)}))},_i=n(22),Ci=n.n(_i),Ai=function(e){return Ci.a.lte(e,"2.1.70")?"jquery-1.11.1.min.js":"2.1.71"===e?"jquery-3.3.1.min.js":"jquery.min.js"};function Bi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ei(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ei(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function Ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var xi=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i,o,c,s,l,d,p,v,f,y,m,h,b,w,g,S,_,C;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Ve(t),r=n.rcfVersion){e.next=3;break}return e.abrupt("return");case 3:for(a=r.version,i=r.scripts,o=r.rootPath,c=t.rcfPlayerOptions,s=c.contentRootUrl,l=c.contentWebviewDocument,void 0!==(((d=c.contentWebviewWindow).RCF||{}).Application||{}).cleanUp&&d.RCF.Application.cleanUp(),d.RCF=void 0,d.$&&(d.$=void 0),d.jQuery&&(d.jQuery=void 0),d.webpackJsonp_rcf&&(d.webpackJsonp_rcf=void 0),p=l.querySelectorAll("script"),v=0;v<p.length;v++)f=p[v],(y=f.parentElement)&&y.removeChild(f);m="".concat(s,"/").concat(o),h=i.map((function(e){return"".concat(m,"/").concat(e)})),b="".concat(m,"/jslibs/").concat(Ai(a)),h.unshift(b),w=Bi(h),e.prev=17,w.s();case 19:if((g=w.n()).done){e.next=25;break}return S=g.value,e.next=23,Si(l,S);case 23:e.next=19;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(17),w.e(e.t0);case 30:return e.prev=30,w.f(),e.finish(30);case 33:gi(l,a),t.logger.alwaysLog("RCF framework version: ".concat(a));try{_=d.RCF,(C=_.Version.version)!==a&&console.warn("Warning: RCF framework runtime version: ".concat(C,", version mismatch"))}catch(e){console.error("RCF runtime version could not be retrieved",e)}case 36:case"end":return e.stop()}}),e,null,[[17,27,30,33]])})));return function(t){return e.apply(this,arguments)}}(),Oi=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i,o,c,s,l,d,p,v;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Ve(t),r=n.rcfVersion){e.next=3;break}return e.abrupt("return");case 3:if(a=r.version,i=r.rootPath,o=t.rcfPlayerOptions,c=o.contentWebviewDocument,s=o.contentWebviewWindow,l=o.contentRootUrl,d=o.language,p=t.viewActivityOptions.useStreamingVideos,wi(c)!==a){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,xi(t);case 10:v="".concat(l,"/").concat(i,"/"),s.RCF.Application.initialize({swfFallbackURL:"".concat(v,"swf/"),vendorURL:"".concat(v,"vendor/"),language:d||"en",useStreamingVideos:p});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pi=function(e,t){var n=e.querySelectorAll("head > [data-group='".concat(t,"']"));return Xe()(n)},ki=function(e,t){var n=e.querySelector('meta[itemprop="'.concat(t,'-end"]'));if(!n){var r=e.querySelectorAll("head")[0],a=e.createElement("meta");a.setAttribute("itemprop","".concat(t,"-start"));var i=e.createComment("start of ".concat(t," styles"));(n=e.createElement("meta")).setAttribute("itemprop","".concat(t,"-end")),r.append(a,i,n)}return n},Ti=function(){var e=a()(u.a.mark((function e(t,n,r,a,i){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var o=n.createElement("link"),c="".concat(a).concat(i.path),s=i.mediaQuery;o.setAttribute("data-group",r),o.setAttribute("type","text/css"),o.setAttribute("property","stylesheet"),o.setAttribute("rel","stylesheet"),o.setAttribute("href",c),s&&o.setAttribute("media",s),t.before(o),o.onload=function(){console.log("stylesheet",c,"finished loading"),e()},o.onerror=function(){console.error("stylesheet",c,"failed to load"),e()}})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i){return e.apply(this,arguments)}}(),Li=function(e,t,n){return e.some((function(e,r){return void 0===t[r]||"".concat(n).concat(t[r].path)!==e.getAttribute("href")}))},ji=function(e){e.forEach((function(e){return e.remove()}))},Mi=function(){var e=a()(u.a.mark((function e(t){var n,r,i,o,c,s,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.cssGroupName,r=t.cssArray,i=t.rootPath,o=void 0===i?"":i,c=t.dom,s=Pi(c,n),(r.length>0||s.length>0)&&Li(s,r,o)&&(ji(s),s=[]),!(s.length<r.length)){e.next=10;break}return l=ki(c,n),console.group("injecting styles for ".concat(n)),e.next=9,Promise.all(r.map(function(){var e=a()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ti(l,c,n,o,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 9:console.groupEnd();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ni=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i,o,c,s,l,d,p,v,f,y,m,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.rcfPlayerOptions,a=r.contentRootUrl,i=r.contentWebviewDocument,o=Ve(t),c=o.activity,s=o.rcfVersion,c&&s){e.next=4;break}return e.abrupt("return");case 4:if(l=c.css,d=s.version,p=s.css,v=s.rootPath,wi(i)===d){e.next=11;break}return f="".concat(a,"/").concat(v,"/"),e.next=11,Mi({cssGroupName:"rcf",cssArray:p,rootPath:f,dom:i});case 11:if(!(y=c.globalStyles?null===(n=t.manifestDetails.globalStyles)||void 0===n?void 0:n[c.globalStyles]:null)){e.next=21;break}return m=l.filter((function(e){return!e.path.includes("shared/")})),h="".concat(a,"/").concat(y.rootPath,"/"),e.next=17,Mi({cssGroupName:"global-shared",cssArray:y.css,rootPath:h,dom:i});case 17:return e.next=19,Mi({cssGroupName:"activity",cssArray:m,dom:i});case 19:e.next=25;break;case 21:return e.next=23,Mi({cssGroupName:"global-shared",cssArray:[],dom:i});case 23:return e.next=25,Mi({cssGroupName:"activity",cssArray:l,dom:i});case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ii=function(){var e=a()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bi(t),e.next=3,Ni(t);case 3:return e.next=5,Oi(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fi=function(e){return e.rcfPlayerOptions.debugMode===_e.cape},Di=function(e,t){if(Object.keys(t).length>0)return!1;var n=Ve(e);return!!ta(e,n)&&!!Fi(e)},Ri=function(e){return{answers:[{elm:"placeholder-for-cape-preview",type:"placeholder-for-cape-preview",markType:"feedback",value:{user:{value:"placeholder-for-cape-preview"}}}],id:e,activity_id:e,score:0,attempts:0}};function Wi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wi(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gi=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i,o,c,s,l,d,p,v,f,y,m,h,b,w,g;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.rcfPlayerOptions,r=n.rcfAdapter,a=n.uploadedFilesRootUrl,i=t.viewActivityOptions,o=i.activitySetId,c=i.student,s=i.previousAttempt,l=t.manifestDetails.activitySets,d=t.activityId,p=ai(t),v=Xt(t),c){e.next=5;break}throw new Error("student required");case 5:if(s){e.next=7;break}throw new Error("previousAttempt required");case 7:if(f=l[o]){e.next=10;break}throw new Error("no activity set");case 10:return y=Ve(t),m=y.activity.gradableType,h={activitySetId:o,student:c,previousAttempt:s},t.viewActivityOptions.playList&&t.viewActivityOptions.playList.id&&(h.playlistId=t.viewActivityOptions.playList.id),e.next=15,r.getAnswersForActivitySet(h);case 15:if(e.t0=e.sent,e.t0){e.next=18;break}e.t0={};case 18:return b=e.t0,Di(t,b)&&l[o].activities.forEach((function(e){b[e]=Ri(e)})),f.activities.forEach((function(e){if(b[e]){var n;wr(b[e],a),n=b[e]&&b[e].attempts?b[e].attempts:0;var r=p?[I.itemBased,I.nonGradable].includes(m)?n:0:n;b[e]=zi(zi({},b[e]),{},{attempts:r})}else t.answersByActivity[e]||(b[e]=null)})),w=Object.keys(b).length>0&&Object.values(b).some((function(e){return!!e})),g={answersByActivity:zi(zi({},t.answersByActivity),b),answersCameFromGradebook:!0,playerStatus:void 0,itemId:w?void 0:t.itemId,storyDone:!(m!==I.story||!w)||t.storyDone},v||p||!d||null!==b[d]?delete g.playerStatus:g.playerStatus=q.noAttemptAvailable,e.abrupt("return",g);case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Hi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hi(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qi=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i,o,c,s,l,d,p,v,f;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.rcfPlayerOptions,r=n.rcfAdapter,a=n.uploadedFilesRootUrl,i=t.viewActivityOptions,o=i.activitySetId,c=i.student,s=t.manifestDetails.activitySets,c){e.next=3;break}throw new Error("student required");case 3:if(l=s[o]){e.next=6;break}throw new Error("no activity set");case 6:return d=Xt(t)&&t.timedPlaylistInProgress?ht.inProgress:ht.last,p={activitySetId:o,student:c,previousAttempt:d},t.viewActivityOptions.playList&&t.viewActivityOptions.playList.id&&(p.playlistId=t.viewActivityOptions.playList.id),e.next=11,r.getAnswersForActivitySet(p);case 11:if(v=e.sent){e.next=14;break}return e.abrupt("return",null);case 14:return l.activities.forEach((function(e){v[e]&&wr(v[e],a)})),f={answersByActivity:Vi(Vi({},t.answersByActivity),v)},e.abrupt("return",f);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Ui(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ui(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ui(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ki=function(){var e=a()(u.a.mark((function e(t){var n,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ve(t),r=n.activity.gradableType,e.next=3,qi(t);case 3:if(!(a=e.sent)){e.next=8;break}return e.abrupt("return",Zi(Zi({},a),{},{readOnly:r!==I.openNonGradable}));case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ji=function(e){var t=ze(e),n=Xt(e);if(t)return!0;if(n)return!!Ke(e);var r=ai(e);if(!r)return!1;var a=Qt(e),i=e.manifestDetails,o=dr(i,a).some((function(e){return[I.closedGradable,I.itemBased,I.story,I.nonGradable].includes(e)})),c=tn(e);return r&&(c||o)},Yi=function(e){if(Re(e))return!1;if(ze(e))return!1;var t=Qt(e),n=e.manifestDetails;return dr(n,t).some((function(e){return ue.includes(e)}))},Qi=function(e){if(Xt(e))return!1;var t=ai(e);if(!t)return!1;var n=Ve(e).activity.gradableType;return t&&[I.closedGradable,I.itemBased].includes(n)},Xi=function(e){return e.viewActivityOptions.linkOrigin===Oe.assessment},$i=function(){var e=a()(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.state.resetMultiStepActivitySet){e.next=3;break}return e.abrupt("return");case 3:if(!Ji(t.state)){e.next=10;break}return Xi(t.state)?t.state.viewActivityOptions.previousAttempt=ht.inProgress:Qi(t.state)&&(t.state.viewActivityOptions.previousAttempt=ht.last),e.next=7,Gi(t.state);case 7:return n=e.sent,e.next=10,new Promise((function(e){return t.setState(n,e)}));case 10:if(!Yi(t.state)){e.next=17;break}return e.next=13,Ki(t.state);case 13:if(!(r=e.sent)){e.next=17;break}return e.next=17,new Promise((function(e){return t.setState(r,e)}));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function to(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var no=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i,o,c,s,l,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.rcfPlayerOptions.rcfAdapter,r=t.viewActivityOptions,a=r.activitySetId){e.next=4;break}throw new Error("ActivitySetId must be set");case 4:if(!t.manifestDetails.activitySets[a]){e.next=8;break}return i=to(to({},Kn(t)),{},{playerStatus:q.activitySetManifestLoaded}),e.abrupt("return",i);case 8:return e.next=10,n.getManifestForActivitySet({activitySetId:a});case 10:if(o=e.sent,c=o.activitySets[a]){e.next=14;break}throw new Error("details for activitySet ".concat(a," not found"));case 14:if(0!==c.activities.length){e.next=17;break}throw new Error("ActivitySet must have at least one activity");case 17:return s=t.manifestDetails,l=Kn({viewActivityOptions:r,manifestDetails:o}),d=to(to({},l),{},{manifestDetails:{rcfVersions:to(to({},s.rcfVersions),o.rcfVersions),activitySets:to(to({},s.activitySets),o.activitySets),activities:to(to(to({},s.activities),o.activities),l.manifestDetails.activities),globalStyles:to(to({},s.globalStyles),o.globalStyles)},playerStatus:q.activitySetManifestLoaded}),e.abrupt("return",d);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ro=function(){var e=a()(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,no(t.state);case 2:return n=e.sent,e.next=5,new Promise((function(e){return t.setState(n,e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function io(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ao(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ao(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oo=function(e,t){return"data:"==e.substring(0,5)?e:"".concat(t,"/").concat(e)},co=function(){var e=a()(u.a.mark((function e(t){var n,r,i,o,c,s,l,d,p,v,f,y,m,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.rcfPlayerOptions.contentRootUrl,r=Ve(t),i=r.activity,o=i.rootPath,c=i.html,s=i.json,l=i.activityId,!r.content){e.next=4;break}return e.abrupt("return",{playerStatus:q.activityContentLoaded});case 4:return d="".concat(n,"/").concat(o),p=oo(c,d),v=oo(s,d),f=t.rcfPlayerOptions.rcfAdapter,e.next=10,fetch(p).then(function(){var e=a()(u.a.mark((function e(n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(403!==n.status&&404!==n.status){e.next=8;break}if(r="".concat(n.status," Error: Failed to load activity html from ").concat(p),console.error(r),!("displayUiDialog"in f)){e.next=6;break}return e.next=6,f.displayUiDialog({title:"Error loading activity html",text:r,type:"error",buttons:{confirm:"ok"}});case 6:return jn(t),e.abrupt("return","");case 8:return e.abrupt("return",n.text());case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return y=e.sent,e.next=13,fetch(v).then(function(){var e=a()(u.a.mark((function e(n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(403!==n.status&&404!==n.status){e.next=8;break}if(r="".concat(n.status," Error: Failed to load activity json from ").concat(v),console.error(r),!("displayUiDialog"in f)){e.next=6;break}return e.next=6,f.displayUiDialog({title:"Error loading activity answers",text:r,type:"error",buttons:{confirm:"ok"}});case 6:return jn(t),e.abrupt("return",{});case 8:return e.abrupt("return",n.json());case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 13:return m=e.sent,h={contentByActivity:io(io({},t.contentByActivity),{},O()({},l,{html:y,correctAnswers:m})),playerStatus:q.activityContentLoaded},e.abrupt("return",h);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),so=function(){var e=a()(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,co(t.state);case 2:return n=e.sent,e.next=5,new Promise((function(e){return t.setState(n,e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lo=function(e){var t=e.activityId,n=e.seenMultiStepCoverScreen,r=e.seenMultiStepScoreScreen,a=Ve(e).activity,i=a.gradableType,o=a.itemSets,c=Qt(e),s=c.activities.indexOf(t),l=t&&e.answersByActivity&&e.answersByActivity[t];if(i===I.itemBased&&o)return ze(e)||l&&(ai(e)||Xt(e))?q.itemScoreScreenActive:q.coverScreenActive;if(c.isMultiStep)if(l){if(s<1&&!r)return q.multiStepScoreScreenActive}else if(s<1&&!n)return q.multiStepCoverScreenActive;return q.rcfLoaded},uo=function(e,t){if(!e.itemSets)throw new Error("itemSets manifest data required for item-based activity");if(!t)throw new Error("activityMode is required for item-based activity");return Nn(e.itemSets,t)};function po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?po(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):po(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fo=function(e,t){var n=e.rcfPlayerOptions.contentWebviewWindow,r=Ve(e),a=r.activity,i=r.rcfVersion,o=r.content,c=r.activitySet.activityMode;if(!i)throw new Error("expected rcfVersion");if(!o)throw new Error("expected content");var s=n.RCF,l=vo(vo({},a),{},{usesFixedWordBoxes:null!=t.querySelector(".activity[data-fixedwordpools='y']")});if(a.gradableType===I.itemBased){var u=uo(a,c);if(u.length>0){var d={};u.forEach((function(e){return d[e]=n.RCF.Application.getItemPointsAvailable(e)})),l.itemPointsAvailable=d}var p=s.Application.getUserAnswers();l.emptyAnswersLookup=p.answers.reduce((function(e,t){return e[t.elm]=JSON.stringify(t),e}),{})}if(oe.includes(a.gradableType)){var v=o.correctAnswers;l.numberOfOneByOneAnswers=s.MarkingEngine.getNumberOfOneByOneAnswers(v)}return l},yo=function(){var e=a()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt(t,"activity-details-published");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mo=function(e){return(e.find(".activity[data-rcfxmlid]").attr("data-activitymodes")||"")!==D.noControls},ho=function(e){return!!St(e)&&!_t(e)},bo=function(e){var t=Ve(e),n=t.activity.gradableType,r=t.activityMode;return n===I.itemBased&&r===Be.practice},wo=function(e){return!ze(e)&&(Ke(e)?ho(e)||_t(e)||bo(e):!!Re(e)&&((!Dn(e)||!De(e))&&(ho(e)||_t(e)||bo(e))))};function go(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function So(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?go(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):go(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _o=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i,o,c,s,l,d,p,v,f,y,m,h,b,w,g,S,_;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.rcfPlayerOptions,r=n.contentWebviewDocument,a=n.contentWebviewWindow,i=t.logger,o=t.viewActivityOptions.mobileModeOverride,c=r.getElementById("activity")){e.next=4;break}return e.abrupt("return",null);case 4:return s=a.jQuery(c),l=a.RCF,d=wo(t)?"always":"none",p={randomizeAnswersOnScreen:d},l.Application.setDeviceMode(o?"mobile":void 0),e.next=11,l.Application.updateContent(s,p);case 11:return v=Ve(t),f=v.activity,y=v.activity.gradableType,m=v.activityMode,h=mo(s),b=lo(t),w=fo(t,c),g=y!==I.itemBased,S=g?Date.now():null,_={playerStatus:b,userAnswersToggle:!1,showingAnswers:z,manifestDetails:So(So({},t.manifestDetails),{},{activities:So(So({},t.manifestDetails.activities),{},O()({},f.activityId,w))}),noActivityControlsRequired:!h},tn(t)||(_.activityStartTime=S),y!==I.story?_.storyStatus=void 0:m===Be.storyReading?l.Application.setStoryPlayingMode("reading"):l.Application.setStoryPlayingMode("comprehension"),g&&i.log("non item-based activity has started"),e.next=23,yo(t);case 23:return e.abrupt("return",_);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Co=function(){var e=a()(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_o(t.state);case 2:return n=e.sent,e.next=5,new Promise((function(e){return t.setState(n,e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ao=function(){var e=a()(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ei(t.state,!1);case 2:return n=e.sent,e.next=5,new Promise((function(e){return t.setState(n,e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Bo=function(e){window.localStorage.setItem("rcf-player-set-font-size",e)},Eo=function(){var e=a()(u.a.mark((function e(t){var n,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state,r=window.localStorage.getItem("rcf-player-set-font-size")){e.next=7;break}return e.next=5,Bo(n.fontSizeControl.currentFontSize);case 5:e.next=11;break;case 7:if(r===Ae.medium){e.next=11;break}return a={fontSizeControl:{buttonActive:n.fontSizeControl.buttonActive,currentFontSize:r}},e.next=11,new Promise((function(e){return t.setState(a,e)}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xo=function(e){return e.playerStatus!==q.noAttemptAvailable},Oo=function(e){var t=Ve(e).answers;return t&&t.answers.length>0},Po=function(e){var t=e.activityId,n=e.partialAnswersByActivity;return t&&n&&n[t]?n[t]:null},ko=function(){var e=a()(u.a.mark((function e(t){var n,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.state.isVisible){e.next=4;break}return t.setState({playerStatus:q.playerInitializedDeferred},(function(){return $a(t)})),e.abrupt("return");case 4:return e.next=6,Eo(t);case 6:return e.next=8,ro(t);case 8:return e.next=10,Ii(t.state);case 10:return e.next=12,so(t);case 12:return e.next=14,$i(t);case 14:if(mi(t),!xo(t.state)){e.next=29;break}return e.next=18,Co(t);case 18:return n=Ve(t.state),r=n.activitySet.activitySetId,e.next=21,hi(t.state,r);case 21:if(!(a=Po(t.state))){e.next=26;break}lt(t.state,a),e.next=29;break;case 26:if(!Oo(t.state)){e.next=29;break}return e.next=29,Ao(t);case 29:Ua(t),$a(t),e.next=36;break;case 33:e.prev=33,e.t0=e.catch(0),ur(t.state.rcfPlayerOptions,e.t0);case 36:case"end":return e.stop()}}),e,null,[[0,33]])})));return function(t){return e.apply(this,arguments)}}(),To=function(e,t){var n={viewActivityQueue:[].concat(Xe()(e.state.viewActivityQueue),[t])};e.setState(n,(function(){return $a(e)}))},Lo=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i,o,c,s,l,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.itemId,r=t.rcfPlayerOptions,a=r.contentWebviewWindow,i=r.contentWebviewDocument,o=t.playerStatus,c=t.logger,o===q.coverScreenActive&&n){e.next=3;break}return e.abrupt("return",{});case 3:return(s=a.RCF).Application.playItem(n),(l=i.getElementById("activity-content"))&&l.scrollTo&&l.scrollTo(0,0),s.Application.enableActivity(),s.Application.hideFeedback(),c.log("item-based activity has started"),d={playerStatus:q.rcfLoaded,activityStartTime:Date.now(),outOfTime:!1},e.abrupt("return",d);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),jo=function(e){var t=e.rcfPlayerOptions.contentWebviewWindow,n=e.logger,r=t.RCF;try{r.Application.pauseActivity()}catch(e){n.log("ignored pauseActivity error:",e.message)}},Mo=function(e){jo(e),st(e)},No=function(e){var t=e.activityId,n=e.answersByActivity,r=e.manifestDetails.activities;if(!t)throw new Error("no current activity");if(n[t])return null;var a=r[t],i=ke(a);if(0===i.length)throw new Error("no activity item list");var o=a.itemPointsAvailable;if(!o)throw new Error("no item points available");return i.reduce((function(e,r){var a="".concat(t,"_").concat(r),i=n[a]||{},c=i.answers,s=i.score,l=i.attempts;return c&&(Array.prototype.push.apply(e.answers,c),e.items.push(r),e.attempts=e.attempts+l,o[r]===s&&(e.score=e.score+1)),e}),{id:t,answers:[],items:[],score:0,attempts:0})};function Io(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Io(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Io(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Do=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(dt(t)){e.next=2;break}return e.abrupt("return",{});case 2:if(n=t.outOfTime,r=t.viewActivityOptions.activitySetId,Mo(t),a=Yr(t),i={playerStatus:q.itemScoreScreenActive,itemBasedProgressKnown:J,durationInSeconds:a,itemId:void 0,outOfTime:n},o=No(t),c=Pa(o)>0,!o){e.next=15;break}return i.answersByActivity=Fo(Fo({},t.answersByActivity),{},O()({},t.activityId,o)),Xt(t)&&(i.playlistStatus=Fo(Fo({},t.playlistStatus),O()({},r,c))),e.next=13,zr(t);case 13:return e.next=15,Wr(Fo(Fo({},t),i));case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ro(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zo=function(e,t,n){if(t){var r=e.state,a=t!==r.viewActivityOptions.activitySetId,i=Wo(Wo({},r.viewActivityOptions),{},{activitySetId:t,multiStepActivityId:n,changedActivitySet:a,retainCache:!0});To(e,i)}},Go=function(e){var t=Qt(e.state);zo(e,t.nextActivitySetId)},Ho=function(e){var t=Qt(e.state);zo(e,t.previousActivitySetId)},Vo=function(e,t){zo(e,t)},qo=function(){var e=a()(u.a.mark((function e(t,n){var r,a,i,o,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.state,a=r.rcfPlayerOptions.contentWebviewWindow,i=r.playerStatus,o=a.RCF,c=void 0,e.t0=i,e.next=e.t0===q.rcfLoaded?6:e.t0===q.playerInitializedDeferred?8:9;break;case 6:return n?o.Application.resumeActivity():Ka(t.state),e.abrupt("break",9);case 8:n&&(c=function(){return ko(t)});case 9:s={isVisible:n},c?t.setState(s,c):t.setState(s);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Uo=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(dt(t)){e.next=2;break}return e.abrupt("return",{});case 2:return n=Ve(t),r=n.content?n.content.correctAnswers:{},a=ct(t),i=ot(r,a),ut(t),lt(t,i),st(t),o={showingAnswers:V,userAnswersToggle:!0},e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Zo=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i,o,c,s,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.state,r=n.rcfPlayerOptions.contentWebviewWindow,n.playerStatus===q.rcfLoaded){e.next=5;break}return e.abrupt("return");case 5:if(!r.closed){e.next=7;break}return e.abrupt("return");case 7:if(a=Ve(n),i=a.activity,o=a.itemAnswers,c=a.activityMode,s=Nt(i,o),!zt(n)||!(s>0||c!==Be.challenge)){e.next=16;break}return e.next=13,On(n);case 13:l=e.sent,e.next=19;break;case 16:return e.next=18,Do(n);case 18:l=e.sent;case 19:return e.next=21,new Promise((function(e){return t.setState(l,e)}));case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),ur(t.state.rcfPlayerOptions,e.t0);case 26:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(t){return e.apply(this,arguments)}}(),Ko=function(e,t,n){return e===Be.practice&&t===G&&n},Jo=function(e,t,n){return e===Be.challenge||Ko(e,t,n)},Yo=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state,r=Ve(n),a=r.activityMode,i=r.perfectScore,!Jo(a,n.showingAnswers,i)){e.next=5;break}return e.next=5,new Promise((function(e){setTimeout((function(){Zo(t),e()}),1e3)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Qo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qo(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $o=function(e){return Xo(Xo({},e),{},{outOfTime:!0})},ec=function(e){var t=e.rcfPlayerOptions.contentWebviewDocument.getElementById("activity-content");t&&t.scrollTo&&t.scrollTo(0,0)},tc=function(e){e.rcfPlayerOptions.contentWebviewWindow.RCF.Application.enableActivity()},nc=function(e){e.rcfPlayerOptions.contentWebviewWindow.RCF.Application.hideFeedback()},rc=function(e){ec(e),tc(e),nc(e)},ac=function(){var e=a()(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rc(t),n={activitySetStartTime:Date.now(),activityStartTime:Date.now(),seenMultiStepCoverScreen:!0,seenMultiStepScoreScreen:!0,playerStatus:q.rcfLoaded},e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ic=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i,o,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.state,r=n.activityId,a=n.viewActivityOptions.activitySetId,i=Qt(n),o=i.activities,c=o.indexOf(r),(s=c<o.length?o[c+1]:null)&&zo(t,a,s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function oc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oc(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sc=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state,r=n.activityId,a=n.partialAnswersByActivity,i=ct(n)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,new Promise((function(e){t.setState({partialAnswersByActivity:cc(cc({},a),{},O()({},r,cc(cc({},i),{},{activity_id:r})))},e)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lc=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i,o,c,s,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state,r=n.activityId,a=n.answersByActivity,i=n.viewActivityOptions.activitySetId,o=Qt(n),c=o.activities,s=c.indexOf(r),l=s>0?c[s-1]:null,r&&a[r]){e.next=9;break}return e.next=9,sc(t);case 9:l&&zo(t,i,l);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),uc=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.state,r=n.viewActivityOptions.activitySetId,a=Qt(n),i=a.activities,o=i[0],zo(t,r,o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function dc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dc(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vc=function(){var e=a()(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={playerStatus:q.multiStepScoreScreenActive,seenMultiStepCoverScreen:!1,seenMultiStepScoreScreen:!1,resetMultiStepActivitySet:!1,showingMultiStepAnswers:!1},Mo(t),!(ze(t)||t.answersCameFromGradebook||t.showingMultiStepAnswers)){e.next=4;break}return e.abrupt("return",n);case 4:return r=t.activitySetStartTime||0,t.durationInSeconds=Jr(r),e.next=8,zr(t);case 8:return e.next=10,Wr(t);case 10:return e.abrupt("return",pc(pc({},n),{},{durationInSeconds:t.durationInSeconds}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fc=function(){var e=a()(u.a.mark((function e(t,n){var r,a,i,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.state,a=r.viewActivityOptions.activitySetId,i=Qt(r),o=i.activities,c=o.indexOf(n),c>-1&&zo(t,a,n);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),yc=function(e){var t=Re(e),n=ze(e);return t?n?q.multiStepScoreScreenActive:q.multiStepCoverScreenActive:e.resetMultiStepActivitySet||e.showingMultiStepAnswers?q.multiStepScoreScreenActive:q.multiStepCoverScreenActive},mc=function(){var e=a()(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,r=yc(n),e.next=4,new Promise((function(e){return t.setState({answersByActivity:{},partialAnswersByActivity:{},playerStatus:r,seenMultiStepScoreScreen:!1,seenMultiStepCoverScreen:!1,resetMultiStepActivitySet:!1,showingMultiStepAnswers:!1},e)}));case 4:return e.next=6,$i(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),hc=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rcfPlayerOptions.contentWebviewWindow,r=Ve(t),a=r.answers,i=n.RCF,(i.Application.setOpenGradableMode||i.Application.setActivityMode)("leaveTeacherFeedback",a||{}),e.abrupt("return");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),bc=function(e){return dt(e)?{fontSizeControl:{buttonActive:!e.fontSizeControl.buttonActive,currentFontSize:e.fontSizeControl.currentFontSize}}:{}},wc=function(e,t){return Bo(t),{fontSizeControl:{buttonActive:e.fontSizeControl.buttonActive,currentFontSize:t}}},gc=function(){var e=a()(u.a.mark((function e(t){var n,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,r=oa(n),st(n),e.next=5,t.setState({hideShowAnswersRevealButton:!1});case 5:if(r!==I.story){e.next=15;break}return e.next=8,t.setState({storyDone:!0});case 8:if(!(n.seenLastStoryPage||null!==(a=n.storyStatus)&&void 0!==a&&a.isLastPage)){e.next=11;break}return e.next=11,za(t);case 11:return e.next=13,t.setState({seenLastStoryPage:!1,storyDone:!1,storyStatus:void 0});case 13:e.next=17;break;case 15:return e.next=17,za(t);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Sc=function(e){var t=e.rcfPlayerOptions.contentWebviewWindow.RCF;t&&"function"==typeof t.Application.resize&&t.Application.resize()};function _c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_c(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ac,Bc,Ec,xc,Oc=function(){function e(t,n){o()(this,e),this.rcfContentWindow=t,this.errorHandler=n,this.onSetAnswersForActivitySet=this.onSetAnswersForActivitySet.bind(this),this.onGetAnswersForActivitySet=this.onGetAnswersForActivitySet.bind(this),this.onShowAll=this.onShowAll.bind(this),this.onShowOneByOne=this.onShowOneByOne.bind(this),this.onRevealShowAnswers=this.onRevealShowAnswers.bind(this),this.onRequestToggleWindowSize=this.onRequestToggleWindowSize.bind(this),this.onCloseScoreCard=this.onCloseScoreCard.bind(this),this.onCloseWindow=this.onCloseWindow.bind(this),this.onCloseTimedPlaylistWindow=this.onCloseTimedPlaylistWindow.bind(this),this.onItemBasedNext=this.onItemBasedNext.bind(this),this.onItemBasedPrevious=this.onItemBasedPrevious.bind(this),this.onResetActivity=this.onResetActivity.bind(this),this.onTryAgain=this.onTryAgain.bind(this),this.onInitialize=this.onInitialize.bind(this),this.onQueueActivity=this.onQueueActivity.bind(this),this.onProcessViewActivityQueue=this.onProcessViewActivityQueue.bind(this),this.onNextActivitySet=this.onNextActivitySet.bind(this),this.onPreviousActivitySet=this.onPreviousActivitySet.bind(this),this.onItemBasedStart=this.onItemBasedStart.bind(this),this.onItemBasedFinish=this.onItemBasedFinish.bind(this),this.onPlaylistComplete=this.onPlaylistComplete.bind(this),this.onSetActivityVisibility=this.onSetActivityVisibility.bind(this),this.onToggleToUserAnswers=this.onToggleToUserAnswers.bind(this),this.onToggleToCorrectAnswers=this.onToggleToCorrectAnswers.bind(this),this.onSubmitAnswers=this.onSubmitAnswers.bind(this),this.onSetScrolling=this.onSetScrolling.bind(this),this.onItemBasedTimeout=this.onItemBasedTimeout.bind(this),this.onStoryDone=this.onStoryDone.bind(this),this.onControlsBarCreation=this.onControlsBarCreation.bind(this),this.onScoreCardCreation=this.onScoreCardCreation.bind(this),this.onMultiStepStart=this.onMultiStepStart.bind(this),this.onMultiStepShowAnswers=this.onMultiStepShowAnswers.bind(this),this.onMultiStepNextActivity=this.onMultiStepNextActivity.bind(this),this.onMultiStepPreviousActivity=this.onMultiStepPreviousActivity.bind(this),this.onMultiStepSubmit=this.onMultiStepSubmit.bind(this),this.onMultiStepReset=this.onMultiStepReset.bind(this),this.onOpenAnsweredMultiStepActivity=this.onOpenAnsweredMultiStepActivity.bind(this),this.onMultiStepBackButton=this.onMultiStepBackButton.bind(this),this.onTimedPlaylistFinish=this.onTimedPlaylistFinish.bind(this),this.onTimedPlaylistComplete=this.onTimedPlaylistComplete.bind(this),this.onTimedPlaylistTimeout=this.onTimedPlaylistTimeout.bind(this),this.onTimedPlaylistNextActivitySet=this.onTimedPlaylistNextActivitySet.bind(this),this.onTimedPlaylistPreviousActivitySet=this.onTimedPlaylistPreviousActivitySet.bind(this),this.onGotoTimedPlaylistActivitySet=this.onGotoTimedPlaylistActivitySet.bind(this),this.onResetTimer=this.onResetTimer.bind(this),this.onEditTeacherOpenGradableFeedback=this.onEditTeacherOpenGradableFeedback.bind(this),this.onToggleFontSizeContolMenu=this.onToggleFontSizeContolMenu.bind(this),this.onChangeFontSize=this.onChangeFontSize.bind(this)}var t,n,r,i,c,l,d,p,v,f,y,m,h,b,w,g,S,_,C,A,B,E,x,O,k,T,j,M,N,I,F,D,R,W,z,G,H,V,U,Z,K;return s()(e,[{key:"onSetAnswersForActivitySet",value:(K=a()(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(this.rcfContentWindow.state);case 3:t=e.sent,this.rcfContentWindow.setState(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.errorHandler(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return K.apply(this,arguments)})},{key:"onGetAnswersForActivitySet",value:(Z=a()(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L(this.rcfContentWindow.state);case 3:t=e.sent,this.rcfContentWindow.setState(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.errorHandler(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return Z.apply(this,arguments)})},{key:"onCloseWindow",value:(U=a()(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jn(this.rcfContentWindow.state);case 3:t=e.sent,this.rcfContentWindow.setState(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.errorHandler(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return U.apply(this,arguments)})},{key:"onCloseTimedPlaylistWindow",value:(V=a()(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,za(this.rcfContentWindow);case 3:return e.next=5,jn(this.rcfContentWindow.state);case 5:t=e.sent,this.rcfContentWindow.setState(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.errorHandler(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(){return V.apply(this,arguments)})},{key:"onRequestToggleWindowSize",value:(H=a()(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bt(this.rcfContentWindow.state);case 3:t=e.sent,this.rcfContentWindow.setState(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.errorHandler(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return H.apply(this,arguments)})},{key:"onShowAll",value:(G=a()(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pt(this.rcfContentWindow.state);case 3:return t=e.sent,this.rcfContentWindow.setState(t),e.next=7,Yo(this.rcfContentWindow);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.errorHandler(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(){return G.apply(this,arguments)})},{key:"onShowOneByOne",value:(z=a()(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ft(this.rcfContentWindow.state);case 3:t=e.sent,this.rcfContentWindow.setState(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.errorHandler(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return z.apply(this,arguments)})},{key:"onRevealShowAnswers",value:(W=a()(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yt(this.rcfContentWindow.state);case 3:t=e.sent,this.rcfContentWindow.setState(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.errorHandler(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return W.apply(this,arguments)})},{key:"onItemBasedNext",value:(R=a()(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,On(this.rcfContentWindow.state);case 3:t=e.sent,this.rcfContentWindow.setState(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.errorHandler(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return R.apply(this,arguments)})},{key:"onItemBasedPrevious",value:(D=a()(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,kn(this.rcfContentWindow.state);case 3:t=e.sent,this.rcfContentWindow.setState(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.errorHandler(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return D.apply(this,arguments)})},{key:"onResetActivity",value:(F=a()(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ir(this.rcfContentWindow.state);case 3:t=e.sent,this.rcfContentWindow.setState(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.errorHandler(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return F.apply(this,arguments)})},{key:"onTryAgain",value:(I=a()(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sr(this.rcfContentWindow.state);case 3:t=e.sent,this.rcfContentWindow.setState(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.errorHandler(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return I.apply(this,arguments)})},{key:"onInitialize",value:(N=a()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ko(this.rcfContentWindow);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),this.errorHandler(e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(){return N.apply(this,arguments)})},{key:"onItemBasedStart",value:(M=a()(u.a.mark((function e(){var t,n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.onResetTimer();case 3:return e.next=5,Lo(this.rcfContentWindow.state);case 5:return t=e.sent,e.next=8,new Promise((function(e){return n.rcfContentWindow.setState(t,e)}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.errorHandler(e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(){return M.apply(this,arguments)})},{key:"onResetTimer",value:(j=a()(u.a.mark((function e(){var t=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e){t.rcfContentWindow.setState({resetItemBasedTimer:!0},e)}));case 3:return e.next=5,new Promise((function(e){t.rcfContentWindow.setState({resetItemBasedTimer:!1},e)}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.errorHandler(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return j.apply(this,arguments)})},{key:"onItemBasedFinish",value:(T=a()(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Do(this.rcfContentWindow.state);case 3:t=e.sent,this.rcfContentWindow.setState(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.errorHandler(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return T.apply(this,arguments)})},{key:"onPlaylistComplete",value:(k=a()(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mn(this.rcfContentWindow.state);case 3:t=e.sent,this.rcfContentWindow.setState(t),this.onCloseWindow(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.errorHandler(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(){return k.apply(this,arguments)})},{key:"onProcessViewActivityQueue",value:function(){try{$a(this.rcfContentWindow)}catch(e){this.errorHandler(e)}}},{key:"onQueueActivity",value:function(e){try{To(this.rcfContentWindow,e)}catch(e){this.errorHandler(e)}}},{key:"onNextActivitySet",value:(O=a()(u.a.mark((function e(){var t,n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Cc(Cc({},this.rcfContentWindow.state),{},{seenMultiStepCoverScreen:!1,seenMultiStepScoreScreen:!1,hideShowAnswersRevealButton:!1}),e.next=4,new Promise((function(e){return n.rcfContentWindow.setState(t,e)}));case 4:Go(this.rcfContentWindow),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.errorHandler(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return O.apply(this,arguments)})},{key:"onPreviousActivitySet",value:(x=a()(u.a.mark((function e(){var t,n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Cc(Cc({},this.rcfContentWindow.state),{},{seenMultiStepCoverScreen:!1,seenMultiStepScoreScreen:!1,hideShowAnswersRevealButton:!1}),e.next=4,new Promise((function(e){return n.rcfContentWindow.setState(t,e)}));case 4:Ho(this.rcfContentWindow),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.errorHandler(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return x.apply(this,arguments)})},{key:"onCloseScoreCard",value:function(){try{var e=Tn();this.rcfContentWindow.setState(e)}catch(e){this.errorHandler(e)}}},{key:"onSetActivityVisibility",value:(E=a()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qo(this.rcfContentWindow,t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),this.errorHandler(e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(e){return E.apply(this,arguments)})},{key:"onToggleToUserAnswers",value:(B=a()(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ei(this.rcfContentWindow.state);case 3:t=e.sent,this.rcfContentWindow.setState(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.errorHandler(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return B.apply(this,arguments)})},{key:"onToggleToCorrectAnswers",value:(A=a()(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Uo(this.rcfContentWindow.state);case 3:t=e.sent,this.rcfContentWindow.setState(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.errorHandler(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return A.apply(this,arguments)})},{key:"onSubmitAnswers",value:(C=a()(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,za(this.rcfContentWindow);case 3:return e.next=5,Yo(this.rcfContentWindow);case 5:t=Cc(Cc({},this.rcfContentWindow.state),{},{storyDone:!1,editingTeacherOpenGradableFeedback:!1}),this.rcfContentWindow.setState(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.errorHandler(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(){return C.apply(this,arguments)})},{key:"onSetScrolling",value:function(e){try{this.rcfContentWindow.setState(e)}catch(e){this.errorHandler(e)}}},{key:"onItemBasedTimeout",value:(_=a()(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=$o(this.rcfContentWindow.state),e.next=4,Do(t);case 4:n=e.sent,this.rcfContentWindow.setState(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.errorHandler(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(){return _.apply(this,arguments)})},{key:"onStoryDone",value:(S=a()(u.a.mark((function e(){var t,n,r=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.rcfContentWindow.state,n=Cc(Cc({},t),{},{storyDone:!0}),st(t),e.next=6,new Promise((function(e){return r.rcfContentWindow.setState(n,e)}));case 6:return e.next=8,za(this.rcfContentWindow);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.errorHandler(e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(){return S.apply(this,arguments)})},{key:"onControlsBarCreation",value:function(e){try{this.rcfContentWindow.state.hasControlsBar!==e&&this.rcfContentWindow.setState({hasControlsBar:e})}catch(e){this.errorHandler(e)}}},{key:"onScoreCardCreation",value:function(e){try{this.rcfContentWindow.state.hasScoreCard!==e&&this.rcfContentWindow.setState({hasScoreCard:e})}catch(e){this.errorHandler(e)}}},{key:"onMultiStepStart",value:(g=a()(u.a.mark((function e(){var t,n,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Qt(this.rcfContentWindow.state),n=t.activities,r=n[0],e.prev=2,e.next=5,fc(this.rcfContentWindow,r);case 5:return e.next=7,ac(this.rcfContentWindow.state);case 7:a=e.sent,this.rcfContentWindow.setState(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),this.errorHandler(e.t0);case 14:case"end":return e.stop()}}),e,this,[[2,11]])}))),function(){return g.apply(this,arguments)})},{key:"onMultiStepNextActivity",value:(w=a()(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ic(this.rcfContentWindow);case 3:t={hideShowAnswersRevealButton:!1},this.rcfContentWindow.setState(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.errorHandler(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return w.apply(this,arguments)})},{key:"onMultiStepPreviousActivity",value:(b=a()(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lc(this.rcfContentWindow);case 3:t={hideShowAnswersRevealButton:!1},this.rcfContentWindow.setState(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.errorHandler(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return b.apply(this,arguments)})},{key:"onMultiStepSubmit",value:(h=a()(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.rcfContentWindow.state,e.prev=1,e.next=4,vc(t);case 4:n=e.sent,this.rcfContentWindow.setState(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.errorHandler(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(){return h.apply(this,arguments)})},{key:"onMultiStepShowAnswers",value:(m=a()(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,uc(this.rcfContentWindow);case 3:return e.next=5,ac(this.rcfContentWindow.state);case 5:t=e.sent,this.rcfContentWindow.setState(Cc(Cc({},t),{},{seenMultiStepScoreScreen:!0,showingMultiStepAnswers:!0})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.errorHandler(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(){return m.apply(this,arguments)})},{key:"onMultiStepReset",value:(y=a()(u.a.mark((function e(){var t,n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e){return n.rcfContentWindow.setState({answersByActivity:{},partialAnswersByActivity:{},resetMultiStepActivitySet:!0,showingMultiStepAnswers:!1},e)}));case 3:return e.next=5,uc(this.rcfContentWindow);case 5:return e.next=7,ac(this.rcfContentWindow.state);case 7:t=e.sent,this.rcfContentWindow.setState(Cc(Cc({},t),{},{seenMultiStepScoreScreen:!0})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),this.errorHandler(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])}))),function(){return y.apply(this,arguments)})},{key:"onOpenAnsweredMultiStepActivity",value:(f=a()(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fc(this.rcfContentWindow,t);case 3:return e.next=5,ac(this.rcfContentWindow.state);case 5:n=e.sent,this.rcfContentWindow.setState(Cc(Cc({},n),{},{showingMultiStepAnswers:!0,seenMultiStepScoreScreen:!0})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.errorHandler(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])}))),function(e){return f.apply(this,arguments)})},{key:"onMultiStepBackButton",value:(v=a()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mc(this.rcfContentWindow);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),this.errorHandler(e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(){return v.apply(this,arguments)})},{key:"onTimedPlaylistNextActivitySet",value:(p=a()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gc(this.rcfContentWindow);case 3:Go(this.rcfContentWindow),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),this.errorHandler(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(){return p.apply(this,arguments)})},{key:"onTimedPlaylistPreviousActivitySet",value:(d=a()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gc(this.rcfContentWindow);case 3:Ho(this.rcfContentWindow),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),this.errorHandler(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(){return d.apply(this,arguments)})},{key:"onTimedPlaylistFinish",value:(l=a()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gc(this.rcfContentWindow);case 3:this.rcfContentWindow.setState({playerStatus:q.timedPlaylistFinishScreenActive}),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("an error happened setting the asessment finish",e.t0),this.errorHandler(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(){return l.apply(this,arguments)})},{key:"onTimedPlaylistComplete",value:(c=a()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gc(this.rcfContentWindow);case 3:return e.next=5,Mn(this.rcfContentWindow.state);case 5:this.rcfContentWindow.setState({playerStatus:q.timedPlaylistCompleteScreenActive,timedPlaylistInProgress:!1}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("an error happened setting the timed playlist complete",e.t0),this.errorHandler(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(){return c.apply(this,arguments)})},{key:"onTimedPlaylistTimeout",value:(i=a()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gc(this.rcfContentWindow);case 3:return e.next=5,Mn(this.rcfContentWindow.state);case 5:this.rcfContentWindow.setState({playerStatus:q.timedPlaylistTimeoutScreenActive,timedPlaylistInProgress:!1}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("an error happened setting the timed playlist timeout !",e.t0),this.errorHandler(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(){return i.apply(this,arguments)})},{key:"onGotoTimedPlaylistActivitySet",value:(r=a()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gc(this.rcfContentWindow);case 3:Vo(this.rcfContentWindow,t),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),this.errorHandler(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(e){return r.apply(this,arguments)})},{key:"onEditTeacherOpenGradableFeedback",value:(n=a()(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.rcfContentWindow.state,e.next=3,hc(t);case 3:n=Tn(),this.rcfContentWindow.setState(Cc(Cc({},n),{},{editingTeacherOpenGradableFeedback:!0,readOnly:!1}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"onToggleFontSizeContolMenu",value:function(){var e=this.rcfContentWindow.state,t=bc(e);this.rcfContentWindow.setState(Cc({},t))}},{key:"onChangeFontSize",value:(t=a()(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.rcfContentWindow.state,r=wc(n,t),e.next=4,this.rcfContentWindow.setState(Cc({},r));case 4:Sc(n);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),Pc=Oc,kc=function(e){return e.gameStatus!==U.playing||!nn(e)},Tc=function(e){var t=e.answersByActivity,n=e.activityId,r=e.storyStatus,a=e.storyDone,i=e.seenLastStoryPage,o=r||{},c=o.isCoverPage,s=o.isLastPage;if(a)return!0;if(!s&&!c)return!1;var l=Ve(e).activityMode,u=n&&t[n];if(s){if(l===Be.storyReading)return!0;if(u&&ze(e))return!0}if(c){if(Re(e))return!0;if(Ke(e)){if(u)return!0;if(i&&l===Be.storyReading)return!0}}return!1},Lc=function(e){return!!ln(e)||(!!_n(e)||(!!bn(e)||!!wn(e)))},jc=function(e){return!(!Xt(e)||!Lc(e))||e.playerStatus===q.itemScoreScreenActive},Mc=function(e){var t=e.gameStatus;return!![U.startScreen,U.playing,U.endScreen].includes(t)},Nc=function(e){return(ri(e)||De(e))&&Ke(e)},Ic=[q.itemScoreScreenActive,q.multiStepCoverScreenActive,q.multiStepScoreScreenActive],Fc=function(e){var t=Ve(e).activity.gradableType;return!Ic.includes(e.playerStatus)&&(t!==I.nonGradable&&(Nc(e)&&e.showingAnswers===z))},Dc=function(e){return er(e)===R.submitOpenGradable},Rc=function(e){var t=Ve(e);return ta(e,t)&&Dc(t)},Wc=function(e){return ea(e)||Ha(e)},zc=function(e){var t=e.viewActivityOptions.playList,n=e.editingTeacherOpenGradableFeedback,r=e.playerStatus;if(n)return!1;var a=Ve(e).activity.gradableType;if(!t)return!1;if(!fe.includes(r))return!1;if(r===q.noAttemptAvailable)return!0;if(tn(e)){var i=cn(e),o=sn(e);if(Re(e)){if(i||o)return!0}else if((Nc(e)||ze(e))&&i)return!0;return!1}if(a===I.story)return Tc(e);if(Fc(e))return!1;if(Rc(e))return!1;if(a===I.itemBased){if(!jc(e))return!1}else if(a===I.nonGradable){if(!kc(e))return!1;if(!Wc(e))return!1}else if(Mc(e)&&!kc(e))return!1;return!0},Gc=we()((function(e){if(!zc(e))return!1;if(Xt(e))return!1;var t=Qt(e),n=e.viewActivityOptions.playList;if(n&&(n.ids.length>0&&t.nextActivitySetId))return!1;return!0})),Hc=function(){return E.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true",role:"img",width:"24",height:"24",viewBox:"0 0 24 24"},E.a.createElement("path",{d:"M15 12.1c0-.2-.1-.4-.2-.6l-5-7c-.3-.5-.9-.6-1.4-.2-.5.3-.6.9-.2 1.4l4.6 6.4-4.6 6.4c-.3.4-.2 1.1.2 1.4.4.3 1.1.2 1.4-.2l5-7c.1-.2.2-.4.2-.6"}))},Vc=function(e){var t=e.actions.onPlaylistComplete,n=E.a.useContext(an).state,r=Object(v.useTranslation)().t;return Gc(n)?E.a.createElement("button",{className:"".concat(Ht.a.endPlaylistButton," ").concat(Ht.a.standardButton),type:"button",tabIndex:"0","aria-controls":"activity","aria-label":r("controls.navigation.endPlaylistButton.ariaLabel"),onClick:t,key:"end-playlist-button","data-player-control":"end-playlist-button"},E.a.createElement("span",null,r("controls.navigation.endPlaylistButton.caption"))," ",E.a.createElement(Hc,null)):null},qc=function(e){return!!e.apiCallInProgress},Uc=we()((function(e){if(!zc(e))return!1;var t=e.viewActivityOptions.playList,n=Qt(e);if(t&&(t.ids.length>0&&n.nextActivitySetId))return!0;return!1})),Zc=function(e){var t=e.actions.onNextActivitySet,n=E.a.useContext(an).state,r=Object(v.useTranslation)().t;if(!Uc(n))return null;if(Xt(n))return null;var a=qc(n);return E.a.createElement("button",{className:"".concat(Ht.a.nextActivitySetButton," ").concat(Ht.a.standardButton),type:"button",tabIndex:"0","aria-controls":"activity","aria-label":r("controls.navigation.nextActivitySetButton.ariaLabel"),onClick:t,key:"next-activity-set-button",disabled:a,"data-player-control":"next-activity-set-button"},E.a.createElement("span",null,r("controls.navigation.nextActivitySetButton.caption"))," ",E.a.createElement(Hc,null))},Kc=function(e){return!!Ve(e).answers},Jc=we()((function(e){var t=e.noActivityControlsRequired,n=e.gameStatus,r=e.viewActivityOptions.playList,a=e.playerStatus,i=e.showingAnswers,o=e.editingTeacherOpenGradableFeedback;if(r)return!1;if(Cn(e))return!1;var c=oa(e),s=c===I.closedGradable,l=c===I.answerKey,u=c===I.itemBased,d=a===q.itemScoreScreenActive,p=tn(e),v=a===q.multiStepScoreScreenActive;if(l&&ea(e))return!0;if(!Kc(e)){if(!ea(e))return!1;if(p)return!1;if(qa(e)&&n&&n!==U.playing)return!0}return(!s||i!==z)&&(!(u&&!d)&&(!(p&&!v)&&(!Rc(e)&&!o&&(!t||n!==U.playing))))})),Yc=function(e){return e.viewActivityOptions.hostedBy===Pe.scorm},Qc=function(e){var t=e.actions.onCloseWindow,n=E.a.useContext(an).state,r=Object(v.useTranslation)().t;return Jc(n)?E.a.createElement("button",{className:"".concat(Ht.a.endSingleActivityButton," ").concat(Ht.a.standardButton),type:"button",tabIndex:"0","aria-controls":"activity","aria-label":r("controls.navigation.endSingleActivityButton.ariaLabel"),onClick:t,key:"end-single-activity-button","data-player-control":"end-single-activity-button",disabled:Yc(n)},E.a.createElement("span",null,r("controls.navigation.endSingleActivityButton.caption"))," ",E.a.createElement(Hc,null)):null},Xc=function(e){var t=e.children,n=e.className;return B.createElement("div",{key:"navigation-control-group",className:n},t)},$c=function(e){var t=e.actions,n=Zc({actions:t}),r=Vc({actions:t}),a=[n,r,Qc({actions:t})];if(a.every((function(e){return null===e})))return null;var i=qt()(Ht.a.controls_navigation,r?Ht.a.has_endPlaylistButton:void 0,n?Ht.a.has_nextActivitySetButton:void 0);return B.createElement(Xc,{className:i,key:"navigation-control-group"},a)},es=function(){return E.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true",role:"img",width:"24",height:"24",viewBox:"0 0 24 24","aria-labelledby":"titleResetButton descResetButton"},E.a.createElement("aria-title",{id:"titleResetButton"},"Reset"),E.a.createElement("desc",{id:"descResetButton"},"Icon"),E.a.createElement("path",{shapeRendering:"auto",d:"M12,2C9.4,2,6.9,3.1,5,4.9L4.3,2.1C4.2,1.5,3.6,1.2,3.1,1.3C2.6,1.5,2.2,2,2.4,2.6l1.2,4.8 c0.1,0.4,0.5,0.7,0.9,0.8l5,0.2c0,0,0,0,0,0c0.5,0,1-0.4,1-1c0-0.6-0.4-1-1-1L6.5,6.2C8,4.8,9.9,4,12,4c4.4,0,8,3.6,8,8 c0,0.6,0.4,1,1,1s1-0.4,1-1C22,6.5,17.5,2,12,2z"}),E.a.createElement("path",{shapeRendering:"auto",d:"M19.7,15.9l-5-0.6c-0.6-0.1-1,0.3-1.1,0.9s0.3,1,0.9,1.1l3.1,0.4C16.1,19.2,14.1,20,12,20c-4.4,0-8-3.6-8-8 c0-0.6-0.4-1-1-1s-1,0.4-1,1c0,5.5,4.5,10,10,10c2.6,0,5-1,6.9-2.8l0.5,2.8c0.1,0.5,0.5,0.8,1,0.8c0.1,0,0.1,0,0.2,0 c0.5-0.1,0.9-0.6,0.8-1.1l-0.8-4.9C20.5,16.3,20.1,16,19.7,15.9z"}))},ts=function(e){var t=e.actions.onResetActivity,n=e.enableButton,r=Object(v.useTranslation)().t;return E.a.createElement("button",{className:"".concat(Ht.a.resetActivityButton," ").concat(Ht.a.standardIcon),type:"button",tabIndex:"0","aria-label":r("controls.reset.resetActivityButton.ariaLabel"),"aria-controls":"activity",onClick:t,key:"reset-activity-button","data-player-control":"reset-activity-button",disabled:!n},E.a.createElement(es,null))},ns=function(e){var t=e.children,n=e.className;return B.createElement("div",{key:"reset-control-group",className:n},t)},rs=function(e){var t=e.gameStatus;return!Re(e)||t!==U.playing||!nn(e)},as=function(e){return!!dt(e)&&(!ze(e)&&(!(Mc(e)&&!rs(e))&&(!Ke(e)&&!Dn(e))))},is=as,os=function(e){return!0},cs=function(e){var t=e.actions,n=E.a.useContext(an).state;if(!is(n))return null;var r=qt()(Ht.a.controls_reset,Ht.a.has_resetActivityButton);return E.a.createElement(ns,{className:r,key:"reset-control-group"},E.a.createElement(ts,{actions:t,enableButton:os(n)}))},ss=function(){var e=E.a.useContext(an).state,t=Object(v.useTranslation)().t,n=Ve(e).activity.gradableType;return dt(e)&&se.includes(n)?nn(e)||Ke(e)||ze(e)?null:E.a.createElement("div",{"data-player-control":"show-answers-text",key:"show-answers-text",className:Ht.a.showAnswers_Text},t("controls.showAnswers.showAnswersTextLabel.label")):null},ls=[z,H],us=[].concat(ls,[G]),ds=[I.closedGradable,I.story],ps=we()((function(e){var t=e.showingAnswers,n=Ve(e).activity.gradableType;return(ds.includes(n)?us:ls).includes(t)})),vs=we()((function(e){var t=e.activity.numberOfOneByOneAnswers;return Boolean(t&&t>1)})),fs=function(e){var t=Ve(e),n=t.activity.gradableType,r=t.perfectScore,a=e.showingAnswers,i=ps(e),o=vs(t);return n===I.closedGradable?a===H?i&&o:i&&o&&!r:n===I.answerKey&&(i&&o)},ys=function(e){if(!dt(e))return!1;if(ze(e))return!1;if(Nc(e))return!1;if(sn(e)||cn(e))return!1;if(Ke(e)&&Xt(e))return!1;if(nn(e))return!1;var t=Ve(e).activity.gradableType;return!!le.includes(t)},ms=function(e){var t=e.actions.onShowOneByOne,n=E.a.useContext(an).state,r=Object(v.useTranslation)().t;if(!ys(n))return null;var a=fs(n);return E.a.createElement("button",{className:"".concat(Ht.a.showOneByOneButton," ").concat(Ht.a.standardButton),tabIndex:"0",type:"button","aria-controls":"activity","aria-label":r("controls.showAnswers.showOneByOneButton.ariaLabel"),onClick:t,disabled:!a,"data-player-control":"show-one-by-one-button",key:"show-one-by-one-button"},E.a.createElement("span",null,r("controls.showAnswers.showOneByOneButton.largeCaption")),E.a.createElement("span",null,r("controls.showAnswers.showOneByOneButton.smallerCaption")))},hs=function(e){return ri(e)&&ea(e)},bs=function(e){return Ve(e).activityMode===Be.practice&&Ke(e)},ws=function(e,t){return!!St(e)||e.showingAnswers!==V&&(ps(e),!0)},gs=function(e,t){return!e.userAnswersToggle&&(e.showingAnswers===G&&!(!ps(e)&&t))},Ss=function(e){return Ve(e).activityMode===Be.test},_s=function(e){return!St(e)&&!Ss(e)},Cs=function(e,t,n){return hs(e)?ws(e,n):bs(e)?gs(e,n):!Nc(e)||_s(e)},As=function(e){var t,n,r,a=e.viewActivityOptions.activitySetId;return null===(t=e.viewActivityOptions.playList)||void 0===t||null===(n=t.activitySets)||void 0===n||null===(r=n[a])||void 0===r?void 0:r.playerOverrides},Bs=function(e){return e.viewActivityOptions.playerOverrides||{hideCorrectAnswers:!1,hideTryAgain:!1}},Es=function(e){if(!Ke(e))return{hideCorrectAnswers:!1,hideTryAgain:!1};var t=As(e);return t||Bs(e)},xs=function(e){var t=Es(e);if(t.hideCorrectAnswers)return!1;var n=t.hideTryAgain?1:3,r=Ve(e).answers;return!!(r&&r.attempts&&r.attempts>=n)},Os=we()((function(e){return e.showingAnswers===V})),Ps=function(e,t,n){return!Nc(e)||!!xs(e)&&(!Os(e)&&!n)},ks=function(e){return!!Ye(e)&&(!!e.userAnswersToggle&&(!sn(e)&&!cn(e)&&!Sn(e)))},Ts=function(e){if(!dt(e))return!1;if(ks(e))return!1;var t=Ve(e),n=t.activity.gradableType,r=t.perfectScore;if(Ke(e)&&Xt(e))return!1;if(nn(e))return!1;if(sn(e)||cn(e))return!1;if(Es(e).hideCorrectAnswers)return!1;switch(n){case I.answerKey:return!0;case I.story:return!1;case I.closedGradable:return Ps(e,n,r);case I.itemBased:return Cs(e,n,r);default:return!1}},Ls=function(e){if(ze(e))return!0;var t=Ve(e).perfectScore;if(Nc(e))return!0;var n=ps(e);return(!St(e)||!me.includes(e.showingAnswers))&&(!(t||!Dn(e))||(!(n||!hs(e)||t)||n))},js=function(e){var t=e.showingAnswers;if(ze(e))return!0;if(Nc(e))return!0;var n=Ve(e).perfectScore;return t===H?ps(e):ps(e)&&!n},Ms=function(e){if(Os(e))return!1;switch(Ve(e).activity.gradableType){case I.itemBased:return Ls(e);default:return js(e)}},Ns=function(e){var t=e.actions.onShowAll,n=E.a.useContext(an).state,r=Object(v.useTranslation)().t;if(!Ts(n))return null;var a=!Ms(n),i=Ve(n).activity.gradableType;return Re(n)&&i!==I.itemBased&&!ze(n)?E.a.createElement("button",{className:qt()(Ht.a.showAllButton,Ht.a.standardButton),tabIndex:"0",type:"button","aria-label":r("controls.showAnswers.showAllAnswersButton.ariaLabel"),"aria-controls":"activity",onClick:t,disabled:a,"data-player-control":"show-all-button",key:"show-all-button"},E.a.createElement("span",null,r("controls.showAnswers.showAllAnswersButton.caption"))):null},Is=function(e){var t=e.actions.onShowAll,n=E.a.useContext(an).state,r=Object(v.useTranslation)().t;if(!Ts(n))return null;var a=!Ms(n),i=Ve(n).activity.gradableType;return Ke(n)||i===I.itemBased||ze(n)?E.a.createElement("button",{className:qt()(Ht.a.showAllItemButton,Ht.a.standardButton),tabIndex:"0",type:"button","aria-label":r("controls.showAnswers.showAnswersButton.ariaLabel"),"aria-controls":"activity",onClick:t,disabled:a,"data-player-control":"show-all-button",key:"show-all-button"},E.a.createElement("span",null,r("controls.showAnswers.showAnswersButton.caption"))):null},Fs=function(e){var t,n=e.actions,r=n.onToggleToCorrectAnswers,a=n.onToggleToUserAnswers,i=E.a.useContext(an).state,o=Object(v.useTranslation)().t;return ks(i)?i.showingAnswers===G?E.a.createElement("button",{className:qt()(Ht.a.standardButton,Ht.a.markedAnswers,Ht.a.toggleButton),onClick:r,tabIndex:"0",type:"button","aria-controls":"activity","aria-label":o("controls.showAnswers.answersToggleButton.showingUserAnswersAnswers.ariaLabel"),"data-player-control":"answers-toggle-button",key:"answers-toggle-button"},o("controls.showAnswers.answersToggleButton.showingUserAnswers.caption")):(t=Re(i)&&ze(i)?"controls.showAnswers.answersToggleButton.showingCorrectAnswers.asTeacher.caption":"controls.showAnswers.answersToggleButton.showingCorrectAnswers.asStudent.caption",E.a.createElement("button",{className:qt()(Ht.a.standardButton,Ht.a.correctAnswers,Ht.a.toggleButton),onClick:a,tabIndex:"0",type:"button","aria-controls":"activity","aria-label":o("controls.showAnswers.answersToggleButton.showingCorrectAnswers.ariaLabel"),"data-player-control":"answers-toggle-button",key:"answers-toggle-button"},o(t))):null},Ds=function(e){var t=e.children,n=e.className,r=e.showAnswersText;return B.createElement("div",{key:"show-answers-control-group",className:n},r,B.createElement("div",{className:Ht.a.showAnswers_buttons},t))},Rs=function(e){var t=e.actions.onRevealShowAnswers,n=E.a.useContext(an).state,r=Object(v.useTranslation)().t,a=n.hideShowAnswersRevealButton;if(!Ts(n)||!ys(n))return null;if(a)return null;var i=Ve(n).activity.gradableType;return Re(n)&&i!==I.itemBased&&!ze(n)?E.a.createElement("button",{className:qt()(Ht.a.showAnswersRevealButton,Ht.a.standardButton),tabIndex:"0",type:"button","aria-label":r("controls.showAnswers.showAnswersButton.ariaLabel"),"aria-controls":"activity",onClick:t,"data-player-control":"show-answers-reveal-button",key:"show-answers-reveal-button"},E.a.createElement("span",null,r("controls.showAnswers.showAnswersButton.caption"))):null},Ws=function(e){var t=e.actions,n=ss(),r=ms({actions:t}),a=Ns({actions:t}),i=Is({actions:t}),o=Fs({actions:t}),c=Rs({actions:t}),s=[c,r,a,i,o];if([n].concat(s).every((function(e){return null===e})))return null;var l=qt()(Ht.a.controls_showAnswers,n?Ht.a.has_showAnswersText:void 0,o?Ht.a.has_answersToggleButton:void 0,a?Ht.a.has_showAllButton:void 0,i?Ht.a.has_showAnswersButton:void 0,r?Ht.a.has_showOneByOneButton:void 0,c?Ht.a.has_showAnswersRevealButton:void 0);return E.a.createElement(Ds,{className:l,showAnswersText:n,key:"show-answers-control-group"},s)},zs=function(e){var t=e.controls,n=e.actionToCall,r=t.length>0;E.a.useEffect((function(){n(r)}),[r])},Gs=function(e){return e.filter((function(e){return null!==e}))},Hs=function(e){var t=e.actions,n=cs({actions:t}),r=$c({actions:t}),a=Ws({actions:t}),i=Gs([n,a,r]),o=i.length>0;if(zs({controls:i,actionToCall:t.onControlsBarCreation}),!o)return null;var c=qt()(Ht.a.controls,n?Ht.a.has_controlsReset:void 0,a?Ht.a.has_controlsShowAnswers:void 0,r?Ht.a.has_controlsNavigation:void 0);return E.a.createElement("div",{key:"controls-bar-answer-key","data-controls-bar":"true",className:c},i)},Vs=function(e){var t=e.state,n=e.actions;return E.a.createElement("div",{"data-template":"answer-key"},E.a.createElement(En,{state:t,actions:n}),E.a.createElement(Hs,{actions:n}))},qs=function(e){return e.scoreCardDismissed},Us=function(e){return e.showingAnswers===G},Zs=function(e){var t=e.viewActivityOptions.userRole;return!Xt(e)&&(!qs(e)&&(!!Us(e)&&((!tn(e)||!sn(e)&&!cn(e))&&!!t)))},Ks=function(e){return Zs(e)},Js=function(){return E.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true",role:"img",width:"24",height:"24",viewBox:"0 0 24 24","aria-labelledby":"titleCloseButton descCloseButton"},E.a.createElement("aria-title",{id:"titleCloseButton"},"Close"),E.a.createElement("desc",{id:"descCloseButton"},"icon"),E.a.createElement("path",{d:"M13.4 12l6.3-6.3c0.4-0.4 0.4-1 0-1.4 -0.4-0.4-1-0.4-1.4 0L12 10.6 5.7 4.3c-0.4-0.4-1-0.4-1.4 0 -0.4 0.4-0.4 1 0 1.4l6.3 6.3 -6.3 6.3c-0.4 0.4-0.4 1 0 1.4C4.5 19.9 4.7 20 5 20s0.5-0.1 0.7-0.3l6.3-6.3 6.3 6.3c0.2 0.2 0.5 0.3 0.7 0.3s0.5-0.1 0.7-0.3c0.4-0.4 0.4-1 0-1.4L13.4 12z"}))},Ys=function(e){var t=e.actions,n=e.children,r=Object(v.useTranslation)().t;return E.a.createElement("div",{className:Ht.a.scoreCard,"data-player-control":"score-card"},E.a.createElement("button",{className:"".concat(Ht.a.scoreCard_closeButton," ").concat(Ht.a.standardIcon),type:"button","aria-label":r("components.scoreCard.closeButton.ariaLabel"),tabIndex:"0",onClick:t.onCloseScoreCard,"data-player-control":"score-card-close",key:"score-card-close"},E.a.createElement(Js,null)),n)},Qs=function(e){var t=m.t,n=Ve(e),r=n.answers,a=n.pointsAvailable,i=n.activity.teacherPointsAvailable,o=(null==r?void 0:r.score)||0,c=(Number(a)||0)+(Number(i)||0),s=Re(e)&&ze(e)?"forTeacher":"forStudent";return t("components.scoreCard.scoreCardText.".concat(s),{score:o,maxScore:c})},Xs=function(e){var t=e.state,n=Qs(t);return E.a.createElement("div",{className:Ht.a.scoreCard_scoreText,"data-player-control":"score-card-text"},n)},$s=function(e){var t=e.actions,n=Zc({actions:t}),r=Vc({actions:t}),a=Qc({actions:t}),i=[n,r,a];if(i.every((function(e){return null===e})))return null;var o=qt()(Ht.a.controls_navigation,r?Ht.a.has_endPlaylistButton:void 0,n?Ht.a.has_nextActivitySetButton:void 0,a?Ht.a.has_endSingleActivityButton:void 0);return B.createElement(Xc,{className:o,key:"navigation-control-group"},i)},el=function(e){return e.answersCameFromGradebook&&Us(e)&&ai(e)},tl=function(e){var t=Ve(e);if(el(e))return!0;if(ze(e))return!1;if(!Us(e))return!1;if(t.perfectScore)return!1;if(Nc(e)){var n=Es(e);if(n.hideTryAgain)return!0;if(n.hideCorrectAnswers)return!0;if(xs(e))return!1}return!0},nl=function(e){var t=e.showingAnswers,n=e.storyDone,r=Ve(e);if(ze(e))return!1;if(r.activityMode===D.storyReading)return!1;if(ai(e)&&Ha(e)&&e.storyDone){if(e.answersCameFromGradebook)return!0;if(r.perfectScore)return!1}return t===G&&(!r.perfectScore&&!!n)},rl=function(e){var t=e.readOnly;return!!Ke(e)&&!(ze(e)||!t)},al=function(e){var t=Ve(e).activity.gradableType;if(tn(e))return!1;if(nn(e))return!1;if(Es(e).hideTryAgain)return!1;switch(t){case I.closedGradable:return tl(e);case I.story:return nl(e);case I.openGradable:return rl(e);default:return!1}},il=function(e){var t=Ve(e);return!!tr(t)&&"ACT_AS_RESET_ACTIVITY"},ol=function(e){return!!Ve(e).perfectScore},cl=function(e){return!el(e)||!ol(e)||"ACT_AS_RESET_ACTIVITY"},sl=function(e){return!(ai(e)&&Ha(e)&&e.answersCameFromGradebook&&ol(e))||"ACT_AS_RESET_ACTIVITY"},ll=function(e){if(e.apiCallInProgress)return!1;switch(Ve(e).activity.gradableType){case I.closedGradable:return cl(e);case I.openGradable:return il(e);case I.story:return sl(e);default:return!0}},ul=function(e){var t=e.actions,n=t.onTryAgain,r=t.onResetActivity,a=E.a.useContext(an).state,i=Object(v.useTranslation)().t;if(!al(a))return null;var o=ll(a),c=!o,s="ACT_AS_RESET_ACTIVITY"===o?r:n;return E.a.createElement("button",{className:"".concat(Ht.a.standardButton," ").concat(Ht.a.tryAgainButton),type:"button",tabIndex:"0","aria-controls":"activity","aria-label":i("controls.marking.retryButton.ariaLabel"),onClick:s,disabled:c,key:"try-again-button","data-player-control":"try-again-button"},E.a.createElement("span",null,i("controls.marking.retryButton.caption")))},dl=function(e){if(!dt(e))return!1;if(ze(e))return!1;if(nn(e))return!1;var t=Us(e);if(Ke(e)){if(t)return!1;if(xs(e))return!1}var n=Ve(e).perfectScore;return!(Re(e)&&t&&!n)},pl=function(e){if(!dt(e))return!1;if(ze(e))return!1;var t=e.storyDone,n=e.storyStatus||{},r=n.hasQuestions,a=n.isCoverPage;return!t&&(!a&&!!r)},vl=function(e){var t=Ve(e),n=t.perfectScore,r=t.activitySet.activityMode,a=e.showingAnswers;if(r===D.challenge)return!0;if(a===G||a===V){if(r===D.practice)return n||!1;if(hs(e))return!1}return a!==G||!Nc(e)||r!==D.test},fl=function(e){return!!dt(e)&&(!ze(e)&&!!vl(e))},yl=function(e){if(!dt(e))return!1;if(ze(e))return!1;var t=Ve(e).activity.gradableType;return!!ce.includes(t)&&!nn(e)},ml=function(e){if(!dt(e))return!1;if(ze(e))return!1;var t=Ve(e).activity.gradableType;return(!Xt(e)||t===I.itemBased)&&(!nn(e)&&(t===I.closedGradable?dl(e):t===I.itemBased?fl(e):t===I.story?pl(e):!!Object.values(I).includes(t)&&yl(e)))},hl=[I.itemBased,I.story],bl=function(e){if(e.apiCallInProgress)return!1;var t=Ve(e),n=t.activity.gradableType,r=t.perfectScore;return hl.includes(n)||Re(e)?!me.includes(e.showingAnswers):!r&&!ye.includes(e.showingAnswers)},wl=function(e){var t=e.actions.onSubmitAnswers,n=E.a.useContext(an).state,r=Object(v.useTranslation)().t;if(!ml(n))return null;var a=!bl(n);return E.a.createElement("button",{className:"".concat(Ht.a.checkAnswersButton," ").concat(Ht.a.standardButton),type:"button",tabIndex:"0","aria-label":r("controls.marking.checkAnswersButton.ariaLabel"),"aria-controls":"activity",onClick:t,disabled:a,key:"check-answers-button","data-player-control":"check-answers-button"},E.a.createElement("span",null,r("controls.marking.checkAnswersButton.caption")))},gl=function(e){var t=e.viewActivityOptions.userRole;return[xe.admin,xe.student].includes(t)},Sl=function(e,t){var n,r,a=t.activity.gradableType;if(!ea(e))return!1;if(!ze(e))return!1;if(a!==I.openGradable)return!1;var i=e.rcfPlayerOptions.contentWebviewWindow;return"reviewTeacherFeedback"===(null==i||null===(n=i.RCF)||void 0===n||null===(r=n.Application)||void 0===r?void 0:r.getOpenGradableMode())},_l=function(e){var t=e.readOnly;if(gl(e)&&(ze(e)||t))return!1;if(ea(e)&&!ze(e))return!1;var n=Ve(e);return(!ea(e)||!Sl(e,n))&&!Fi(e)},Cl=function(e){var t=e.readOnly;return(!Ke(e)||!ze(e)&&!t)&&!Re(e)},Al=function(e){if(!dt(e))return!1;switch(Ve(e).activity.gradableType){case I.openGradable:return _l(e);case I.openNonGradable:return Cl(e);default:return!1}},Bl=function(e){var t=e.activityId,n=e.showingMultiStepAnswers,r=e.readOnly,a=e.editingTeacherOpenGradableFeedback,i=e.answersByActivity[t];return tn(e)&&n&&!a?!(!ze(e)||!ea(e))&&!$n(i):(!Ke(e)||!i)&&(!(!ea(e)||!a)||(!ea(e)||!$n(i))&&!r)},El=function(e){var t=e.showingMultiStepAnswers,n=e.readOnly;return(!tn(e)||!t)&&!n},xl=function(e){var t=e.apiCallInProgress,n=e.readOnly;if(t)return!1;switch(Ve(e).activity.gradableType){case I.openGradable:return Bl(e);case I.openNonGradable:return El(e);default:return!n}},Ol=function(e){var t=e.actions.onSubmitAnswers,n=E.a.useContext(an).state,r=Object(v.useTranslation)().t;if(!Al(n))return null;var a=!xl(n);return E.a.createElement("button",{className:"".concat(Ht.a.submitButton," ").concat(Ht.a.standardButton),type:"button",tabIndex:"0","aria-label":r("controls.marking.submitButton.ariaLabel"),"aria-controls":"activity",onClick:t,disabled:a,key:"submit-button","data-player-control":"submit-button"},E.a.createElement("span",null,r("controls.marking.submitButton.caption")))},Pl=function(e){var t=e.children,n=e.className;return B.createElement("div",{key:"marking-control-group",className:n,"data-control-group":"marking"},t)},kl=function(e){var t=e.actions,n=wl({actions:t}),r=Ol({actions:t}),a=ul({actions:t}),i=[n,r,a];if(i.every((function(e){return null===e})))return null;var o=null==n?void 0:n.props.disabled,c=qt()(Ht.a.controls_marking,o?Ht.a.has_disabledCheckAnswersButton:void 0,n?Ht.a.has_checkAnswersButton:void 0,r?Ht.a.has_submitButton:void 0,a?Ht.a.has_tryAgainButton:void 0);return E.a.createElement(Pl,{className:c,key:"marking-control-group"},i)},Tl=function(e){var t=e.actions,n=E.a.useContext(an).state;if(!as(n))return null;var r=qt()(Ht.a.controls_reset,Ht.a.has_resetActivityButton);return E.a.createElement(ns,{className:r,key:"reset-control-group"},E.a.createElement(ts,{actions:t,enableButton:os(n)}))},Ll=function(e){var t=e.actions,n=ss(),r=ms({actions:t}),a=Ns({actions:t}),i=Is({actions:t}),o=Fs({actions:t}),c=Rs({actions:t}),s=[c,r,a,i,o];if([n].concat(s).every((function(e){return null===e})))return null;var l=qt()(Ht.a.controls_showAnswers,n?Ht.a.has_showAnswersText:void 0,o?Ht.a.has_answersToggleButton:void 0,a?Ht.a.has_showAllButton:void 0,i?Ht.a.has_showAnswersButton:void 0,r?Ht.a.has_showOneByOneButton:void 0,c?Ht.a.has_showAnswersRevealButton:void 0);return E.a.createElement(Ds,{className:l,showAnswersText:n,key:"show-answers-control-group"},s)},jl=function(e){var t=e.actions,n=Tl({actions:t}),r=kl({actions:t}),a=Ll({actions:t}),i=$s({actions:t}),o=Gs([n,r,a,i]),c=o.length>0;if(zs({controls:o,actionToCall:t.onControlsBarCreation}),!c)return null;var s=qt()(Ht.a.controls,n?Ht.a.has_controlsReset:void 0,r?Ht.a.has_controlsMarking:void 0,a?Ht.a.has_controlsShowAnswers:void 0,i?Ht.a.has_controlsNavigation:void 0);return E.a.createElement("div",{key:"controls-bar-closed-gradable","data-controls-bar":"true",className:s},o)},Ml=function(e){var t=e.hasScoreCard,n=e.actionToCall;E.a.useEffect((function(){n(t)}),[t])},Nl=function(e,t){return e?$n(e)?0===e.score?Ht.a.progressBar_wrong:e.score!==t?Ht.a.progressBar_partiallyCorrect:Ht.a.progressBar_correct:Ht.a.progressBar_pendingMarks:""},Il=function(e,t){return e&&void 0!==e.score?0===e.score?Ht.a.progressBar_wrong:e.score!==t?Ht.a.progressBar_partiallyCorrect:Ht.a.progressBar_correct:""},Fl=function(e){return e?Ht.a.progressBar_correct:""},Dl=function(e){return e?Ht.a.progressBar_correct:""},Rl=function(e,t){var n=Number(t.pointsAvailable||0)+Number(t.teacherPointsAvailable||0);switch(t.gradableType){case I.nonGradable:return Fl(e);case I.openNonGradable:return Dl(e);case I.openGradable:return Nl(e,n);case I.closedGradable:return Il(e,n);default:return""}},Wl=function(e){var t=e.state,n=t.manifestDetails,r=t.activityId,a=Qt(t).activities.map((function(e){var a=n.activities[e],i=t.answersByActivity[e],o=Rl(i,a),c=e===r,s=qt()(c?Ht.a.progressBar_active:"",o);return E.a.createElement("li",{key:e,className:s})}));return E.a.createElement(E.a.Fragment,null,a)},zl=function(e){var t=e.state,n=Object(v.useTranslation)().t,r=Wl({state:t});return E.a.createElement("ul",{"data-player-control":"multiStep-progressBar",className:Ht.a.multiStepProgressBar_progress,tabIndex:"0","aria-label":n("multiStepActivitySets.progressBar.ariaLabel")},r)},Gl=function(){return E.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true",role:"img",width:"24",height:"24",viewBox:"0 0 24 24","aria-labelledby":"titleReturnButton descReturnButton"},E.a.createElement("aria-title",{id:"titleReturnButton"},"Return arrow"),E.a.createElement("desc",{id:"descReturnButton"},"Icon"),E.a.createElement("g",{id:"UI-Style-Guide",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},E.a.createElement("g",{id:"Iconography-&-Illustration",transform:"translate(-1055.000000, -832.000000)"},E.a.createElement("rect",{fill:"#FFFFFF",x:"0",y:"0",width:"1680",height:"2431"}),E.a.createElement("rect",{id:"Rectangle",fill:"#FFFFFF",x:"826",y:"341",width:"770",height:"631"}),E.a.createElement("g",{id:"Icon",transform:"translate(1055.000000, 832.000000)",fillRule:"nonzero",stroke:"#000000",strokeLinecap:"round",strokeWidth:"2"},E.a.createElement("path",{d:"M3.2426409,10.0000348 L16.2500174,10.0000348 C18.8733604,10.0000348 21,12.1266745 21,14.7500174 C21,17.3733604 18.8733604,19.5 16.2500174,19.5 L16,19.5 L16,19.5",id:"Line"}),E.a.createElement("polyline",{id:"Line",strokeLinejoin:"round",points:"7 16 2 10.000035 7 4.00007"})))))},Hl=function(e){var t=e.actions.onMultiStepBackButton,n=Object(v.useTranslation)().t;return E.a.createElement("button",{className:"".concat(Ht.a.multiStepHeader_backButton," ").concat(Ht.a.standardIcon),type:"button",tabIndex:"0","aria-controls":"activity","aria-label":n("multiStepActivitySets.backButton.ariaLabel"),onClick:t,"data-player-control":"multi-step-back-button",key:"multi-step-back-button"},E.a.createElement(Gl,null))},Vl=function(e){var t=e.closeWindowAction,n=Object(v.useTranslation)().t;return E.a.createElement("button",{className:"".concat(Ht.a.header_closeButton," ").concat(Ht.a.standardIcon),type:"button",tabIndex:"0","aria-label":n("components.header.closeButton.ariaLabel"),onClick:t,key:"item-based-header-close-button","data-player-control":"item-based-header-close-button"},E.a.createElement(Js,null))},ql=function(){return E.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true",role:"img",width:"16",height:"16",viewBox:"0 0 16 16","aria-labelledby":"titleWindowToggle descWindowToggle"},E.a.createElement("aria-title",{id:"titleWindowToggle"},"window size toggle"),E.a.createElement("desc",{id:"descWindowToggle"},"Icon"),E.a.createElement("g",{id:"maximize",visibility:"hidden"},E.a.createElement("path",{d:"M2 7C1.4 7 1 6.6 1 6V1h5c0.6 0 1 0.4 1 1S6.6 3 6 3H3v3C3 6.6 2.6 7 2 7z"}),E.a.createElement("path",{d:"M14 7c-0.6 0-1-0.4-1-1V3h-3C9.4 3 9 2.6 9 2s0.4-1 1-1h5v5C15 6.6 14.6 7 14 7z"}),E.a.createElement("path",{d:"M15 15h-5c-0.6 0-1-0.4-1-1s0.4-1 1-1h3v-3c0-0.6 0.4-1 1-1s1 0.4 1 1V15z"}),E.a.createElement("path",{d:"M6 15H1v-5c0-0.6 0.4-1 1-1s1 0.4 1 1v3h3c0.6 0 1 0.4 1 1S6.6 15 6 15z"})),E.a.createElement("g",{id:"minimize",visibility:"hidden"},E.a.createElement("path",{d:"M1,10c0,0.6,0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1V9H2C1.4,9,1,9.4,1,10z"}),E.a.createElement("path",{d:"M15,6c0-0.6-0.4-1-1-1h-3V2c0-0.6-0.4-1-1-1S9,1.4,9,2v5h5C14.6,7,15,6.6,15,6z"}),E.a.createElement("path",{d:"M14,9H9v5c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S14.6,9,14,9z"}),E.a.createElement("path",{d:"M6,1C5.4,1,5,1.4,5,2v3H2C1.4,5,1,5.4,1,6s0.4,1,1,1h5V2C7,1.4,6.6,1,6,1z"})))},Ul=function(e){var t=e.currentDisplayType,n=e.onClick,r=Object(v.useTranslation)().t;return t===mt.fullScreen?null:E.a.createElement("button",{className:"".concat(Ht.a.titleBar_fullscreenToggleButton," ").concat(Ht.a.standardIcon),type:"button",tabIndex:"0","aria-label":r("components.titleBar.toggleWindowSizeButton.ariaLabel"),onClick:n,"data-player-control":"title-bar-request-toggle-window-size-button",key:"title-bar-request-toggle-window-size-button"},E.a.createElement(ql,null))},Zl=function(e){var t=e.state,n=e.actions;return!Yc(t)&&$t(t)?E.a.createElement("div",{className:Ht.a.header_titleBarButtons},E.a.createElement(Ul,{currentDisplayType:t.currentDisplayType,onClick:n.onRequestToggleWindowSize}),E.a.createElement(Vl,{closeWindowAction:n.onCloseWindow})):null},Kl=function(e){return!!tn(e)&&(!sn(e)&&(!cn(e)&&!!dt(e)))},Jl=function(e){return!Yc(e)&&$t(e)},Yl=function(e){var t=e.state,n=e.actions;if(!Kl(t))return null;var r=Jl(t)?Ht.a.has_titleBarButtons:null;return E.a.createElement("div",{"data-player-control":"multistep-header",className:qt()(Ht.a.multiStepHeader,r)},E.a.createElement(Hl,{state:t,actions:n}),E.a.createElement(zl,{state:t,actions:n}),E.a.createElement(Zl,{state:t,actions:n}))},Ql=function(e,t){return tn(e)?B.createElement(Yl,{state:e,actions:t}):null},Xl=function(e){return!!dt(e)&&(!!Xt(e)&&!Ke(e))},$l=function(e){var t=e.actions,n=E.a.useContext(an).state;if(!Xl(n))return null;var r=qt()(Ht.a.controls_reset,Ht.a.has_resetActivityButton);return E.a.createElement(ns,{className:r,key:"reset-control-group"},E.a.createElement(ts,{actions:t,enableButton:os(n)}))},eu=function(e){if(!e.viewActivityOptions)return!1;var t=e.viewActivityOptions.playList;return!!t&&!!t.ids&&t.ids.length>0},tu=function(e){return Lc(e)},nu=function(e){var t,n;return!(null===(t=e.storyStatus)||void 0===t||!t.isLastPage)||!(null===(n=e.storyStatus)||void 0===n||!n.isCoverPage)},ru=function(e){if(!Xt(e))return!1;if(!dt(e)&&!Lc(e))return!1;if(!eu(e))return!1;if(Qt(e).nextActivitySetId)return!1;switch(oa(e)){case I.itemBased:return tu(e);case I.story:return nu(e);default:return!0}},au=function(e){var t=e.actions.onTimedPlaylistFinish,n=E.a.useContext(an).state,r=Object(v.useTranslation)().t;return ru(n)?E.a.createElement("button",{className:"".concat(Ht.a.timedPlaylistFinishButton," ").concat(Ht.a.standardButton),type:"button",tabIndex:"0","aria-controls":"activity","aria-label":r("controls.navigation.finishTimedPlaylistButton.ariaLabel"),onClick:t,key:"timed-playlist-finish-button","data-player-control":"timed-playlist-finish-button"},E.a.createElement("span",null,r("controls.navigation.finishTimedPlaylistButton.caption"))," ",E.a.createElement(Hc,null)):null},iu=function(e){return Lc(e)},ou=function(e){var t,n;return!(null===(t=e.storyStatus)||void 0===t||!t.isLastPage)||!(null===(n=e.storyStatus)||void 0===n||!n.isCoverPage)},cu=function(e){if(!Xt(e))return!1;if(!dt(e)&&!Lc(e))return!1;if(!eu(e))return!1;if(!Qt(e).nextActivitySetId)return!1;switch(oa(e)){case I.itemBased:return iu(e);case I.story:return ou(e);default:return!0}},su=function(e){var t=e.actions.onTimedPlaylistNextActivitySet,n=E.a.useContext(an).state,r=Object(v.useTranslation)().t;return cu(n)?E.a.createElement("button",{className:"".concat(Ht.a.nextTimedPlaylistActivitySetButton," ").concat(Ht.a.standardButton),type:"button",tabIndex:"0","aria-controls":"activity","aria-label":r("controls.navigation.nextTimedPlaylistActivitySetButton.ariaLabel"),onClick:t,key:"next-timed-playlist-activity-set-button","data-player-control":"next-timed-playlist-activity-set-button"},E.a.createElement("span",null,r("controls.navigation.nextTimedPlaylistActivitySetButton.caption"))," ",E.a.createElement(Hc,null)):null},lu=function(e){var t=e.actions,n=su({actions:t}),r=au({actions:t}),a=[n,r];if(a.every((function(e){return null===e})))return null;var i=qt()(Ht.a.controls_navigation,n?Ht.a.has_nextTimedPlaylistActivitySetButton:void 0,r?Ht.a.has_timedPlaylistFinishButton:void 0);return B.createElement(Xc,{className:i,key:"navigation-control-group"},a)},uu=function(e){var t=e.actions,n=ss(),r=ms({actions:t}),a=Ns({actions:t}),i=Is({actions:t}),o=Rs({actions:t}),c=[o,r,a,i];if([n].concat(c).every((function(e){return null===e})))return null;var s=qt()(Ht.a.controls_showAnswers,a?Ht.a.has_showAllButton:void 0,i?Ht.a.has_showAnswersButton:void 0,r?Ht.a.has_showOneByOneButton:void 0,o?Ht.a.has_showAnswersRevealButton:void 0);return E.a.createElement(Ds,{className:s,showAnswersText:n,key:"show-answers-control-group"},c)},du=function(e){return Lc(e)},pu=function(e){var t,n;return!(null===(t=e.storyStatus)||void 0===t||!t.isLastPage)||!(null===(n=e.storyStatus)||void 0===n||!n.isCoverPage)},vu=function(e){if(!Xt(e))return!1;if(!dt(e)&&!Lc(e))return!1;if(!eu(e))return!1;if(!Qt(e).previousActivitySetId)return!1;switch(oa(e)){case I.itemBased:return du(e);case I.story:return pu(e);default:return!0}},fu=function(){return E.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true",role:"img",width:"24",height:"24",viewBox:"0 0 24 24","aria-labelledby":"titlePreviousButton descPreviousButton"},E.a.createElement("aria-title",{id:"titlePreviousButton"},"Previous arrow"),E.a.createElement("desc",{id:"descPreviousButton"},"Icon"),E.a.createElement("path",{d:"M8 12c0 0.2 0.1 0.4 0.2 0.6l5 7c0.3 0.5 0.9 0.6 1.4 0.2 0.5-0.3 0.6-0.9 0.2-1.4L10.2 12l4.6-6.4c0.3-0.4 0.2-1.1-0.2-1.4 -0.4-0.3-1.1-0.2-1.4 0.2l-5 7C8.1 11.6 8 11.8 8 12"}))},yu=function(e){var t=e.actions.onTimedPlaylistPreviousActivitySet,n=E.a.useContext(an).state,r=Object(v.useTranslation)().t;return vu(n)?E.a.createElement("button",{className:"".concat(Ht.a.previousTimedPlaylistActivitySetButton," ").concat(Ht.a.standardButton),type:"button",tabIndex:"0","aria-controls":"activity","aria-label":r("controls.navigation.previousTimedPlaylistActivitySetButton.ariaLabel"),onClick:t,key:"previous-timed-playlist-activity-set-button","data-player-control":"previous-timed-playlist-activity-set-button"},E.a.createElement(fu,null)," ",E.a.createElement("span",null,r("controls.navigation.previousTimedPlaylistActivitySetButton.caption"))):null},mu=function(e){var t=e.actions,n=yu({actions:t}),r=[n];if(r.every((function(e){return null===e})))return null;var a=qt()(Ht.a.controls_navigation,Ht.a.is_leftSide,n?Ht.a.has_previousTimedPlaylistActivitySetButton:void 0);return B.createElement(Xc,{className:a,key:"navigation-control-group-left"},r)},hu=function(e){var t=e.actions,n=$l({actions:t}),r=mu({actions:t}),a=uu({actions:t}),i=lu({actions:t}),o=Gs([n,r,a,i]),c=o.length>0;if(zs({controls:o,actionToCall:t.onControlsBarCreation}),!c)return null;var s=qt()(Ht.a.controls,n?Ht.a.has_controlsReset:null,a?Ht.a.has_controlsShowAnswers:void 0,i?Ht.a.has_controlsNavigation:void 0);return E.a.createElement("div",{key:"controls-bar-assessment","data-controls-bar":"true",className:s},o)},bu=function(e,t){return e.activities.some((function(e){var n=t.activities[e];return n&&n.gradableType===I.openGradable}))},wu=function(e){var t=Qt(e).activities,n=e.manifestDetails;return t.filter((function(e){var t=n.activities[e];return!!t&&t.gradableType===I.openGradable})).every((function(t){var n=e.answersByActivity[t];return!!n&&$n(n)}))},gu=function(e){var t=e.actions.onMultiStepReset,n=E.a.useContext(an).state,r=Object(v.useTranslation)().t,a=Qt(n),i=n.manifestDetails,o=!1;return Ke(n)&&bu(a,i)&&(wu(n)||(o=!0)),E.a.createElement("button",{className:"".concat(Ht.a.standardButton," ").concat(Ht.a.tryAgainButton),disabled:o,type:"button",tabIndex:"0","aria-controls":"activity","aria-label":r("controls.reset.multiStepResetButton.ariaLabel"),onClick:t,key:"reset-multistep-button","data-player-control":"reset-multistep-button"},E.a.createElement("span",null,r("controls.reset.multiStepResetButton.caption")))},Su=function(e){return!!tn(e)&&(!!cn(e)&&(!ze(e)&&!Es(e).hideTryAgain))},_u=function(e){var t=e.actions,n=E.a.useContext(an).state;if(!Su(n))return null;var r=qt()(Ht.a.controls_reset,Ht.a.has_multiStepResetActivityButton,Ht.a.has_tryAgainButton);return E.a.createElement(ns,{key:"reset-control-group",className:r},E.a.createElement(gu,{actions:t}))},Cu=function(e){return!!tn(e)&&!!cn(e)},Au=function(e){var t=e.actions.onMultiStepShowAnswers,n=E.a.useContext(an).state,r=Object(v.useTranslation)().t;return Cu(n)?E.a.createElement("button",{className:qt()(Ht.a.showAllItemButton,Ht.a.standardButton),tabIndex:"0",type:"button","aria-label":r("controls.showAnswers.multiStepShowAnswersButton.ariaLabel"),"aria-controls":"activity",onClick:t,disabled:!1,"data-player-control":"show-multi-step-button",key:"show-multi-step-answers-button"},E.a.createElement("span",null,r("controls.showAnswers.multiStepShowAnswersButton.caption"))):null},Bu=function(e){var t=e.actions,n=ss(),r=ms({actions:t}),a=Ns({actions:t}),i=Is({actions:t}),o=Fs({actions:t}),c=Au({actions:t}),s=Rs({actions:t}),l=[s,r,a,i,c,o];if([n].concat(l).every((function(e){return null===e})))return null;var u=qt()(Ht.a.controls_showAnswers,n?Ht.a.has_showAnswersText:void 0,o?Ht.a.has_answersToggleButton:void 0,a?Ht.a.has_showAllButton:void 0,i?Ht.a.has_showAnswersButton:void 0,r?Ht.a.has_showOneByOneButton:void 0,c?Ht.a.has_showAnswersButton:void 0,s?Ht.a.has_showAnswersRevealButton:void 0);return E.a.createElement(Ds,{className:u,showAnswersText:n,key:"show-answers-control-group"},l)},Eu=function(e){return!!tn(e)&&!!sn(e)},xu=function(e){var t=e.actions.onMultiStepStart,n=E.a.useContext(an).state,r=Object(v.useTranslation)().t;return Eu(n)?E.a.createElement("button",{className:"".concat(Ht.a.standardButton,"  ").concat(Ht.a.multiStepStartButton),type:"button",tabIndex:"0","aria-controls":"activity","aria-label":r("controls.navigation.multiStepStartButton.ariaLabel"),onClick:t,key:"item-based-start-button","data-player-control":"item-based-start-button"},E.a.createElement("span",null,r("controls.navigation.multiStepStartButton.caption"))," ",E.a.createElement(Hc,null)):null},Ou=function(e){if(!dt(e))return!1;var t=Qt(e);if(!t.isMultiStep)return!1;if(sn(e)||cn(e))return!1;var n=e.activityId,r=t.activities,a=r.indexOf(n);return!(a<0||a===r.length-1)},Pu=function(e){var t=e.answersByActivity,n=e.activityId,r=e.showingAnswers;if(!n)return!0;if(r===z)return!0;if(Re(e))return!1;var a=t[n]||{answers:[]};return!(a&&a.answers.length>0)},ku=function(e){var t,n=e.activityId;if(!n)return!0;var r=ze(e),a=e.answersByActivity[n]||{answers:[],score:0},i=(null==a||null===(t=a.answers)||void 0===t?void 0:t.length)>0;if(ea(e)){var o=$n(a);return!!r&&(!i||!o)}return!i},Tu=function(e){var t,n=e.activityId;if(!n)return!0;if(ze(e))return!1;if(Re(e))return!1;var r=e.answersByActivity[n]||{answers:[],score:0};return!((null==r||null===(t=r.answers)||void 0===t?void 0:t.length)>0)},Lu=function(e){if(e.apiCallInProgress)return!0;switch(Ve(e).activity.gradableType){case I.nonGradable:return!1;case I.openNonGradable:return Tu(e);case I.openGradable:return ku(e);case I.closedGradable:return Pu(e);default:return!0}},ju=function(e){var t=e.actions.onMultiStepNextActivity,n=E.a.useContext(an).state,r=Object(v.useTranslation)().t;if(!Ou(n))return null;var a=Lu(n);return E.a.createElement("button",{disabled:a,className:"".concat(Ht.a.multiStepNextActivityButton," ").concat(Ht.a.standardButton),tabIndex:"0",type:"button",onClick:t,"aria-controls":"activity","aria-label":r("controls.navigation.multiStepNextActivityButton.ariaLabel"),key:"multi-step-next-activity-button","data-player-control":"mult-step-next-activity-button"},E.a.createElement("span",null,r("controls.navigation.multiStepNextActivityButton.caption"))," ",E.a.createElement(Hc,null))},Mu=function(e){if(!dt(e))return!1;var t=Qt(e);if(!t.isMultiStep)return!1;var n=e.activityId,r=t.activities,a=r.indexOf(n);return!!(a>=0&&a===r.length-1)},Nu=function(e){var t=Qt(e),n=e.manifestDetails;return t.activities.filter((function(e){var t=n.activities[e].gradableType;return ie.includes(t)}))},Iu=function(e){return Nu(e).every((function(t){return!!e.answersByActivity[t]}))},Fu=function(e){if(e.apiCallInProgress)return!0;var t=e.activityId,n=e.showingAnswers;if(!t)return!0;if(Ke(e)){if(n===z)return!0;if(!Iu(e))return!0}return!1},Du=function(e){var t=e.activityId;if(!t)return!0;if(ze(e)){var n=e.answersByActivity[t]||{answers:[],score:0},r=n&&n.answers.length>0,a=$n(n);return!r||!a}return!1},Ru=function(e){if(e.apiCallInProgress)return!0;var t=e.activityId,n=e.showingAnswers;return!t||(ea(e)?Du(e):!Iu(e)||n===z)},Wu=function(e){var t,n=e.activityId;if(!n)return!0;if(ze(e))return!1;if(Re(e))return!1;var r=e.answersByActivity[n]||{answers:[],score:0};return!((null==r||null===(t=r.answers)||void 0===t?void 0:t.length)>0)},zu=function(e){if(e.apiCallInProgress)return!0;switch(Ve(e).activity.gradableType){case I.closedGradable:return Fu(e);case I.openGradable:return Ru(e);case I.openNonGradable:return Wu(e);default:return!1}},Gu=function(e){var t=e.actions.onMultiStepSubmit,n=E.a.useContext(an).state,r=Object(v.useTranslation)().t;if(!Mu(n))return null;var a=zu(n);return E.a.createElement("button",{className:"".concat(Ht.a.multiStepSubmitButton," ").concat(Ht.a.standardButton),tabIndex:"0",type:"button","aria-controls":"activity","aria-label":r("controls.navigation.multiStepSubmitButton.ariaLabel"),onClick:t,key:"multi-step-submit-button","data-player-control":"multi-step-submit-button",disabled:a},E.a.createElement("span",null,r("controls.navigation.multiStepSubmitButton.caption"))," ",E.a.createElement(Hc,null))},Hu=function(e){var t=e.actions,n=Zc({actions:t}),r=Vc({actions:t}),a=Qc({actions:t}),i=xu({actions:t}),o=ju({actions:t}),c=Gu({actions:t}),s=[i,o,c,n,r,a];if(s.every((function(e){return null===e})))return null;var l=qt()(Ht.a.controls_navigation,Ht.a.is_rightSide,i?Ht.a.has_multiStepStartButton:void 0,o?Ht.a.has_multiStepNextActivitySetButton:void 0,c?Ht.a.has_multiStepSubmitButton:void 0,n?Ht.a.has_nextActivitySetButton:void 0,r?Ht.a.has_endPlaylistButton:void 0,a?Ht.a.has_endSingleActivityButton:void 0);return B.createElement(Xc,{className:l,key:"navigation-control-group"},s)},Vu=function(e){var t=Ve(e);return!!Sl(e,t)},qu=function(e){var t=e.actions.onEditTeacherOpenGradableFeedback,n=E.a.useContext(an).state,r=Object(v.useTranslation)().t;return Vu(n)?E.a.createElement("button",{className:"".concat(Ht.a.standardButton," "),type:"button",tabIndex:"0","aria-controls":"activity","aria-label":r("controls.marking.editButton.ariaLabel"),disabled:!1,key:"edit-teacher-feedback-button","data-player-control":"edit-teacher-feedback-button",onClick:t},E.a.createElement("span",null,r("controls.marking.editButton.caption"))):null},Uu=function(e){var t=e.actions,n=wl({actions:t}),r=Ol({actions:t}),a=qu({actions:t}),i=[a,n,r];if(i.every((function(e){return null===e})))return null;var o=null==n?void 0:n.props.disabled,c=qt()(Ht.a.controls_marking,o?Ht.a.has_disabledCheckAnswersButton:void 0,r?Ht.a.has_submitButton:void 0,n?Ht.a.has_checkAnswersButton:void 0,a?Ht.a.has_editButton:void 0);return E.a.createElement(Pl,{className:c,key:"marking-control-group"},i)},Zu=function(e){if(!dt(e))return!1;var t=Qt(e);if(!t.isMultiStep)return!1;if(sn(e)||cn(e))return!1;var n=e.activityId;return!(t.activities.indexOf(n)<1)},Ku=function(e){return!!e.apiCallInProgress},Ju=function(e){var t=e.actions.onMultiStepPreviousActivity,n=E.a.useContext(an).state,r=Object(v.useTranslation)().t;if(!Zu(n))return null;var a=Ku(n);return E.a.createElement("button",{disabled:a,className:"".concat(Ht.a.multiStepPreviousActivityButton," ").concat(Ht.a.standardButton),tabIndex:"0",type:"button",onClick:t,"aria-controls":"activity","aria-label":r("controls.navigation.multiStepPreviousActivityButton.ariaLabel"),key:"multi-step-previous-activity-button","data-player-control":"mult-step-previous-activity-button"},E.a.createElement(fu,null)," ",E.a.createElement("span",null,r("controls.navigation.multiStepPreviousActivityButton.caption")))},Yu=function(e){var t=e.actions,n=[Ju({actions:t})];if(n.every((function(e){return null===e})))return null;var r=qt()(Ht.a.controls_navigation,Ht.a.has_multiStepPreviousActivityButton,Ht.a.is_leftSide);return B.createElement(Xc,{className:r,key:"navigation-control-group-left"},n)},Qu=function(e){var t=e.actions,n=_u({actions:t}),r=Yu({actions:t}),a=Uu({actions:t}),i=Bu({actions:t}),o=Hu({actions:t}),c=Gs([n,r,a,i,o]),s=c.length>0;if(zs({controls:c,actionToCall:t.onControlsBarCreation}),!s)return null;var l=qt()(Ht.a.controls,n?Ht.a.has_controlsReset:void 0,a?Ht.a.has_controlsMarking:void 0,i?Ht.a.has_controlsShowAnswers:void 0,o||r?Ht.a.has_controlsNavigation:void 0);return E.a.createElement("div",{key:"controls-bar-multi-step","data-controls-bar":"true",className:l},c)},Xu=function(e,t,n){var r=tn(e),a=Xt(e);return r?B.createElement(Qu,{actions:t}):a?B.createElement(hu,{actions:t}):B.createElement(n,{actions:t})},$u=function(e){var t=e.state,n=e.actions,r=Ks(t)&&!Xt(t);return Ml({hasScoreCard:r,actionToCall:n.onScoreCardCreation}),E.a.createElement("div",{"data-template":"closed-gradable"},Ql(t,n),E.a.createElement(En,{state:t,actions:n}),r&&E.a.createElement(Ys,{actions:n},E.a.createElement(Xs,{state:t})),Xu(t,n,jl))},ed=function(e){return Zs(e)},td=as,nd=function(e){var t=e.actions,n=E.a.useContext(an).state;if(!td(n))return null;var r=qt()(Ht.a.controls_reset,Ht.a.has_resetActivityButton);return E.a.createElement(ns,{className:r,key:"reset-control-group"},E.a.createElement(ts,{actions:t,enableButton:os(n)}))},rd=function(e){var t=e.actions,n=Zc({actions:t}),r=Vc({actions:t}),a=[n,r];if(a.every((function(e){return null===e})))return null;var i=qt()(Ht.a.controls_navigation,r?Ht.a.has_endPlaylistButton:void 0,n?Ht.a.has_nextActivitySetButton:void 0);return B.createElement(Xc,{className:i,key:"navigation-control-group"},a)},ad=function(e){var t=e.actions,n=nd({actions:t}),r=rd({actions:t}),a=Gs([n,r]),i=a.length>0;if(zs({controls:a,actionToCall:t.onControlsBarCreation}),!i)return null;var o=qt()(Ht.a.controls,n?Ht.a.has_controlsReset:void 0,r?Ht.a.has_controlsNavigation:void 0);return E.a.createElement("div",{key:"controls-bar","data-controls-bar":"true",className:o},a)},id=function(e){var t=e.state,n=e.actions,r=ed(t);return Ml({hasScoreCard:r,actionToCall:n.onScoreCardCreation}),E.a.createElement("div",{"data-template":"game"},E.a.createElement(En,{state:t,actions:n}),r&&E.a.createElement(Ys,{state:t,actions:n},E.a.createElement(Xs,{state:t})),E.a.createElement(ad,{actions:n}))},od=function(e){var t=e.showingAnswers;return!St(e)||t===z},cd=function(e){var t=e.state,n=e.actions.onResetActivity,r=!od(t),a=Object(v.useTranslation)().t;return E.a.createElement("button",{className:"".concat(Ht.a.itemBasedHeader_backButton," ").concat(Ht.a.standardIcon),type:"button",tabIndex:"0","aria-controls":"activity","aria-label":a("itemBasedActivties.header.backButton.ariaLabel"),onClick:n,disabled:r,"data-player-control":"item-based-back-button",key:"item-based-back-button"},E.a.createElement(Gl,null))},sd=function(){return E.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true",role:"img",width:"24",height:"24",viewBox:"0 0 24 24","aria-labelledby":"titleLives descLives"},E.a.createElement("aria-title",{id:"titleLives"},"Lives"),E.a.createElement("desc",{id:"descLives"},"counter status"),E.a.createElement("polygon",{points:"18,2.5 12,6.5 6,2.5 0,6.5 0,14.5 12,21.5 12,21.5 24,14.5 24,6.5 ",className:"life-active"}),E.a.createElement("path",{d:"M18,2.5l-6,4l-6-4l0,0l-6,4v8l12,7l0,0l12-7v-8L18,2.5L18,2.5z M13.1,8.2L18,4.9l4,2.7v5.8l-10,5.8L2,13.4V7.6  l4-2.7l4.9,3.3L12,8.9L13.1,8.2z",className:"life-container"}))},ld=function(e){var t=e.state,n=Ve(t),r=n.activity,a=n.itemAnswers,i=n.activityMode,o=Object(v.useTranslation)().t;if(!gt(i))return null;for(var c=Nt(r,a),s=[],l=0;l<3;l++)s.push(E.a.createElement("li",{key:l,className:l<c?Ht.a.progressBar_active:null},E.a.createElement(sd,null)));return E.a.createElement("ul",{"data-player-control":"lives-progress",className:Ht.a.itemBasedProgressBar_lives,tabIndex:"0","aria-label":o("itemBasedActivities.header.livesProgressBar.ariaLabel")},s)},ud=function(e){return e.index==e.currentItemIndex?Ht.a.progressBar_active:null},dd=function(e){var t=e.userAnswers,n=e.itemPointsAvailableForItem;return t?t.score==n?Ht.a.progressBar_correct:Ht.a.progressBar_wrong:null},pd=function(e){var t=e.state,n=Object(v.useTranslation)().t,r=t.itemId,a=Ve(t),i=a.activity,o=a.itemAnswers;if(!i.itemPointsAvailable)return null;var c=Ct(o),s=ke(i).indexOf(r),l=ke(i).map((function(e,t){var n=c[e],r=i.itemPointsAvailable[e],a=ud({index:t,currentItemIndex:s}),o=dd({userAnswers:n,itemPointsAvailableForItem:r}),l=qt()(a,o);return E.a.createElement("li",{key:e,className:l})}));return E.a.createElement("ul",{"data-player-control":"itemBased-progressBar",className:Ht.a.itemBasedProgressBar_progress,tabIndex:"0","aria-label":n("itemBasedActivities.header.standardProgressBar.ariaLabel")},l)},vd=function(e){var t=e.state,n=Nr(t),r=Object(v.useTranslation)().t;return E.a.createElement("div",{className:Ht.a.itemBasedProgressBar_counterContainer},E.a.createElement("span",{"data-player-control":"correct-counter",className:Ht.a.itemBasedProgressBar_correctCounter,"aria-label":r("itemBasedActivities.header.correctCounter.ariaLabel")},n))},fd=function(e){var t,n;return t=e<20?Ht.a.itemBasedProgressBar_red:e<50?Ht.a.itemBasedProgressBar_orange:Ht.a.itemBasedProgressBar_green,void 0!==(n=e<50&&e>40||e<20&&e>10||0==e?Ht.a.itemBasedProgressBar_bounce:e<10&&e>0?Ht.a.itemBasedProgressBar_shortBounce:void 0)?"".concat(t," ").concat(n):"".concat(t)},yd=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Math.floor(e/3600),r=Math.floor((e-3600*n)/60),a=e-3600*n-60*r;return"".concat(n>0?"".concat(n.toString().padStart(2,"0"),":"):"".concat(t?"00:":"")).concat(r.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0"))},md=function(e){var t=e.timerPercentage,n=2*Math.PI*6.25,r=t.toString().padStart(3,"0");return E.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 25",width:"25",height:"25"},E.a.createElement("g",{transform:"rotate(-90 12.5 12.5)"},E.a.createElement("circle",{cx:"12.5",cy:"12.5",r:"5",fill:"none",stroke:"#e4e4e6",strokeWidth:"10"}),E.a.createElement("circle",{cx:"12.5",cy:"12.5",r:"".concat(6.25),fill:"none",stroke:"#00a417",strokeWidth:"".concat(12.5),strokeDasharray:"".concat(n/100*Number(r)," ").concat(n)})))},hd=n(9),bd=n.n(hd),wd=B.createContext(),gd=function(e){var t=e.contentWindow,n=e.initialSecondsRemaining,r=e.enableTimer,i=e.onTimerComplete,o=e.children,c=e.resetTheTimer,s=B.useState(1e3*n),l=bd()(s,2),d=l[0],p=l[1],v=B.useState(r?Date.now():null),f=bd()(v,2),y=f[0],m=f[1],h=function(){m(null),p(1e3*n)},b=function(){var e=Date.now();m(e);var n=d-(y?e-y:1);n<=800?t.setTimeout(a()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),100):p(n)},w=B.createRef();B.useEffect((function(){return c&&h(),r&&d>0&&(w.current=t.setTimeout(b,200)),function(){return t.clearTimeout(w.current)}}),[r,d,c]);var g={secondsRemaining:parseInt(d/1e3),resetTimer:h,initialNumberOfSeconds:n};return B.createElement(wd.Provider,{value:g},o)},Sd=function(){var e=E.a.useContext(wd),t=e.secondsRemaining,n=e.initialNumberOfSeconds,r="".concat(Ht.a.itemBasedProgressBar_timer),a=yd(t),i=parseInt(t/n*100),o=fd(Number(i));return E.a.createElement("div",{className:"".concat(Ht.a.itemBasedProgressBar_timerContainer," ").concat(o)},E.a.createElement(md,{timerPercentage:i}),E.a.createElement("span",{className:"".concat(r)},a))},_d=function(e){return Ve(e).activity.gradableType===I.itemBased&&e.playerStatus===q.rcfLoaded},Cd=function(e){var t=e.state,n=e.actions;if(!_d(t))return null;var r=Jl(t)?Ht.a.has_titleBarButtons:null;if(!St(t))return E.a.createElement("div",{"data-player-control":"item-based-header",className:qt()(Ht.a.itemBasedHeader,r)},E.a.createElement(cd,{state:t,actions:n}),E.a.createElement(pd,{state:t,actions:n}),E.a.createElement(Zl,{state:t,actions:n}));var a=_t(t),i=qt()(Ht.a.itemBasedProgressBar_challenge,a?Ht.a.challengeMode_progressive:Ht.a.challengeMode_random),o=a?E.a.createElement(vd,{state:t,actions:n}):E.a.createElement(pd,{state:t,actions:n});return E.a.createElement("div",{"data-player-control":"item-based-header",className:qt()(Ht.a.itemBasedHeader,r)},E.a.createElement(cd,{state:t,actions:n}),E.a.createElement("div",{className:i},E.a.createElement(Sd,{state:t,actions:n}),E.a.createElement(ld,{state:t,actions:n}),o),E.a.createElement(Zl,{state:t,actions:n}))},Ad=function(e){var t=e.actions.onResetActivity,n=Object(v.useTranslation)().t;return E.a.createElement("button",{className:"".concat(Ht.a.standardButton," ").concat(Ht.a.tryAgainButton),type:"button",tabIndex:"0","aria-controls":"activity","aria-label":n("scoreScreens.itemBased.resetButton.ariaLabel"),onClick:t,"data-player-control":"item-based-reset-activity-button",key:"item-based-reset-activity-button"},n("scoreScreens.itemBased.resetButton.caption"))},Bd=function(e){return!!Sn(e)&&(!ze(e)&&(!Xt(e)&&!Es(e).hideTryAgain))},Ed=function(e){var t=e.actions,n=E.a.useContext(an).state;if(!Bd(n))return null;var r=qt()(Ht.a.controls_reset,Ht.a.has_itemBasedResetActivityButton,Ht.a.has_tryAgainButton);return E.a.createElement(ns,{className:r,key:"reset-control-group"},E.a.createElement(Ad,{actions:t}))},xd=function(e){var t=e.actions,n=wl({actions:t}),r=Ol({actions:t}),a=[n,r];if(a.every((function(e){return null===e})))return null;var i=n&&n.props.disabled,o=qt()(Ht.a.controls_marking,i?Ht.a.has_disabledCheckAnswersButton:void 0,n?Ht.a.has_checkAnswersButton:void 0,r?Ht.a.has_submitButton:void 0);return E.a.createElement(Pl,{className:o,key:"marking-control-group"},a)},Od=function(e){var t=e.actions,n=Is({actions:t}),r=Fs({actions:t}),a=[n,r];if(a.every((function(e){return null===e})))return null;var i=qt()(Ht.a.controls_showAnswers,r?Ht.a.has_answersToggleButton:void 0,n?Ht.a.has_showAnswersButton:void 0);return E.a.createElement(Ds,{className:i,showAnswersText:"",key:"show-answers-control-group"},a)},Pd=function(e){var t=Ve(e),n=t.activityMode,r=t.perfectScore,a=e.playerStatus,i=e.showingAnswers;if(a!==q.rcfLoaded)return!1;if(n===Be.challenge)return!1;if(void 0===zt(e))return!1;if(Xt(e)&&i===z)return!1;if(hs(e)&&i===z)return!1;if(n===Be.practice){if(Ke(e)&&i===z)return!1;if(i===G&&r)return!1}return n!==Be.test||!Nc(e)||i===G},kd=function(e){switch(Ve(e).activity.gradableType){case I.itemBased:return Pd(e);default:return!1}},Td=function(e){var t=e.actions.onItemBasedNext,n=E.a.useContext(an).state,r=Object(v.useTranslation)().t;return kd(n)?E.a.createElement("button",{className:"".concat(Ht.a.itemBasedNextButton," ").concat(Ht.a.standardButton),tabIndex:"0",type:"button","aria-controls":"activity","aria-label":r("controls.navigation.itemBasedNextButton.ariaLabel"),onClick:t,key:"item-based-next-button","data-player-control":"item-based-next-button"},E.a.createElement("span",null,r("controls.navigation.itemBasedNextButton.caption"))," ",E.a.createElement(Hc,null)):null},Ld=function(e){return e.playerStatus===q.coverScreenActive},jd=function(e){switch(Ve(e).activity.gradableType){case I.itemBased:return Ld(e);default:return!1}},Md=function(e){var t=e.actions.onItemBasedStart,n=E.a.useContext(an).state,r=Object(v.useTranslation)().t;return jd(n)?E.a.createElement("button",{className:"".concat(Ht.a.itemBasedStartButton," ").concat(Ht.a.standardButton),type:"button",tabIndex:"0","aria-controls":"activity","aria-label":r("controls.navigation.itemBasedStartButton.ariaLabel"),onClick:t,key:"item-based-start-button","data-player-control":"item-based-start-button"},E.a.createElement("span",null,r("controls.navigation.itemBasedStartButton.caption"))," ",E.a.createElement(Hc,null)):null},Nd=function(e){var t=Ve(e),n=t.activityMode,r=t.perfectScore;return!zt(e)&&(!Ko(n,e.showingAnswers,r)&&(!St(e)&&((!hs(e)||e.showingAnswers!==z)&&((!bs(e)||e.showingAnswers!==z)&&((!Nc(e)||e.showingAnswers===G||!Ss(e))&&(!Xt(e)||e.showingAnswers!==z))))))},Id=function(e){if(!dt(e))return!1;switch(Ve(e).activity.gradableType){case I.itemBased:return Nd(e);default:return!1}},Fd=function(e){var t=e.actions.onItemBasedFinish,n=E.a.useContext(an).state,r=Object(v.useTranslation)().t;return Id(n)?E.a.createElement("button",{className:"".concat(Ht.a.itemBasedFinishButton," ").concat(Ht.a.standardButton),tabIndex:"0",type:"button","aria-controls":"activity","aria-label":r("controls.navigation.itemBasedFinishButton.ariaLabel"),onClick:t,key:"item-based-finish-button","data-player-control":"item-based-finish-button"},E.a.createElement("span",null,r("controls.navigation.itemBasedFinishButton.caption"))," ",E.a.createElement(Hc,null)):null},Dd=function(e){var t=e.actions,n=Td({actions:t}),r=Fd({actions:t}),a=Zc({actions:t}),i=Vc({actions:t}),o=au({actions:t}),c=su({actions:t}),s=Md({actions:t}),l=Qc({actions:t}),u=[n,r,a,i,s,c,o,l];if(u.every((function(e){return null===e})))return null;var d=qt()(Ht.a.controls_navigation,Ht.a.is_rightSide,i?Ht.a.has_endPlaylistButton:void 0,r?Ht.a.has_itemBasedFinishButton:void 0,n?Ht.a.has_itemBasedNextButton:void 0,s?Ht.a.has_itemBasedStartButton:void 0,a?Ht.a.has_nextActivitySetButton:void 0,c?Ht.a.has_nextTimedPlaylistActivitySetButton:void 0,o?Ht.a.has_timedPlaylistFinishButton:void 0,l?Ht.a.has_endSingleActivityButton:void 0);return B.createElement(Xc,{className:d,key:"navigation-control-group"},u)},Rd=function(e){return!!dt(e)&&(!!Dn(e)&&!!Pn(e))},Wd=function(e){switch(Ve(e).activity.gradableType){case I.itemBased:return Rd(e);default:return!1}},zd=function(e){var t=e.actions.onItemBasedPrevious,n=E.a.useContext(an).state,r=Object(v.useTranslation)().t;return Wd(n)?E.a.createElement("button",{className:"".concat(Ht.a.itemBasedPreviousButton," ").concat(Ht.a.standardButton),tabIndex:"0",type:"button","aria-controls":"activity","aria-label":r("controls.navigation.itemBasedPreviousButton.ariaLabel"),onClick:t,key:"item-based-previous-button","data-player-control":"item-based-previous-button"},E.a.createElement(fu,null)," ",E.a.createElement("span",null,r("controls.navigation.itemBasedPreviousButton.caption"))):null},Gd=function(e){var t=e.actions,n=zd({actions:t}),r=yu({actions:t}),a=[n,r];if(a.every((function(e){return null===e})))return null;var i=qt()(Ht.a.controls_navigation,Ht.a.is_leftSide,n?Ht.a.has_itemBasedPreviousButton:void 0,r?Ht.a.has_previousTimedPlaylistActivitySetButton:void 0);return B.createElement(Xc,{className:i,key:"navigation-control-group-left"},a)},Hd=function(e){var t=e.actions,n=Ed({actions:t}),r=Gd({actions:t}),a=xd({actions:t}),i=Od({actions:t}),o=Dd({actions:t}),c=Gs([n,r,a,i,o]),s=c.length>0;if(zs({controls:c,actionToCall:t.onControlsBarCreation}),!s)return null;var l=qt()(Ht.a.controls,n?Ht.a.has_controlsReset:void 0,a?Ht.a.has_controlsMarking:void 0,i?Ht.a.has_controlsShowAnswers:void 0,o||r?Ht.a.has_controlsNavigation:void 0);return E.a.createElement("div",{key:"controls-bar","data-controls-bar":"true",className:l},c)},Vd=function(e){var t=e.state,n=e.actions;return E.a.createElement("div",{"data-template":"item-based"},E.a.createElement(Cd,{state:t,actions:n}),E.a.createElement(En,{state:t,actions:n}),E.a.createElement(Hd,{actions:n}))},qd=function(e){var t=e.actions,n=Zc({actions:t}),r=Vc({actions:t}),a=[n,r];if(a.every((function(e){return null===e})))return null;var i=qt()(Ht.a.controls_navigation,r?Ht.a.has_endPlaylistButton:void 0,n?Ht.a.has_nextActivitySetButton:void 0);return B.createElement(Xc,{className:i,key:"navigation-control-group"},a)},Ud=function(e){var t=e.actions,n=qd({actions:t}),r=Gs([n]),a=r.length>0;if(zs({controls:r,actionToCall:t.onControlsBarCreation}),!a)return null;var i=qt()(Ht.a.controls,n?Ht.a.has_controlsNavigation:void 0);return E.a.createElement("div",{key:"controls-bar","data-controls-bar":"true",className:i},n)},Zd=function(e){var t=e.actions,n=E.a.useContext(an).state,r=Object(v.useTranslation)().t,a=n.rcfPlayerOptions.initialDisplayType,i=Qt(n),o="";return o=E.a.createElement(un,{activitySet:i}),a!==mt.fullScreen&&(o=""),ze(n)||(o=""),E.a.createElement("div",{className:Ht.a.noAttemptAvailable,"data-loaded":"true","data-template":"no-attempt-available"},o,E.a.createElement("div",{className:Ht.a.noAttemptAvailable_text},E.a.createElement("h2",null,r("components.noAttemptAvailable.caption"))),Xu(n,t,Ud))},Kd=function(e){var t=e.actions,n=Zc({actions:t}),r=Vc({actions:t}),a=Qc({actions:t}),i=[n,r,a];if(i.every((function(e){return null===e})))return null;var o=qt()(Ht.a.controls_navigation,r?Ht.a.has_endPlaylistButton:void 0,n?Ht.a.has_nextActivitySetButton:void 0,a?Ht.a.has_endSingleActivityButton:void 0);return B.createElement(Xc,{className:o,key:"navigation-control-group"},i)},Jd=function(e){return!!dt(e)&&(!ze(e)&&(!(Mc(e)&&!rs(e))&&(!Ke(e)&&(!Dn(e)&&!Cn(e)))))},Yd=function(e){var t=e.actions,n=E.a.useContext(an).state;if(!Jd(n))return null;var r=qt()(Ht.a.controls_reset,Ht.a.has_resetActivityButton);return E.a.createElement(ns,{className:r,key:"reset-control-group"},E.a.createElement(ts,{actions:t,enableButton:os(n)}))},Qd=function(e){var t=e.actions,n=Yd({actions:t}),r=Kd({actions:t}),a=Gs([n,r]),i=a.length>0;if(zs({controls:a,actionToCall:t.onControlsBarCreation}),!i)return null;var o=qt()(Ht.a.controls,n?Ht.a.has_controlsReset:void 0,r?Ht.a.has_controlsNavigation:void 0);return E.a.createElement("div",{key:"controls-bar-non-gradable","data-controls-bar":"true",className:o},a)},Xd=function(e){var t=e.state,n=e.actions;return E.a.createElement("div",{"data-template":"non-gradable"},Ql(t,n),E.a.createElement(En,{state:t,actions:n}),Xu(t,n,Qd))},$d=function(e){var t=e.viewActivityOptions.userRole,n=Ve(e);return!qs(e)&&((!tn(e)||!sn(e)&&!cn(e))&&(!!t&&(!!tr(n)||!!Dc(n)&&(!ea(e)&&!Xt(e)))))},ep=function(e){var t,n=e.state,r=m.t,a=Ve(n);return t=tr(a)?Qs(n):Dc(a)?r("components.scoreCard.openGradableText.awaitingMarks"):null,E.a.createElement("div",{className:Ht.a.scoreCard_scoreText,"data-player-control":"score-card-text"},t)},tp=as,np=function(e){var t=Ve(e).answers;return!t||$n(t)},rp=function(e){var t=e.actions,n=E.a.useContext(an).state;if(!tp(n))return null;var r=qt()(Ht.a.controls_reset,Ht.a.has_resetActivityButton);return E.a.createElement(ns,{className:r,key:"reset-control-group"},E.a.createElement(ts,{actions:t,enableButton:np(n)}))},ap=function(e){var t=e.actions,n=Ol({actions:t}),r=ul({actions:t}),a=qu({actions:t}),i=[a,n,r];if(i.every((function(e){return null===e})))return null;var o=qt()(Ht.a.controls_marking,n?Ht.a.has_submitButton:void 0,r?Ht.a.has_tryAgainButton:void 0,a?Ht.a.has_editButton:void 0);return E.a.createElement(Pl,{className:o,key:"marking-control-group"},i)},ip=function(e){var t=e.actions,n=Zc({actions:t}),r=Vc({actions:t}),a=Qc({actions:t}),i=[n,r,a];if(i.every((function(e){return null===e})))return null;var o=qt()(Ht.a.controls_navigation,r?Ht.a.has_endPlaylistButton:void 0,n?Ht.a.has_nextActivitySetButton:void 0,a?Ht.a.has_endSingleActivityButton:void 0);return B.createElement(Xc,{className:o,key:"navigation-control-group"},i)},op=function(e){var t=e.actions,n=rp({actions:t}),r=ap({actions:t}),a=ip({actions:t}),i=Gs([n,r,a]),o=i.length>0;if(zs({controls:i,actionToCall:t.onControlsBarCreation}),!o)return null;var c=qt()(Ht.a.controls,n?Ht.a.has_controlsReset:void 0,r?Ht.a.has_controlsMarking:void 0,a?Ht.a.has_controlsNavigation:void 0);return E.a.createElement("div",{key:"controls-bar","data-controls-bar":"true",className:c},i)},cp=function(e){var t=e.state,n=e.actions,r=$d(t);return Ml({hasScoreCard:r,actionToCall:n.onScoreCardCreation}),E.a.createElement("div",{"data-template":"open-gradable"},Ql(t,n),E.a.createElement(En,{state:t,actions:n}),r&&E.a.createElement(Ys,{actions:n},E.a.createElement(ep,{state:t})),Xu(t,n,op))},sp=function(e){var t=e.actions,n=Zc({actions:t}),r=Vc({actions:t}),a=[n,r];if(a.every((function(e){return null===e})))return null;var i=qt()(Ht.a.controls_navigation,r?Ht.a.has_endPlaylistButton:void 0,n?Ht.a.has_nextActivitySetButton:void 0);return B.createElement(Xc,{className:i,key:"navigation-control-group"},a)},lp=function(e){var t=e.actions,n=Ol({actions:t});if(null===n)return null;var r=qt()(Ht.a.controls_marking,n?Ht.a.has_submitButton:void 0);return E.a.createElement(Pl,{className:r,key:"marking-control-group"},n)},up=function(e){return!ze(e)&&(!(Mc(e)&&!rs(e))&&(!Dn(e)&&(!sn(e)&&!cn(e))))},dp=function(e){var t=e.actions,n=E.a.useContext(an).state;if(!up(n))return null;var r=qt()(Ht.a.controls_reset,Ht.a.has_resetActivityButton);return E.a.createElement(ns,{className:r,key:"reset-control-group"},E.a.createElement(ts,{actions:t,enableButton:os(n)}))},pp=function(e){var t=e.actions,n=dp({actions:t}),r=lp({actions:t}),a=sp({actions:t}),i=Gs([n,r,a]),o=i.length>0;if(zs({controls:i,actionToCall:t.onControlsBarCreation}),!o)return null;var c=qt()(Ht.a.controls,n?Ht.a.has_controlsReset:void 0,r?Ht.a.has_controlsMarking:void 0,a?Ht.a.has_controlsNavigation:void 0);return E.a.createElement("div",{key:"controls-bar","data-controls-bar":"true",className:c},i)},vp=function(e){var t=e.state,n=e.actions;return E.a.createElement("div",{"data-template":"open-non-gradable"},Ql(t,n),E.a.createElement(En,{state:t,actions:n}),Xu(t,n,pp))},fp=function(e){var t=e.storyDone,n=e.activityId,r=e.answersByActivity,a=e.viewActivityOptions.userRole,i=n&&r[n];if(Xt(e))return!1;if(qs(e))return!1;if(!a)return!1;if(Ve(e).activityMode!==Be.storyComprehension)return!1;if(ze(e)){if(!i)return!1}else if(!t)return!1;return!0},yp=function(e){var t=e.storyStatus,n=e.seenLastStoryPage,r=e.storyDone;return Ve(e).activityMode===Be.storyComprehension&&(!!t&&(!r&&!!n))},mp=function(e){if(ze(e))return!1;if(Xt(e))return!1;switch(Ve(e).activity.gradableType){case I.story:return yp(e);default:return!1}},hp=function(e){var t=e.apiCallInProgress,n=e.readOnly;return!t&&!n},bp=function(e){var t=e.actions.onStoryDone,n=E.a.useContext(an).state,r=Object(v.useTranslation)().t;if(!mp(n))return null;var a=!hp(n);return E.a.createElement("button",{className:"".concat(Ht.a.storyDoneButton," ").concat(Ht.a.standardButton),type:"button",tabIndex:"0","aria-label":r("controls.marking.storyDoneButton.ariaLabel"),"aria-controls":"activity",onClick:t,disabled:a,key:"story-done-button","data-player-control":"story-done-button"},E.a.createElement("span",null,r("controls.marking.storyDoneButton.caption")))},wp=function(e){var t=e.actions,n=Zc({actions:t}),r=Vc({actions:t}),a=bp({actions:t}),i=[n,r,a];if(i.every((function(e){return null===e})))return null;var o=qt()(Ht.a.controls_navigation,r?Ht.a.has_endPlaylistButton:void 0,n?Ht.a.has_nextActivitySetButton:void 0,a?Ht.a.has_storyDoneButton:void 0);return B.createElement(Xc,{className:o,key:"navigation-control-group"},i)},gp=function(e){var t=e.actions,n=wl({actions:t}),r=Ol({actions:t}),a=ul({actions:t}),i=[n,r,a];if(i.every((function(e){return null===e})))return null;var o=n&&n.props.disabled,c=qt()(Ht.a.controls_marking,o?Ht.a.has_disabledCheckAnswersButton:void 0,n?Ht.a.has_checkAnswersButton:void 0,r?Ht.a.has_submitButton:void 0,a?Ht.a.has_tryAgainButton:void 0);return E.a.createElement(Pl,{className:c,key:"marking-control-group"},i)},Sp=function(e){var t=e.actions,n=gp({actions:t}),r=wp({actions:t}),a=Gs([n,r]),i=a.length>0;if(zs({controls:a,actionToCall:t.onControlsBarCreation}),!i)return null;var o=qt()(Ht.a.controls,n?Ht.a.has_controlsMarking:void 0,r?Ht.a.has_controlsNavigation:void 0);return E.a.createElement("div",{key:"controls-bar","data-controls-bar":"true",className:o},a)},_p=function(e){var t=e.state,n=e.actions,r=fp(t);return Ml({hasScoreCard:r,actionToCall:n.onScoreCardCreation}),E.a.createElement("div",{"data-template":"story"},E.a.createElement(En,{state:t,actions:n}),r&&E.a.createElement(Ys,{actions:n},E.a.createElement(Xs,{state:t})),Xu(t,n,Sp))},Cp=function(){return E.a.createElement("svg",{width:"188",height:"188",viewBox:"0 0 188 188",fill:"none",xmlns:"http://www.w3.org/2000/svg"},E.a.createElement("aria-title",{id:"timedPlaylistSubmittedSVG"},"timed playlist submitted"),E.a.createElement("circle",{cx:"94",cy:"94",r:"94",fill:"#F6F6F6"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M55 56.96C55 54.2207 57.235 52 59.992 52H128.008C130.765 52 133 54.2207 133 56.96V140.04C133 142.779 130.765 145 128.008 145H59.992C57.235 145 55 142.779 55 140.04V56.96Z",fill:"#E5E5E5"}),E.a.createElement("path",{d:"M56.5 56.96C56.5 55.0582 58.0543 53.5 59.992 53.5H128.008C129.946 53.5 131.5 55.0582 131.5 56.96V140.04C131.5 141.942 129.946 143.5 128.008 143.5H59.992C58.0543 143.5 56.5 141.942 56.5 140.04V56.96Z",stroke:"#CCCCCC",strokeOpacity:"0.48",strokeWidth:"3"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.5 48.5567C46.5 45.7438 48.7804 43.4634 51.5933 43.4634H120.99C123.803 43.4634 126.083 45.7438 126.083 48.5567V133.87C126.083 136.683 123.803 138.963 120.99 138.963H51.5933C48.7804 138.963 46.5 136.683 46.5 133.87V48.5567Z",fill:"#C7C7C7"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51.5933 52.3766C51.5933 50.2669 53.3035 48.5566 55.4133 48.5566H117.17C119.28 48.5566 120.99 50.2669 120.99 52.3766V130.05C120.99 132.16 119.28 133.87 117.17 133.87H73.8766C61.5698 133.87 51.5933 123.893 51.5933 111.587V52.3766Z",fill:"white"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M59.2334 63.8367C59.2334 62.4301 60.3735 61.29 61.7801 61.29H91.8626C93.2691 61.29 94.4092 62.4301 94.4092 63.8367C94.4092 65.2433 93.2691 66.3834 91.8626 66.3834H61.7801C60.3735 66.3834 59.2334 65.2433 59.2334 63.8367Z",fill:"#E5E5E5"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M59.2334 78.48C59.2334 77.0735 60.3735 75.9333 61.7801 75.9333H109.212C110.618 75.9333 111.758 77.0735 111.758 78.48C111.758 79.8866 110.618 81.0267 109.212 81.0267H61.7801C60.3735 81.0267 59.2334 79.8866 59.2334 78.48Z",fill:"#E5E5E5"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M59.2334 88.6667C59.2334 87.2601 60.3735 86.12 61.7801 86.12H109.212C110.618 86.12 111.758 87.2601 111.758 88.6667C111.758 90.0732 110.618 91.2133 109.212 91.2133H61.7801C60.3735 91.2133 59.2334 90.0732 59.2334 88.6667Z",fill:"#E5E5E5"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M59.2334 98.8533C59.2334 97.4468 60.3735 96.3066 61.7801 96.3066H109.212C110.618 96.3066 111.758 97.4468 111.758 98.8533C111.758 100.26 110.618 101.4 109.212 101.4H61.7801C60.3735 101.4 59.2334 100.26 59.2334 98.8533Z",fill:"#E5E5E5"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M59.2334 109.04C59.2334 107.634 60.3735 106.493 61.7801 106.493H82.1534C83.56 106.493 84.7001 107.634 84.7001 109.04C84.7001 110.447 83.56 111.587 82.1534 111.587H61.7801C60.3735 111.587 59.2334 110.447 59.2334 109.04Z",fill:"#E5E5E5"}),E.a.createElement("path",{className:"svgUpdateFill",d:"M125 152C139.912 152 152 139.912 152 125C152 110.088 139.912 98 125 98C110.088 98 98 110.088 98 125C98 139.912 110.088 152 125 152Z",fill:"#2E61D0"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M138.186 115.82C139.271 116.914 139.271 118.686 138.186 119.78L123.892 134.18C122.806 135.273 121.047 135.273 119.961 134.18L112.814 126.98C111.729 125.886 111.729 124.114 112.814 123.02C113.899 121.927 115.659 121.927 116.745 123.02L121.926 128.24L134.255 115.82C135.341 114.727 137.1 114.727 138.186 115.82Z",fill:"white"}))},Ap=function(e){return e.viewActivityOptions.linkOrigin===Oe.strictHomework},Bp=function(e){var t=e.state,n=Object(v.useTranslation)().t,r="";return r=Xi(t)?"assessment.manualSubmissionScreen":Ap(t)?"strictHomework.manualSubmissionScreen":"assessment.manualSubmissionScreen",E.a.createElement("div",{className:Ht.a.timedPlaylistEndScreen_container},E.a.createElement("div",{className:qt()(Ht.a.timedPlaylistEndScreen,Ht.a.timedPlaylistSubmitted)},E.a.createElement("div",{className:Ht.a.timedPlaylistEndScreen_playlistSubmittedSVG},E.a.createElement(Cp,null)),E.a.createElement("div",{className:Ht.a.timedPlaylistEndScreen_header},E.a.createElement("h2",null,n("".concat(r,".header")))),E.a.createElement("div",{className:Ht.a.timedPlaylistEndScreen_paragraph},E.a.createElement("p",null,n("".concat(r,".line1"))))))},Ep=function(e){var t=e.state,n=e.actions,r=Object(v.useTranslation)().t;return E.a.createElement(E.a.Fragment,null,E.a.createElement(Bp,{state:t}),E.a.createElement("div",{"data-template":"timed-playlist-complete"},E.a.createElement("div",{"data-controls-bar":"true",className:Ht.a.controls},E.a.createElement("button",{className:"".concat(Ht.a.endPlaylistButton," ").concat(Ht.a.standardButton),type:"button",tabIndex:"0","aria-controls":"activity","aria-label":r("controls.navigation.closeTimedPlaylistButton.ariaLabel"),onClick:n.onCloseWindow,key:"close-window-button","data-player-control":"close-window-button"},E.a.createElement("span",null,r("controls.navigation.closeTimedPlaylistButton.caption"))))))},xp=function(){return E.a.createElement("svg",{width:"188",height:"188",viewBox:"0 0 188 188",fill:"none",xmlns:"http://www.w3.org/2000/svg"},E.a.createElement("aria-title",{id:"timedPlaylistTimedOutSVG"},"timed playlist timed out"),E.a.createElement("circle",{cx:"94",cy:"94",r:"94",fill:"#F6F6F6"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M94 150C124.928 150 150 124.928 150 94C150 63.0721 124.928 38 94 38C63.0721 38 38 63.0721 38 94C38 124.928 63.0721 150 94 150Z",fill:"#CCCCCC"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M94 142C120.51 142 142 120.51 142 94C142 67.4904 120.51 46 94 46C67.4904 46 46 67.4904 46 94C46 120.51 67.4904 142 94 142Z",fill:"white"}),E.a.createElement("path",{className:"svgUpdateFill",d:"M92 54.5C92 53.1193 93.1193 52 94.5 52C95.8807 52 97 53.1193 97 54.5V92.5C97 93.8807 95.8807 95 94.5 95C93.1193 95 92 93.8807 92 92.5V54.5Z",fill:"#2E61D0"}),E.a.createElement("path",{className:"svgUpdateFill",fillRule:"evenodd",clipRule:"evenodd",d:"M97.7274 92.5355C98.3102 93.251 98.6 94.1632 98.533 95.0717C98.466 95.9803 98.0478 96.811 97.3702 97.3819L75.3465 115.891C75.0106 116.174 74.621 116.383 74.1999 116.509C73.7789 116.634 73.3348 116.673 72.8928 116.622C72.4508 116.571 72.0198 116.432 71.6242 116.213C71.2285 115.994 70.876 115.699 70.587 115.345C70.2979 114.991 70.0779 114.584 69.9393 114.149C69.8008 113.714 69.7467 113.258 69.7797 112.808C69.8129 112.358 69.9329 111.923 70.1326 111.526C70.3324 111.13 70.6082 110.781 70.944 110.498L92.9678 91.989C93.6468 91.4198 94.5292 91.1578 95.4215 91.2601C96.3137 91.3625 97.143 91.8212 97.7274 92.5355Z",fill:"#2E61D0"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M94.5 101C98.0898 101 101 98.0898 101 94.5C101 90.9102 98.0898 88 94.5 88C90.9102 88 88 90.9102 88 94.5C88 98.0898 90.9102 101 94.5 101Z",fill:"#191919"}),E.a.createElement("path",{className:"svgUpdateFill",fillRule:"evenodd",clipRule:"evenodd",d:"M102.581 151H148.488C149.558 150.993 150.61 150.726 151.552 150.224C152.493 149.722 153.297 149 153.892 148.12C154.487 147.241 154.856 146.23 154.965 145.178C155.075 144.125 154.922 143.061 154.521 142.08L131.24 102.347C130.673 101.333 129.842 100.487 128.832 99.8989C127.823 99.3104 126.673 99 125.502 99C124.33 99 123.18 99.3104 122.171 99.8989C121.162 100.487 120.33 101.333 119.763 102.347L96.4821 142.08C96.0884 143.039 95.9323 144.077 96.0268 145.107C96.1213 146.138 96.4637 147.131 97.0252 148.004C97.5869 148.877 98.3515 149.605 99.2552 150.126C100.159 150.647 101.176 150.947 102.22 151",fill:"#2E61D0"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M125.5 142C127.347 142 128.844 140.519 128.844 138.692C128.844 136.864 127.347 135.383 125.5 135.383C123.653 135.383 122.156 136.864 122.156 138.692C122.156 140.519 123.653 142 125.5 142ZM122.005 117.948C121.93 116.895 122.763 116 123.817 116H127.183C128.237 116 129.07 116.895 128.995 117.948L128.043 131.281C127.976 132.233 127.184 132.97 126.231 132.97H124.769C123.816 132.97 123.024 132.233 122.957 131.281L122.005 117.948Z",fill:"white"}))},Op=function(e){var t=e.state,n=Object(v.useTranslation)().t,r="";return r=Xi(t)?"assessment.timedOutScreen":Ap(t)?"strictHomework.timedOutScreen":"assessment.timedOutScreen",E.a.createElement("div",{className:Ht.a.timedPlaylistEndScreen_container},E.a.createElement("div",{className:qt()(Ht.a.timedPlaylistEndScreen,Ht.a.timedPlaylistTimedOut)},E.a.createElement("div",{className:Ht.a.timedPlaylistEndScreen_playlistTimedOutSVG},E.a.createElement(xp,null)),E.a.createElement("div",{className:Ht.a.timedPlaylistEndScreen_header},E.a.createElement("h2",null,n("".concat(r,".header")))),E.a.createElement("div",{className:Ht.a.timedPlaylistEndScreen_paragraph},E.a.createElement("p",null,n("".concat(r,".line1"))))))},Pp=function(e){var t=e.state,n=e.actions,r=Object(v.useTranslation)().t;return E.a.createElement(E.a.Fragment,null,E.a.createElement(Op,{state:t}),E.a.createElement("div",{"data-template":"timed-playlist-timedOut"},E.a.createElement("div",{"data-controls-bar":"true",className:Ht.a.controls},E.a.createElement("button",{className:"".concat(Ht.a.endPlaylistButton," ").concat(Ht.a.standardButton),type:"button",tabIndex:"0","aria-controls":"activity","aria-label":r("controls.navigation.closeTimedPlaylistButton.ariaLabel"),onClick:n.onCloseWindow,key:"close-window-button","data-player-control":"close-window-button"},E.a.createElement("span",null,r("controls.navigation.closeTimedPlaylistButton.caption"))))))},kp=function(e){return!!Xt(e)&&(e.playerStatus===q.timedPlaylistFinishScreenActive||(console.log("player status incorrect"),!1))},Tp=function(e){var t=e.actions.onTimedPlaylistComplete,n=E.a.useContext(an).state,r=Object(v.useTranslation)().t;return kp(n)?E.a.createElement("button",{className:"".concat(Ht.a.timedPlaylistSubmitButton," ").concat(Ht.a.standardButton),type:"button",tabIndex:"0","aria-controls":"activity","aria-label":r("controls.navigation.endTimedPlaylistButton.ariaLabel"),onClick:t,key:"timed-playlist-submit-button","data-player-control":"timed-playlist-submit-button"},E.a.createElement("span",null,r("controls.navigation.endTimedPlaylistButton.caption"))," ",E.a.createElement(Hc,null)):null},Lp=function(e){return Xt(e)?eu(e)?e.playerStatus===q.timedPlaylistFinishScreenActive:(console.log("no playlist"),!1):(console.log("not in timed playlist"),!1)},jp=function(e){var t=e.actions.onGotoTimedPlaylistActivitySet,n=E.a.useContext(an).state,r=Object(v.useTranslation)().t,a=n.viewActivityOptions.playList,i=a.ids[a.ids.length-1];return Lp(n)?E.a.createElement("button",{className:"".concat(Ht.a.lastTimedPlaylistActivitySetButton," ").concat(Ht.a.standardButton),type:"button",tabIndex:"0","aria-controls":"activity","aria-label":r("controls.navigation.lastTimedPlaylistActivitySetButton.ariaLabel"),onClick:function(){return t(i)},key:"last-timed-playlist-activity-set-button","data-player-control":"last-timed-playlist-activity-set-button"},E.a.createElement(fu,null)," ",E.a.createElement("span",null,r("controls.navigation.lastTimedPlaylistActivitySetButton.caption"))):null},Mp=function(){return E.a.createElement("svg",{width:"188",height:"188",viewBox:"0 0 188 188",fill:"none",xmlns:"http://www.w3.org/2000/svg"},E.a.createElement("aria-title",{id:"timedPlaylistFinishSVG"},"timed playlist finish"),E.a.createElement("circle",{cx:"94",cy:"94",r:"94",fill:"#F6F6F6"}),E.a.createElement("path",{d:"M43.0195 91.6483L94.9212 117.186C95.878 117.657 97.0222 117.521 97.8423 116.84L142.322 79.8598L148.694 133.537C148.87 135.019 147.811 136.363 146.329 136.539L52.3941 147.691C50.9119 147.867 49.5676 146.808 49.3917 145.325L43.0195 91.6483Z",fill:"#E5E5E5"}),E.a.createElement("path",{d:"M43.0472 91.8807C42.8313 90.062 43.5509 88.2578 44.9592 87.0869L85.8329 53.1054C87.4729 51.7419 89.7614 51.4702 91.675 52.4119L139.369 75.8794C141.012 76.6879 142.134 78.2736 142.35 80.0922L148.376 130.853C148.728 133.818 146.61 136.506 143.645 136.858L55.0781 147.372C52.1135 147.724 49.425 145.606 49.0731 142.642L43.0472 91.8807Z",fill:"#B2B2B2"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M63.0393 51.0507C63.0393 48.679 64.9744 46.7562 67.3615 46.7562H126.252C128.639 46.7562 130.574 48.679 130.574 51.0507V122.984C130.574 125.356 128.639 127.278 126.252 127.278H67.3615C64.9744 127.278 63.0393 125.356 63.0393 122.984V51.0507Z",fill:"#E5E5E5"}),E.a.createElement("path",{d:"M64.338 51.0507C64.338 49.4041 65.6838 48.055 67.3615 48.055H126.252C127.929 48.055 129.275 49.4041 129.275 51.0507V122.984C129.275 124.63 127.929 125.98 126.252 125.98H67.3615C65.6838 125.98 64.338 124.63 64.338 122.984V51.0507Z",stroke:"#CCCCCC",strokeOpacity:"0.48",strokeWidth:"2.59749"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M55.6797 43.7751C55.6797 41.3395 57.6541 39.3651 60.0896 39.3651H120.175C122.611 39.3651 124.585 41.3395 124.585 43.7751V117.642C124.585 120.077 122.611 122.052 120.175 122.052H60.0896C57.6541 122.052 55.6797 120.077 55.6797 117.642V43.7751Z",fill:"#C7C7C7"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M60.0898 47.0824C60.0898 45.2557 61.5706 43.7749 63.3973 43.7749H116.868C118.695 43.7749 120.175 45.2557 120.175 47.0824V114.334C120.175 116.161 118.695 117.642 116.868 117.642H79.3834C68.7278 117.642 60.0898 109.004 60.0898 98.3481V47.0824Z",fill:"white"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M66.7048 57.005C66.7048 55.7872 67.692 54.8 68.9098 54.8H94.9561C96.1739 54.8 97.1611 55.7872 97.1611 57.005C97.1611 58.2229 96.1739 59.21 94.9561 59.21H68.9098C67.692 59.21 66.7048 58.2229 66.7048 57.005Z",fill:"#E5E5E5"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M66.7048 69.6836C66.7048 68.4658 67.692 67.4786 68.9098 67.4786H109.978C111.195 67.4786 112.182 68.4658 112.182 69.6836C112.182 70.9014 111.195 71.8886 109.978 71.8886H68.9098C67.692 71.8886 66.7048 70.9014 66.7048 69.6836Z",fill:"#E5E5E5"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M66.7048 78.5033C66.7048 77.2855 67.692 76.2983 68.9098 76.2983H109.978C111.195 76.2983 112.182 77.2855 112.182 78.5033C112.182 79.7212 111.195 80.7083 109.978 80.7083H68.9098C67.692 80.7083 66.7048 79.7212 66.7048 78.5033Z",fill:"#E5E5E5"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M66.7048 87.3233C66.7048 86.1054 67.692 85.1183 68.9098 85.1183H109.978C111.195 85.1183 112.182 86.1054 112.182 87.3233C112.182 88.5411 111.195 89.5282 109.978 89.5282H68.9098C67.692 89.5282 66.7048 88.5411 66.7048 87.3233Z",fill:"#E5E5E5"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M66.7048 96.1432C66.7048 94.9254 67.692 93.9382 68.9098 93.9382H86.5496C87.7675 93.9382 88.7546 94.9254 88.7546 96.1432C88.7546 97.361 87.7675 98.3482 86.5496 98.3482H68.9098C67.692 98.3482 66.7048 97.361 66.7048 96.1432Z",fill:"#E5E5E5"}),E.a.createElement("path",{d:"M43.0195 91.6483L94.9212 117.186C95.878 117.657 97.0222 117.521 97.8423 116.84L142.322 79.8598L148.694 133.537C148.87 135.019 147.811 136.363 146.329 136.539L52.3941 147.691C50.9119 147.867 49.5676 146.808 49.3917 145.325L43.0195 91.6483Z",fill:"#E5E5E5"}),E.a.createElement("path",{d:"M102.871 112.659L104.558 111.256L144.904 131.744C145.405 131.999 145.601 132.614 145.339 133.112C145.082 133.599 144.482 133.79 143.991 133.541L102.871 112.659Z",fill:"#CCCCCC"}),E.a.createElement("path",{d:"M87.085 113.33L89.054 114.299L53.9656 144.228C53.5467 144.585 52.9185 144.54 52.5551 144.126C52.1839 143.704 52.2303 143.06 52.658 142.695L87.085 113.33Z",fill:"#CCCCCC"}),E.a.createElement("path",{className:"svgUpdateFill",d:"M125 152C139.912 152 152 139.912 152 125C152 110.088 139.912 98 125 98C110.088 98 98 110.088 98 125C98 139.912 110.088 152 125 152Z",fill:"#2E61D0"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M123.879 112.879C125.05 111.707 126.95 111.707 128.121 112.879L138.121 122.879C139.293 124.05 139.293 125.95 138.121 127.121L128.121 137.121C126.95 138.293 125.05 138.293 123.879 137.121C122.707 135.95 122.707 134.05 123.879 132.879L128.757 128H114C112.343 128 111 126.657 111 125C111 123.343 112.343 122 114 122H128.757L123.879 117.121C122.707 115.95 122.707 114.05 123.879 112.879Z",fill:"white"}))},Np=function(e){var t=e.state,n=Object(v.useTranslation)().t,r="";return r=Xi(t)?"assessment.finishScreen":Ap(t)?"strictHomework.finishScreen":"assessment.finishScreen",E.a.createElement("div",{className:Ht.a.timedPlaylistEndScreen_container},E.a.createElement("div",{className:qt()(Ht.a.timedPlaylistEndScreen,Ht.a.timedPlaylistFinish)},E.a.createElement("div",{className:Ht.a.timedPlaylistEndScreen_playlistFinishSVG},E.a.createElement(Mp,null)),E.a.createElement("div",{className:Ht.a.timedPlaylistEndScreen_header},E.a.createElement("h2",null,n("".concat(r,".header")))),E.a.createElement("div",{className:Ht.a.timedPlaylistEndScreen_paragraph},E.a.createElement("p",null,n("".concat(r,".line1"))))))},Ip=function(e){var t=e.state,n=e.actions;return E.a.createElement(E.a.Fragment,null,E.a.createElement(Np,{state:t}),E.a.createElement("div",{"data-template":"timed-playlist-finish"},E.a.createElement("div",{"data-controls-bar":"true",className:Ht.a.controls},E.a.createElement(jp,{actions:n}),E.a.createElement(Tp,{actions:n}))))},Fp=function(e){var t=e.actions,n=E.a.useContext(an).state;switch(n.playerStatus){case q.noAttemptAvailable:return E.a.createElement(Zd,{actions:t});case q.timedPlaylistCompleteScreenActive:return E.a.createElement(Ep,{state:n,actions:t});case q.timedPlaylistTimeoutScreenActive:return E.a.createElement(Pp,{state:n,actions:t});case q.timedPlaylistFinishScreenActive:return E.a.createElement(Ip,{state:n,actions:t})}var r=Ve(n).activity.gradableType;switch(r){case Q:return E.a.createElement($u,{state:n,actions:t});case Y:return E.a.createElement(Vs,{state:n,actions:t});case te:return E.a.createElement(cp,{state:n,actions:t});case ne:return E.a.createElement(vp,{state:n,actions:t});case ee:return E.a.createElement(Xd,{state:n,actions:t});case $:return E.a.createElement(Vd,{state:n,actions:t});case re:return E.a.createElement(_p,{state:n,actions:t});case X:return E.a.createElement(id,{state:n,actions:t})}throw new Error("no template for gradableType ".concat(r))},Dp=function(){return E.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24.002644 24.002676",fill:"none",version:"1.1",id:"svg14",xmlns:"http://www.w3.org/2000/svg"},E.a.createElement("defs",{id:"defs18"}),E.a.createElement("mask",{id:"path-1-inside-1_3497_6477",fill:"#ffffff"},E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M 11.469,0.219364 C 11.5387,0.149519 11.6214,0.094105 11.7125,0.0562953 11.8037,0.0184856 11.9013,-9.76563e-4 12,-9.76562e-4 c 0.0986,-10e-10 0.1963,0.019462162 0.2874,0.057271862 0.0912,0.0378097 0.1739,0.0932237 0.2436,0.1630687 l 3,2.999996 c 0.0697,0.06974 0.125,0.15252 0.1628,0.24363 0.0377,0.09111 0.0571,0.18876 0.0571,0.28737 0,0.09862 -0.0194,0.19627 -0.0571,0.28738 C 15.656,4.12885 15.6007,4.21163 15.531,4.28136 15.4613,4.3511 15.3785,4.40641 15.2874,4.44415 15.1963,4.48189 15.0986,4.50131 15,4.50131 14.9014,4.50131 14.8037,4.48189 14.7126,4.44415 14.6215,4.40641 14.5387,4.3511 14.469,4.28136 L 12.75,2.56086 v 5.6895 c 0,0.19892 -0.079,0.38968 -0.2197,0.53033 C 12.3897,8.92135 12.1989,9.00036 12,9.00036 11.8011,9.00036 11.6103,8.92135 11.4697,8.78069 11.329,8.64004 11.25,8.44928 11.25,8.25036 V 2.56086 L 9.531,4.28136 C 9.39017,4.42219 9.19916,4.50131 9,4.50131 8.80083,4.50131 8.60983,4.42219 8.469,4.28136 8.32817,4.14053 8.24905,3.94953 8.24905,3.75036 8.24905,3.5512 8.32817,3.36019 8.469,3.21936 Z M 12,15.0004 c 0.1989,0 0.3897,0.079 0.5303,0.2196 0.1407,0.1407 0.2197,0.3315 0.2197,0.5304 v 5.6895 l 1.719,-1.7205 c 0.1408,-0.1409 0.3318,-0.22 0.531,-0.22 0.1992,0 0.3902,0.0791 0.531,0.22 0.1408,0.1408 0.2199,0.3318 0.2199,0.531 0,0.1991 -0.0791,0.3901 -0.2199,0.531 l -3,3 c -0.0697,0.0698 -0.1524,0.1252 -0.2436,0.163 -0.0911,0.0378 -0.1888,0.0573 -0.2874,0.0573 -0.0987,0 -0.1963,-0.0195 -0.2875,-0.0573 -0.0911,-0.0378 -0.1738,-0.0932 -0.2435,-0.163 l -3,-3 C 8.39927,20.7116 8.34395,20.6288 8.30621,20.5377 8.26847,20.4466 8.24905,20.349 8.24905,20.2504 c 0,-0.0987 0.01942,-0.1963 0.05716,-0.2874 0.03774,-0.0911 0.09306,-0.1739 0.16279,-0.2436 0.14083,-0.1409 0.33183,-0.22 0.531,-0.22 0.09861,0 0.19626,0.0194 0.28737,0.0572 0.09111,0.0377 0.1739,0.093 0.24363,0.1628 l 1.719,1.7205 v -5.6895 c 0,-0.1989 0.079,-0.3897 0.2197,-0.5304 C 11.6103,15.0794 11.8011,15.0004 12,15.0004 Z M 0.218998,12.5314 C 0.149153,12.4617 0.0937388,12.3789 0.0559291,12.2878 0.0181194,12.1967 -0.00134277,12.099 -0.00134277,12.0004 c 0,-0.0987 0.01946217,-0.1964 0.05727187,-0.2875 C 0.0937388,11.6218 0.149153,11.539 0.218998,11.4694 L 3.219,8.46936 C 3.35983,8.32853 3.55083,8.24942 3.75,8.24942 c 0.19916,0 0.39017,0.07911 0.531,0.21994 0.14083,0.14083 0.21995,0.33184 0.21995,0.531 0,0.19917 -0.07912,0.39017 -0.21995,0.531 L 2.5605,11.2504 H 8.25 c 0.19891,0 0.38968,0.079 0.53033,0.2196 C 8.92098,11.6107 9,11.8015 9,12.0004 9,12.1993 8.92098,12.39 8.78033,12.5307 8.63968,12.6713 8.44891,12.7504 8.25,12.7504 H 2.5605 l 1.7205,1.719 c 0.14083,0.1408 0.21995,0.3318 0.21995,0.531 0,0.1991 -0.07912,0.3901 -0.21995,0.531 -0.14083,0.1408 -0.33184,0.2199 -0.531,0.2199 -0.19917,0 -0.39017,-0.0791 -0.531,-0.2199 z M 15,12.0004 c 0,-0.1989 0.079,-0.3897 0.2197,-0.5304 0.1406,-0.1406 0.3314,-0.2196 0.5303,-0.2196 h 5.6895 L 19.719,9.53136 C 19.6493,9.46163 19.594,9.37885 19.5562,9.28774 19.5185,9.19663 19.4991,9.09898 19.4991,9.00036 c 0,-0.09861 0.0194,-0.19626 0.0571,-0.28737 0.0378,-0.09111 0.0931,-0.17389 0.1628,-0.24363 0.1408,-0.14083 0.3318,-0.21994 0.531,-0.21994 0.0986,0 0.1963,0.01942 0.2874,0.05716 0.0911,0.03774 0.1739,0.09305 0.2436,0.16278 l 3,3.00004 c 0.0698,0.0696 0.1253,0.1524 0.1631,0.2435 0.0378,0.0911 0.0572,0.1888 0.0572,0.2875 0,0.0986 -0.0194,0.1963 -0.0572,0.2874 -0.0378,0.0911 -0.0933,0.1739 -0.1631,0.2436 l -3,3 c -0.0697,0.0697 -0.1525,0.125 -0.2436,0.1627 -0.0911,0.0378 -0.1888,0.0572 -0.2874,0.0572 -0.0986,0 -0.1963,-0.0194 -0.2874,-0.0572 -0.0911,-0.0377 -0.1739,-0.093 -0.2436,-0.1627 -0.0697,-0.0698 -0.125,-0.1526 -0.1628,-0.2437 -0.0377,-0.0911 -0.0571,-0.1887 -0.0571,-0.2873 0,-0.0987 0.0194,-0.1963 0.0571,-0.2874 0.0378,-0.0911 0.0931,-0.1739 0.1628,-0.2436 l 1.7205,-1.719 H 15.75 c -0.1989,0 -0.3897,-0.0791 -0.5303,-0.2197 C 15.079,12.39 15,12.1993 15,12.0004 Z",id:"path9"})),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M 11.469,0.219364 C 11.5387,0.149519 11.6214,0.094105 11.7125,0.0562953 11.8037,0.0184856 11.9013,-9.76563e-4 12,-9.76562e-4 c 0.0986,-10e-10 0.1963,0.019462162 0.2874,0.057271862 0.0912,0.0378097 0.1739,0.0932237 0.2436,0.1630687 l 3,2.999996 c 0.0697,0.06974 0.125,0.15252 0.1628,0.24363 0.0377,0.09111 0.0571,0.18876 0.0571,0.28737 0,0.09862 -0.0194,0.19627 -0.0571,0.28738 C 15.656,4.12885 15.6007,4.21163 15.531,4.28136 15.4613,4.3511 15.3785,4.40641 15.2874,4.44415 15.1963,4.48189 15.0986,4.50131 15,4.50131 14.9014,4.50131 14.8037,4.48189 14.7126,4.44415 14.6215,4.40641 14.5387,4.3511 14.469,4.28136 L 12.75,2.56086 v 5.6895 c 0,0.19892 -0.079,0.38968 -0.2197,0.53033 C 12.3897,8.92135 12.1989,9.00036 12,9.00036 11.8011,9.00036 11.6103,8.92135 11.4697,8.78069 11.329,8.64004 11.25,8.44928 11.25,8.25036 V 2.56086 L 9.531,4.28136 C 9.39017,4.42219 9.19916,4.50131 9,4.50131 8.80083,4.50131 8.60983,4.42219 8.469,4.28136 8.32817,4.14053 8.24905,3.94953 8.24905,3.75036 8.24905,3.5512 8.32817,3.36019 8.469,3.21936 Z M 12,15.0004 c 0.1989,0 0.3897,0.079 0.5303,0.2196 0.1407,0.1407 0.2197,0.3315 0.2197,0.5304 v 5.6895 l 1.719,-1.7205 c 0.1408,-0.1409 0.3318,-0.22 0.531,-0.22 0.1992,0 0.3902,0.0791 0.531,0.22 0.1408,0.1408 0.2199,0.3318 0.2199,0.531 0,0.1991 -0.0791,0.3901 -0.2199,0.531 l -3,3 c -0.0697,0.0698 -0.1524,0.1252 -0.2436,0.163 -0.0911,0.0378 -0.1888,0.0573 -0.2874,0.0573 -0.0987,0 -0.1963,-0.0195 -0.2875,-0.0573 -0.0911,-0.0378 -0.1738,-0.0932 -0.2435,-0.163 l -3,-3 C 8.39927,20.7116 8.34395,20.6288 8.30621,20.5377 8.26847,20.4466 8.24905,20.349 8.24905,20.2504 c 0,-0.0987 0.01942,-0.1963 0.05716,-0.2874 0.03774,-0.0911 0.09306,-0.1739 0.16279,-0.2436 0.14083,-0.1409 0.33183,-0.22 0.531,-0.22 0.09861,0 0.19626,0.0194 0.28737,0.0572 0.09111,0.0377 0.1739,0.093 0.24363,0.1628 l 1.719,1.7205 v -5.6895 c 0,-0.1989 0.079,-0.3897 0.2197,-0.5304 C 11.6103,15.0794 11.8011,15.0004 12,15.0004 Z M 0.218998,12.5314 C 0.149153,12.4617 0.0937388,12.3789 0.0559291,12.2878 0.0181194,12.1967 -0.00134277,12.099 -0.00134277,12.0004 c 0,-0.0987 0.01946217,-0.1964 0.05727187,-0.2875 C 0.0937388,11.6218 0.149153,11.539 0.218998,11.4694 L 3.219,8.46936 C 3.35983,8.32853 3.55083,8.24942 3.75,8.24942 c 0.19916,0 0.39017,0.07911 0.531,0.21994 0.14083,0.14083 0.21995,0.33184 0.21995,0.531 0,0.19917 -0.07912,0.39017 -0.21995,0.531 L 2.5605,11.2504 H 8.25 c 0.19891,0 0.38968,0.079 0.53033,0.2196 C 8.92098,11.6107 9,11.8015 9,12.0004 9,12.1993 8.92098,12.39 8.78033,12.5307 8.63968,12.6713 8.44891,12.7504 8.25,12.7504 H 2.5605 l 1.7205,1.719 c 0.14083,0.1408 0.21995,0.3318 0.21995,0.531 0,0.1991 -0.07912,0.3901 -0.21995,0.531 -0.14083,0.1408 -0.33184,0.2199 -0.531,0.2199 -0.19917,0 -0.39017,-0.0791 -0.531,-0.2199 z M 15,12.0004 c 0,-0.1989 0.079,-0.3897 0.2197,-0.5304 0.1406,-0.1406 0.3314,-0.2196 0.5303,-0.2196 h 5.6895 L 19.719,9.53136 C 19.6493,9.46163 19.594,9.37885 19.5562,9.28774 19.5185,9.19663 19.4991,9.09898 19.4991,9.00036 c 0,-0.09861 0.0194,-0.19626 0.0571,-0.28737 0.0378,-0.09111 0.0931,-0.17389 0.1628,-0.24363 0.1408,-0.14083 0.3318,-0.21994 0.531,-0.21994 0.0986,0 0.1963,0.01942 0.2874,0.05716 0.0911,0.03774 0.1739,0.09305 0.2436,0.16278 l 3,3.00004 c 0.0698,0.0696 0.1253,0.1524 0.1631,0.2435 0.0378,0.0911 0.0572,0.1888 0.0572,0.2875 0,0.0986 -0.0194,0.1963 -0.0572,0.2874 -0.0378,0.0911 -0.0933,0.1739 -0.1631,0.2436 l -3,3 c -0.0697,0.0697 -0.1525,0.125 -0.2436,0.1627 -0.0911,0.0378 -0.1888,0.0572 -0.2874,0.0572 -0.0986,0 -0.1963,-0.0194 -0.2874,-0.0572 -0.0911,-0.0377 -0.1739,-0.093 -0.2436,-0.1627 -0.0697,-0.0698 -0.125,-0.1526 -0.1628,-0.2437 -0.0377,-0.0911 -0.0571,-0.1887 -0.0571,-0.2873 0,-0.0987 0.0194,-0.1963 0.0571,-0.2874 0.0378,-0.0911 0.0931,-0.1739 0.1628,-0.2436 l 1.7205,-1.719 H 15.75 c -0.1989,0 -0.3897,-0.0791 -0.5303,-0.2197 C 15.079,12.39 15,12.1993 15,12.0004 Z",fill:"#000000",stroke:"#000000",strokeWidth:"2",mask:"url(#path-1-inside-1_3497_6477)",id:"path12",transform:"translate(0.00134277,9.76562e-4)"}))},Rp=function(e){var t=e.title;return E.a.createElement("div",{"data-player-control":"title-bar-activity-set-title",className:Ht.a.titleBar_activitySetTitle},E.a.createElement("span",{className:Ht.a.titleBar_dragIcon},E.a.createElement(Dp,null)),E.a.createElement("p",{tabIndex:"0","aria-live":"polite"},E.a.createElement("span",null,t)))},Wp=[q.rcfLoaded,q.coverScreenActive,q.multiStepCoverScreenActive,q.multiStepScoreScreenActive,q.itemScoreScreenActive,q.timedPlaylistCompleteScreenActive,q.timedPlaylistTimeoutScreenActive,q.timedPlaylistFinishScreenActive,q.noAttemptAvailable],zp=function(e){var t=e.onClick,n=Object(v.useTranslation)().t,r=E.a.useContext(an).state,a=Wp.includes(r.playerStatus);return console.log(new Date,"status: ",r.playerStatus),E.a.createElement("button",{className:"".concat(Ht.a.titleBar_closeButton," ").concat(Ht.a.standardIcon),disabled:!a,type:"button",tabIndex:"0","aria-label":n("components.titleBar.closeWindowButton.ariaLabel"),onClick:t,"data-player-control":"title-bar-close-button",key:"title-bar-close-button"},E.a.createElement(Js,null))},Gp=function(e){var t=e.actions,n=E.a.useContext(an).state;if(!en(n))return null;var r=Ve(n).activitySet.title,a=ve.includes(n.playerStatus)?r:"";return E.a.createElement("div",{className:Ht.a.titleBar},E.a.createElement(Rp,{title:a}),Yc(n)?null:E.a.createElement("div",{className:Ht.a.titleBar_buttons},E.a.createElement(Ul,{currentDisplayType:n.currentDisplayType,onClick:t.onRequestToggleWindowSize}),E.a.createElement(zp,{onClick:t.onCloseWindow})))},Hp=we()((function(e){var t=e.currentDisplayType;return!Yc(e)&&(t===mt.fullScreen||$t(e))})),Vp=function(e){var t=e.closeWindowAction,n=E.a.useContext(an).state;if(!Hp(n))return null;var r=Object(v.useTranslation)().t;return E.a.createElement("button",{className:"".concat(Ht.a.activitySetNavigation_closeButton," ").concat(Ht.a.standardIcon),type:"button",tabIndex:"0","aria-label":r("components.activitySetNavigation.closeButton.ariaLabel"),onClick:t,key:"activity-set-navigation-close-button","data-player-control":"activity-set-navigation-close-button"},E.a.createElement(Js,null))},qp=function(){return E.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true",role:"img",width:"24",height:"24",viewBox:"0 0 24 24","aria-labelledby":"titleNextButton descNextButton"},E.a.createElement("aria-title",{id:"titleNextButton"},"Next arrow"),E.a.createElement("desc",{id:"descNextButton"},"Icon"),E.a.createElement("path",{d:"M7.7 4.5C7.5 4.3 7.2 4.2 7 4.2c-0.6 0-1 0.4-1 1v13.5c0 0.2 0.1 0.5 0.3 0.7 0.4 0.4 1 0.4 1.4 0.1l7.5-6.8c0 0 0.1 0 0.1-0.1 0.4-0.4 0.3-1-0.1-1.4L7.7 4.5z"}),E.a.createElement("path",{d:"M18 4c-0.6 0-1 0.4-1 1v14c0 0.6 0.4 1 1 1 0.6 0 1-0.4 1-1V5C19 4.4 18.6 4 18 4z"}))},Up=function(e){var t=e.nextActivitySetId,n=e.nextActivityAction,r=Object(v.useTranslation)().t;return E.a.createElement("button",{disabled:null===t,className:"".concat(Ht.a.activitySetNavigation_nextButton," ").concat(Ht.a.standardIcon),type:"button",tabIndex:"0","aria-controls":"activity","aria-label":r("components.activitySetNavigation.nextButton.ariaLabel"),onClick:n,key:"activity-set-navigation-next-button","data-player-control":"activity-set-navigation-next-button"},E.a.createElement(qp,null))},Zp=function(e){var t=e.previousActivitySetId,n=e.previousActivityAction,r=Object(v.useTranslation)().t;return E.a.createElement("button",{disabled:null===t,className:"".concat(Ht.a.activitySetNavigation_previousButton," ").concat(Ht.a.standardIcon),type:"button",tabIndex:"0","aria-controls":"activity","aria-label":r("components.activitySetNavigation.previousButton.ariaLabel"),onClick:n,key:"activity-set-navigation-previous-button","data-player-control":"activity-set-navigation-previous-button"},E.a.createElement(fu,null))},Kp=function(e){var t=e.currentIndex,n=e.playListCount,r=Object(v.useTranslation)().t;return E.a.createElement("span",{key:"activity-set-navigation-pagination-text","data-player-control":"activity-set-navigation-pagination-text",className:Ht.a.activitySetNavigation_paginationText,"aria-live":"polite"},0===n?"":r("components.activitySetNavigation.paginationText.label",{index:t+1,total:n}))},Jp=function(e){var t=e.storyStatus,n=e.playerStatus,r=e.storyDone,a=t||{},i=a.isCoverPage,o=a.isLastPage;return n===q.noAttemptAvailable||(Xt(e)?i||o:i||o||!!r)},Yp=function(e){var t=e.playerStatus,n=Qt(e),r=n.playListCount,a=n.isMultiStep;if(0===r)return!1;if(a&&!sn(e)&&!cn(e))return r>1&&e.playerStatus===q.noAttemptAvailable;switch(Ve(e).activity.gradableType){case I.itemBased:return!(t===q.rcfLoaded);case I.story:return Jp(e)}return!0},Qp=B.createContext(),Xp=function(e){var t=e.contentWindow,n=e.initialSecondsRemaining,r=e.enableTimer,i=e.onTimerComplete,o=e.children,c=e.resetTheTimer,s=B.useState(1e3*n),l=bd()(s,2),d=l[0],p=l[1],v=B.useState(r?Date.now():null),f=bd()(v,2),y=f[0],m=f[1],h=function(){m(null),p(1e3*n)},b=function(){var e=Date.now();m(e);var n=d-(y?e-y:1);n<=800?t.setTimeout(a()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),100):p(n)},w=B.createRef();B.useEffect((function(){return c&&h(),r&&d>0&&(w.current=t.setTimeout(b,200)),function(){return t.clearTimeout(w.current)}}),[r,d,c]);var g={secondsRemaining:parseInt(d/1e3),resetTimer:h,initialNumberOfSeconds:n};return B.createElement(Qp.Provider,{value:g},o)},$p=function(){var e=E.a.useContext(Qp).secondsRemaining,t=e<300,n=t?"":Ht.a.timedPlaylistTimer_hideInStrictHomework,r=t?Ht.a.timedPlaylistTimer_red:"",a=yd(e,!0);return E.a.createElement("div",{className:qt()(Ht.a.timedPlaylistTimer,n)},E.a.createElement("span",{key:"activity-set-navigation-playlist-timer","data-player-control":"activity-set-navigation-playlist-timer",className:"".concat(r),"aria-live":"polite"},a))},ev=function(e){var t=Object(B.useRef)(),n=Object(B.useState)(0),r=bd()(n,2),a=r[0],i=r[1];return Object(B.useEffect)((function(){var n=function(){t.current&&i(t.current.offsetWidth)};return e.addEventListener("resize",n),n(),function(){e.removeEventListener("resize",n)}}),[t]),[a,t]},tv=function(e){return e.playerStatus===q.timedPlaylistFinishScreenActive},nv=function(){return E.a.createElement("div",{className:Ht.a.paginationLoader},E.a.createElement("div",null),E.a.createElement("div",null),E.a.createElement("div",null),E.a.createElement("div",null))},rv=function(e){var t=e.actions,n=t.onGotoTimedPlaylistActivitySet,r=t.onTimedPlaylistFinish,a=E.a.useContext(an).state,i=Object(v.useTranslation)().t,o=a.rcfPlayerOptions.contentWebviewWindow;if(!a.timedPlaylistInProgress)return null;var c,s,l=tv(a),u=ev(o),d=bd()(u,2),p=d[0],f=d[1],y=a.viewActivityOptions,m=y.playList,h=y.activitySetId,b=a.playlistStatus,w="left",g="right",S="center",_=function(e){var t=m.ids.length,n=(e-((s=e>246)?64:0)+8)/38,r=Math.floor(n),a=m.ids.indexOf(h);if(t<=r)return m.ids;var i=r-2,o=(n-3)/2;return o+1>=a?(c=w,m.ids.slice(0,i)):t-o-2<=a?(c=g,m.ids.slice(t-i,t)):(c=S,o<0?m.ids.slice(a,a+1):m.ids.slice(a-Math.floor(o)+1,a+Math.round(o)))}(p).map((function(e){return E.a.createElement("button",{key:e,className:qt()(Ht.a.progressPagination_button,null!=b&&b[e]?Ht.a.progressPagination_attempted:void 0,h!==e||l?void 0:Ht.a.progressPagination_active),onClick:function(){return n(e)}},m.ids.indexOf(e)+1)})),C=function(){if(!s)return null;return E.a.createElement("button",{key:"timed-playlist-finish-button",className:qt()(Ht.a.progressPagination_button,Ht.a.progressPagination_finishButton,l?Ht.a.progressPagination_active:void 0),onClick:function(){return r()}},i("assessment.progressPaginationBar.finishButton.caption"))},A=function(){if(c===g||c===S){var e=m.ids[0],t=qt()(Ht.a.progressPagination_button,null!=b&&b[e]?Ht.a.progressPagination_attempted:void 0);return E.a.createElement(E.a.Fragment,null,E.a.createElement("button",{key:e,className:t,onClick:function(){return n(e)}},"1"),E.a.createElement("span",{className:Ht.a.progressPagination_ellipsis},"…"))}return null},B=function(){if(c===w||c===S){var e=m.ids[m.ids.length-1],t=qt()(Ht.a.progressPagination_button,null!=b&&b[e]?Ht.a.progressPagination_attempted:void 0);return E.a.createElement(E.a.Fragment,null,E.a.createElement("span",{className:Ht.a.progressPagination_ellipsis},"…"),E.a.createElement("button",{key:e,className:t,onClick:function(){return n(e)}},m.ids.length))}return null},x=function(){return E.a.createElement(E.a.Fragment,null,E.a.createElement(A,null),_,E.a.createElement(B,null),E.a.createElement(C,null))};return E.a.createElement("nav",{"data-player-control":"timed-playlist-progressPagination",className:Ht.a.timedPlaylistProgressPagination_pagination,tabIndex:"0",ref:f,"data-pagination-width":p},dt(a)||l||ln(a)||_n(a)?E.a.createElement(x,null):E.a.createElement(nv,null))},av=function(e){var t=e.closeTimedPlaylistWindow,n=E.a.useContext(an).state,r=Object(v.useTranslation)().t;return Xt(n)?E.a.createElement("button",{className:"".concat(Ht.a.activitySetNavigation_closeButton," ").concat(Ht.a.standardIcon),type:"button",tabIndex:"0","aria-label":r("components.activitySetNavigation.closeButton.ariaLabel"),onClick:t,key:"activity-set-navigation-close-button","data-player-control":"activity-set-navigation-close-button"},E.a.createElement(Js,null)):null},iv=function(e){var t=e.actions,n=E.a.useContext(an).state;if(!Yp(n))return null;var r,a=Qt(n),i=a.currentIndex,o=a.playListCount,c=a.nextActivitySetId,s=a.previousActivitySetId;if($t(n))return E.a.createElement("div",{className:"".concat(Ht.a.activitySetNavigation," ").concat(Ht.a.extendedActivitySetNavigation)},E.a.createElement("span",{className:Ht.a.activitySet_dragIcon},E.a.createElement(Dp,null)),E.a.createElement(Zp,{previousActivitySetId:s,previousActivityAction:t.onPreviousActivitySet}),E.a.createElement(Kp,{currentIndex:i,playListCount:o}),E.a.createElement(Up,{nextActivitySetId:c,nextActivityAction:t.onNextActivitySet}),Yc(n)?null:E.a.createElement("div",{className:Ht.a.activitySet_Buttons},E.a.createElement(Ul,{currentDisplayType:n.currentDisplayType,onClick:t.onRequestToggleWindowSize}),E.a.createElement(Vp,{closeWindowAction:t.onCloseWindow})));if(Xt(n)){var l=n.timedPlaylistInProgress?qt()(Ht.a.activitySetNavigation,Ht.a.timedPlaylistInProgress):Ht.a.activitySetNavigation;r=E.a.createElement("div",{className:l},n.timedPlaylistInProgress?E.a.createElement($p,null):null,E.a.createElement(rv,{actions:t,previousActivitySetId:s,previousActivityAction:t.onPreviousActivitySet,nextActivitySetId:c,nextActivityAction:t.onNextActivitySet}),E.a.createElement("div",{className:Ht.a.activitySet_titleBarButtons},E.a.createElement(Ul,{currentDisplayType:n.currentDisplayType,onClick:t.onRequestToggleWindowSize}),E.a.createElement(av,{closeTimedPlaylistWindow:t.onCloseTimedPlaylistWindow})))}else r=E.a.createElement("div",{className:Ht.a.activitySetNavigation},E.a.createElement("div",{className:Ht.a.navigationArrowsContainer},E.a.createElement(Zp,{previousActivitySetId:s,previousActivityAction:t.onPreviousActivitySet}),E.a.createElement(Up,{nextActivitySetId:c,nextActivityAction:t.onNextActivitySet})),E.a.createElement(Kp,{currentIndex:i,playListCount:o}),E.a.createElement(Vp,{closeWindowAction:t.onCloseWindow}));return r},ov=function(e){var t=e.querySelectorAll(".activity[data-isitembased='y'][data-fixedwordpools='y'] .itemBasedQuestion.active .wordBox").length>0,n=e.querySelectorAll(".activity[data-isitembased='n'][data-fixedwordpools='y'] .wordBox").length>0;return t||n},cv=(Ac={},O()(Ac,mt.windowed,Ht.a.windowed),O()(Ac,mt.maximized,Ht.a.maximized),O()(Ac,mt.fullScreen,Ht.a.fullScreen),Ac),sv=(Bc={},O()(Bc,"window",Ht.a.devContainerWindow),O()(Bc,"div",Ht.a.devContainerDiv),Bc),lv=(Ec={},O()(Ec,Be.test,Ht.a.itemBased_test),O()(Ec,Be.practice,Ht.a.itemBased_practice),O()(Ec,Be.challenge,Ht.a.itemBased_challenge),O()(Ec,Be.review,Ht.a.itemBased_review),O()(Ec,Be.flashcard,Ht.a.has_flashcard),O()(Ec,Be.storyReading,Ht.a.has_story_reading),O()(Ec,Be.storyComprehension,Ht.a.has_story_comprehension),Ec),uv=(xc={},O()(xc,q.rcfLoaded,Ht.a.has_content),O()(xc,q.coverScreenActive,Ht.a.has_itemBasedCoverScreen),O()(xc,q.itemScoreScreenActive,Ht.a.has_itemBasedScoreScreen),O()(xc,q.multiStepCoverScreenActive,Ht.a.has_multiStepCoverScreen),O()(xc,q.multiStepScoreScreenActive,Ht.a.has_multiStepScoreScreen),O()(xc,q.noAttemptAvailable,Ht.a.has_noAttemptAvailable),O()(xc,q.timedPlaylistTimeoutScreenActive,Ht.a.has_timedPlaylistEndScreen),O()(xc,q.timedPlaylistCompleteScreenActive,Ht.a.has_timedPlaylistEndScreen),O()(xc,q.timedPlaylistFinishScreenActive,Ht.a.has_timedPlaylistEndScreen),xc),dv=function(e){var t,n=e.state,r=e.theme,a=e.children,i=n.rcfPlayerOptions.rootDiv?"div":"window",o=n.currentDisplayType,c=n.itemBasedProgressKnown,s=n.rcfPlayerOptions.contentWebviewDocument,l=Ve(n),u=Dc(l),d=l.activityMode,p=l.activity.usesFixedWordBoxes;St(n)&&(t=_t(n)?"progressive":"random");var v=n.hasControlsBar,f=n.hasScoreCard,y=p&&ov(s),h=qt()(cv[String(o)],uv[String(n.playerStatus)],lv[String(d)],sv[i],Yp(n)?Ht.a.has_activitySetNavigation:void 0,f?Ht.a.has_scoreCard:void 0,v?Ht.a.has_controls:void 0,Kl(n)?Ht.a.has_multiStepHeader:void 0,en(n)?Ht.a.has_titleBar:void 0,_d(n)?Ht.a.has_itemBasedHeader:void 0,n.isVisible?void 0:Ht.a.hidden,rn(n)?Ht.a.has_rcfActivityActivitySetTitle:void 0,y?Ht.a.has_fixedWordBox:void 0,u?Ht.a.has_pendingMarks:void 0,Yc(n)?Ht.a.hostedByScorm:void 0),b=n.fontSizeControl.currentFontSize;return E.a.createElement("div",{id:"top-level-details",className:"topLevelDetails lang_".concat(m.language," ").concat(h," ").concat(r," ").concat(b),"data-link-origin":n.viewActivityOptions.linkOrigin,"data-user-role":n.viewActivityOptions.userRole,"data-activity-mode":d,"data-display-type":o,"data-challenge-mode":t,"data-item-based-progress-known":c},a)},pv=function(e){var t=e.state,n=Object(v.useTranslation)().t;return Dn(t)?E.a.createElement("div",{"data-player-control":"reviewMode-label",className:Ht.a.itemBased_reviewModeLabel},E.a.createElement("span",null,n("itemBasedActivities.teacherReviewLabel"))):null},vv=function(e){var t=Ve(e),n=t.activity.itemBasedTimeLimit;return t.activity&&n&&n>0?Number(n):60},fv=function(){return E.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true",role:"img",width:"15",height:"16",viewBox:"0 0 15 16",xmlSpace:"preserve","aria-labelledby":"titleLives"},E.a.createElement("aria-title",{id:"titleTimer"},"Timer icon"),E.a.createElement("path",{d:"M6.5 6c-.6 0-1 .4-1 1v2c0 .6.4 1 1 1s1-.4 1-1V7c0-.6-.4-1-1-1zM5 2h3c.6 0 1-.4 1-1s-.4-1-1-1H5c-.6 0-1 .4-1 1s.4 1 1 1zM14.1 3.2l-2-1.6c-.4-.3-1.1-.3-1.4.2-.3.4-.3 1.1.2 1.4l2 1.6c.2.1.4.2.6.2.3 0 .6-.1.8-.4.3-.4.3-1-.2-1.4z",className:"st0"}),E.a.createElement("path",{d:"M6.5 3C2.9 3 0 5.9 0 9.5S2.9 16 6.5 16 13 13.1 13 9.5 10.1 3 6.5 3zm0 11C4 14 2 12 2 9.5S4 5 6.5 5 11 7 11 9.5 9 14 6.5 14z",className:"st0"}))},yv=function(e){var t=e.state,n=Object(v.useTranslation)().t,r=Ve(t).activity,a=_t(t),i=ke(r).length,o=vv(t),c=a?n("coverScreens.itemBasedCoverScreen.progressiveChallengeLabel",{timeLimit:o}):n("coverScreens.itemBasedCoverScreen.standardLabel",{questionCount:i});return E.a.createElement("div",{className:Ht.a.coverScreen_conditionsContainer},E.a.createElement("p",null,c,E.a.createElement("span",{className:Ht.a.coverScreen_conditionsLabels},E.a.createElement(sd,null),E.a.createElement(fv,null))))},mv=function(e){var t,n=e.activityMode,r=e.isItemBasedProgressiveChallengeMode,a=Object(v.useTranslation)().t;return gt(n)&&(t=r?E.a.createElement("p",{className:qt()(Ht.a.coverScreen_rulesForChallenge)},a("coverScreens.itemBasedCoverScreen.rules.progressiveChallengeMode")):E.a.createElement("p",{className:qt()(Ht.a.coverScreen_rulesForChallenge)},a("coverScreens.itemBasedCoverScreen.rules.standardChallengeMode"))),n===D.practice&&(t=E.a.createElement("p",{className:qt()(Ht.a.coverScreen_rulesForPractice)},a("coverScreens.itemBasedCoverScreen.rules.practiceMode"))),n===D.test&&(t=E.a.createElement("p",{className:qt()(Ht.a.coverScreen_rulesFortest)},a("coverScreens.itemBasedCoverScreen.rules.testMode"))),void 0!==t?E.a.createElement("div",{className:Ht.a.coverScreen_rulesContainer},E.a.createElement("h3",null,a("coverScreens.itemBasedCoverScreen.rulesLabel")),E.a.createElement("div",{className:Ht.a.coverScreen_rules},t)):null},hv=function(e){var t,n=e.activityMode,r=Object(v.useTranslation)().t;return gt(n)&&(t=E.a.createElement("p",{className:qt()(Ht.a.coverScreen_promptForChallenge)},r("coverScreens.itemBasedCoverScreen.prompts.challengeMode"))),n===D.practice&&(t=E.a.createElement("p",{className:qt()(Ht.a.coverScreen_promptForPractice)},r("coverScreens.itemBasedCoverScreen.prompts.practiceMode"))),n===D.test&&(t=E.a.createElement("p",{className:qt()(Ht.a.coverScreen_promptForTest)},r("coverScreens.itemBasedCoverScreen.prompts.testMode"))),void 0!==t?E.a.createElement("div",{className:Ht.a.coverScreen_promptContainer},t):null},bv=function(e){var t=e.activitySet,n=t.description;return!n||n.length<1?null:E.a.createElement("div",{className:Ht.a.coverScreen_activitySetDescriptionContainer},E.a.createElement("div",{className:Ht.a.coverScreen_activitySetDescription,"data-player-control":"activity-set-description"},E.a.createElement("p",null,t.description)))},wv=function(){return E.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true",role:"img",width:"24",height:"24",viewBox:"0 0 24 24",xmlSpace:"preserve"},E.a.createElement("path",{d:"M23.2 16.4l-2.8-4.7c-.7-1.2-2.1-1.7-3.4-1.3l-3.4 1L11.4 8c-.8-1.3-2.4-1.7-3.7-.9-.6.4-1 1-1.2 1.7-.2.7-.1 1.4.3 2l3.7 6.2H8.9c-1.5 0-2.7 1.1-3 2.5v.2c-.1.7.1 1.3.5 1.9.4.5 1 .9 1.7.9l3.6.4c1 .1 1.9.4 2.5.7.4.2.9.3 1.3.3.5 0 1.1-.1 1.5-.4l5-3c1.6-.8 2-2.6 1.2-4.1zm-2.1 2.4l-5 3c-.3.2-.7.2-1 0-.9-.4-2-.7-3.2-.9l-3.6-.4c-.1 0-.3-.1-.4-.2-.1-.1-.1-.3-.1-.4.2-.5.7-.9 1.2-.9h1.6c1.1 0 2-.9 1.9-2.1 0-.3-.1-.7-.3-1L8.5 9.7c-.1-.1-.1-.3-.1-.5s.2-.3.3-.4c.4-.2.8-.1 1 .2l2.9 4.8 4.9-1.5c.4-.1.9.1 1.1.4l2.8 4.7c.3.5.2 1.2-.3 1.4zM4.3 10.9L.9 13c-.5.3-.6.9-.3 1.4.2.3.5.5.9.5.2 0 .4 0 .5-.1l3.4-2.1c.5-.3.6-.9.3-1.4-.3-.6-.9-.7-1.4-.4zM12.5 7.1c.2.3.5.5.9.5.2 0 .4 0 .5-.1l3.4-2.1c.5-.3.7-.9.4-1.4-.3-.5-.9-.6-1.4-.3l-3.4 2.1c-.5.2-.6.8-.4 1.3zM10.4 5c.1 0 .2.1.3.1.4 0 .8-.3.9-.7l1-2.9c.2-.5-.1-1.1-.6-1.2-.5-.2-1.1.1-1.3.6l-1 2.9c-.1.5.2 1.1.7 1.2zM3.6 9.2c.1 0 .2.1.3.1.4 0 .8-.3.9-.7.2-.6-.1-1.2-.6-1.3l-2.9-1c-.5-.2-1.1.1-1.2.6-.2.5.1 1.1.6 1.3l2.9 1zM5.4 4.9c.2.3.5.5.9.5.2 0 .4 0 .5-.1.5-.3.6-.9.3-1.4L5.1.5C4.8 0 4.2-.1 3.7.1c-.5.3-.6.9-.3 1.4l2 3.4z"}))},gv=function(e){var t=e.activitySet,n=Object(v.useTranslation)().t,r=t.activities.length;return E.a.createElement("li",null,E.a.createElement(wv,null),n("coverScreens.multiStepCoverScreen.activitiesToComplete.label",{count:r}))},Sv=function(){return E.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true",role:"img",width:"24",height:"24",viewBox:"0 0 24 24",xmlSpace:"preserve"},E.a.createElement("path",{d:"M19 14c-.6 0-1 .4-1 1v2c0 .3-.2.7-.5.9-1.2.7-3.1 1.1-5.5 1.1s-4.3-.4-5.5-1.1c-.3-.2-.5-.5-.5-.9v-2c0-.6-.4-1-1-1s-1 .4-1 1v2c0 1 .6 2 1.5 2.6C7 20.5 9.2 21 12 21s5-.5 6.5-1.4c.9-.5 1.5-1.5 1.5-2.6v-2c0-.6-.4-1-1-1z"}),E.a.createElement("path",{d:"M22.4 7l-8.2-3.5c-1.3-.5-3-.5-4.3 0L1.6 7C.6 7.4 0 8.1 0 9c0 .7.4 1.3 1 1.7V17c0 .6.4 1 1 1s1-.4 1-1v-5.3h.1l6.7 2.9c.6.3 1.4.4 2.2.4.8 0 1.5-.1 2.1-.4l8.2-3.5c1-.4 1.6-1.2 1.6-2 .1-1-.5-1.7-1.5-2.1zm-.8 2.2l-8.2 3.5c-.8.3-2 .3-2.7 0l-4.9-2.1c.2-.3.3-.6.2-1-.2-.4-.8-.7-1.3-.5l-1.5.4-.8-.3c-.2-.1-.3-.1-.3-.2.1-.1.2-.1.4-.2l8.2-3.5c.8-.3 2-.3 2.7 0l8.2 3.5c.2.1.3.2.4.2-.1.1-.2.1-.4.2z"}))},_v=function(e){var t=e.activitySet,n=e.manifestDetails,r=Object(v.useTranslation)().t;return bu(t,n)?E.a.createElement("li",null,E.a.createElement(Sv,null),r("coverScreens.multiStepCoverScreen.containsOpenGradables")):null},Cv=function(e){var t=e.activitySet,n=e.manifestDetails;return E.a.createElement("div",{className:Ht.a.coverScreen_activitySetDetails},E.a.createElement("ul",null,E.a.createElement(gv,{activitySet:t}),E.a.createElement(_v,{activitySet:t,manifestDetails:n})))},Av=function(){return E.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",focusable:"false",role:"img",width:"188",height:"188",viewBox:"0 0 188 188","aria-labelledby":"titleItemBasedMode descItemBasedMode"},E.a.createElement("aria-title",{id:"titleItemBasedMode"},"activity mode label"),E.a.createElement("desc",{id:"descItemBasedMode"},"generic representation of current activity's mode"),E.a.createElement("g",{id:"background_1_",className:"background",visibility:"visible"},E.a.createElement("circle",{id:"Oval",fill:"#F6F6F6",cx:"84",cy:"84",r:"84"})),E.a.createElement("g",{id:"test_1_",className:"test"},E.a.createElement("g",{id:"Icons_x2F_96px_x2F_test_1_",transform:"translate(11.000000, 11.000000)"},E.a.createElement("path",{id:"object_7_",fill:"#FFFFFF",stroke:"#0000FF",strokeWidth:"4",d:"M45.2,26h55.5c6.3,0,11.4,5.1,11.4,11.4v71.2c0,6.3-5.1,11.4-11.4,11.4H45.2 c-6.3,0-11.4-5.1-11.4-11.4V37.4C33.8,31.2,39,26,45.2,26z"}),E.a.createElement("path",{id:"object_6_",fill:"#0000FF",d:"M49.5,53.1h25.6c1.6,0,2.8,1.3,2.8,2.8l0,0c0,1.6-1.3,2.8-2.8,2.8H49.5 c-1.6,0-2.8-1.3-2.8-2.8l0,0C46.7,54.4,48,53.1,49.5,53.1z"}),E.a.createElement("path",{id:"object_5_",fill:"#0000FF",d:"M49.5,71.6h25.6c1.6,0,2.8,1.3,2.8,2.8l0,0c0,1.6-1.3,2.8-2.8,2.8H49.5 c-1.6,0-2.8-1.3-2.8-2.8l0,0C46.7,72.9,48,71.6,49.5,71.6z"}),E.a.createElement("path",{id:"object_4_",fill:"#0000FF",d:"M49.5,90.1h25.6c1.6,0,2.8,1.3,2.8,2.8l0,0c0,1.6-1.3,2.8-2.8,2.8H49.5 c-1.6,0-2.8-1.3-2.8-2.8l0,0C46.7,91.4,48,90.1,49.5,90.1z"}),E.a.createElement("polyline",{id:"Line-15_7_",fill:"none",stroke:"#0000FF",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",points:"86.4,49.9 91.4,55.9 101.8,44.5 \t\t"}),E.a.createElement("polyline",{id:"Line-15_6_",fill:"none",stroke:"#0000FF",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",points:"86.4,69.9 91.4,75.9 101.8,64.5 \t\t"}),E.a.createElement("path",{id:"Line-15_5_",fill:"none",stroke:"#0000FF",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",d:"M88.7,98.6L99,87.2"}),E.a.createElement("path",{id:"Line-15_4_",fill:"none",stroke:"#0000FF",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",d:"M98.8,98.6L88.7,87.2"}))),E.a.createElement("g",{id:"practice_1_",className:"practice"},E.a.createElement("path",{id:"Combined-Shape",fillRule:"evenodd",clipRule:"evenodd",fill:"#0000FF",d:"M83.7,58.1c-14.9,0-27,12.1-27,27s12.1,27.1,27.1,27.1s27.1-12.1,27.1-27.1 c0-3.4-0.6-6.6-1.8-9.5l4.7-3.5c1.7,4,2.7,8.4,2.7,13c0,18.1-14.7,32.7-32.7,32.7s-32.7-14.7-32.7-32.7 c-0.1-18,14.6-32.7,32.6-32.7c8.3,0,15.9,3.1,21.6,8.2l-4.7,3.5C96,60.3,90.1,58.1,83.7,58.1z M138,45.1l13.7,2.1l-14.2,10.5 L124.1,59L91.9,82.6c1,3.4-0.1,7.2-3.1,9.4c-3.8,2.8-9.2,2-12-1.8s-2-9.2,1.8-12c3-2.2,7-2.2,9.9-0.2l32.2-23.6l5.1-12.4L140,31.5 L138,45.1z M124.2,64.4l4.6-3.4c3.9,7.2,6.1,15.5,6.1,24.2c0,28.3-23,51.3-51.3,51.3s-51.3-23-51.3-51.3s23-51.3,51.3-51.3 c14.4,0,27.4,6,36.7,15.6l-4.6,3.4c-8.2-8.2-19.6-13.3-32.1-13.3C58.5,39.6,38,60,38,85.2c0,25.1,20.4,45.6,45.6,45.6 c25.1,0,45.6-20.4,45.6-45.6C129.3,77.7,127.4,70.6,124.2,64.4z"})),E.a.createElement("g",{id:"challenge_1_",className:"challenge"},E.a.createElement("g",null,E.a.createElement("path",{fill:"#FED119",d:"M84,96.1c-11.1,0-20.1,9-20.1,20.1c0,11.1,9,20.1,20.1,20.1s20.1-9,20.1-20.1C104.1,105.2,95.1,96.1,84,96.1z "}),E.a.createElement("path",{fill:"#FED119",d:"M68.6,75.6c0.7,1.7,2.3,2.8,4.1,2.8h20.4c0.6,0,1.1-0.1,1.6-0.3c2.3-0.9,3.4-3.4,2.6-5.7L81.7,32.2 c-0.7-1.7-2.3-2.8-4.1-2.8H57.2c-0.6,0-1.1,0.1-1.6,0.3c-2.3,0.9-3.4,3.4-2.6,5.7L68.6,75.6z"}),E.a.createElement("path",{fill:"#FED119",d:"M99.6,66.2L115,26.6c0.9-2.3-0.3-4.8-2.6-5.7c-0.6-0.1-1-0.3-1.6-0.3H90.5c-1.9,0-3.4,1.1-4.1,2.8l-1.9,5 c0.6,0.7,1,1.4,1.4,2.4L99.6,66.2z"}),E.a.createElement("path",{fill:"#FED119",d:"M113,115.6c0-1.1,0.6-2.3,1-3.4c0.4-1,1-2,0.9-2.8c-0.1-0.7-1-1.4-1.9-2.1c-1-0.7-1.9-1.6-2.4-2.7 c-0.4-1.1-0.4-2.4-0.3-3.7c0-1.1,0.1-2.3-0.3-2.8c-0.4-0.6-1.6-1-2.6-1.3c-1.1-0.4-2.4-0.7-3.3-1.6c-0.9-0.9-1.3-2-1.7-3.3 c-0.4-1-0.7-2.1-1.3-2.6c-0.3-0.1-0.7-0.3-1.4-0.3c-0.4,0-1,0-1.4,0.1c-0.6,0-1.1,0.1-1.7,0.1c-0.7,0-1.4-0.1-2-0.3 c-1.1-0.4-2-1.4-2.8-2.3c-0.7-0.9-1.6-1.7-2.3-1.9c-0.1,0-0.1,0-0.3,0c-0.7,0-1.6,0.4-2.4,1c-1.1,0.6-2.3,1.1-3.4,1.1h-0.1 c-1.1,0-2.3-0.6-3.4-1.1c-0.9-0.4-1.7-0.9-2.4-0.9c-0.1,0-0.1,0-0.3,0c-0.7,0.1-1.4,1-2.1,1.9c-0.7,1-1.6,1.9-2.7,2.4 c-0.9,0.3-1.7,0.4-2.3,0.4c-0.4,0-0.9,0-1.3,0s-0.9,0-1.1,0c-0.7,0-1.3,0.1-1.6,0.3c-0.6,0.4-1,1.6-1.3,2.6 c-0.4,1.1-0.7,2.4-1.6,3.3c-0.9,0.9-2,1.3-3.3,1.7c-1,0.4-2.1,0.7-2.6,1.3c-0.4,0.6-0.3,1.7-0.1,2.8c0.1,1.3,0.3,2.6-0.1,3.7 c-0.4,1.1-1.4,2-2.3,2.8c-0.9,0.7-1.7,1.6-1.9,2.3c-0.1,0.7,0.4,1.7,0.9,2.7c0.6,1.1,1.1,2.3,1.1,3.4c0,1.1-0.6,2.3-1,3.4 c-0.4,1-1,2-0.9,2.8c0.1,0.9,1,1.4,1.9,2.1c1,0.7,1.9,1.6,2.4,2.7c0.4,1.1,0.4,2.4,0.3,3.7c0,1.1-0.1,2.3,0.3,2.8 c0.4,0.6,1.6,1,2.6,1.3c1.1,0.4,2.4,0.7,3.3,1.6c0.9,0.9,1.3,2,1.7,3.3c0.4,1,0.7,2.1,1.3,2.6c0.3,0.1,0.7,0.3,1.4,0.3 c0.4,0,1,0,1.4-0.1c0.6,0,1.1-0.1,1.7-0.1c0.7,0,1.4,0.1,2,0.3c1.1,0.4,2,1.4,2.8,2.3c0.7,0.9,1.6,1.7,2.3,1.9c0.1,0,0.1,0,0.3,0 c0.7,0,1.6-0.4,2.4-1c1.1-0.6,2.3-1.1,3.4-1.1l0,0c1.1,0,2.3,0.6,3.4,1.1c0.9,0.4,1.7,0.9,2.4,0.9c0.1,0,0.1,0,0.3,0 c0.7-0.1,1.4-1,2.1-1.9c0.7-1,1.6-1.9,2.7-2.4c0.9-0.3,1.7-0.4,2.3-0.4c0.4,0,0.9,0,1.3,0s0.9,0,1.1,0c0.7,0,1.3-0.1,1.6-0.3 c0.6-0.4,1-1.6,1.3-2.6c0.4-1.1,0.7-2.4,1.6-3.3c0.9-0.9,2-1.3,3.3-1.7c1-0.4,2.1-0.7,2.6-1.3c0.4-0.6,0.3-1.7,0.1-2.8 c-0.1-1.3-0.3-2.6,0.3-3.7c0.4-1.1,1.4-2,2.3-2.8c0.9-0.7,1.7-1.6,1.9-2.3c0.1-0.7-0.4-1.7-0.9-2.7 C113.6,118.1,113,116.9,113,115.6z M84,140.8c-13.5,0-24.5-11-24.5-24.5s11-24.5,24.5-24.5s24.5,11,24.5,24.5S97.5,140.8,84,140.8 z"})),E.a.createElement("path",{id:"Fill-9_1_",fill:"#FFF0B4",d:"M84,127.4c6.1,0,11.1-5,11.1-11.1c0-6.1-5-11.1-11.1-11.1s-11.1,5-11.1,11.1 C72.8,122.4,77.8,127.4,84,127.4"})),E.a.createElement("g",{id:"test_theme_1_",className:"test_theme_1",fill:"none"},E.a.createElement("circle",{cx:"94",cy:"94",r:"94",fill:"#F6F6F6"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M151.494 85C155.278 85 158.344 88.0656 158.344 91.8471V132.93C158.344 136.711 155.278 139.777 151.494 139.777H105.666V146.493L95.5924 139.777H89.8502C86.0662 139.777 83 136.711 83 132.93V91.8471C83 88.0656 86.0662 85 89.8502 85H151.494Z",fill:"#E5E5E5"}),E.a.createElement("path",{d:"M105.666 138.277H104.166V139.777V143.69L96.4244 138.529L96.0465 138.277H95.5924H89.8502C86.8941 138.277 84.5 135.882 84.5 132.93V91.8471C84.5 88.8946 86.8941 86.5 89.8502 86.5H151.494C154.45 86.5 156.844 88.8946 156.844 91.8471V132.93C156.844 135.882 154.45 138.277 151.494 138.277H105.666Z",stroke:"#CCCCCC",strokeOpacity:"0.48",strokeWidth:"3"}),E.a.createElement("path",{className:"svgUpdateFill",fillRule:"evenodd",clipRule:"evenodd",d:"M37.0369 48.8766C33.2542 48.8766 30.1875 51.9422 30.1875 55.7237V96.8063C30.1875 100.588 33.2542 103.653 37.0369 103.653H82.8656V110.369L92.9394 103.653H98.6816C102.466 103.653 105.532 100.588 105.532 96.8063V55.7237C105.532 51.9422 102.466 48.8766 98.6816 48.8766H37.0369Z",fill:"#2E61D0"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M80.1859 66.8201C81.2714 67.9136 81.2714 69.6864 80.1859 70.7799L65.8918 85.1799C64.8064 86.2734 63.0466 86.2734 61.9611 85.1799L54.8141 77.9799C53.7286 76.8864 53.7286 75.1136 54.8141 74.0201C55.8995 72.9266 57.6593 72.9266 58.7448 74.0201L63.9265 79.2402L76.2552 66.8201C77.3407 65.7266 79.1005 65.7266 80.1859 66.8201Z",fill:"white"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M110.769 102.769C111.794 101.744 113.456 101.744 114.481 102.769L120.5 108.788L126.519 102.769C127.544 101.744 129.206 101.744 130.231 102.769C131.256 103.794 131.256 105.456 130.231 106.481L124.212 112.5L130.231 118.519C131.256 119.544 131.256 121.206 130.231 122.231C129.206 123.256 127.544 123.256 126.519 122.231L120.5 116.212L114.481 122.231C113.456 123.256 111.794 123.256 110.769 122.231C109.744 121.206 109.744 119.544 110.769 118.519L116.788 112.5L110.769 106.481C109.744 105.456 109.744 103.794 110.769 102.769Z",fill:"#5B5B5B"})),E.a.createElement("g",{id:"practice_theme_1_",className:"practice_theme_1",fill:"none"},E.a.createElement("circle",{cx:"94",cy:"94",r:"94",fill:"#F6F6F6"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M94 150C124.928 150 150 124.928 150 94C150 63.0721 124.928 38 94 38C63.0721 38 38 63.0721 38 94C38 124.928 63.0721 150 94 150Z",fill:"#C7C7C7"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M94 138C118.3 138 138 118.3 138 94C138 69.6995 118.3 50 94 50C69.6995 50 50 69.6995 50 94C50 118.3 69.6995 138 94 138Z",fill:"white"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M94 126C111.673 126 126 111.673 126 94C126 76.3269 111.673 62 94 62C76.3269 62 62 76.3269 62 94C62 111.673 76.3269 126 94 126Z",fill:"#C7C7C7"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M94 114C105.046 114 114 105.046 114 94C114 82.9543 105.046 74 94 74C82.9543 74 74 82.9543 74 94C74 105.046 82.9543 114 94 114Z",fill:"white"}),E.a.createElement("path",{className:"svgUpdateFill",fillRule:"evenodd",clipRule:"evenodd",d:"M94 102C98.4183 102 102 98.4183 102 94C102 89.5817 98.4183 86 94 86C89.5817 86 86 89.5817 86 94C86 98.4183 89.5817 102 94 102Z",fill:"#3C6ED2"}),E.a.createElement("path",{opacity:"0.12",d:"M135.663 131.42L96.1213 91.8787C94.9497 90.7071 93.0503 90.7071 91.8787 91.8787C90.7071 93.0503 90.7071 94.9497 91.8787 96.1213L131.42 135.663C132.909 134.325 134.325 132.909 135.663 131.42Z",fill:"black"}),E.a.createElement("path",{className:"svgUpdateFill",d:"M124.5 52.9142V62.5C124.5 63.0523 124.948 63.5 125.5 63.5H135.086C135.351 63.5 135.605 63.3947 135.793 63.2071L149.293 49.7071C149.923 49.0772 149.477 48 148.586 48H141C140.448 48 140 47.5523 140 47V39.4142C140 38.5233 138.923 38.0772 138.293 38.7071L124.793 52.2071C124.605 52.3947 124.5 52.649 124.5 52.9142Z",fill:"#3C6ED2"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M138.621 49.3787C139.793 50.5503 139.793 52.4497 138.621 53.6213L96.1213 96.1213C94.9497 97.2929 93.0503 97.2929 91.8787 96.1213C90.7071 94.9497 90.7071 93.0503 91.8787 91.8787L134.379 49.3787C135.55 48.2071 137.45 48.2071 138.621 49.3787Z",fill:"black"})),E.a.createElement("g",{id:"challenge_theme_1_",className:"challenge_theme_1",fill:"none"},E.a.createElement("circle",{cx:"94",cy:"94",r:"94",fill:"#F6F6F6"}),E.a.createElement("path",{d:"M119.902 66.4157V67.5133H121H137.902V79.4839C137.902 90.1403 129.834 98.9186 119.395 100.334L118.725 100.425L118.504 101.064C117 105.424 114.331 109.304 110.778 112.291C107.226 115.279 102.921 117.263 98.3189 118.033L97.4024 118.187V119.116V123.964C97.4024 126.619 98.4694 129.162 100.364 131.035C102.259 132.908 104.826 133.958 107.5 133.958H110.902V140.659H77.0976V133.958H80.5C83.174 133.958 85.7409 132.908 87.6355 131.035C89.5306 129.162 90.5976 126.619 90.5976 123.964V119.116V118.187L89.6811 118.033C85.0792 117.263 80.7744 115.279 77.2215 112.291C73.6688 109.304 70.9999 105.424 69.4956 101.064L69.2752 100.425L68.6055 100.334C58.1663 98.9186 50.0976 90.1403 50.0976 79.4839V67.5133H67H68.0976V66.4157V58.3415H119.902V66.4157ZM56.9024 79.4839L56.9024 79.4851C56.9057 82.4733 57.8446 85.386 59.5885 87.8233C61.3323 90.2606 63.7949 92.1025 66.6369 93.0987L68.0976 93.6107V92.0629V75.3117V74.2141H67H58H56.9024V75.3117L56.9024 79.4839ZM131.098 79.4853V79.4839V75.3117V74.2141H130H121H119.902V75.3117V92.0674V93.6159L121.364 93.103C124.205 92.1054 126.668 90.2624 128.411 87.8247C130.155 85.3867 131.094 82.4738 131.098 79.4853Z",fill:"#FBD03D",stroke:"#C9A631",strokeWidth:"2.19512"}),E.a.createElement("path",{d:"M117.049 61.4146H102.122H98.3903V115.195C109.176 113.051 117.049 103.565 117.049 92.5681V61.4146Z",fill:"#FDECB1"}),E.a.createElement("path",{className:"svgUpdateFill_light",d:"M106 112.405L107.854 107L119 110.595L117.146 116L106 112.405Z",fill:"#B1C5ED"}),E.a.createElement("path",{d:"M83 40.4201L86.6009 36L95 43.5799L91.3991 48L83 40.4201Z",fill:"#C7C7C7"}),E.a.createElement("path",{className:"svgUpdateFill",d:"M124 51.6988L125.23 48L132.628 50.4607L131.398 54.1595L124 51.6988Z",fill:"#3C6ED2"}),E.a.createElement("path",{d:"M134.946 105L138.721 105.973L136.775 113.522L133 112.549L134.946 105Z",fill:"#E5E5E5"}),E.a.createElement("path",{d:"M125.392 125L129.227 125.696L127.835 133.367L124 132.671L125.392 125Z",fill:"#C7C7C7"}),E.a.createElement("path",{className:"svgUpdateFill",d:"M50.9157 126.025L51.7753 121.856L60.6919 124.03L59.8323 128.199L50.9157 126.025Z",fill:"#3C6ED2"}),E.a.createElement("path",{d:"M40 92.7252L44.8522 90L50 100.275L45.1478 103L40 92.7252Z",fill:"#E5E5E5"}),E.a.createElement("path",{className:"svgUpdateFill_light",d:"M54.5724 51L58 55.9336L48.4276 63L45 58.0664L54.5724 51Z",fill:"#B1C5ED"})))},Bv=function(){return E.a.createElement("svg",{version:"1.1",id:"Layer_1",focusable:"false",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 188 188",enableBackground:"new 0 0 188 188",width:"188",height:"188",xmlSpace:"preserve"},E.a.createElement("aria-title",{id:"multiStepLabelSVG"},"multistep activity mode label"),E.a.createElement("g",{id:"background_circle",className:"multiStep_theme_default",transform:"scale(1.119047619)"},E.a.createElement("circle",{id:"Oval",fill:"#F6F6F6",cx:"84",cy:"84",r:"84"})),E.a.createElement("g",{id:"multiStep",className:"multiStep_theme_default",transform:"scale(1.119047619)"},E.a.createElement("g",{id:"activitySteps",stroke:"#0000FF",strokeWidth:"4"},E.a.createElement("path",{id:"object_2_",fill:"#B5C9FE",d:"M40.6,34.6L75,47.1c3.9,1.5,6.4,5.2,6.4,9.3v55.1c0,4.2-2.7,7.9-6.4,9.3l-34.4,12.5 c-5.2,2-10.8-0.7-12.5-5.9c-0.5-1-0.5-2.2-0.5-3.4V43.7c0-5.4,4.4-9.8,9.8-9.8C38.4,33.9,39.3,34.1,40.6,34.6z"}),E.a.createElement("path",{id:"object_1_",fill:"#cfcfcf",d:"M70.1,34.6l34.4,12.5c3.9,1.5,6.4,5.2,6.4,9.3v55.1c0,4.2-2.7,7.9-6.4,9.3l-34.4,12.5 c-5.2,2-10.8-0.7-12.5-5.9c-0.5-1-0.5-2.2-0.5-3.4V43.7c0-5.4,4.4-9.8,9.8-9.8C67.9,33.9,68.9,34.1,70.1,34.6z"}),E.a.createElement("path",{id:"object_3_",fill:"#FFFFFF",d:"M99.6,34.6L134,47.1c3.9,1.5,6.4,5.2,6.4,9.3v55.1c0,4.2-2.7,7.9-6.4,9.3l-34.4,12.5 c-5.2,2-10.8-0.7-12.5-5.9c-0.5-1-0.5-2.2-0.5-3.4V43.7c0-5.4,4.4-9.8,9.8-9.8C97.4,33.9,98.4,34.1,99.6,34.6z"})),E.a.createElement("g",{id:"activityStepContent",fill:"#0000FF"},E.a.createElement("path",{d:"M94.2,62.8c0-0.5,0-0.9,0-1.4c0-1.3,0.4-1.7,1.7-1.5c3.2,0.5,6.4,1.1,9.6,1.7c4,0.7,7.9,1.5,11.9,2.2 c1.5,0.3,1.7,0.4,1.7,2c0,0.8,0,1.5,0,2.3c0,0.8-0.4,1.2-1.2,1.1c-3.3-0.4-6.5-0.7-9.8-1.2c-3.7-0.5-7.4-1-11-1.5 c-2.6-0.3-2.9-0.6-2.9-3.3C94.2,63.1,94.2,62.9,94.2,62.8C94.2,62.8,94.2,62.8,94.2,62.8z"}),E.a.createElement("path",{d:"M94.2,107.4c-0.1-3.6,0.3-3.2,3.2-3.7c3.2-0.5,6.3-1.1,9.5-1.6c3.7-0.6,7.3-1.3,11-1.9c1.1-0.2,1.2,0,1.3,1.1 c0,0.8,0,1.7,0,2.5c0,0.9-0.4,1.3-1.2,1.5c-5.3,1.2-10.6,2.4-15.9,3.5c-2,0.4-4.1,0.9-6.1,1.3c-1.3,0.3-1.6,0-1.7-1.4 C94.2,108.3,94.2,107.8,94.2,107.4z"}),E.a.createElement("path",{d:"M106.9,87.7c-3.6,0.2-7.2,0.3-10.7,0.5c-1.5,0.1-1.9-0.3-1.9-1.8c0-1,0-2,0-3c0-1.2,0.4-1.6,1.6-1.6 c2.9,0,5.9,0.1,8.8,0.1c4.3,0,8.6,0,12.9,0c1.3,0,1.5,0.2,1.5,1.5c0,0.8,0,1.6,0,2.4c0,0.9-0.4,1.3-1.3,1.3 C114.2,87.4,110.5,87.6,106.9,87.7C106.9,87.8,106.9,87.8,106.9,87.7z"}),E.a.createElement("path",{d:"M128.5,97c0.6-1.1,1-2.1,1.6-2.9c0.3-0.4,0.8-0.7,1.3-1c0.3,0.5,0.8,0.9,1,1.5c0.3,1.2-0.2,2.5-0.8,3.4 c-1.3,1.8-0.9,3.3,0.3,4.8c0.9,1.2,0.8,2.5,0.2,3.7c-0.2,0.4-0.7,0.8-1.2,0.9c-0.3,0.1-0.8-0.4-1-0.8c-0.5-0.6-0.8-1.4-1.4-2.3 c-0.4,0.8-0.7,1.4-1,2c-0.3,0.6-0.5,1.3-1,1.8c-0.3,0.4-1,0.7-1.4,0.7c-0.4-0.1-0.9-0.7-0.9-1.1c0-0.9,0-1.8,0.3-2.6 c0.4-1.2,1.1-2.2,1.6-3.4c0.1-0.4,0.1-0.9-0.1-1.2c-0.4-0.8-1.1-1.5-1.5-2.4c-0.6-1.2-0.6-2.4,0.1-3.5c0.7-1.1,1.6-1.1,2.3,0 C127.5,95.3,128,96.1,128.5,97z"}),E.a.createElement("path",{d:"M127.5,81.8c0.4-0.8,0.8-1.6,1.3-2.4c0.9-1.6,1.8-3.3,2.8-4.9c0.2-0.4,0.8-0.8,1.1-0.8c0.4,0.1,0.9,0.6,0.9,1 c0.1,1.1,0.2,2.3-0.2,3.2c-1.5,3.1-3.1,6.1-4.8,9.1c-0.8,1.5-1.8,1.5-2.6,0c-0.9-1.6-1.7-3.2-2.6-4.9c-0.5-1-0.6-2.1-0.2-3.1 c0.2-0.5,0.8-1,1.2-1.1c0.4-0.1,1,0.5,1.3,0.9c0.6,1,1,2,1.5,3C127.3,81.8,127.4,81.8,127.5,81.8z"}),E.a.createElement("path",{d:"M127.4,64.3c1.1-1.8,2-3.2,2.9-4.7c0.5-0.8,1-1.6,1.5-2.3c0.4-0.6,0.9-0.5,1.3,0c0.8,1.1,1.1,2.4,0.5,3.5 c-1.6,3-3.4,5.9-5.1,8.8c-0.6,0.9-1.6,0.9-2.1-0.1c-1.1-2.2-2.2-4.3-3.2-6.6c-0.4-1-0.4-2.1,0.4-3c0.5-0.6,1.1-0.7,1.6,0 c0.4,0.6,0.8,1.2,1.1,1.9C126.5,62.5,126.9,63.3,127.4,64.3z"}))),E.a.createElement("g",{id:"multiStep_theme_1",className:"multiStep_theme_1",fill:"none"},E.a.createElement("circle",{cx:"94",cy:"94",r:"94",fill:"#F6F6F6"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M62 63.96C62 61.2207 64.235 59 66.992 59H135.008C137.765 59 140 61.2207 140 63.96V147.04C140 149.779 137.765 152 135.008 152H66.992C64.235 152 62 149.779 62 147.04V63.96Z",fill:"#E5E5E5"}),E.a.createElement("path",{d:"M63.5 63.96C63.5 62.0582 65.0543 60.5 66.992 60.5H135.008C136.946 60.5 138.5 62.0582 138.5 63.96V147.04C138.5 148.942 136.946 150.5 135.008 150.5H66.992C65.0543 150.5 63.5 148.942 63.5 147.04V63.96Z",stroke:"#CCCCCC",strokeOpacity:"0.48",strokeWidth:"3"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M56 57.96C56 55.2207 58.235 53 60.992 53H129.008C131.765 53 134 55.2207 134 57.96V141.04C134 143.779 131.765 146 129.008 146H60.992C58.235 146 56 143.779 56 141.04V57.96Z",fill:"#E5E5E5"}),E.a.createElement("path",{d:"M57.5 57.96C57.5 56.0582 59.0543 54.5 60.992 54.5H129.008C130.946 54.5 132.5 56.0582 132.5 57.96V141.04C132.5 142.942 130.946 144.5 129.008 144.5H60.992C59.0543 144.5 57.5 142.942 57.5 141.04V57.96Z",stroke:"#CCCCCC",strokeOpacity:"0.48",strokeWidth:"3"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M50 51.96C50 49.2207 52.235 47 54.992 47H123.008C125.765 47 128 49.2207 128 51.96V135.04C128 137.779 125.765 140 123.008 140H54.992C52.235 140 50 137.779 50 135.04V51.96Z",fill:"#E5E5E5"}),E.a.createElement("path",{d:"M51.5 51.96C51.5 50.0582 53.0543 48.5 54.992 48.5H123.008C124.946 48.5 126.5 50.0582 126.5 51.96V135.04C126.5 136.942 124.946 138.5 123.008 138.5H54.992C53.0543 138.5 51.5 136.942 51.5 135.04V51.96Z",stroke:"#CCCCCC",strokeOpacity:"0.48",strokeWidth:"3"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M45 45.96C45 43.2207 47.2064 41 49.928 41H117.072C119.794 41 122 43.2207 122 45.96V129.04C122 131.779 119.794 134 117.072 134H49.928C47.2064 134 45 131.779 45 129.04V45.96Z",fill:"#CCCCCC"}),E.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M50 49.7164C50 47.6639 51.6512 46 53.6881 46H113.312C115.349 46 117 47.6639 117 49.7164V125.284C117 127.336 115.349 129 113.312 129H71.5138C59.632 129 50 119.294 50 107.321V49.7164Z",fill:"white"}),E.a.createElement("path",{className:"svgUpdateFill",fillRule:"evenodd",clipRule:"evenodd",d:"M67.61 60.4136C68.13 60.9648 68.13 61.8587 67.61 62.41L62.7211 67.5864C62.2 68.1379 61.3556 68.1379 60.8344 67.5864L58.39 64.9982C57.87 64.4469 57.87 63.5531 58.39 63.0018C58.9111 62.4504 59.7556 62.4504 60.2767 63.0018L61.7778 64.5916L65.7233 60.4136C66.2444 59.8621 67.0889 59.8621 67.61 60.4136Z",fill:"#2E61D0"}),E.a.createElement("path",{className:"svgUpdateFill",fillRule:"evenodd",clipRule:"evenodd",d:"M67.61 88.4136C68.13 88.9648 68.13 89.8587 67.61 90.41L62.7211 95.5864C62.2 96.1379 61.3556 96.1379 60.8344 95.5864L58.39 92.9982C57.87 92.4469 57.87 91.5531 58.39 91.0018C58.9111 90.4504 59.7556 90.4504 60.2767 91.0018L61.7778 92.5916L65.7233 88.4136C66.2444 87.8621 67.0889 87.8621 67.61 88.4136Z",fill:"#2E61D0"}),E.a.createElement("path",{className:"svgUpdateFill",fillRule:"evenodd",clipRule:"evenodd",d:"M67.61 102.414C68.13 102.965 68.13 103.859 67.61 104.41L62.7211 109.586C62.2 110.138 61.3556 110.138 60.8344 109.586L58.39 106.998C57.87 106.447 57.87 105.553 58.39 105.002C58.9111 104.45 59.7556 104.45 60.2767 105.002L61.7778 106.592L65.7233 102.414C66.2444 101.862 67.0889 101.862 67.61 102.414Z",fill:"#2E61D0"}),E.a.createElement("rect",{className:"svgUpdateFill",x:"73",y:"62",width:"36",height:"4",rx:"2",fill:"#2E61D0"}),E.a.createElement("rect",{className:"svgUpdateFill",x:"73",y:"76",width:"36",height:"4",rx:"2",fill:"#2E61D0"}),E.a.createElement("rect",{className:"svgUpdateFill",x:"73",y:"90",width:"36",height:"4",rx:"2",fill:"#2E61D0"}),E.a.createElement("rect",{className:"svgUpdateFill",x:"73",y:"104",width:"36",height:"4",rx:"2",fill:"#2E61D0"}),E.a.createElement("path",{className:"svgUpdateFill",d:"M64.773 81.5407C65.2612 82.0289 66.0526 82.0289 66.5408 81.5407C67.0289 81.0526 67.0289 80.2611 66.5408 79.773L64.5962 77.8284L66.5407 75.8839C67.0289 75.3957 67.0289 74.6043 66.5407 74.1161C66.0526 73.628 65.2611 73.628 64.773 74.1161L62.8285 76.0606L60.8839 74.1161C60.3958 73.628 59.6043 73.628 59.1162 74.1161C58.628 74.6043 58.628 75.3957 59.1162 75.8839L61.0607 77.8284L59.1161 79.773C58.628 80.2611 58.628 81.0526 59.1161 81.5407C59.6043 82.0289 60.3957 82.0289 60.8839 81.5407L62.8285 79.5962L64.773 81.5407Z",fill:"#2E61D0"})))},Ev=function(e){var t=e.activityMode;return e.activitySet.isMultiStep?E.a.createElement("div",{className:Ht.a.coverScreen_multiStepsLabel},E.a.createElement(Bv,null)):E.a.createElement("div",{"data-player-control":"activity-mode-label",className:Ht.a.coverScreen_activityModeLabel,"aria-label":t},E.a.createElement(Av,null))},xv=function(){var e=E.a.useContext(an).state,t=Object(v.useTranslation)().t,n=Ve(e).activitySet.activityMode,r=Qt(e),a=e.manifestDetails,i=bn(e),o=e.playerStatus===q.coverScreenActive,c=_t(e),s=i?"multi-step-cover-screen":"item-based-cover-screen",l=i?Ht.a.coverScreen_multiStep:Ht.a.coverScreen_itemBased,u=t(i?"coverScreens.multiStepCoverScreen.ariaLabel":"coverScreens.itemBasedCoverScreen.ariaLabel");return i||o?E.a.createElement("div",{"data-player-control":s,className:qt()(Ht.a.coverScreen_container,l,n&&Ht.a[n]),"aria-label":u,"data-loaded":"true"},E.a.createElement("div",{className:Ht.a.coverScreen},o&&E.a.createElement(pv,{state:e}),E.a.createElement(un,{activitySet:r}),o&&E.a.createElement(yv,{state:e}),E.a.createElement(Ev,{activityMode:n,activitySet:r}),o&&E.a.createElement(hv,{activityMode:n}),i&&E.a.createElement(Cv,{activitySet:r,manifestDetails:a}),o&&E.a.createElement(mv,{activityMode:n,isItemBasedProgressiveChallengeMode:c}),i&&E.a.createElement(bv,{activitySet:r}))):null},Ov=function(e){var t=e.state,n=e.reward;return _n(t)?E.a.createElement("div",{"data-player-control":"completion-text",className:Ht.a.scoreScreen_completionText},E.a.createElement("p",null,n.completionText)):null},Pv=function(){return E.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",focusable:"false",role:"img",viewBox:"0 0 64 64","aria-labelledby":"titleRewardBadge"},E.a.createElement("aria-title",{id:"titleRewardBadge"},"Reward"),E.a.createElement("g",{id:"rewardIcon_1",visibility:"hidden"},E.a.createElement("path",{fill:"#FED119",d:"M46.1,45.6c0-0.5,0.2-1,0.5-1.5c0.2-0.5,0.4-0.9,0.4-1.3c-0.1-0.3-0.5-0.7-0.9-1s-0.9-0.7-1.1-1.2 c-0.2-0.5-0.2-1.1-0.2-1.6s0.1-1-0.1-1.3c-0.2-0.3-0.7-0.4-1.2-0.6c-0.5-0.2-1.1-0.3-1.5-0.7s-0.6-0.9-0.8-1.4s-0.3-1-0.6-1.1 c-0.1-0.1-0.3-0.1-0.6-0.1c-0.2,0-0.4,0-0.7,0c-0.2,0-0.5,0-0.8,0s-0.6,0-0.9-0.1c-0.5-0.2-0.9-0.6-1.3-1c-0.3-0.4-0.7-0.8-1-0.8 h-0.1c-0.3,0-0.7,0.2-1.1,0.4c-0.5,0.3-1,0.5-1.6,0.5l0,0c-0.5,0-1-0.2-1.5-0.5c-0.4-0.2-0.8-0.4-1.1-0.4h-0.1 c-0.3,0.1-0.7,0.5-1,0.9s-0.7,0.9-1.2,1.1c-0.4,0.2-0.8,0.2-1,0.2s-0.4,0-0.6,0s-0.4,0-0.5,0c-0.3,0-0.6,0-0.7,0.1 c-0.3,0.2-0.4,0.7-0.6,1.2s-0.3,1.1-0.7,1.5c-0.4,0.4-0.9,0.6-1.4,0.8S21.2,38,21,38.3s-0.1,0.8-0.1,1.3c0.1,0.6,0.1,1.1-0.1,1.6 s-0.6,0.9-1,1.3c-0.4,0.3-0.8,0.7-0.8,1c-0.1,0.3,0.2,0.8,0.4,1.2c0.3,0.5,0.5,1,0.5,1.6c0,0.5-0.2,1-0.5,1.5 c-0.2,0.5-0.4,0.9-0.4,1.3c0.1,0.3,0.5,0.7,0.9,1s0.9,0.7,1.1,1.2s0.2,1.1,0.2,1.6s-0.1,1,0.1,1.3s0.7,0.4,1.2,0.6 C23,55,23.6,55,24,55.5s0.6,0.9,0.8,1.4c0.2,0.5,0.3,1,0.6,1.1C25.5,58,25.7,58,26,58c0.2,0,0.4,0,0.7,0c0.2,0,0.5,0,0.8,0 s0.6,0,0.9,0.1c0.5,0.2,0.9,0.6,1.3,1c0.3,0.4,0.7,0.8,1,0.8h0.1c0.3,0,0.7-0.2,1.1-0.4c0.5-0.3,1-0.5,1.6-0.5l0,0 c0.5,0,1,0.2,1.5,0.5c0.4,0.2,0.8,0.4,1.1,0.4h0.1c0.3-0.1,0.7-0.5,1-0.9s0.7-0.9,1.2-1.1c0.4-0.2,0.8-0.2,1-0.2s0.4,0,0.6,0 c0.2,0,0.4,0,0.5,0c0.3,0,0.6,0,0.7-0.1c0.3-0.2,0.4-0.7,0.6-1.2c0.2-0.5,0.3-1.1,0.7-1.5s0.9-0.6,1.4-0.8s1-0.3,1.1-0.6 c0.2-0.3,0.1-0.8,0.1-1.3c-0.1-0.6-0.1-1.1,0.1-1.6c0.2-0.5,0.6-0.9,1-1.3c0.4-0.3,0.8-0.7,0.8-1c0.1-0.3-0.2-0.8-0.4-1.2 C46.4,46.6,46.1,46.1,46.1,45.6z M33.1,56.7c-6,0-10.9-4.9-10.9-10.9s4.9-10.9,10.9-10.9S44,39.8,44,45.8S39.1,56.7,33.1,56.7z"}),E.a.createElement("path",{fill:"#FED119",d:"M33.1,36.9c-4.9,0-8.9,4-8.9,8.9s4,8.9,8.9,8.9s8.9-4,8.9-8.9S38,36.9,33.1,36.9z"}),E.a.createElement("path",{fill:"#FFF0B4",d:"M33.1,50.8c2.8,0,5-2.2,5-5s-2.2-5-5-5s-5,2.2-5,5C28.1,48.6,30.3,50.8,33.1,50.8"}),E.a.createElement("path",{fill:"#FED119",d:"M40.1,23.3L47,5.5c0.4-1-0.1-2.2-1.1-2.6c-0.3-0.1-0.5-0.1-0.7-0.1H36c-0.8,0-1.6,0.5-1.9,1.3l-0.9,2.2    c0.2,0.3,0.5,0.7,0.6,1.1L40.1,23.3z"}),E.a.createElement("path",{fill:"#FED119",d:"M26.1,27.5c0.3,0.8,1,1.3,1.9,1.3h9.2c0.2,0,0.5,0,0.7-0.1c1-0.4,1.5-1.6,1.1-2.6l-7-18    c-0.3-0.8-1-1.3-1.8-1.3H21c-0.2,0-0.5,0-0.7,0.1c-1,0.4-1.5,1.6-1.1,2.6L26.1,27.5z"})),E.a.createElement("g",{id:"rewardIcon_2",visibility:"hidden"},E.a.createElement("linearGradient",{id:"Combined-Shape_1_",gradientUnits:"userSpaceOnUse",x1:"-516.8925",y1:"112.5536",x2:"-516.8925",y2:"111.5536",gradientTransform:"matrix(26.153 0 0 49.0003 13551.3174 -5458.3101)"},E.a.createElement("stop",{offset:"0",stopColor:"#838383"}),E.a.createElement("stop",{offset:"1",stopColor:"#BCBCBC"})),E.a.createElement("path",{id:"Combined-Shape_3_",fill:"url(#Combined-Shape_1_)",d:"M33.1,54.8c5,0,9-4,9-9s-4-9-9-9s-9,4-9,9C24.1,50.8,28.1,54.8,33.1,54.8z M33.1,34.8 c6.1,0,11,4.9,11,11s-4.9,11-11,11s-11-4.9-11-11S27,34.8,33.1,34.8z M30.1,45.8c0,1.7,1.3,3,3,3c1.7,0,3-1.3,3-3s-1.3-3-3-3 C31.4,42.8,30.1,44.1,30.1,45.8z M38.1,45.8c0,2.8-2.2,5-5,5s-5-2.2-5-5s2.2-5,5-5C35.8,40.8,38.1,43,38.1,45.8z M28.2,31.8 c-0.8,0-1.6-0.5-1.9-1.3l-6.2-16c-0.4-1,0.1-2.2,1.1-2.6c0.3-0.1,0.6-0.1,0.8-0.1h7.9c0.8,0,1.6,0.5,1.9,1.3l6.2,16 c0.4,1-0.1,2.2-1.1,2.6c-0.3,0.1-0.5,0.1-0.7,0.1H28.2z M44.9,7.9c1,0.4,1.5,1.6,1.1,2.6l-6.2,16c-0.1,0.2-0.2,0.4-0.4,0.6 l-5.7-14.8c-0.1-0.2-0.2-0.4-0.3-0.6l1-2.6c0.3-0.8,1-1.3,1.9-1.3h7.9C44.4,7.8,44.6,7.8,44.9,7.9z"}),E.a.createElement("path",{id:"Combined-Shape_2_",fill:"#C7C7C7",d:"M27.1,45.8c0,0.3,0,0.6,0.1,0.9l-2,0.3c-0.1-0.4-0.1-0.8-0.1-1.2H27.1z M27.4,43.9 c-0.1,0.3-0.2,0.6-0.2,0.9l-2-0.3c0.1-0.4,0.2-0.8,0.3-1.2L27.4,43.9z M27.4,47.8c0.1,0.3,0.2,0.6,0.4,0.9L26,49.6 c-0.2-0.4-0.4-0.8-0.5-1.2L27.4,47.8z M28.2,49.3c0.2,0.3,0.4,0.5,0.6,0.7l-1.4,1.4c-0.3-0.3-0.6-0.6-0.8-1L28.2,49.3z M28.4,52.3 l1.2-1.6c0.3,0.2,0.5,0.3,0.8,0.5L29.5,53C29.1,52.8,28.7,52.5,28.4,52.3z M28.2,42.3c-0.2,0.3-0.4,0.5-0.5,0.8l-1.8-0.9 c0.2-0.4,0.4-0.7,0.7-1.1L28.2,42.3z M35.5,38.2l-0.6,1.9C34.6,40.1,34.3,40,34,40l0.3-2C34.7,38,35.2,38.1,35.5,38.2z M37.8,39.3 l-1.2,1.6c-0.3-0.2-0.5-0.3-0.8-0.5l0.9-1.8C37.1,38.9,37.4,39.1,37.8,39.3z M33.1,39.8c-0.3,0-0.6,0-0.9,0.1l-0.3-2 c0.4-0.1,0.8-0.1,1.2-0.1V39.8z M31.2,40.1c-0.3,0.1-0.6,0.2-0.9,0.4l-0.9-1.8c0.4-0.2,0.8-0.4,1.2-0.5L31.2,40.1z M29.5,40.9 c-0.3,0.2-0.5,0.4-0.7,0.6l-1.4-1.4c0.3-0.3,0.6-0.6,1-0.8L29.5,40.9z M33.1,51.8c0.3,0,0.6,0,0.9-0.1l0.3,2 c-0.4,0.1-0.8,0.1-1.2,0.1V51.8z M38.8,43.9c-0.1-0.3-0.2-0.6-0.4-0.9l1.8-0.9c0.2,0.4,0.4,0.8,0.5,1.2L38.8,43.9z M38.8,47.8 c0.1-0.3,0.2-0.6,0.2-0.9l2,0.3c-0.1,0.4-0.2,0.8-0.3,1.2L38.8,47.8z M39.1,45.8c0-0.3,0-0.6-0.1-0.9l2-0.3 c0.1,0.4,0.1,0.8,0.1,1.3L39.1,45.8L39.1,45.8z M30.6,53.4l0.6-1.9c0.3,0.1,0.6,0.2,0.9,0.2l-0.3,2C31.4,53.6,31,53.5,30.6,53.4z M37.3,41.6l1.4-1.4c0.3,0.3,0.6,0.6,0.8,1l-1.6,1.2C37.7,42,37.5,41.8,37.3,41.6z M37.9,49.3c0.2-0.3,0.4-0.5,0.5-0.8l1.8,0.9 c-0.2,0.4-0.4,0.7-0.7,1.1L37.9,49.3z M34.9,51.5c0.3-0.1,0.6-0.2,0.9-0.4l0.9,1.8c-0.4,0.2-0.8,0.4-1.2,0.5L34.9,51.5z M36.6,50.8c0.3-0.2,0.5-0.4,0.7-0.6l1.4,1.4c-0.3,0.3-0.6,0.6-1,0.8L36.6,50.8z"})),E.a.createElement("g",{id:"rewardIcon_3",visibility:"hidden"},E.a.createElement("linearGradient",{id:"Fill-1_1_",gradientUnits:"userSpaceOnUse",x1:"-514.1647",y1:"112.9903",x2:"-514.1647",y2:"113.4948",gradientTransform:"matrix(23.0768 0 0 44.0002 11898.3057 -4961.6982)"},E.a.createElement("stop",{offset:"0",stopColor:"#F89E00"}),E.a.createElement("stop",{offset:"1",stopColor:"#EE6400"})),E.a.createElement("path",{id:"Fill-1",fill:"url(#Fill-1_1_)",d:"M43.8,10c1.1,0.3,1.7,1.3,1.4,2.1l-5.6,15.5c0,0,0,0,0,0.1L34,13.6c-0.1-0.3-0.3-0.6-0.5-1 l0.5-1.6c0.2-0.7,1.1-1.3,1.9-1.3h7.2C43.3,9.9,43.6,9.9,43.8,10z M27.5,31.8c-0.3-0.2-0.6-0.5-0.7-1L21,16 c-0.2-0.3-0.2-0.6-0.2-1c0-0.8,0.5-1.6,1.4-1.9c0.2-0.1,0.5-0.1,0.7-0.1H30c0.2,0,0.4,0,0.6,0.1s0.4,0.2,0.6,0.3 c0.3,0.2,0.6,0.5,0.7,1l1.1,2.7l4.5,11.7l0.1,0.3c0.2,0.4,0.2,0.8,0.1,1.3c-0.1,0.2-0.2,0.5-0.3,0.7c-0.2,0.3-0.5,0.6-1,0.7 c-0.3,0.1-0.5,0.1-0.7,0.1h-7.1C28.2,32.1,27.8,32,27.5,31.8z"}),E.a.createElement("linearGradient",{id:"SVGID_1_",gradientUnits:"userSpaceOnUse",x1:"32.5661",y1:"9.6",x2:"32.5661",y2:"30.7379",gradientTransform:"matrix(1 0 0 -1 0 66)"},E.a.createElement("stop",{offset:"0",stopColor:"#F89E00"}),E.a.createElement("stop",{offset:"1",stopColor:"#EE6400"})),E.a.createElement("path",{fill:"url(#SVGID_1_)",d:"M32.6,35.3C26.8,35.3,22,40,22,45.8s4.8,10.6,10.6,10.6s10.6-4.8,10.6-10.6S38.4,35.3,32.6,35.3z M32.6,54.3 c-4.7,0-8.5-3.8-8.5-8.5s3.8-8.5,8.5-8.5s8.5,3.8,8.5,8.5S37.2,54.3,32.6,54.3z"}),E.a.createElement("circle",{id:"Oval",fill:"#FFC194",cx:"32.5",cy:"45.8",r:"4.2"})),E.a.createElement("g",{id:"rewardIcon_4",visibility:"hidden"},E.a.createElement("path",{fill:"#8B8B8B",d:"M46.1,45.8c0-0.3,0.2-0.6,0.3-1c0.3-0.5,0.6-1.2,0.4-1.8c-0.1-0.6-0.7-1.1-1.1-1.5c-0.3-0.2-0.6-0.5-0.7-0.7 c-0.1-0.3-0.1-0.7-0.1-1.1c0-0.6,0.1-1.3-0.3-1.8c-0.4-0.5-1-0.7-1.6-0.9c-0.4-0.1-0.8-0.2-1-0.4s-0.3-0.6-0.5-1 c-0.2-0.6-0.4-1.2-1-1.6c-0.4-0.2-0.8-0.3-1.1-0.3c-0.2,0-0.4,0-0.6,0h-0.1c-0.2,0-0.4,0-0.6,0c-0.3,0-0.4,0-0.4-0.1 c-0.2-0.1-0.5-0.4-0.8-0.7c-0.4-0.5-0.9-1-1.5-1.1c-0.1,0-0.2,0-0.3,0c-0.5,0-1,0.3-1.5,0.5c-0.4,0.2-0.7,0.4-1,0.4 s-0.6-0.2-1-0.3c-0.4-0.2-0.9-0.5-1.5-0.5c-0.1,0-0.2,0-0.3,0c-0.6,0.1-1.1,0.7-1.5,1.1c-0.2,0.3-0.5,0.6-0.7,0.7 c-0.2,0.1-0.5,0.1-0.6,0.1c-0.2,0-0.3,0-0.5,0s-0.4,0-0.5,0c-0.3,0-0.8,0-1.2,0.3c-0.5,0.4-0.7,1-0.9,1.6c-0.1,0.4-0.2,0.8-0.4,1 c-0.2,0.2-0.6,0.3-1,0.5c-0.6,0.2-1.2,0.4-1.6,1c-0.3,0.5-0.3,1.2-0.2,1.8c0,0.4,0.1,0.8,0,1.1s-0.4,0.5-0.7,0.8 c-0.4,0.4-1,0.9-1.1,1.5s0.2,1.2,0.5,1.8c0.2,0.4,0.4,0.7,0.4,1s-0.2,0.6-0.3,1c-0.3,0.5-0.6,1.2-0.4,1.8c0.1,0.6,0.7,1.1,1.1,1.5 c0.3,0.2,0.6,0.5,0.7,0.7s0.1,0.6,0.1,1.1c0,0.6-0.1,1.3,0.3,1.8s1,0.7,1.6,0.9c0.4,0.1,0.8,0.2,1,0.4s0.3,0.6,0.5,1 c0.2,0.6,0.4,1.2,1,1.5c0.4,0.2,0.8,0.3,1.1,0.3c0.2,0,0.4,0,0.8,0c0.2,0,0.4,0,0.6,0c0.3,0,0.4,0,0.4,0.1 c0.2,0.1,0.5,0.4,0.8,0.7c0.4,0.5,0.9,1,1.5,1.1c0.1,0,0.2,0,0.3,0c0.5,0,1-0.3,1.5-0.5c0.4-0.2,0.7-0.4,1-0.4 c0.3,0,0.6,0.2,1,0.3c0.4,0.2,0.9,0.5,1.5,0.5c0.1,0,0.2,0,0.3,0c0.6-0.1,1.1-0.7,1.5-1.1c0.2-0.3,0.5-0.6,0.7-0.7 c0.2-0.1,0.5-0.1,0.6-0.1c0.2,0,0.3,0,0.5,0s0.4,0,0.6,0c0.3,0,0.8,0,1.2-0.3c0.5-0.4,0.7-1,0.9-1.6c0.1-0.4,0.2-0.8,0.4-1 s0.6-0.3,1-0.5c0.6-0.2,1.2-0.4,1.6-1c0.3-0.5,0.3-1.2,0.2-1.8c0-0.4-0.1-0.8,0-1.1c0.1-0.2,0.4-0.5,0.7-0.8 c0.5-0.4,1-0.9,1.1-1.5s-0.2-1.2-0.5-1.8C46.3,46.4,46.1,46,46.1,45.8z M44.5,48.5c-0.4,0.4-1,0.9-1.2,1.5c-0.3,0.7-0.2,1.4-0.2,2 c0,0.1,0,0.4,0,0.5c-0.1,0.1-0.4,0.1-0.5,0.2c-0.5,0.2-1.2,0.4-1.7,1c-0.5,0.5-0.7,1.2-0.9,1.8c0,0.1-0.1,0.4-0.2,0.5 c-0.1,0-0.3,0-0.5,0s-0.4,0-0.6,0c-0.3,0-0.9,0-1.4,0.2c-0.7,0.3-1.1,0.8-1.5,1.3c-0.1,0.1-0.2,0.3-0.4,0.4 c-0.1-0.1-0.4-0.2-0.5-0.2c-0.5-0.3-1.1-0.5-1.9-0.5l0,0c-0.7,0-1.4,0.3-1.9,0.6C31,57.9,30.8,58,30.7,58 c-0.1-0.1-0.3-0.3-0.4-0.4c-0.4-0.4-0.9-1-1.5-1.2c-0.4-0.1-0.7-0.2-1.2-0.2c-0.2,0-0.5,0-0.8,0c-0.2,0-0.4,0-0.5,0 c-0.1-0.1-0.1-0.3-0.2-0.5c-0.2-0.5-0.4-1.2-1-1.7c-0.5-0.5-1.2-0.7-1.8-0.9c-0.1,0-0.3-0.1-0.5-0.2c0-0.2,0-0.4,0-0.5 c0-0.6,0.1-1.3-0.2-2c-0.3-0.7-0.8-1.1-1.3-1.5c-0.1-0.1-0.3-0.3-0.4-0.4c0.1-0.1,0.2-0.4,0.2-0.5c0.2-0.5,0.6-1.1,0.5-1.9 c0-0.8-0.4-1.4-0.6-1.9c-0.1-0.1-0.2-0.3-0.2-0.5c0.1-0.1,0.3-0.3,0.4-0.4c0.4-0.4,1-0.8,1.2-1.5c0.3-0.7,0.2-1.4,0.2-2 c0-0.1,0-0.4,0-0.5c0.1-0.1,0.4-0.1,0.5-0.2c0.5-0.2,1.2-0.4,1.7-1c0.5-0.5,0.7-1.2,0.9-1.8c0-0.1,0.1-0.4,0.2-0.5 c0.1,0,0.3,0,0.5,0s0.4,0,0.6,0c0.3,0,0.9,0,1.4-0.2c0.7-0.3,1.1-0.8,1.5-1.3c0.1-0.1,0.3-0.3,0.4-0.4c0.1,0.1,0.4,0.2,0.5,0.2 c0.5,0.2,1.1,0.5,1.9,0.5l0,0c0.8,0,1.4-0.3,1.9-0.6c0.1-0.1,0.3-0.2,0.5-0.2c0.1,0.1,0.3,0.3,0.4,0.4c0.4,0.4,0.9,1,1.5,1.2 c0.5,0.2,1.2,0.2,1.9,0.2l-0.1-1l0.2,1c0.2,0,0.3,0,0.5,0c0.1,0.1,0.1,0.4,0.2,0.5c0.2,0.5,0.4,1.2,1,1.7c0.5,0.5,1.2,0.7,1.8,0.9 c0.1,0,0.4,0.1,0.5,0.2c0,0.1,0,0.4,0,0.5c0,0.6-0.1,1.3,0.2,2s0.8,1.1,1.3,1.5c0.1,0.1,0.3,0.3,0.4,0.4c-0.1,0.1-0.2,0.4-0.2,0.5 c-0.2,0.5-0.6,1.1-0.5,1.9c0,0.8,0.3,1.4,0.6,1.9l0,0c0.1,0.1,0.2,0.3,0.2,0.5C44.8,48.3,44.7,48.4,44.5,48.5z"}),E.a.createElement("path",{fill:"#8B8B8B",d:"M26.1,28.1c0.5,1.2,1.5,1.9,2.8,1.9h9.2c0.4,0,0.7-0.1,1.1-0.2c1.5-0.6,2.3-2.3,1.7-3.9L40,23.7l6.9-17.6 c0.3-0.7,0.3-1.6,0-2.3S46,2.5,45.2,2.2C44.8,2.1,44.4,2,44.1,2h-9.2c-1.2,0-2.3,0.8-2.8,1.9L31.3,6c-0.1,0-0.2,0-0.2,0h-9.2 c-0.4,0-0.7,0.1-1.1,0.2c-0.7,0.3-1.3,0.9-1.7,1.6s-0.3,1.5,0,2.3L26.1,28.1z M34,4.6C34.1,4.3,34.5,4,34.9,4h9.2 c0.1,0,0.2,0,0.4,0.1l0,0c0.2,0.1,0.4,0.3,0.6,0.5c0.1,0.2,0.1,0.5,0,0.8l-6,15.4L33.7,7.2c-0.1-0.3-0.3-0.6-0.4-0.8L34,4.6z M21,8.6c0.1-0.2,0.3-0.4,0.6-0.5C21.7,8,21.8,8,21.9,8h9.2c0.4,0,0.8,0.2,0.9,0.6l7,18c0.2,0.5-0.1,1.1-0.6,1.3 c-0.1,0-0.2,0.1-0.4,0.1h-9.1c-0.4,0-0.8-0.2-0.9-0.6l-7-18C20.9,9.1,20.9,8.8,21,8.6z"}),E.a.createElement("path",{fill:"#8B8B8B",d:"M33,39c-3.9,0-7,3.1-7,7s3.1,7,7,7s7-3.1,7-7S36.8,39,33,39z M33,51c-2.8,0-5-2.2-5-5s2.2-5,5-5s5,2.2,5,5,S35.7,51,33,51z"})))},kv=function(e){var t=e.state,n=e.reward;return _n(t)?Ve(t).activitySet.activityMode!==F.challenge?null:E.a.createElement("div",{"data-player-control":"reward",className:"".concat(Ht.a.scoreScreen_reward," ").concat(Ht.a[n.badgeAssetClass])},E.a.createElement("div",{className:"".concat(Ht.a.reward_badge),"aria-label":n.badgeAssetClass},E.a.createElement(Pv,null)),E.a.createElement("p",{className:"".concat(Ht.a.reward_text)},n.rewardText)):null},Tv=function(){return E.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true",role:"img",width:"20",height:"20",viewBox:"0 0 20 20","aria-labelledby":"titleWrongIcon descWrongIcon"},E.a.createElement("aria-title",{id:"titleWrongIcon"},"wrong answers"),E.a.createElement("desc",{id:"descWrongIcon"},"cross icon"),E.a.createElement("circle",{cx:"10",cy:"10",r:"10",fill:"#eb0104"}),E.a.createElement("path",{fill:"none",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",d:"M6 6l8 8"}),E.a.createElement("path",{fill:"none",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",d:"M14 6l-8 8"}))},Lv=function(e){var t=Ve(e).activitySet.activityMode;return[F.test,F.practice,F.challenge].includes(t)},jv=function(e){var t=e.state,n=Object(v.useTranslation)().t;if(!_n(t))return null;var r=Ve(t).answers;if(!Lv(t))return null;var a=((null==r?void 0:r.attempts)||0)-((null==r?void 0:r.score)||0);return E.a.createElement("span",{className:"".concat(Ht.a.scoreScreen_wrongContainer),"aria-label":n("scoreScreens.itemBased.wrong.ariaLabel")},E.a.createElement("span",{className:"".concat(Ht.a.scoreScreen_wrongText)},a),E.a.createElement("span",{className:"".concat(Ht.a.scoreScreen_wrongIcon)}," ","x ",E.a.createElement(Tv,null)))},Mv=function(){return E.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true",role:"img",width:"20",height:"20",viewBox:"0 0 20 20","aria-labelledby":"titleCorrectIcon descCorrectIcon"},E.a.createElement("aria-title",{id:"titleCorrectIcon"},"Correct answers"),E.a.createElement("desc",{id:"descCorrectIcon"},"tick icon"),E.a.createElement("circle",{cx:"10",cy:"10",r:"10",fill:"#00a417"}),E.a.createElement("path",{fill:"none",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M5 10.8L8.7 14 15 6"}))},Nv=function(e){var t=e.state,n=Object(v.useTranslation)().t;if(!_n(t))return null;var r=Ve(t).answers;if(!Lv(t))return null;var a=(null==r?void 0:r.score)||0;return E.a.createElement("span",{className:"".concat(Ht.a.scoreScreen_correctContainer),"aria-label":n("scoreScreens.itemBased.correct.ariaLabel")},E.a.createElement("span",{className:"".concat(Ht.a.scoreScreen_correctText)},a),E.a.createElement("span",{className:"".concat(Ht.a.scoreScreen_correctIcon)}," ","x ",E.a.createElement(Mv,null)))},Iv=function(e){var t=e.state;return Lv(t)?E.a.createElement("div",{"data-player-control":"score",className:"".concat(Ht.a.scoreScreen_score)},E.a.createElement(Nv,{state:t}),E.a.createElement(jv,{state:t})):null},Fv=function(){return E.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true",role:"img",width:"48",height:"48",viewBox:"0 0 48 48","aria-labelledby":"titleLives descLives"},E.a.createElement("aria-title",{id:"titleLives"},"Lives"),E.a.createElement("desc",{id:"descLives"},"counter status"),E.a.createElement("circle",{cx:"24",cy:"24",r:"24",className:"life-backgroundContainer"}),E.a.createElement("polygon",{points:"30,15 24,19 18,15 12,19 12,27 24,34 24,34 36,27 36,19 \t",className:"life-active"}),E.a.createElement("path",{d:"M30 15l-6 4-6-4-6 4v8l12 7 12-7v-8l-6-4zm-4.9 5.7l4.9-3.3 4 2.7v5.8l-10 5.8-10-5.8v-5.8l4-2.7 4.9 3.3 1.1.7 1.1-.7z",className:"life-container"}))},Dv=function(e){var t=e.state,n=Object(v.useTranslation)().t,r=Ve(t),a=r.answers;if(r.activitySet.activityMode!==F.challenge)return null;for(var i=(null==a?void 0:a.score)||0,o=3-(((null==a?void 0:a.attempts)||0)-i),c=[],s=0;s<3;s++)c.push(E.a.createElement("li",{key:s,className:s<o?Ht.a.life_active:null},E.a.createElement(Fv,null)));return E.a.createElement("div",{className:"".concat(Ht.a.scoreScreen_livesContainer),"aria-label":n("scoreScreens.itemBased.lives.ariaLabel",{count:o})},E.a.createElement("ul",{"data-player-control":"lives",className:Ht.a.scoreScreen_lives},c))},Rv=function(e,t,n){var r=Number((null==n?void 0:n.score)||0),a=Number(t.pointsAvailable||0)+Number(t.teacherPointsAvailable||0);switch(t.gradableType){case I.openGradable:return n&&$n(n)?e("scoreScreens.multiStepActivitySets.scoreText.forOpenGradableWithFeedback",{score:r,pointsAvailable:a}):e("scoreScreens.multiStepActivitySets.scoreText.forOpenGradableWithNoFeedback",{pointsAvailable:a});case I.closedGradable:return e("scoreScreens.multiStepActivitySets.scoreText.forClosedGradable",{score:r,pointsAvailable:a});default:return e("scoreScreens.multiStepActivitySets.scoreText.otherGradableTypes")}},Wv=function(e){var t=e.index,n=e.manifestActivity,r=e.activityAnswers,a=e.onOpenAnsweredMultiStepActivity,i=Object(v.useTranslation)().t,o=Number((null==r?void 0:r.score)||0),c=Number(n.pointsAvailable||0)+Number(n.teacherPointsAvailable||0),s=n.gradableType,l=s===I.openGradable?"scoreOpenGradable":o===c?"scoreCorrect":"scoreWrong",u=s===I.openGradable?E.a.createElement(Sv,null):o===c?E.a.createElement(Mv,null):E.a.createElement(Tv,null),d=Rv(i,n,r);return E.a.createElement("li",null,E.a.createElement("span",{className:Ht.a.linkStep,onClick:function(){a(n.activityId)}},i("scoreScreens.multiStepActivitySets.stepLabel",{index:t+1})),E.a.createElement("span",null,d),E.a.createElement("span",{className:l},u))},zv=function(e){var t=e.state,n=e.actions,r=t.manifestDetails,a=Qt(t),i=a.activities;return a.isMultiStep?E.a.createElement("div",{className:Ht.a.scoreScreen_individualScoreDetails},E.a.createElement("ul",null,i.map((function(e,a){var i=r.activities[e],o=t.answersByActivity[e];return E.a.createElement(Wv,{key:"answer-status-for-activity-".concat(a),index:a,manifestActivity:i,activityAnswers:o,onOpenAnsweredMultiStepActivity:n.onOpenAnsweredMultiStepActivity})})))):null},Gv=function(e){var t=e.state,n=Object(v.useTranslation)().t,r=Qt(t),a=t.manifestDetails;return bu(r,a)?wu(t)?null:r.isMultiStep?E.a.createElement("div",{className:Ht.a.scoreScreen_teacherMarkPendingNotice},E.a.createElement("p",null,E.a.createElement("span",{className:"".concat(Ht.a.scoreStatus," ").concat(Ht.a.openGradable)},E.a.createElement(Sv,null)),n("scoreScreens.multiStepActivitySets.teachersMarksPendingLabel"))):null:null},Hv=function(e){var t=Object(B.useState)(0),n=bd()(t,2),r=n[0],a=n[1];return Object(B.useEffect)((function(){setTimeout((function(){a(e)}),1)})),r},Vv=function(e){var t=e.percentage,n=e.correctText,r=Object(v.useTranslation)().t,a=Hv(t),i=parseInt(5.09*a),o=r("scoreScreens.scorePercentage.ariaLabel");return E.a.createElement("div",{"data-player-control":"score-percentage-content",className:"".concat(Ht.a.scoreScreen_score_percentageContainer," p").concat(a),"aria-label":o},E.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 168 168"},E.a.createElement("circle",{cx:"84",cy:"84",r:"81",fill:"none",stroke:"#c6d7fc",strokeWidth:"5"}),E.a.createElement("path",{className:"circle",fill:"none",d:"M 84 3 A 81 81 0 0 1 165 84 A 81 81 0 0 1 84 165 A 81 81 0 0 1 3 84 A 81 81 0 0 1 84 3",stroke:"blue",strokeWidth:"5",strokeDasharray:"".concat(i," ").concat(509)})),E.a.createElement("div",{className:"".concat(Ht.a.scoreScreen_score_percentageContent)},E.a.createElement("span",{className:"".concat(Ht.a.score_percentageValue)},t),E.a.createElement("span",{className:"".concat(Ht.a.score_percentageChar)},"%"),E.a.createElement("span",{className:"".concat(Ht.a.score_correctText)},n)))},qv=function(e){var t=Sr(e),n=_r(e);return Math.round(n/t*100)},Uv=function(e){var t=e.state,n=Object(v.useTranslation)().t,r=Ve(t).activitySet.activityMode;if(wn(t)||r===F.test||r===F.practice){var a=qv(t),i=n("scoreScreens.scorePercentage.caption");return E.a.createElement(Vv,{percentage:a,correctText:i})}return null},Zv=function(e){var t=e.actions,n=E.a.useContext(an).state,r=Object(v.useTranslation)().t,a=wn(n),i=_n(n);if(a||i){var o=Rr(n),c=Ve(n).activitySet.activityMode,s=Qt(n),l=a?"multi-step-score-screen":"item-based-score-screen",u=a?Ht.a.scoreScreen_multiStep:Ht.a.scoreScreen_itemBased,d=r(a?"scoreScreens.multiStepActivitySets.ariaLabel":"scoreScreens.itemBased.ariaLabel");return E.a.createElement("div",{"data-player-control":l,className:qt()(Ht.a.scoreScreen_container,u,c&&Ht.a[c]),"aria-label":d,"data-loaded":"true"},E.a.createElement("div",{className:"".concat(Ht.a.scoreScreen)},a&&E.a.createElement(un,{activitySet:s}),E.a.createElement(pv,{state:n}),E.a.createElement(Ov,{state:n,reward:o}),E.a.createElement(zv,{state:n,actions:t}),E.a.createElement(Iv,{state:n}),E.a.createElement(Dv,{state:n}),E.a.createElement(Uv,{state:n}),E.a.createElement(kv,{state:n,reward:o}),E.a.createElement(Gv,{state:n})))}return null},Kv=function(e){var t=e.state,n=Object(v.useTranslation)().t,r=t.playerStatus;return[q.rcfLoaded,q.coverScreenActive,q.itemScoreScreenActive,q.multiStepCoverScreenActive,q.multiStepScoreScreenActive,q.timedPlaylistCompleteScreenActive,q.timedPlaylistTimeoutScreenActive,q.timedPlaylistFinishScreenActive,q.noAttemptAvailable].includes(r)?null:E.a.createElement("div",{className:Ht.a.loader},E.a.createElement("span",{className:Ht.a.loader_block}),E.a.createElement("label",{className:Ht.a.loader_title},n("components.loadingAnimation.loading")))},Jv=function(e){var t=e.playerStatus;return!!Xt(e)&&(!!e.timedPlaylistInProgress||(t===q.timedPlaylistFinishScreenActive||([q.timedPlaylistTimeoutScreenActive,q.timedPlaylistCompleteScreenActive].includes(t),!1)))},Yv=function(e){return!!St(e)},Qv=function(e){return St(e)?vv(e):0},Xv=function(e){var t=e.viewActivityOptions,n=t.assessmentSecondsRemaining,r=t.strictHomeworkSecondsRemaining;return Xi(e)?n||0:Ap(e)&&r||0},$v=function(e){return!!dt(e)&&!!St(e)},ef=function(e){return!!(dt(e)||tv(e)||Lc(e))&&(!!Xt(e)&&(Ke(e)&&!!e.timedPlaylistInProgress))},tf=function(e,t){var n=$v(e),r=Qv(e);return nf({state:e,initialSecondsRemaining:r,enableTimer:n,resetTheTimer:e.resetItemBasedTimer,timeoutFunction:t.onItemBasedTimeout})},nf=function(e){var t=e.state,n=e.timeoutFunction,r=e.enableTimer,a=e.resetTheTimer,i=e.initialSecondsRemaining;return{contentWindow:t.rcfPlayerOptions.contentWebviewWindow,initialSecondsRemaining:i,enableTimer:r,resetTheTimer:a,onTimerComplete:n}};function rf(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var n,r=A()(e);if(t){var a=A()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _()(this,n)}}var af=function(e){g()(i,e);var t,n,r=rf(i);function i(e){var t;return o()(this,i),(t=r.call(this,e)).actions=new Pc(b()(t),e.errorHandler),t.state=t.props.initialState,t}return s()(i,[{key:"componentDidMount",value:(n=a()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.actions.onInitialize();case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.setState=function(){}}},{key:"componentDidCatch",value:(t=a()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.errorHandler(t);case 2:return e.next=4,this.actions.onCloseWindow();case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"render",value:function(){if(this.state.hasRenderError)return null;var e,t,n,r,a=this.state.rcfPlayerOptions,i=a.titleBarPosition,o=void 0===i?Ee.bottom:i,c=a.theme,s=void 0===c?Ce.default:c,l=E.a.createElement(dv,{state:this.state,theme:s},o===Ee.top&&E.a.createElement(Gp,{actions:this.actions}),E.a.createElement(iv,{actions:this.actions}),E.a.createElement(xv,null),E.a.createElement(Zv,{actions:this.actions}),E.a.createElement(Fp,{actions:this.actions}),E.a.createElement(Kv,{state:this.state}),o===Ee.bottom&&E.a.createElement(Gp,{actions:this.actions}));if(Jv(this.state)){var u=(e=this.state,t=this.actions,n=ef(e),r=Xv(e),nf({state:e,initialSecondsRemaining:r,enableTimer:n,resetTheTimer:!1,timeoutFunction:t.onTimedPlaylistTimeout}));if(Yv(this.state)){var d=tf(this.state,this.actions);return E.a.createElement(on,{state:this.state},E.a.createElement(Xp,u,E.a.createElement(gd,d,l)))}return E.a.createElement(on,{state:this.state},E.a.createElement(Xp,u,l))}if(Yv(this.state)){var p=tf(this.state,this.actions);return E.a.createElement(on,{state:this.state},E.a.createElement(gd,p,l))}return E.a.createElement(on,{state:this.state},l)}}],[{key:"getDerivedStateFromError",value:function(){return{hasRenderError:!0}}}]),i}(B.Component),of=null,cf=function(){if(of&&of.current)return of.current},sf=function(e){of=e},lf=function(e,t){return e.state.rcfPlayerOptions.contentWebviewWindow===t.contentWebviewWindow},uf=n(14),df=n.n(uf),pf=function(){var e=a()(u.a.mark((function e(t){var n,r,a,i,o,c,s,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.contentWebviewDocument,r=t.rcfPlayerAssetsUrl,n.head){e.next=3;break}throw new Error("document.head not found");case 3:if(a=n.head,i=n.documentElement,!n.getElementById("player-styles")){e.next=7;break}return e.abrupt("return");case 7:return"utf-8"!==(o=n.characterSet.toLowerCase())&&console.warn("rcf-player window text encoding is set to ".concat(o,", but expected utf-8")),(c=n.createElement("meta")).setAttribute("name","viewport"),c.setAttribute("content","width=device-width, initial-scale=1.0"),a.appendChild(c),(s=n.createElement("meta")).setAttribute("name","format-detection"),s.setAttribute("content","telephone=no"),a.appendChild(s),(l=n.createElement("base")).setAttribute("id","base"),a.appendChild(l),i&&i.setAttribute("lang",m.language),e.abrupt("return",new Promise((function(e){var t=n.createElement("link");t.setAttribute("id","player-styles"),t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href","".concat(r,"/player.css")),t.onload=e,a.appendChild(t)})));case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),vf=function(e,t){var n=[Oe.assessment,Oe.strictHomework].includes(t.linkOrigin),r={rcfPlayerOptions:e,viewActivityOptions:t,viewActivityQueue:[],manifestDetails:{rcfVersions:{},activitySets:{},activities:{}},answersByActivity:{},partialAnswersByActivity:{},contentByActivity:{},currentDisplayType:e.initialDisplayType,activityId:null,playerStatus:q.playerInitialized,gameStatus:U.default,userAnswersToggle:!1,showingAnswers:z,hideShowAnswersRevealButton:!1,itemId:null,scoreCardDismissed:!1,activityStartTime:null,activitySetStartTime:null,durationInSeconds:null,isVisible:!0,hasRenderError:!1,apiCallInProgress:!1,readOnly:!1,itemBasedProgressKnown:void 0,scrollingBefore:!1,scrollingAfter:!1,logger:new j(e.debugMode),storyStatus:void 0,storyDone:void 0,seenLastStoryPage:void 0,outOfTime:!1,hasControlsBar:!1,hasScoreCard:!1,answersCameFromGradebook:!1,seenMultiStepCoverScreen:!1,seenMultiStepScoreScreen:!1,resetMultiStepActivitySet:!1,showingMultiStepAnswers:!1,noActivityControlsRequired:!1,resetItemBasedTimer:!1,timedPlaylistInProgress:n,editingTeacherOpenGradableFeedback:!1,fontSizeControl:{buttonActive:!1,currentFontSize:Ae.medium}};return n&&(r.playlistStatus={}),r},ff=function(e){var t=e.contentWebviewDocument,n=e.rootDiv,r=t.getElementById("player-root");if(r)return r;if(n)return n;if(!t.body)throw new Error("document.body not found");var a=t.body,i=t.createElement("div");return i.setAttribute("id","player-root"),a.appendChild(i),i},yf=n(23),mf=n.n(yf);function hf(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return bf(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bf(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function bf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var wf=function(){var e=a()(u.a.mark((function e(t){var n,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=hf(he),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=15;break}return a=r.value,e.prev=5,e.next=8,new mf.a(a,{},t).load();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),console.warn("Font ".concat(a," is not available after waiting 5 seconds"));case 13:e.next=3;break;case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(1),n.e(e.t1);case 20:return e.prev=20,n.f(),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[1,17,20,23],[5,10]])})));return function(t){return e.apply(this,arguments)}}();function gf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Sf=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gf(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return["contentRootUrl","uploadedFilesRootUrl"].forEach((function(n){var r=e[n];void 0!==r&&"/"==r.slice(-1)&&(t[n]=r.slice(0,-1))})),t},_f=function(e){if(!e)return!1;var t=Object.keys(e);return 0!==t.length&&t.some((function(t){var n=e[t]||{};return((null==n?void 0:n.answers)||[]).length>0?Pa(n)>0:(null==n?void 0:n.attempts)||!1}))};function Cf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Af(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cf(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bf=function(e){var t=e.viewActivityOptions,n=t.student,r=t.playList;if(Xt(e)){if(!n)throw new Error("student required");if(eu(e))if(null!=r&&r.activitySets)return Object.keys((null==r?void 0:r.activitySets)||{}).reduce((function(e,t){var n,a;return Af(Af({},e),{},O()({},t,_f(null==r||null===(n=r.activitySets)||void 0===n||null===(a=n[t])||void 0===a?void 0:a.answers)))}),{})}},Ef=function(){var e=a()(u.a.mark((function e(t,n,r){var a,i,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=ff(t),i=t.contentWebviewWindow,o=vf(Sf(t),n),console.group("Creating RCF Player Window with view options",n),!Xt(o)||!Ke(o)){e.next=16;break}e.prev=5,(c=Bf(o))&&(o.playlistStatus=c),e.next=16;break;case 10:return e.prev=10,e.t0=e.catch(5),console.groupEnd(),jn(o),r(e.t0),e.abrupt("return");case 16:return e.abrupt("return",new Promise((function(e){return pf(t).then((function(){a.childNodes.length>0&&df.a.unmountComponentAtNode(a),i.onbeforeunload=function(){if(i.RCF){var e=i.RCF;try{e.Application.cleanUp()}catch(e){console.error("Error cleaning up RCF",e)}}jn(o),df.a.unmountComponentAtNode(a),of=null};var n=E.a.createRef();console.groupEnd(),df.a.render(E.a.createElement(af,{initialState:o,errorHandler:r,ref:n}),a,(function(){sf(n),wf(t.contentWebviewWindow).then(e).catch((function(e){return r(e)}))}))}))})));case 17:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),xf=null,Of=function(e,t){var n=cf();return!(!n||!lf(n,e))&&(n.actions.onQueueActivity(t),!0)},Pf=function(e,t,n){return t.previousAttempt||(t.previousAttempt=ht.last),Of(e,t)?Promise.resolve():xf?xf.then((function(){Of(e,t)})):((xf=Ef(e,t,n)).then((function(){xf=null})),xf)},kf=function(){return Promise.resolve(!0)},Tf=function(){var e=a()(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=cf())||!lf(r,t)){e.next=4;break}return e.next=4,r.actions.onSetActivityVisibility(n);case 4:return e.abrupt("return");case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Lf=function(){var e=new Date;return"".concat(e.getHours(),":").concat(e.getMinutes(),":").concat(e.getSeconds())},jf=function(e,t){return new Proxy(e,{get:function(e,n){var r=e[n];return function(){for(var a=n,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];"onEvent"===n&&(a+=' "'.concat(o[0].type,'"')),console.group("Adapter call to adapter.".concat(a)),t.alwaysLog(Lf(),">> ADAPTER CALL: [".concat(a,"] method with args ["),o,"]");var s=r.apply(e,o);return s instanceof Promise?s.then((function(e){t.alwaysLog(Lf(),">> ADAPTER ASYNC RETURNED: [".concat(a,"] method returned ["),e,"]"),console.groupEnd()})):(t.alwaysLog(Lf(),">> ADAPTER RETURNED: [".concat(a,"] method returned ["),s,"]"),console.groupEnd()),s}}})},Mf=function(e,t){var n=e.rcfAdapter,r=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.alwaysLog('"'.concat(e,'"'),n?"✅":"❌",r)};console.group("Checking provided adapter methods");var a=["onEvent","uploadUserFile","getManifestForActivitySet","getAnswersForActivitySet","setAnswersForActivitySet"].filter((function(e){var t=e in n;return r(e,t),!t}));if(r("displayUiDialog","displayUiDialog"in n,"* (optional)"),console.groupEnd(),a.length>0){var i="Fatal Error ! Supplied adapter is missing the following method".concat(a.length>1?"s":""," : ").concat(a.join(", "));throw new Error(i)}};n.d(t,"createPlayer",(function(){return If})),n.d(t,"DISPLAY_TYPES",(function(){return mt})),n.d(t,"PREVIOUS_ATTEMPTS",(function(){return ht})),n.d(t,"GRADABLE_TYPES",(function(){return I})),n.d(t,"ITEM_BASED_PLAYING_MODES",(function(){return F})),n.d(t,"RCF_ACTIVITY_MODES",(function(){return D})),n.d(t,"SUBMIT_TYPES",(function(){return R})),n.d(t,"REWARDS",(function(){return W})),n.d(t,"DEBUG_MODES",(function(){return _e})),n.d(t,"THEMES",(function(){return Ce})),n.d(t,"FONT_SIZES",(function(){return Ae})),n.d(t,"ACTIVITY_MODES",(function(){return Be})),n.d(t,"TITLEBAR_POSITIONS",(function(){return Ee})),n.d(t,"USER_ROLES",(function(){return xe})),n.d(t,"LINK_ORIGINS",(function(){return Oe})),n.d(t,"HOSTED_BY",(function(){return Pe})),n.d(t,"Logger",(function(){return j}));var Nf=function(){function e(t){o()(this,e);var n=t.language,r=t.rcfAdapter;this.handleError=this.handleError.bind(this),this.logger=new j(t.debugMode),t.rcfAdapter=jf(r,this.logger),this.rcfPlayerOptions=t,console.group("Creating RCF Player instance"),this.logger.alwaysLog("RCF player version: ".concat("0.4.66",", with options"),this.rcfPlayerOptions),m.changeLanguage(n||"en"),console.groupEnd()}var t,n,r,i,c;return s()(e,[{key:"handleError",value:(c=a()(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ur(this.rcfPlayerOptions,t);case 2:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"viewActivity",value:(i=a()(u.a.mark((function e(t){var n,r,a,i,o,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.linkOrigin,r=t.userRole,a=t.student,i=this.rcfPlayerOptions.debugMode,Mf(this.rcfPlayerOptions,this.logger),n===Oe.gradebook||n===Oe.assessment||n===Oe.strictHomework||r!==xe.teacher||!a){e.next=10;break}if(i!==_e.throwException){e.next=9;break}throw new Error("Error ! viewActivity called with teacher and studentId when NOT from gradebook (provided : ".concat(n," and student: ").concat(a,")"));case 9:this.logger.log("Warning ! viewActivity called with teacher and studentId when NOT from gradebook (provided : ".concat(n," and student: ").concat(a,")"));case 10:if(n!==Oe.assessment){e.next=14;break}if(o=Number(t.assessmentSecondsRemaining||0),!(Number(o)<1)){e.next=14;break}throw new Error("Error ! viewActivity called with assessmentSecondsRemaining < 1 or missing : ".concat(o));case 14:if(n!==Oe.strictHomework){e.next=18;break}if(c=Number(t.strictHomeworkSecondsRemaining||0),!(Number(c)<1)){e.next=18;break}throw new Error("Error ! viewActivity called with strictHomeworkSecondsRemaining < 1 or missing : ".concat(c));case 18:return e.next=20,Pf(this.rcfPlayerOptions,t,this.handleError);case 20:return e.abrupt("return",!0);case 23:return e.prev=23,e.t0=e.catch(0),e.next=27,this.handleError(e.t0);case 27:if(!("onEvent"in(s=this.rcfPlayerOptions.rcfAdapter))){e.next=33;break}return e.next=31,s.onEvent({type:"close-window-requested"});case 31:e.next=34;break;case 33:console.error("Error ! Supplied adapter is missing the onEvent method so cannot close the player window via adapter onEvent");case 34:return e.abrupt("return",!1);case 35:case"end":return e.stop()}}),e,this,[[0,23]])}))),function(e){return i.apply(this,arguments)})},{key:"hideActivity",value:(r=a()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.logger.log("in rcfPlayer.hideActivity"),e.next=4,Tf(this.rcfPlayerOptions,!1);case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,this.handleError(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(){return r.apply(this,arguments)})},{key:"showActivity",value:(n=a()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.logger.log("in rcfPlayer.showActivity"),e.next=4,Tf(this.rcfPlayerOptions,!0);case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,this.handleError(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(){return n.apply(this,arguments)})},{key:"closeActivity",value:(t=a()(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.logger.log("in rcfPlayer.closeActivity"),e.abrupt("return",kf());case 5:return e.prev=5,e.t0=e.catch(0),e.next=9,this.handleError(e.t0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(){return t.apply(this,arguments)})}]),e}();function If(e){return new Nf(e)}t.default=Nf}]);
//# sourceMappingURL=index.js.map

/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

var fails = __webpack_require__(3);

module.exports = !fails(function () {
  // eslint-disable-next-line es-x/no-function-prototype-bind -- safe
  var test = (function () { /* empty */ }).bind();
  // eslint-disable-next-line no-prototype-builtins -- safe
  return typeof test != 'function' || test.hasOwnProperty('prototype');
});


/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

// toObject with fallback for non-array-like ES3 strings
var IndexedObject = __webpack_require__(83);
var requireObjectCoercible = __webpack_require__(44);

module.exports = function (it) {
  return IndexedObject(requireObjectCoercible(it));
};


/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__(7);
var isCallable = __webpack_require__(1);

var aFunction = function (argument) {
  return isCallable(argument) ? argument : undefined;
};

module.exports = function (namespace, method) {
  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];
};


/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

var aCallable = __webpack_require__(13);

// `GetMethod` abstract operation
// https://tc39.es/ecma262/#sec-getmethod
module.exports = function (V, P) {
  var func = V[P];
  return func == null ? undefined : aCallable(func);
};


/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

var uncurryThis = __webpack_require__(8);

module.exports = uncurryThis({}.isPrototypeOf);


/***/ }),
/* 28 */
/***/ (function(module, exports) {

var $String = String;

module.exports = function (argument) {
  try {
    return $String(argument);
  } catch (error) {
    return 'Object';
  }
};


/***/ }),
/* 29 */
/***/ (function(module, exports) {

module.exports = false;


/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__(7);
var defineGlobalProperty = __webpack_require__(31);

var SHARED = '__core-js_shared__';
var store = global[SHARED] || defineGlobalProperty(SHARED, {});

module.exports = store;


/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__(7);

// eslint-disable-next-line es-x/no-object-defineproperty -- safe
var defineProperty = Object.defineProperty;

module.exports = function (key, value) {
  try {
    defineProperty(global, key, { value: value, configurable: true, writable: true });
  } catch (error) {
    global[key] = value;
  } return value;
};


/***/ }),
/* 32 */
/***/ (function(module, exports, __webpack_require__) {

var DESCRIPTORS = __webpack_require__(12);
var IE8_DOM_DEFINE = __webpack_require__(52);
var V8_PROTOTYPE_DEFINE_BUG = __webpack_require__(54);
var anObject = __webpack_require__(2);
var toPropertyKey = __webpack_require__(45);

var $TypeError = TypeError;
// eslint-disable-next-line es-x/no-object-defineproperty -- safe
var $defineProperty = Object.defineProperty;
// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe
var $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
var ENUMERABLE = 'enumerable';
var CONFIGURABLE = 'configurable';
var WRITABLE = 'writable';

// `Object.defineProperty` method
// https://tc39.es/ecma262/#sec-object.defineproperty
exports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {
  anObject(O);
  P = toPropertyKey(P);
  anObject(Attributes);
  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {
    var current = $getOwnPropertyDescriptor(O, P);
    if (current && current[WRITABLE]) {
      O[P] = Attributes.value;
      Attributes = {
        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],
        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],
        writable: false
      };
    }
  } return $defineProperty(O, P, Attributes);
} : $defineProperty : function defineProperty(O, P, Attributes) {
  anObject(O);
  P = toPropertyKey(P);
  anObject(Attributes);
  if (IE8_DOM_DEFINE) try {
    return $defineProperty(O, P, Attributes);
  } catch (error) { /* empty */ }
  if ('get' in Attributes || 'set' in Attributes) throw $TypeError('Accessors not supported');
  if ('value' in Attributes) O[P] = Attributes.value;
  return O;
};


/***/ }),
/* 33 */
/***/ (function(module, exports, __webpack_require__) {

var isCallable = __webpack_require__(1);
var createNonEnumerableProperty = __webpack_require__(21);
var makeBuiltIn = __webpack_require__(88);
var defineGlobalProperty = __webpack_require__(31);

module.exports = function (O, key, value, options) {
  if (!options) options = {};
  var simple = options.enumerable;
  var name = options.name !== undefined ? options.name : key;
  if (isCallable(value)) makeBuiltIn(value, name, options);
  if (options.global) {
    if (simple) O[key] = value;
    else defineGlobalProperty(key, value);
  } else {
    if (!options.unsafe) delete O[key];
    else if (O[key]) simple = true;
    if (simple) O[key] = value;
    else createNonEnumerableProperty(O, key, value);
  } return O;
};


/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {

var shared = __webpack_require__(49);
var uid = __webpack_require__(51);

var keys = shared('keys');

module.exports = function (key) {
  return keys[key] || (keys[key] = uid(key));
};


/***/ }),
/* 35 */
/***/ (function(module, exports) {

module.exports = {};


/***/ }),
/* 36 */
/***/ (function(module, exports) {

// IE8- don't enum bug keys
module.exports = [
  'constructor',
  'hasOwnProperty',
  'isPrototypeOf',
  'propertyIsEnumerable',
  'toLocaleString',
  'toString',
  'valueOf'
];


/***/ }),
/* 37 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// https://github.com/tc39/proposal-iterator-helpers
var $ = __webpack_require__(19);
var iterate = __webpack_require__(38);
var aCallable = __webpack_require__(13);
var anObject = __webpack_require__(2);

$({ target: 'Iterator', proto: true, real: true, forced: true }, {
  find: function find(fn) {
    anObject(this);
    aCallable(fn);
    return iterate(this, function (value, stop) {
      if (fn(value)) return stop(value);
    }, { IS_ITERATOR: true, INTERRUPTED: true }).result;
  }
});


/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

var bind = __webpack_require__(107);
var call = __webpack_require__(15);
var anObject = __webpack_require__(2);
var tryToString = __webpack_require__(28);
var isArrayIteratorMethod = __webpack_require__(108);
var lengthOfArrayLike = __webpack_require__(59);
var isPrototypeOf = __webpack_require__(27);
var getIterator = __webpack_require__(109);
var getIteratorMethod = __webpack_require__(67);
var iteratorClose = __webpack_require__(65);

var $TypeError = TypeError;

var Result = function (stopped, result) {
  this.stopped = stopped;
  this.result = result;
};

var ResultPrototype = Result.prototype;

module.exports = function (iterable, unboundFunction, options) {
  var that = options && options.that;
  var AS_ENTRIES = !!(options && options.AS_ENTRIES);
  var IS_ITERATOR = !!(options && options.IS_ITERATOR);
  var INTERRUPTED = !!(options && options.INTERRUPTED);
  var fn = bind(unboundFunction, that);
  var iterator, iterFn, index, length, result, next, step;

  var stop = function (condition) {
    if (iterator) iteratorClose(iterator, 'normal', condition);
    return new Result(true, condition);
  };

  var callFn = function (value) {
    if (AS_ENTRIES) {
      anObject(value);
      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);
    } return INTERRUPTED ? fn(value, stop) : fn(value);
  };

  if (IS_ITERATOR) {
    iterator = iterable;
  } else {
    iterFn = getIteratorMethod(iterable);
    if (!iterFn) throw $TypeError(tryToString(iterable) + ' is not iterable');
    // optimisation for array iterators
    if (isArrayIteratorMethod(iterFn)) {
      for (index = 0, length = lengthOfArrayLike(iterable); length > index; index++) {
        result = callFn(iterable[index]);
        if (result && isPrototypeOf(ResultPrototype, result)) return result;
      } return new Result(false);
    }
    iterator = getIterator(iterable, iterFn);
  }

  next = iterator.next;
  while (!(step = call(next, iterator)).done) {
    try {
      result = callFn(step.value);
    } catch (error) {
      iteratorClose(iterator, 'throw', error);
    }
    if (typeof result == 'object' && result && isPrototypeOf(ResultPrototype, result)) return result;
  } return new Result(false);
};


/***/ }),
/* 39 */
/***/ (function(module, exports) {

function _classCallCheck(a, n) {
  if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function");
}
module.exports = _classCallCheck, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 40 */
/***/ (function(module, exports, __webpack_require__) {

var toPropertyKey = __webpack_require__(74);
function _defineProperties(e, r) {
  for (var t = 0; t < r.length; t++) {
    var o = r[t];
    o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);
  }
}
function _createClass(e, r, t) {
  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", {
    writable: !1
  }), e;
}
module.exports = _createClass, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 41 */
/***/ (function(module, exports, __webpack_require__) {

var DESCRIPTORS = __webpack_require__(12);
var call = __webpack_require__(15);
var propertyIsEnumerableModule = __webpack_require__(82);
var createPropertyDescriptor = __webpack_require__(42);
var toIndexedObject = __webpack_require__(24);
var toPropertyKey = __webpack_require__(45);
var hasOwn = __webpack_require__(10);
var IE8_DOM_DEFINE = __webpack_require__(52);

// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe
var $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;

// `Object.getOwnPropertyDescriptor` method
// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor
exports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {
  O = toIndexedObject(O);
  P = toPropertyKey(P);
  if (IE8_DOM_DEFINE) try {
    return $getOwnPropertyDescriptor(O, P);
  } catch (error) { /* empty */ }
  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);
};


/***/ }),
/* 42 */
/***/ (function(module, exports) {

module.exports = function (bitmap, value) {
  return {
    enumerable: !(bitmap & 1),
    configurable: !(bitmap & 2),
    writable: !(bitmap & 4),
    value: value
  };
};


/***/ }),
/* 43 */
/***/ (function(module, exports, __webpack_require__) {

var uncurryThis = __webpack_require__(8);

var toString = uncurryThis({}.toString);
var stringSlice = uncurryThis(''.slice);

module.exports = function (it) {
  return stringSlice(toString(it), 8, -1);
};


/***/ }),
/* 44 */
/***/ (function(module, exports) {

var $TypeError = TypeError;

// `RequireObjectCoercible` abstract operation
// https://tc39.es/ecma262/#sec-requireobjectcoercible
module.exports = function (it) {
  if (it == undefined) throw $TypeError("Can't call method on " + it);
  return it;
};


/***/ }),
/* 45 */
/***/ (function(module, exports, __webpack_require__) {

var toPrimitive = __webpack_require__(84);
var isSymbol = __webpack_require__(46);

// `ToPropertyKey` abstract operation
// https://tc39.es/ecma262/#sec-topropertykey
module.exports = function (argument) {
  var key = toPrimitive(argument, 'string');
  return isSymbol(key) ? key : key + '';
};


/***/ }),
/* 46 */
/***/ (function(module, exports, __webpack_require__) {

var getBuiltIn = __webpack_require__(25);
var isCallable = __webpack_require__(1);
var isPrototypeOf = __webpack_require__(27);
var USE_SYMBOL_AS_UID = __webpack_require__(47);

var $Object = Object;

module.exports = USE_SYMBOL_AS_UID ? function (it) {
  return typeof it == 'symbol';
} : function (it) {
  var $Symbol = getBuiltIn('Symbol');
  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));
};


/***/ }),
/* 47 */
/***/ (function(module, exports, __webpack_require__) {

/* eslint-disable es-x/no-symbol -- required for testing */
var NATIVE_SYMBOL = __webpack_require__(48);

module.exports = NATIVE_SYMBOL
  && !Symbol.sham
  && typeof Symbol.iterator == 'symbol';


/***/ }),
/* 48 */
/***/ (function(module, exports, __webpack_require__) {

/* eslint-disable es-x/no-symbol -- required for testing */
var V8_VERSION = __webpack_require__(85);
var fails = __webpack_require__(3);

// eslint-disable-next-line es-x/no-object-getownpropertysymbols -- required for testing
module.exports = !!Object.getOwnPropertySymbols && !fails(function () {
  var symbol = Symbol();
  // Chrome 38 Symbol has incorrect toString conversion
  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances
  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||
    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances
    !Symbol.sham && V8_VERSION && V8_VERSION < 41;
});


/***/ }),
/* 49 */
/***/ (function(module, exports, __webpack_require__) {

var IS_PURE = __webpack_require__(29);
var store = __webpack_require__(30);

(module.exports = function (key, value) {
  return store[key] || (store[key] = value !== undefined ? value : {});
})('versions', []).push({
  version: '3.22.8',
  mode: IS_PURE ? 'pure' : 'global',
  copyright: '© 2014-2022 Denis Pushkarev (zloirock.ru)',
  license: 'https://github.com/zloirock/core-js/blob/v3.22.8/LICENSE',
  source: 'https://github.com/zloirock/core-js'
});


/***/ }),
/* 50 */
/***/ (function(module, exports, __webpack_require__) {

var requireObjectCoercible = __webpack_require__(44);

var $Object = Object;

// `ToObject` abstract operation
// https://tc39.es/ecma262/#sec-toobject
module.exports = function (argument) {
  return $Object(requireObjectCoercible(argument));
};


/***/ }),
/* 51 */
/***/ (function(module, exports, __webpack_require__) {

var uncurryThis = __webpack_require__(8);

var id = 0;
var postfix = Math.random();
var toString = uncurryThis(1.0.toString);

module.exports = function (key) {
  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);
};


/***/ }),
/* 52 */
/***/ (function(module, exports, __webpack_require__) {

var DESCRIPTORS = __webpack_require__(12);
var fails = __webpack_require__(3);
var createElement = __webpack_require__(53);

// Thanks to IE8 for its funny defineProperty
module.exports = !DESCRIPTORS && !fails(function () {
  // eslint-disable-next-line es-x/no-object-defineproperty -- required for testing
  return Object.defineProperty(createElement('div'), 'a', {
    get: function () { return 7; }
  }).a != 7;
});


/***/ }),
/* 53 */
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__(7);
var isObject = __webpack_require__(20);

var document = global.document;
// typeof document.createElement is 'object' in old IE
var EXISTS = isObject(document) && isObject(document.createElement);

module.exports = function (it) {
  return EXISTS ? document.createElement(it) : {};
};


/***/ }),
/* 54 */
/***/ (function(module, exports, __webpack_require__) {

var DESCRIPTORS = __webpack_require__(12);
var fails = __webpack_require__(3);

// V8 ~ Chrome 36-
// https://bugs.chromium.org/p/v8/issues/detail?id=3334
module.exports = DESCRIPTORS && fails(function () {
  // eslint-disable-next-line es-x/no-object-defineproperty -- required for testing
  return Object.defineProperty(function () { /* empty */ }, 'prototype', {
    value: 42,
    writable: false
  }).prototype != 42;
});


/***/ }),
/* 55 */
/***/ (function(module, exports, __webpack_require__) {

var uncurryThis = __webpack_require__(8);
var isCallable = __webpack_require__(1);
var store = __webpack_require__(30);

var functionToString = uncurryThis(Function.toString);

// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper
if (!isCallable(store.inspectSource)) {
  store.inspectSource = function (it) {
    return functionToString(it);
  };
}

module.exports = store.inspectSource;


/***/ }),
/* 56 */
/***/ (function(module, exports, __webpack_require__) {

var NATIVE_WEAK_MAP = __webpack_require__(90);
var global = __webpack_require__(7);
var uncurryThis = __webpack_require__(8);
var isObject = __webpack_require__(20);
var createNonEnumerableProperty = __webpack_require__(21);
var hasOwn = __webpack_require__(10);
var shared = __webpack_require__(30);
var sharedKey = __webpack_require__(34);
var hiddenKeys = __webpack_require__(35);

var OBJECT_ALREADY_INITIALIZED = 'Object already initialized';
var TypeError = global.TypeError;
var WeakMap = global.WeakMap;
var set, get, has;

var enforce = function (it) {
  return has(it) ? get(it) : set(it, {});
};

var getterFor = function (TYPE) {
  return function (it) {
    var state;
    if (!isObject(it) || (state = get(it)).type !== TYPE) {
      throw TypeError('Incompatible receiver, ' + TYPE + ' required');
    } return state;
  };
};

if (NATIVE_WEAK_MAP || shared.state) {
  var store = shared.state || (shared.state = new WeakMap());
  var wmget = uncurryThis(store.get);
  var wmhas = uncurryThis(store.has);
  var wmset = uncurryThis(store.set);
  set = function (it, metadata) {
    if (wmhas(store, it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);
    metadata.facade = it;
    wmset(store, it, metadata);
    return metadata;
  };
  get = function (it) {
    return wmget(store, it) || {};
  };
  has = function (it) {
    return wmhas(store, it);
  };
} else {
  var STATE = sharedKey('state');
  hiddenKeys[STATE] = true;
  set = function (it, metadata) {
    if (hasOwn(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);
    metadata.facade = it;
    createNonEnumerableProperty(it, STATE, metadata);
    return metadata;
  };
  get = function (it) {
    return hasOwn(it, STATE) ? it[STATE] : {};
  };
  has = function (it) {
    return hasOwn(it, STATE);
  };
}

module.exports = {
  set: set,
  get: get,
  has: has,
  enforce: enforce,
  getterFor: getterFor
};


/***/ }),
/* 57 */
/***/ (function(module, exports, __webpack_require__) {

var uncurryThis = __webpack_require__(8);
var hasOwn = __webpack_require__(10);
var toIndexedObject = __webpack_require__(24);
var indexOf = __webpack_require__(94).indexOf;
var hiddenKeys = __webpack_require__(35);

var push = uncurryThis([].push);

module.exports = function (object, names) {
  var O = toIndexedObject(object);
  var i = 0;
  var result = [];
  var key;
  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);
  // Don't enum bug & hidden keys
  while (names.length > i) if (hasOwn(O, key = names[i++])) {
    ~indexOf(result, key) || push(result, key);
  }
  return result;
};


/***/ }),
/* 58 */
/***/ (function(module, exports, __webpack_require__) {

var trunc = __webpack_require__(96);

// `ToIntegerOrInfinity` abstract operation
// https://tc39.es/ecma262/#sec-tointegerorinfinity
module.exports = function (argument) {
  var number = +argument;
  // eslint-disable-next-line no-self-compare -- NaN check
  return number !== number || number === 0 ? 0 : trunc(number);
};


/***/ }),
/* 59 */
/***/ (function(module, exports, __webpack_require__) {

var toLength = __webpack_require__(97);

// `LengthOfArrayLike` abstract operation
// https://tc39.es/ecma262/#sec-lengthofarraylike
module.exports = function (obj) {
  return toLength(obj.length);
};


/***/ }),
/* 60 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var fails = __webpack_require__(3);
var isCallable = __webpack_require__(1);
var create = __webpack_require__(61);
var getPrototypeOf = __webpack_require__(104);
var defineBuiltIn = __webpack_require__(33);
var wellKnownSymbol = __webpack_require__(14);
var IS_PURE = __webpack_require__(29);

var ITERATOR = wellKnownSymbol('iterator');
var BUGGY_SAFARI_ITERATORS = false;

// `%IteratorPrototype%` object
// https://tc39.es/ecma262/#sec-%iteratorprototype%-object
var IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;

/* eslint-disable es-x/no-array-prototype-keys -- safe */
if ([].keys) {
  arrayIterator = [].keys();
  // Safari 8 has buggy iterators w/o `next`
  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;
  else {
    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));
    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;
  }
}

var NEW_ITERATOR_PROTOTYPE = IteratorPrototype == undefined || fails(function () {
  var test = {};
  // FF44- legacy iterators case
  return IteratorPrototype[ITERATOR].call(test) !== test;
});

if (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};
else if (IS_PURE) IteratorPrototype = create(IteratorPrototype);

// `%IteratorPrototype%[@@iterator]()` method
// https://tc39.es/ecma262/#sec-%iteratorprototype%-@@iterator
if (!isCallable(IteratorPrototype[ITERATOR])) {
  defineBuiltIn(IteratorPrototype, ITERATOR, function () {
    return this;
  });
}

module.exports = {
  IteratorPrototype: IteratorPrototype,
  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS
};


/***/ }),
/* 61 */
/***/ (function(module, exports, __webpack_require__) {

/* global ActiveXObject -- old IE, WSH */
var anObject = __webpack_require__(2);
var definePropertiesModule = __webpack_require__(101);
var enumBugKeys = __webpack_require__(36);
var hiddenKeys = __webpack_require__(35);
var html = __webpack_require__(103);
var documentCreateElement = __webpack_require__(53);
var sharedKey = __webpack_require__(34);

var GT = '>';
var LT = '<';
var PROTOTYPE = 'prototype';
var SCRIPT = 'script';
var IE_PROTO = sharedKey('IE_PROTO');

var EmptyConstructor = function () { /* empty */ };

var scriptTag = function (content) {
  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;
};

// Create object with fake `null` prototype: use ActiveX Object with cleared prototype
var NullProtoObjectViaActiveX = function (activeXDocument) {
  activeXDocument.write(scriptTag(''));
  activeXDocument.close();
  var temp = activeXDocument.parentWindow.Object;
  activeXDocument = null; // avoid memory leak
  return temp;
};

// Create object with fake `null` prototype: use iframe Object with cleared prototype
var NullProtoObjectViaIFrame = function () {
  // Thrash, waste and sodomy: IE GC bug
  var iframe = documentCreateElement('iframe');
  var JS = 'java' + SCRIPT + ':';
  var iframeDocument;
  iframe.style.display = 'none';
  html.appendChild(iframe);
  // https://github.com/zloirock/core-js/issues/475
  iframe.src = String(JS);
  iframeDocument = iframe.contentWindow.document;
  iframeDocument.open();
  iframeDocument.write(scriptTag('document.F=Object'));
  iframeDocument.close();
  return iframeDocument.F;
};

// Check for document.domain and active x support
// No need to use active x approach when document.domain is not set
// see https://github.com/es-shims/es5-shim/issues/150
// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346
// avoid IE GC bug
var activeXDocument;
var NullProtoObject = function () {
  try {
    activeXDocument = new ActiveXObject('htmlfile');
  } catch (error) { /* ignore */ }
  NullProtoObject = typeof document != 'undefined'
    ? document.domain && activeXDocument
      ? NullProtoObjectViaActiveX(activeXDocument) // old IE
      : NullProtoObjectViaIFrame()
    : NullProtoObjectViaActiveX(activeXDocument); // WSH
  var length = enumBugKeys.length;
  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];
  return NullProtoObject();
};

hiddenKeys[IE_PROTO] = true;

// `Object.create` method
// https://tc39.es/ecma262/#sec-object.create
// eslint-disable-next-line es-x/no-object-create -- safe
module.exports = Object.create || function create(O, Properties) {
  var result;
  if (O !== null) {
    EmptyConstructor[PROTOTYPE] = anObject(O);
    result = new EmptyConstructor();
    EmptyConstructor[PROTOTYPE] = null;
    // add "__proto__" for Object.getPrototypeOf polyfill
    result[IE_PROTO] = O;
  } else result = NullProtoObject();
  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);
};


/***/ }),
/* 62 */
/***/ (function(module, exports, __webpack_require__) {

var NATIVE_BIND = __webpack_require__(23);

var FunctionPrototype = Function.prototype;
var apply = FunctionPrototype.apply;
var call = FunctionPrototype.call;

// eslint-disable-next-line es-x/no-reflect -- safe
module.exports = typeof Reflect == 'object' && Reflect.apply || (NATIVE_BIND ? call.bind(apply) : function () {
  return call.apply(apply, arguments);
});


/***/ }),
/* 63 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var call = __webpack_require__(15);
var aCallable = __webpack_require__(13);
var anObject = __webpack_require__(2);
var create = __webpack_require__(61);
var createNonEnumerableProperty = __webpack_require__(21);
var defineBuiltIns = __webpack_require__(106);
var wellKnownSymbol = __webpack_require__(14);
var InternalStateModule = __webpack_require__(56);
var getMethod = __webpack_require__(26);
var IteratorPrototype = __webpack_require__(60).IteratorPrototype;

var ITERATOR_PROXY = 'IteratorProxy';
var setInternalState = InternalStateModule.set;
var getInternalState = InternalStateModule.getterFor(ITERATOR_PROXY);

var TO_STRING_TAG = wellKnownSymbol('toStringTag');

module.exports = function (nextHandler, IS_ITERATOR) {
  var IteratorProxy = function Iterator(state) {
    state.type = ITERATOR_PROXY;
    state.next = aCallable(state.iterator.next);
    state.done = false;
    state.ignoreArg = !IS_ITERATOR;
    setInternalState(this, state);
  };

  IteratorProxy.prototype = defineBuiltIns(create(IteratorPrototype), {
    next: function next(arg) {
      var state = getInternalState(this);
      var args = arguments.length ? [state.ignoreArg ? undefined : arg] : IS_ITERATOR ? [] : [undefined];
      state.ignoreArg = false;
      var result = state.done ? undefined : call(nextHandler, state, args);
      return { done: state.done, value: result };
    },
    'return': function (value) {
      var state = getInternalState(this);
      var iterator = state.iterator;
      state.done = true;
      var $$return = getMethod(iterator, 'return');
      return { done: true, value: $$return ? anObject(call($$return, iterator, value)).value : value };
    },
    'throw': function (value) {
      var state = getInternalState(this);
      var iterator = state.iterator;
      state.done = true;
      var $$throw = getMethod(iterator, 'throw');
      if ($$throw) return call($$throw, iterator, value);
      throw value;
    }
  });

  if (!IS_ITERATOR) {
    createNonEnumerableProperty(IteratorProxy.prototype, TO_STRING_TAG, 'Generator');
  }

  return IteratorProxy;
};


/***/ }),
/* 64 */
/***/ (function(module, exports, __webpack_require__) {

var anObject = __webpack_require__(2);
var iteratorClose = __webpack_require__(65);

// call something on iterator step with safe closing on error
module.exports = function (iterator, fn, value, ENTRIES) {
  try {
    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);
  } catch (error) {
    iteratorClose(iterator, 'throw', error);
  }
};


/***/ }),
/* 65 */
/***/ (function(module, exports, __webpack_require__) {

var call = __webpack_require__(15);
var anObject = __webpack_require__(2);
var getMethod = __webpack_require__(26);

module.exports = function (iterator, kind, value) {
  var innerResult, innerError;
  anObject(iterator);
  try {
    innerResult = getMethod(iterator, 'return');
    if (!innerResult) {
      if (kind === 'throw') throw value;
      return value;
    }
    innerResult = call(innerResult, iterator);
  } catch (error) {
    innerError = true;
    innerResult = error;
  }
  if (kind === 'throw') throw value;
  if (innerError) throw innerResult;
  anObject(innerResult);
  return value;
};


/***/ }),
/* 66 */
/***/ (function(module, exports) {

module.exports = {};


/***/ }),
/* 67 */
/***/ (function(module, exports, __webpack_require__) {

var classof = __webpack_require__(110);
var getMethod = __webpack_require__(26);
var Iterators = __webpack_require__(66);
var wellKnownSymbol = __webpack_require__(14);

var ITERATOR = wellKnownSymbol('iterator');

module.exports = function (it) {
  if (it != undefined) return getMethod(it, ITERATOR)
    || getMethod(it, '@@iterator')
    || Iterators[classof(it)];
};


/***/ }),
/* 68 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/


/* eslint-disable no-unused-vars */
var getOwnPropertySymbols = Object.getOwnPropertySymbols;
var hasOwnProperty = Object.prototype.hasOwnProperty;
var propIsEnumerable = Object.prototype.propertyIsEnumerable;

function toObject(val) {
	if (val === null || val === undefined) {
		throw new TypeError('Object.assign cannot be called with null or undefined');
	}

	return Object(val);
}

function shouldUseNative() {
	try {
		if (!Object.assign) {
			return false;
		}

		// Detect buggy property enumeration order in older V8 versions.

		// https://bugs.chromium.org/p/v8/issues/detail?id=4118
		var test1 = new String('abc');  // eslint-disable-line no-new-wrappers
		test1[5] = 'de';
		if (Object.getOwnPropertyNames(test1)[0] === '5') {
			return false;
		}

		// https://bugs.chromium.org/p/v8/issues/detail?id=3056
		var test2 = {};
		for (var i = 0; i < 10; i++) {
			test2['_' + String.fromCharCode(i)] = i;
		}
		var order2 = Object.getOwnPropertyNames(test2).map(function (n) {
			return test2[n];
		});
		if (order2.join('') !== '0123456789') {
			return false;
		}

		// https://bugs.chromium.org/p/v8/issues/detail?id=3056
		var test3 = {};
		'abcdefghijklmnopqrst'.split('').forEach(function (letter) {
			test3[letter] = letter;
		});
		if (Object.keys(Object.assign({}, test3)).join('') !==
				'abcdefghijklmnopqrst') {
			return false;
		}

		return true;
	} catch (err) {
		// We don't expect any of the above to throw, but better to be safe.
		return false;
	}
}

module.exports = shouldUseNative() ? Object.assign : function (target, source) {
	var from;
	var to = toObject(target);
	var symbols;

	for (var s = 1; s < arguments.length; s++) {
		from = Object(arguments[s]);

		for (var key in from) {
			if (hasOwnProperty.call(from, key)) {
				to[key] = from[key];
			}
		}

		if (getOwnPropertySymbols) {
			symbols = getOwnPropertySymbols(from);
			for (var i = 0; i < symbols.length; i++) {
				if (propIsEnumerable.call(from, symbols[i])) {
					to[symbols[i]] = from[symbols[i]];
				}
			}
		}
	}

	return to;
};


/***/ }),
/* 69 */
/***/ (function(module, exports) {

function _OverloadYield(e, d) {
  this.v = e, this.k = d;
}
module.exports = _OverloadYield, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 70 */
/***/ (function(module, exports, __webpack_require__) {

var regeneratorDefine = __webpack_require__(71);
function _regenerator() {
  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */
  var e,
    t,
    r = "function" == typeof Symbol ? Symbol : {},
    n = r.iterator || "@@iterator",
    o = r.toStringTag || "@@toStringTag";
  function i(r, n, o, i) {
    var c = n && n.prototype instanceof Generator ? n : Generator,
      u = Object.create(c.prototype);
    return regeneratorDefine(u, "_invoke", function (r, n, o) {
      var i,
        c,
        u,
        f = 0,
        p = o || [],
        y = !1,
        G = {
          p: 0,
          n: 0,
          v: e,
          a: d,
          f: d.bind(e, 4),
          d: function d(t, r) {
            return i = t, c = 0, u = e, G.n = r, a;
          }
        };
      function d(r, n) {
        for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) {
          var o,
            i = p[t],
            d = G.p,
            l = i[2];
          r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0));
        }
        if (o || r > 1) return a;
        throw y = !0, n;
      }
      return function (o, p, l) {
        if (f > 1) throw TypeError("Generator is already running");
        for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) {
          i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u);
          try {
            if (f = 2, i) {
              if (c || (o = "next"), t = i[o]) {
                if (!(t = t.call(i, u))) throw TypeError("iterator result is not an object");
                if (!t.done) return t;
                u = t.value, c < 2 && (c = 0);
              } else 1 === c && (t = i["return"]) && t.call(i), c < 2 && (u = TypeError("The iterator does not provide a '" + o + "' method"), c = 1);
              i = e;
            } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break;
          } catch (t) {
            i = e, c = 1, u = t;
          } finally {
            f = 1;
          }
        }
        return {
          value: t,
          done: y
        };
      };
    }(r, o, i), !0), u;
  }
  var a = {};
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}
  t = Object.getPrototypeOf;
  var c = [][n] ? t(t([][n]())) : (regeneratorDefine(t = {}, n, function () {
      return this;
    }), t),
    u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c);
  function f(e) {
    return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, regeneratorDefine(e, o, "GeneratorFunction")), e.prototype = Object.create(u), e;
  }
  return GeneratorFunction.prototype = GeneratorFunctionPrototype, regeneratorDefine(u, "constructor", GeneratorFunctionPrototype), regeneratorDefine(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = "GeneratorFunction", regeneratorDefine(GeneratorFunctionPrototype, o, "GeneratorFunction"), regeneratorDefine(u), regeneratorDefine(u, o, "Generator"), regeneratorDefine(u, n, function () {
    return this;
  }), regeneratorDefine(u, "toString", function () {
    return "[object Generator]";
  }), (module.exports = _regenerator = function _regenerator() {
    return {
      w: i,
      m: f
    };
  }, module.exports.__esModule = true, module.exports["default"] = module.exports)();
}
module.exports = _regenerator, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 71 */
/***/ (function(module, exports) {

function _regeneratorDefine(e, r, n, t) {
  var i = Object.defineProperty;
  try {
    i({}, "", {});
  } catch (e) {
    i = 0;
  }
  module.exports = _regeneratorDefine = function regeneratorDefine(e, r, n, t) {
    function o(r, n) {
      _regeneratorDefine(e, r, function (e) {
        return this._invoke(r, n, e);
      });
    }
    r ? i ? i(e, r, {
      value: n,
      enumerable: !t,
      configurable: !t,
      writable: !t
    }) : e[r] = n : (o("next", 0), o("throw", 1), o("return", 2));
  }, module.exports.__esModule = true, module.exports["default"] = module.exports, _regeneratorDefine(e, r, n, t);
}
module.exports = _regeneratorDefine, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 72 */
/***/ (function(module, exports, __webpack_require__) {

var regenerator = __webpack_require__(70);
var regeneratorAsyncIterator = __webpack_require__(73);
function _regeneratorAsyncGen(r, e, t, o, n) {
  return new regeneratorAsyncIterator(regenerator().w(r, e, t, o), n || Promise);
}
module.exports = _regeneratorAsyncGen, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 73 */
/***/ (function(module, exports, __webpack_require__) {

var OverloadYield = __webpack_require__(69);
var regeneratorDefine = __webpack_require__(71);
function AsyncIterator(t, e) {
  function n(r, o, i, f) {
    try {
      var c = t[r](o),
        u = c.value;
      return u instanceof OverloadYield ? e.resolve(u.v).then(function (t) {
        n("next", t, i, f);
      }, function (t) {
        n("throw", t, i, f);
      }) : e.resolve(u).then(function (t) {
        c.value = t, i(c);
      }, function (t) {
        return n("throw", t, i, f);
      });
    } catch (t) {
      f(t);
    }
  }
  var r;
  this.next || (regeneratorDefine(AsyncIterator.prototype), regeneratorDefine(AsyncIterator.prototype, "function" == typeof Symbol && Symbol.asyncIterator || "@asyncIterator", function () {
    return this;
  })), regeneratorDefine(this, "_invoke", function (t, o, i) {
    function f() {
      return new e(function (e, r) {
        n(t, i, e, r);
      });
    }
    return r = r ? r.then(f, f) : f();
  }, !0);
}
module.exports = AsyncIterator, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 74 */
/***/ (function(module, exports, __webpack_require__) {

var _typeof = __webpack_require__(4)["default"];
var toPrimitive = __webpack_require__(121);
function toPropertyKey(t) {
  var i = toPrimitive(t, "string");
  return "symbol" == _typeof(i) ? i : i + "";
}
module.exports = toPropertyKey, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 75 */
/***/ (function(module, exports, __webpack_require__) {

var arrayLikeToArray = __webpack_require__(76);
function _unsupportedIterableToArray(r, a) {
  if (r) {
    if ("string" == typeof r) return arrayLikeToArray(r, a);
    var t = {}.toString.call(r).slice(8, -1);
    return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? arrayLikeToArray(r, a) : void 0;
  }
}
module.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 76 */
/***/ (function(module, exports) {

function _arrayLikeToArray(r, a) {
  (null == a || a > r.length) && (a = r.length);
  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];
  return n;
}
module.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 77 */
/***/ (function(module, exports) {

function _assertThisInitialized(e) {
  if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e;
}
module.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 78 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// https://github.com/tc39/proposal-iterator-helpers
var $ = __webpack_require__(19);
var iterate = __webpack_require__(38);
var aCallable = __webpack_require__(13);
var anObject = __webpack_require__(2);

var $TypeError = TypeError;

$({ target: 'Iterator', proto: true, real: true, forced: true }, {
  reduce: function reduce(reducer /* , initialValue */) {
    anObject(this);
    aCallable(reducer);
    var noInitial = arguments.length < 2;
    var accumulator = noInitial ? undefined : arguments[1];
    iterate(this, function (value) {
      if (noInitial) {
        noInitial = false;
        accumulator = value;
      } else {
        accumulator = reducer(accumulator, value);
      }
    }, { IS_ITERATOR: true });
    if (noInitial) throw $TypeError('Reduce of empty iterator with no initial value');
    return accumulator;
  }
});


/***/ }),
/* 79 */
/***/ (function(module, exports) {

/**
 * This file automatically generated from `pre-publish.js`.
 * Do not manually edit.
 */

module.exports = {
  "area": true,
  "base": true,
  "br": true,
  "col": true,
  "embed": true,
  "hr": true,
  "img": true,
  "input": true,
  "link": true,
  "meta": true,
  "param": true,
  "source": true,
  "track": true,
  "wbr": true
};


/***/ }),
/* 80 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(__webpack_provided_window_dot_$) {const runningInMonoRepoMode = () => {
  return __webpack_provided_window_dot_$('html').attr('data-rcf-monorepo') === 'rcf-monorepo';
};

const runningInDeveloperMode = () => {
  const urlParams = new URLSearchParams(window.location.search);
  return urlParams.has('dev') || urlParams.has('source');
};

function createConfigurationFactory($http) {
  return {
    getConfiguration() {
      // determine location to get projects package.json from (different when running in mono repo mode)
      if (runningInMonoRepoMode()) {
        return $http.get('../package.json');
      } else {
        return $http.get('../../package.json');
      }
    },
    // detect if running in mono repo mode (rcf-source only)
    runningAsMonoRepo() {
      return runningInMonoRepoMode();
    },
    runningAsDeveloper() {
      return runningInDeveloperMode();
    }
  };
}

createConfigurationFactory.$inject = ['$http'];

/* harmony default export */ __webpack_exports__["a"] = (createConfigurationFactory);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(6)))

/***/ }),
/* 81 */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),
/* 82 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var $propertyIsEnumerable = {}.propertyIsEnumerable;
// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe
var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;

// Nashorn ~ JDK8 bug
var NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);

// `Object.prototype.propertyIsEnumerable` method implementation
// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable
exports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {
  var descriptor = getOwnPropertyDescriptor(this, V);
  return !!descriptor && descriptor.enumerable;
} : $propertyIsEnumerable;


/***/ }),
/* 83 */
/***/ (function(module, exports, __webpack_require__) {

var uncurryThis = __webpack_require__(8);
var fails = __webpack_require__(3);
var classof = __webpack_require__(43);

var $Object = Object;
var split = uncurryThis(''.split);

// fallback for non-array-like ES3 and non-enumerable old V8 strings
module.exports = fails(function () {
  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346
  // eslint-disable-next-line no-prototype-builtins -- safe
  return !$Object('z').propertyIsEnumerable(0);
}) ? function (it) {
  return classof(it) == 'String' ? split(it, '') : $Object(it);
} : $Object;


/***/ }),
/* 84 */
/***/ (function(module, exports, __webpack_require__) {

var call = __webpack_require__(15);
var isObject = __webpack_require__(20);
var isSymbol = __webpack_require__(46);
var getMethod = __webpack_require__(26);
var ordinaryToPrimitive = __webpack_require__(87);
var wellKnownSymbol = __webpack_require__(14);

var $TypeError = TypeError;
var TO_PRIMITIVE = wellKnownSymbol('toPrimitive');

// `ToPrimitive` abstract operation
// https://tc39.es/ecma262/#sec-toprimitive
module.exports = function (input, pref) {
  if (!isObject(input) || isSymbol(input)) return input;
  var exoticToPrim = getMethod(input, TO_PRIMITIVE);
  var result;
  if (exoticToPrim) {
    if (pref === undefined) pref = 'default';
    result = call(exoticToPrim, input, pref);
    if (!isObject(result) || isSymbol(result)) return result;
    throw $TypeError("Can't convert object to primitive value");
  }
  if (pref === undefined) pref = 'number';
  return ordinaryToPrimitive(input, pref);
};


/***/ }),
/* 85 */
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__(7);
var userAgent = __webpack_require__(86);

var process = global.process;
var Deno = global.Deno;
var versions = process && process.versions || Deno && Deno.version;
var v8 = versions && versions.v8;
var match, version;

if (v8) {
  match = v8.split('.');
  // in old Chrome, versions of V8 isn't V8 = Chrome / 10
  // but their correct versions are not interesting for us
  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);
}

// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`
// so check `userAgent` even if `.v8` exists, but 0
if (!version && userAgent) {
  match = userAgent.match(/Edge\/(\d+)/);
  if (!match || match[1] >= 74) {
    match = userAgent.match(/Chrome\/(\d+)/);
    if (match) version = +match[1];
  }
}

module.exports = version;


/***/ }),
/* 86 */
/***/ (function(module, exports, __webpack_require__) {

var getBuiltIn = __webpack_require__(25);

module.exports = getBuiltIn('navigator', 'userAgent') || '';


/***/ }),
/* 87 */
/***/ (function(module, exports, __webpack_require__) {

var call = __webpack_require__(15);
var isCallable = __webpack_require__(1);
var isObject = __webpack_require__(20);

var $TypeError = TypeError;

// `OrdinaryToPrimitive` abstract operation
// https://tc39.es/ecma262/#sec-ordinarytoprimitive
module.exports = function (input, pref) {
  var fn, val;
  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;
  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;
  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;
  throw $TypeError("Can't convert object to primitive value");
};


/***/ }),
/* 88 */
/***/ (function(module, exports, __webpack_require__) {

var fails = __webpack_require__(3);
var isCallable = __webpack_require__(1);
var hasOwn = __webpack_require__(10);
var DESCRIPTORS = __webpack_require__(12);
var CONFIGURABLE_FUNCTION_NAME = __webpack_require__(89).CONFIGURABLE;
var inspectSource = __webpack_require__(55);
var InternalStateModule = __webpack_require__(56);

var enforceInternalState = InternalStateModule.enforce;
var getInternalState = InternalStateModule.get;
// eslint-disable-next-line es-x/no-object-defineproperty -- safe
var defineProperty = Object.defineProperty;

var CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {
  return defineProperty(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;
});

var TEMPLATE = String(String).split('String');

var makeBuiltIn = module.exports = function (value, name, options) {
  if (String(name).slice(0, 7) === 'Symbol(') {
    name = '[' + String(name).replace(/^Symbol\(([^)]*)\)/, '$1') + ']';
  }
  if (options && options.getter) name = 'get ' + name;
  if (options && options.setter) name = 'set ' + name;
  if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {
    defineProperty(value, 'name', { value: name, configurable: true });
  }
  if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {
    defineProperty(value, 'length', { value: options.arity });
  }
  try {
    if (options && hasOwn(options, 'constructor') && options.constructor) {
      if (DESCRIPTORS) defineProperty(value, 'prototype', { writable: false });
    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable
    } else if (value.prototype) value.prototype = undefined;
  } catch (error) { /* empty */ }
  var state = enforceInternalState(value);
  if (!hasOwn(state, 'source')) {
    state.source = TEMPLATE.join(typeof name == 'string' ? name : '');
  } return value;
};

// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative
// eslint-disable-next-line no-extend-native -- required
Function.prototype.toString = makeBuiltIn(function toString() {
  return isCallable(this) && getInternalState(this).source || inspectSource(this);
}, 'toString');


/***/ }),
/* 89 */
/***/ (function(module, exports, __webpack_require__) {

var DESCRIPTORS = __webpack_require__(12);
var hasOwn = __webpack_require__(10);

var FunctionPrototype = Function.prototype;
// eslint-disable-next-line es-x/no-object-getownpropertydescriptor -- safe
var getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;

var EXISTS = hasOwn(FunctionPrototype, 'name');
// additional protection from minified / mangled / dropped function names
var PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';
var CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));

module.exports = {
  EXISTS: EXISTS,
  PROPER: PROPER,
  CONFIGURABLE: CONFIGURABLE
};


/***/ }),
/* 90 */
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__(7);
var isCallable = __webpack_require__(1);
var inspectSource = __webpack_require__(55);

var WeakMap = global.WeakMap;

module.exports = isCallable(WeakMap) && /native code/.test(inspectSource(WeakMap));


/***/ }),
/* 91 */
/***/ (function(module, exports, __webpack_require__) {

var hasOwn = __webpack_require__(10);
var ownKeys = __webpack_require__(92);
var getOwnPropertyDescriptorModule = __webpack_require__(41);
var definePropertyModule = __webpack_require__(32);

module.exports = function (target, source, exceptions) {
  var keys = ownKeys(source);
  var defineProperty = definePropertyModule.f;
  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;
  for (var i = 0; i < keys.length; i++) {
    var key = keys[i];
    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {
      defineProperty(target, key, getOwnPropertyDescriptor(source, key));
    }
  }
};


/***/ }),
/* 92 */
/***/ (function(module, exports, __webpack_require__) {

var getBuiltIn = __webpack_require__(25);
var uncurryThis = __webpack_require__(8);
var getOwnPropertyNamesModule = __webpack_require__(93);
var getOwnPropertySymbolsModule = __webpack_require__(98);
var anObject = __webpack_require__(2);

var concat = uncurryThis([].concat);

// all object keys, includes non-enumerable and symbols
module.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {
  var keys = getOwnPropertyNamesModule.f(anObject(it));
  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;
  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;
};


/***/ }),
/* 93 */
/***/ (function(module, exports, __webpack_require__) {

var internalObjectKeys = __webpack_require__(57);
var enumBugKeys = __webpack_require__(36);

var hiddenKeys = enumBugKeys.concat('length', 'prototype');

// `Object.getOwnPropertyNames` method
// https://tc39.es/ecma262/#sec-object.getownpropertynames
// eslint-disable-next-line es-x/no-object-getownpropertynames -- safe
exports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {
  return internalObjectKeys(O, hiddenKeys);
};


/***/ }),
/* 94 */
/***/ (function(module, exports, __webpack_require__) {

var toIndexedObject = __webpack_require__(24);
var toAbsoluteIndex = __webpack_require__(95);
var lengthOfArrayLike = __webpack_require__(59);

// `Array.prototype.{ indexOf, includes }` methods implementation
var createMethod = function (IS_INCLUDES) {
  return function ($this, el, fromIndex) {
    var O = toIndexedObject($this);
    var length = lengthOfArrayLike(O);
    var index = toAbsoluteIndex(fromIndex, length);
    var value;
    // Array#includes uses SameValueZero equality algorithm
    // eslint-disable-next-line no-self-compare -- NaN check
    if (IS_INCLUDES && el != el) while (length > index) {
      value = O[index++];
      // eslint-disable-next-line no-self-compare -- NaN check
      if (value != value) return true;
    // Array#indexOf ignores holes, Array#includes - not
    } else for (;length > index; index++) {
      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;
    } return !IS_INCLUDES && -1;
  };
};

module.exports = {
  // `Array.prototype.includes` method
  // https://tc39.es/ecma262/#sec-array.prototype.includes
  includes: createMethod(true),
  // `Array.prototype.indexOf` method
  // https://tc39.es/ecma262/#sec-array.prototype.indexof
  indexOf: createMethod(false)
};


/***/ }),
/* 95 */
/***/ (function(module, exports, __webpack_require__) {

var toIntegerOrInfinity = __webpack_require__(58);

var max = Math.max;
var min = Math.min;

// Helper for a popular repeating case of the spec:
// Let integer be ? ToInteger(index).
// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).
module.exports = function (index, length) {
  var integer = toIntegerOrInfinity(index);
  return integer < 0 ? max(integer + length, 0) : min(integer, length);
};


/***/ }),
/* 96 */
/***/ (function(module, exports) {

var ceil = Math.ceil;
var floor = Math.floor;

// `Math.trunc` method
// https://tc39.es/ecma262/#sec-math.trunc
// eslint-disable-next-line es-x/no-math-trunc -- safe
module.exports = Math.trunc || function trunc(x) {
  var n = +x;
  return (n > 0 ? floor : ceil)(n);
};


/***/ }),
/* 97 */
/***/ (function(module, exports, __webpack_require__) {

var toIntegerOrInfinity = __webpack_require__(58);

var min = Math.min;

// `ToLength` abstract operation
// https://tc39.es/ecma262/#sec-tolength
module.exports = function (argument) {
  return argument > 0 ? min(toIntegerOrInfinity(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991
};


/***/ }),
/* 98 */
/***/ (function(module, exports) {

// eslint-disable-next-line es-x/no-object-getownpropertysymbols -- safe
exports.f = Object.getOwnPropertySymbols;


/***/ }),
/* 99 */
/***/ (function(module, exports, __webpack_require__) {

var fails = __webpack_require__(3);
var isCallable = __webpack_require__(1);

var replacement = /#|\.prototype\./;

var isForced = function (feature, detection) {
  var value = data[normalize(feature)];
  return value == POLYFILL ? true
    : value == NATIVE ? false
    : isCallable(detection) ? fails(detection)
    : !!detection;
};

var normalize = isForced.normalize = function (string) {
  return String(string).replace(replacement, '.').toLowerCase();
};

var data = isForced.data = {};
var NATIVE = isForced.NATIVE = 'N';
var POLYFILL = isForced.POLYFILL = 'P';

module.exports = isForced;


/***/ }),
/* 100 */
/***/ (function(module, exports, __webpack_require__) {

var isPrototypeOf = __webpack_require__(27);

var $TypeError = TypeError;

module.exports = function (it, Prototype) {
  if (isPrototypeOf(Prototype, it)) return it;
  throw $TypeError('Incorrect invocation');
};


/***/ }),
/* 101 */
/***/ (function(module, exports, __webpack_require__) {

var DESCRIPTORS = __webpack_require__(12);
var V8_PROTOTYPE_DEFINE_BUG = __webpack_require__(54);
var definePropertyModule = __webpack_require__(32);
var anObject = __webpack_require__(2);
var toIndexedObject = __webpack_require__(24);
var objectKeys = __webpack_require__(102);

// `Object.defineProperties` method
// https://tc39.es/ecma262/#sec-object.defineproperties
// eslint-disable-next-line es-x/no-object-defineproperties -- safe
exports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {
  anObject(O);
  var props = toIndexedObject(Properties);
  var keys = objectKeys(Properties);
  var length = keys.length;
  var index = 0;
  var key;
  while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);
  return O;
};


/***/ }),
/* 102 */
/***/ (function(module, exports, __webpack_require__) {

var internalObjectKeys = __webpack_require__(57);
var enumBugKeys = __webpack_require__(36);

// `Object.keys` method
// https://tc39.es/ecma262/#sec-object.keys
// eslint-disable-next-line es-x/no-object-keys -- safe
module.exports = Object.keys || function keys(O) {
  return internalObjectKeys(O, enumBugKeys);
};


/***/ }),
/* 103 */
/***/ (function(module, exports, __webpack_require__) {

var getBuiltIn = __webpack_require__(25);

module.exports = getBuiltIn('document', 'documentElement');


/***/ }),
/* 104 */
/***/ (function(module, exports, __webpack_require__) {

var hasOwn = __webpack_require__(10);
var isCallable = __webpack_require__(1);
var toObject = __webpack_require__(50);
var sharedKey = __webpack_require__(34);
var CORRECT_PROTOTYPE_GETTER = __webpack_require__(105);

var IE_PROTO = sharedKey('IE_PROTO');
var $Object = Object;
var ObjectPrototype = $Object.prototype;

// `Object.getPrototypeOf` method
// https://tc39.es/ecma262/#sec-object.getprototypeof
// eslint-disable-next-line es-x/no-object-getprototypeof -- safe
module.exports = CORRECT_PROTOTYPE_GETTER ? $Object.getPrototypeOf : function (O) {
  var object = toObject(O);
  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];
  var constructor = object.constructor;
  if (isCallable(constructor) && object instanceof constructor) {
    return constructor.prototype;
  } return object instanceof $Object ? ObjectPrototype : null;
};


/***/ }),
/* 105 */
/***/ (function(module, exports, __webpack_require__) {

var fails = __webpack_require__(3);

module.exports = !fails(function () {
  function F() { /* empty */ }
  F.prototype.constructor = null;
  // eslint-disable-next-line es-x/no-object-getprototypeof -- required for testing
  return Object.getPrototypeOf(new F()) !== F.prototype;
});


/***/ }),
/* 106 */
/***/ (function(module, exports, __webpack_require__) {

var defineBuiltIn = __webpack_require__(33);

module.exports = function (target, src, options) {
  for (var key in src) defineBuiltIn(target, key, src[key], options);
  return target;
};


/***/ }),
/* 107 */
/***/ (function(module, exports, __webpack_require__) {

var uncurryThis = __webpack_require__(8);
var aCallable = __webpack_require__(13);
var NATIVE_BIND = __webpack_require__(23);

var bind = uncurryThis(uncurryThis.bind);

// optional / simple context binding
module.exports = function (fn, that) {
  aCallable(fn);
  return that === undefined ? fn : NATIVE_BIND ? bind(fn, that) : function (/* ...args */) {
    return fn.apply(that, arguments);
  };
};


/***/ }),
/* 108 */
/***/ (function(module, exports, __webpack_require__) {

var wellKnownSymbol = __webpack_require__(14);
var Iterators = __webpack_require__(66);

var ITERATOR = wellKnownSymbol('iterator');
var ArrayPrototype = Array.prototype;

// check on default Array iterator
module.exports = function (it) {
  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);
};


/***/ }),
/* 109 */
/***/ (function(module, exports, __webpack_require__) {

var call = __webpack_require__(15);
var aCallable = __webpack_require__(13);
var anObject = __webpack_require__(2);
var tryToString = __webpack_require__(28);
var getIteratorMethod = __webpack_require__(67);

var $TypeError = TypeError;

module.exports = function (argument, usingIterator) {
  var iteratorMethod = arguments.length < 2 ? getIteratorMethod(argument) : usingIterator;
  if (aCallable(iteratorMethod)) return anObject(call(iteratorMethod, argument));
  throw $TypeError(tryToString(argument) + ' is not iterable');
};


/***/ }),
/* 110 */
/***/ (function(module, exports, __webpack_require__) {

var TO_STRING_TAG_SUPPORT = __webpack_require__(111);
var isCallable = __webpack_require__(1);
var classofRaw = __webpack_require__(43);
var wellKnownSymbol = __webpack_require__(14);

var TO_STRING_TAG = wellKnownSymbol('toStringTag');
var $Object = Object;

// ES3 wrong here
var CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';

// fallback for IE11 Script Access Denied error
var tryGet = function (it, key) {
  try {
    return it[key];
  } catch (error) { /* empty */ }
};

// getting tag from ES6+ `Object.prototype.toString`
module.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {
  var O, tag, result;
  return it === undefined ? 'Undefined' : it === null ? 'Null'
    // @@toStringTag case
    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag
    // builtinTag case
    : CORRECT_ARGUMENTS ? classofRaw(O)
    // ES3 arguments fallback
    : (result = classofRaw(O)) == 'Object' && isCallable(O.callee) ? 'Arguments' : result;
};


/***/ }),
/* 111 */
/***/ (function(module, exports, __webpack_require__) {

var wellKnownSymbol = __webpack_require__(14);

var TO_STRING_TAG = wellKnownSymbol('toStringTag');
var test = {};

test[TO_STRING_TAG] = 'z';

module.exports = String(test) === '[object z]';


/***/ }),
/* 112 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var l=__webpack_require__(68),n=60103,p=60106;exports.Fragment=60107;exports.StrictMode=60108;exports.Profiler=60114;var q=60109,r=60110,t=60112;exports.Suspense=60113;var u=60115,v=60116;
if("function"===typeof Symbol&&Symbol.for){var w=Symbol.for;n=w("react.element");p=w("react.portal");exports.Fragment=w("react.fragment");exports.StrictMode=w("react.strict_mode");exports.Profiler=w("react.profiler");q=w("react.provider");r=w("react.context");t=w("react.forward_ref");exports.Suspense=w("react.suspense");u=w("react.memo");v=w("react.lazy")}var x="function"===typeof Symbol&&Symbol.iterator;
function y(a){if(null===a||"object"!==typeof a)return null;a=x&&a[x]||a["@@iterator"];return"function"===typeof a?a:null}function z(a){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=1;c<arguments.length;c++)b+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}
var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B={};function C(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}C.prototype.isReactComponent={};C.prototype.setState=function(a,b){if("object"!==typeof a&&"function"!==typeof a&&null!=a)throw Error(z(85));this.updater.enqueueSetState(this,a,b,"setState")};C.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};
function D(){}D.prototype=C.prototype;function E(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}var F=E.prototype=new D;F.constructor=E;l(F,C.prototype);F.isPureReactComponent=!0;var G={current:null},H=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};
function J(a,b,c){var e,d={},k=null,h=null;if(null!=b)for(e in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=""+b.key),b)H.call(b,e)&&!I.hasOwnProperty(e)&&(d[e]=b[e]);var g=arguments.length-2;if(1===g)d.children=c;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];d.children=f}if(a&&a.defaultProps)for(e in g=a.defaultProps,g)void 0===d[e]&&(d[e]=g[e]);return{$$typeof:n,type:a,key:k,ref:h,props:d,_owner:G.current}}
function K(a,b){return{$$typeof:n,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function L(a){return"object"===typeof a&&null!==a&&a.$$typeof===n}function escape(a){var b={"=":"=0",":":"=2"};return"$"+a.replace(/[=:]/g,function(a){return b[a]})}var M=/\/+/g;function N(a,b){return"object"===typeof a&&null!==a&&null!=a.key?escape(""+a.key):b.toString(36)}
function O(a,b,c,e,d){var k=typeof a;if("undefined"===k||"boolean"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case "string":case "number":h=!0;break;case "object":switch(a.$$typeof){case n:case p:h=!0}}if(h)return h=a,d=d(h),a=""===e?"."+N(h,0):e,Array.isArray(d)?(c="",null!=a&&(c=a.replace(M,"$&/")+"/"),O(d,b,c,"",function(a){return a})):null!=d&&(L(d)&&(d=K(d,c+(!d.key||h&&h.key===d.key?"":(""+d.key).replace(M,"$&/")+"/")+a)),b.push(d)),1;h=0;e=""===e?".":e+":";if(Array.isArray(a))for(var g=
0;g<a.length;g++){k=a[g];var f=e+N(k,g);h+=O(k,b,c,f,d)}else if(f=y(a),"function"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=e+N(k,g++),h+=O(k,b,c,f,d);else if("object"===k)throw b=""+a,Error(z(31,"[object Object]"===b?"object with keys {"+Object.keys(a).join(", ")+"}":b));return h}function P(a,b,c){if(null==a)return a;var e=[],d=0;O(a,e,"","",function(a){return b.call(c,a,d++)});return e}
function Q(a){if(-1===a._status){var b=a._result;b=b();a._status=0;a._result=b;b.then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)})}if(1===a._status)return a._result;throw a._result;}var R={current:null};function S(){var a=R.current;if(null===a)throw Error(z(321));return a}var T={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:G,IsSomeRendererActing:{current:!1},assign:l};
exports.Children={map:P,forEach:function(a,b,c){P(a,function(){b.apply(this,arguments)},c)},count:function(a){var b=0;P(a,function(){b++});return b},toArray:function(a){return P(a,function(a){return a})||[]},only:function(a){if(!L(a))throw Error(z(143));return a}};exports.Component=C;exports.PureComponent=E;exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T;
exports.cloneElement=function(a,b,c){if(null===a||void 0===a)throw Error(z(267,a));var e=l({},a.props),d=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=G.current);void 0!==b.key&&(d=""+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)H.call(b,f)&&!I.hasOwnProperty(f)&&(e[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)e.children=c;else if(1<f){g=Array(f);for(var m=0;m<f;m++)g[m]=arguments[m+2];e.children=g}return{$$typeof:n,type:a.type,
key:d,ref:k,props:e,_owner:h}};exports.createContext=function(a,b){void 0===b&&(b=null);a={$$typeof:r,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:q,_context:a};return a.Consumer=a};exports.createElement=J;exports.createFactory=function(a){var b=J.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};exports.forwardRef=function(a){return{$$typeof:t,render:a}};exports.isValidElement=L;
exports.lazy=function(a){return{$$typeof:v,_payload:{_status:-1,_result:a},_init:Q}};exports.memo=function(a,b){return{$$typeof:u,type:a,compare:void 0===b?null:b}};exports.useCallback=function(a,b){return S().useCallback(a,b)};exports.useContext=function(a,b){return S().useContext(a,b)};exports.useDebugValue=function(){};exports.useEffect=function(a,b){return S().useEffect(a,b)};exports.useImperativeHandle=function(a,b,c){return S().useImperativeHandle(a,b,c)};
exports.useLayoutEffect=function(a,b){return S().useLayoutEffect(a,b)};exports.useMemo=function(a,b){return S().useMemo(a,b)};exports.useReducer=function(a,b,c){return S().useReducer(a,b,c)};exports.useRef=function(a){return S().useRef(a)};exports.useState=function(a){return S().useState(a)};exports.version="17.0.2";


/***/ }),
/* 113 */
/***/ (function(module, exports, __webpack_require__) {

// TODO(Babel 8): Remove this file.

var runtime = __webpack_require__(114)();
module.exports = runtime;

// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=
try {
  regeneratorRuntime = runtime;
} catch (accidentalStrictMode) {
  if (typeof globalThis === "object") {
    globalThis.regeneratorRuntime = runtime;
  } else {
    Function("r", "regeneratorRuntime = r")(runtime);
  }
}


/***/ }),
/* 114 */
/***/ (function(module, exports, __webpack_require__) {

var OverloadYield = __webpack_require__(69);
var regenerator = __webpack_require__(70);
var regeneratorAsync = __webpack_require__(115);
var regeneratorAsyncGen = __webpack_require__(72);
var regeneratorAsyncIterator = __webpack_require__(73);
var regeneratorKeys = __webpack_require__(116);
var regeneratorValues = __webpack_require__(117);
function _regeneratorRuntime() {
  "use strict";

  var r = regenerator(),
    e = r.m(_regeneratorRuntime),
    t = (Object.getPrototypeOf ? Object.getPrototypeOf(e) : e.__proto__).constructor;
  function n(r) {
    var e = "function" == typeof r && r.constructor;
    return !!e && (e === t || "GeneratorFunction" === (e.displayName || e.name));
  }
  var o = {
    "throw": 1,
    "return": 2,
    "break": 3,
    "continue": 3
  };
  function a(r) {
    var e, t;
    return function (n) {
      e || (e = {
        stop: function stop() {
          return t(n.a, 2);
        },
        "catch": function _catch() {
          return n.v;
        },
        abrupt: function abrupt(r, e) {
          return t(n.a, o[r], e);
        },
        delegateYield: function delegateYield(r, o, a) {
          return e.resultName = o, t(n.d, regeneratorValues(r), a);
        },
        finish: function finish(r) {
          return t(n.f, r);
        }
      }, t = function t(r, _t, o) {
        n.p = e.prev, n.n = e.next;
        try {
          return r(_t, o);
        } finally {
          e.next = n.n;
        }
      }), e.resultName && (e[e.resultName] = n.v, e.resultName = void 0), e.sent = n.v, e.next = n.n;
      try {
        return r.call(this, e);
      } finally {
        n.p = e.prev, n.n = e.next;
      }
    };
  }
  return (module.exports = _regeneratorRuntime = function _regeneratorRuntime() {
    return {
      wrap: function wrap(e, t, n, o) {
        return r.w(a(e), t, n, o && o.reverse());
      },
      isGeneratorFunction: n,
      mark: r.m,
      awrap: function awrap(r, e) {
        return new OverloadYield(r, e);
      },
      AsyncIterator: regeneratorAsyncIterator,
      async: function async(r, e, t, o, u) {
        return (n(e) ? regeneratorAsyncGen : regeneratorAsync)(a(r), e, t, o, u);
      },
      keys: regeneratorKeys,
      values: regeneratorValues
    };
  }, module.exports.__esModule = true, module.exports["default"] = module.exports)();
}
module.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 115 */
/***/ (function(module, exports, __webpack_require__) {

var regeneratorAsyncGen = __webpack_require__(72);
function _regeneratorAsync(n, e, r, t, o) {
  var a = regeneratorAsyncGen(n, e, r, t, o);
  return a.next().then(function (n) {
    return n.done ? n.value : a.next();
  });
}
module.exports = _regeneratorAsync, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 116 */
/***/ (function(module, exports) {

function _regeneratorKeys(e) {
  var n = Object(e),
    r = [];
  for (var t in n) r.unshift(t);
  return function e() {
    for (; r.length;) if ((t = r.pop()) in n) return e.value = t, e.done = !1, e;
    return e.done = !0, e;
  };
}
module.exports = _regeneratorKeys, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 117 */
/***/ (function(module, exports, __webpack_require__) {

var _typeof = __webpack_require__(4)["default"];
function _regeneratorValues(e) {
  if (null != e) {
    var t = e["function" == typeof Symbol && Symbol.iterator || "@@iterator"],
      r = 0;
    if (t) return t.call(e);
    if ("function" == typeof e.next) return e;
    if (!isNaN(e.length)) return {
      next: function next() {
        return e && r >= e.length && (e = void 0), {
          value: e && e[r++],
          done: !e
        };
      }
    };
  }
  throw new TypeError(_typeof(e) + " is not iterable");
}
module.exports = _regeneratorValues, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 118 */
/***/ (function(module, exports) {

function asyncGeneratorStep(n, t, e, r, o, a, c) {
  try {
    var i = n[a](c),
      u = i.value;
  } catch (n) {
    return void e(n);
  }
  i.done ? t(u) : Promise.resolve(u).then(r, o);
}
function _asyncToGenerator(n) {
  return function () {
    var t = this,
      e = arguments;
    return new Promise(function (r, o) {
      var a = n.apply(t, e);
      function _next(n) {
        asyncGeneratorStep(a, r, o, _next, _throw, "next", n);
      }
      function _throw(n) {
        asyncGeneratorStep(a, r, o, _next, _throw, "throw", n);
      }
      _next(void 0);
    });
  };
}
module.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 119 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/
/* global define */

(function () {
	'use strict';

	var hasOwn = {}.hasOwnProperty;

	function classNames () {
		var classes = '';

		for (var i = 0; i < arguments.length; i++) {
			var arg = arguments[i];
			if (arg) {
				classes = appendClass(classes, parseValue(arg));
			}
		}

		return classes;
	}

	function parseValue (arg) {
		if (typeof arg === 'string' || typeof arg === 'number') {
			return arg;
		}

		if (typeof arg !== 'object') {
			return '';
		}

		if (Array.isArray(arg)) {
			return classNames.apply(null, arg);
		}

		if (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {
			return arg.toString();
		}

		var classes = '';

		for (var key in arg) {
			if (hasOwn.call(arg, key) && arg[key]) {
				classes = appendClass(classes, key);
			}
		}

		return classes;
	}

	function appendClass (value, newClass) {
		if (!newClass) {
			return value;
		}
	
		if (value) {
			return value + ' ' + newClass;
		}
	
		return value + newClass;
	}

	if ( true && module.exports) {
		classNames.default = classNames;
		module.exports = classNames;
	} else if (true) {
		// register as 'classnames', consistent with npm package name
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
			return classNames;
		}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}());


/***/ }),
/* 120 */
/***/ (function(module, exports) {

function _objectWithoutPropertiesLoose(r, e) {
  if (null == r) return {};
  var t = {};
  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {
    if (-1 !== e.indexOf(n)) continue;
    t[n] = r[n];
  }
  return t;
}
module.exports = _objectWithoutPropertiesLoose, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 121 */
/***/ (function(module, exports, __webpack_require__) {

var _typeof = __webpack_require__(4)["default"];
function toPrimitive(t, r) {
  if ("object" != _typeof(t) || !t) return t;
  var e = t[Symbol.toPrimitive];
  if (void 0 !== e) {
    var i = e.call(t, r || "default");
    if ("object" != _typeof(i)) return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return ("string" === r ? String : Number)(t);
}
module.exports = toPrimitive, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 122 */
/***/ (function(module, exports) {

function _arrayWithHoles(r) {
  if (Array.isArray(r)) return r;
}
module.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 123 */
/***/ (function(module, exports) {

function _iterableToArrayLimit(r, l) {
  var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"];
  if (null != t) {
    var e,
      n,
      i,
      u,
      a = [],
      f = !0,
      o = !1;
    try {
      if (i = (t = t.call(r)).next, 0 === l) {
        if (Object(t) !== t) return;
        f = !1;
      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);
    } catch (r) {
      o = !0, n = r;
    } finally {
      try {
        if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return;
      } finally {
        if (o) throw n;
      }
    }
    return a;
  }
}
module.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 124 */
/***/ (function(module, exports) {

function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
module.exports = _nonIterableRest, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 125 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var shallowEqual = function shallowEqual(newValue, oldValue) {
  return newValue === oldValue;
};

var simpleIsEqual = function simpleIsEqual(newArgs, lastArgs) {
  return newArgs.length === lastArgs.length && newArgs.every(function (newArg, index) {
    return shallowEqual(newArg, lastArgs[index]);
  });
};

function index (resultFn, isEqual) {
  if (isEqual === void 0) {
    isEqual = simpleIsEqual;
  }

  var lastThis;
  var lastArgs = [];
  var lastResult;
  var calledOnce = false;

  var result = function result() {
    for (var _len = arguments.length, newArgs = new Array(_len), _key = 0; _key < _len; _key++) {
      newArgs[_key] = arguments[_key];
    }

    if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {
      return lastResult;
    }

    lastResult = resultFn.apply(this, newArgs);
    calledOnce = true;
    lastThis = this;
    lastArgs = newArgs;
    return lastResult;
  };

  return result;
}

/* harmony default export */ __webpack_exports__["default"] = (index);


/***/ }),
/* 126 */
/***/ (function(module, exports, __webpack_require__) {

var arrayWithoutHoles = __webpack_require__(127);
var iterableToArray = __webpack_require__(128);
var unsupportedIterableToArray = __webpack_require__(75);
var nonIterableSpread = __webpack_require__(129);
function _toConsumableArray(r) {
  return arrayWithoutHoles(r) || iterableToArray(r) || unsupportedIterableToArray(r) || nonIterableSpread();
}
module.exports = _toConsumableArray, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 127 */
/***/ (function(module, exports, __webpack_require__) {

var arrayLikeToArray = __webpack_require__(76);
function _arrayWithoutHoles(r) {
  if (Array.isArray(r)) return arrayLikeToArray(r);
}
module.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 128 */
/***/ (function(module, exports) {

function _iterableToArray(r) {
  if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r);
}
module.exports = _iterableToArray, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 129 */
/***/ (function(module, exports) {

function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
module.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 130 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ACTIVITY_MODES", function() { return r; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ANSWER_TYPES", function() { return a; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GAME_EVENTS", function() { return t; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GAME_EVENT_TYPES", function() { return n; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GAME_PLAYING_STATES", function() { return i; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GRADABLE_TYPES", function() { return s; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ITEM_BASED_INTERACTION_NAMES", function() { return d; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ITEM_BASED_PLAYING_MODES", function() { return p; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKED_BY_TYPES", function() { return o; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKED_INTERACTION_NAMES", function() { return l; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKING_TYPES", function() { return c; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OPEN_GRADABLE_FEEDBACK_MODES", function() { return m; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OPEN_GRADABLE_INTERACTION_NAMES", function() { return g; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "STORY_EVENTS", function() { return b; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "STORY_PLAYING_MODES", function() { return f; });
var r = /* @__PURE__ */ ((e) => (e.test = "itemBased_test", e.practice = "itemBased_practice", e.challenge = "itemBased_challenge", e.noControls = "no-activity-controls", e.flashcard = "flashcard", e.storyReading = "story_reading", e.storyComprehension = "story_comprehension", e.standAloneAudio = "standAloneMedia_audio", e.standAloneVideo = "standAloneMedia_video", e))(r || {}), a = /* @__PURE__ */ ((e) => (e.composite = "composite", e.list = "list", e.simple = "simple", e.choice = "choice", e.sequence = "sequence", e.complexOrdering = "complexordering", e.answerKey = "answerKey", e.openGradableRecording = "openGradable_recording", e.openGradableWriting = "openGradable_writing", e.openGradableTeacherGradedTask = "openGradable_teacherGradedTask", e.gameSequenceTileMaze = "game_sequenceTileMaze", e.gameCategoriseTileMaze = "game_categoriseTileMaze", e.gameBalloons = "game_balloonsGame", e.gameSpellingBee = "game_spellingBeeGame", e))(a || {}), c = /* @__PURE__ */ ((e) => (e.byItem = "item", e.byList = "list", e.byFeedback = "feedback", e.unmarked = "unmarked", e.distractor = "distractor", e))(c || {}), o = /* @__PURE__ */ ((e) => (e.engine = "engine", e.teacher = "teacher", e.nobody = "nobody", e))(o || {}), t = /* @__PURE__ */ ((e) => (e.screenChange = "rcf.game.change.screen", e))(t || {}), n = /* @__PURE__ */ ((e) => (e.isStartScreen = "IS_START_SCREEN", e.isPlaying = "IS_PLAYING", e.isGameOverScreen = "IS_GAME_OVER_SCREEN", e.isGameWonScreen = "IS_GAME_WON_SCREEN", e.isPaused = "IS_PAUSED", e.isQuestionCompleteScreen = "IS_QUESTION_COMPLETE_SCREEN", e))(n || {}), i = /* @__PURE__ */ ((e) => (e.won = "won", e.lost = "lost", e.inProgress = "in-progress", e.notStarted = "not-started", e))(i || {}), s = /* @__PURE__ */ ((e) => (e.closedGradable = "closed-gradable", e.openNonGradable = "open-non-gradable", e.openGradable = "open-gradable", e.nonGradable = "non-gradable", e.answerKey = "answer-key", e.itemBased = "item-based", e.story = "story", e.game = "game", e))(s || {}), l = /* @__PURE__ */ ((e) => (e.balloons = "rcfBalloonsGame", e.categoriseCheckboxList = "rcfCategoriseCheckboxList", e.categoriseCheckboxTable = "rcfCategoriseCheckboxTable", e.categoriseDraggable = "rcfCategoriseDraggable", e.categoriseDropDown = "rcfCategoriseDropDown", e.categoriseItemSelectList = "rcfCategoriseItemSelectList", e.categoriseRadioList = "rcfCategoriseRadioList", e.categoriseRadioTable = "rcfCategoriseRadioTable", e.categoriseSelectable = "rcfCategoriseSelectable", e.categoriseTileMaze = "rcfCategoriseTileMaze", e.categoriseTouchable = "rcfCategoriseTouchable", e.checkboxItemSelect = "rcfCheckboxItemSelect", e.checkboxList = "rcfCheckbox", e.colouring = "rcfColouring", e.complexOrdering = "rcfComplexOrdering", e.compositeScene = "rcfCompositeScene", e.crossword = "rcfCrossword", e.dropDown = "rcfDropDown", e.droppable = "rcfDroppable", e.findInImage = "rcfFindInImage", e.fixedCrossword = "rcfFixedCrossword", e.inlineOrdering = "rcfInlineOrdering", e.listenAndColour = "rcfListenAndColour", e.locating = "rcfLocating", e.matching = "rcfMatching", e.movingTargets = "rcfMovingTargets", e.ordering = "rcfOrdering", e.pelmanism = "rcfPelmanism", e.positioning = "rcfPositioning", e.radioItemSelect = "rcfRadioItemSelect", e.radioList = "rcfRadio", e.rotatingMatching = "rcfRotatingMatching", e.selectable = "rcfSelectableElements", e.sentenceBuilder = "rcfSentenceBuilder", e.sequenceTileMaze = "rcfSequenceTileMaze", e.spellingBee = "rcfSpellingBee", e.story = "rcfStory", e.typein = "rcfTypein", e.typeinGroup = "rcfTypeinGroup", e.verticalCrossword = "rcfVerticalCrossword", e.wordInsert = "rcfWordInsert", e.wordSearch = "rcfWordSearch", e.wordSnake = "rcfWordSnake", e))(l || {}), d = /* @__PURE__ */ ((e) => (e.checkbox = "rcfItemCheckbox", e.checkboxItemSelect = "rcfItemCheckboxItemSelect", e.dropDown = "rcfItemBasedDropDown", e.typein = "rcfItemBasedTypein", e.typeinGroup = "rcfItemBasedTypeinGroup", e.radio = "rcfItemBasedRadio", e.radioItemSelect = "rcfItemBasedRadioItemSelect", e.selectableText = "rcfItemBasedSelectableText", e.complexDroppableBlock = "rcfItemBasedComplexDroppableBlock", e.sentenceBuilder = "rcfItemBasedSentenceBuilder", e.wordInsert = "rcfItemBasedWordInsert", e))(d || {}), g = /* @__PURE__ */ ((e) => (e.recording = "rcfRecording", e.writing = "rcfWriting", e.teacherGradedTask = "rcfTeacherGradedTask", e.legacyTextInput = "rcfOpenGradableTextInput", e.legacyMultiLineTextInput = "rcfOpenGradableMultiLineTextInput", e))(g || {}), p = ((e) => (e[e.test = r.test] = "test", e[e.practice = r.practice] = "practice", e[e.challenge = r.challenge] = "challenge", e))(p || {}), m = /* @__PURE__ */ ((e) => (e.default = "default", e.leaveTeacherFeedback = "leaveTeacherFeedback", e.reviewTeacherFeedback = "reviewTeacherFeedback", e.answerKey = "answerKeyMode", e))(m || {}), f = /* @__PURE__ */ ((e) => (e.reading = "reading", e.comprehension = "comprehension", e))(f || {}), b = /* @__PURE__ */ ((e) => (e.sceneComplete = "rcf.scene.complete", e.sceneReset = "rcf.scene.reset", e.changePage = "rcf.story.change.page", e))(b || {});



/***/ }),
/* 131 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


function checkDCE() {
  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */
  if (
    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||
    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'
  ) {
    return;
  }
  if (false) {}
  try {
    // Verify that the code above has been dead code eliminated (DCE'd).
    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);
  } catch (err) {
    // DevTools shouldn't crash React, no matter what.
    // We should still report in case we break this code.
    console.error(err);
  }
}

if (true) {
  // DCE check should happen before ReactDOM bundle executes so that
  // DevTools can report bad minification during injection.
  checkDCE();
  module.exports = __webpack_require__(132);
} else {}


/***/ }),
/* 132 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/*
 Modernizr 3.0.0pre (Custom Build) | MIT
*/
var aa=__webpack_require__(0),m=__webpack_require__(68),r=__webpack_require__(133);function y(a){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=1;c<arguments.length;c++)b+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!aa)throw Error(y(227));var ba=new Set,ca={};function da(a,b){ea(a,b);ea(a+"Capture",b)}
function ea(a,b){ca[a]=b;for(a=0;a<b.length;a++)ba.add(b[a])}
var fa=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),ha=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ia=Object.prototype.hasOwnProperty,
ja={},ka={};function la(a){if(ia.call(ka,a))return!0;if(ia.call(ja,a))return!1;if(ha.test(a))return ka[a]=!0;ja[a]=!0;return!1}function ma(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case "function":case "symbol":return!0;case "boolean":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return"data-"!==a&&"aria-"!==a;default:return!1}}
function na(a,b,c,d){if(null===b||"undefined"===typeof b||ma(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function B(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var D={};
"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){D[a]=new B(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var b=a[0];D[b]=new B(b,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){D[a]=new B(a,2,!1,a.toLowerCase(),null,!1,!1)});
["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){D[a]=new B(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){D[a]=new B(a,3,!1,a.toLowerCase(),null,!1,!1)});
["checked","multiple","muted","selected"].forEach(function(a){D[a]=new B(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){D[a]=new B(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){D[a]=new B(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){D[a]=new B(a,5,!1,a.toLowerCase(),null,!1,!1)});var oa=/[\-:]([a-z])/g;function pa(a){return a[1].toUpperCase()}
"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var b=a.replace(oa,
pa);D[b]=new B(b,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var b=a.replace(oa,pa);D[b]=new B(b,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var b=a.replace(oa,pa);D[b]=new B(b,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){D[a]=new B(a,1,!1,a.toLowerCase(),null,!1,!1)});
D.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){D[a]=new B(a,1,!1,a.toLowerCase(),null,!0,!0)});
function qa(a,b,c,d){var e=D.hasOwnProperty(b)?D[b]:null;var f=null!==e?0===e.type:d?!1:!(2<b.length)||"o"!==b[0]&&"O"!==b[0]||"n"!==b[1]&&"N"!==b[1]?!1:!0;f||(na(b,c,e,d)&&(c=null),d||null===e?la(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,""+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:"":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?"":""+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}
var ra=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sa=60103,ta=60106,ua=60107,wa=60108,xa=60114,ya=60109,za=60110,Aa=60112,Ba=60113,Ca=60120,Da=60115,Ea=60116,Fa=60121,Ga=60128,Ha=60129,Ia=60130,Ja=60131;
if("function"===typeof Symbol&&Symbol.for){var E=Symbol.for;sa=E("react.element");ta=E("react.portal");ua=E("react.fragment");wa=E("react.strict_mode");xa=E("react.profiler");ya=E("react.provider");za=E("react.context");Aa=E("react.forward_ref");Ba=E("react.suspense");Ca=E("react.suspense_list");Da=E("react.memo");Ea=E("react.lazy");Fa=E("react.block");E("react.scope");Ga=E("react.opaque.id");Ha=E("react.debug_trace_mode");Ia=E("react.offscreen");Ja=E("react.legacy_hidden")}
var Ka="function"===typeof Symbol&&Symbol.iterator;function La(a){if(null===a||"object"!==typeof a)return null;a=Ka&&a[Ka]||a["@@iterator"];return"function"===typeof a?a:null}var Ma;function Na(a){if(void 0===Ma)try{throw Error();}catch(c){var b=c.stack.trim().match(/\n( *(at )?)/);Ma=b&&b[1]||""}return"\n"+Ma+a}var Oa=!1;
function Pa(a,b){if(!a||Oa)return"";Oa=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,"props",{set:function(){throw Error();}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(k){var d=k}Reflect.construct(a,[],b)}else{try{b.call()}catch(k){d=k}a.call(b.prototype)}else{try{throw Error();}catch(k){d=k}a()}}catch(k){if(k&&d&&"string"===typeof k.stack){for(var e=k.stack.split("\n"),
f=d.stack.split("\n"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h])return"\n"+e[g].replace(" at new "," at ");while(1<=g&&0<=h)}break}}}finally{Oa=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:"")?Na(a):""}
function Qa(a){switch(a.tag){case 5:return Na(a.type);case 16:return Na("Lazy");case 13:return Na("Suspense");case 19:return Na("SuspenseList");case 0:case 2:case 15:return a=Pa(a.type,!1),a;case 11:return a=Pa(a.type.render,!1),a;case 22:return a=Pa(a.type._render,!1),a;case 1:return a=Pa(a.type,!0),a;default:return""}}
function Ra(a){if(null==a)return null;if("function"===typeof a)return a.displayName||a.name||null;if("string"===typeof a)return a;switch(a){case ua:return"Fragment";case ta:return"Portal";case xa:return"Profiler";case wa:return"StrictMode";case Ba:return"Suspense";case Ca:return"SuspenseList"}if("object"===typeof a)switch(a.$$typeof){case za:return(a.displayName||"Context")+".Consumer";case ya:return(a._context.displayName||"Context")+".Provider";case Aa:var b=a.render;b=b.displayName||b.name||"";
return a.displayName||(""!==b?"ForwardRef("+b+")":"ForwardRef");case Da:return Ra(a.type);case Fa:return Ra(a._render);case Ea:b=a._payload;a=a._init;try{return Ra(a(b))}catch(c){}}return null}function Sa(a){switch(typeof a){case "boolean":case "number":case "object":case "string":case "undefined":return a;default:return""}}function Ta(a){var b=a.type;return(a=a.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===b||"radio"===b)}
function Ua(a){var b=Ta(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=""+a[b];if(!a.hasOwnProperty(b)&&"undefined"!==typeof c&&"function"===typeof c.get&&"function"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=""+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=""+a},stopTracking:function(){a._valueTracker=
null;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d="";a&&(d=Ta(a)?a.checked?"true":"false":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){a=a||("undefined"!==typeof document?document:void 0);if("undefined"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}
function Ya(a,b){var c=b.checked;return m({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?"":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:"checkbox"===b.type||"radio"===b.type?null!=b.checked:null!=b.value}}function $a(a,b){b=b.checked;null!=b&&qa(a,"checked",b,!1)}
function ab(a,b){$a(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if("number"===d){if(0===c&&""===a.value||a.value!=c)a.value=""+c}else a.value!==""+c&&(a.value=""+c);else if("submit"===d||"reset"===d){a.removeAttribute("value");return}b.hasOwnProperty("value")?bb(a,b.type,c):b.hasOwnProperty("defaultValue")&&bb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}
function cb(a,b,c){if(b.hasOwnProperty("value")||b.hasOwnProperty("defaultValue")){var d=b.type;if(!("submit"!==d&&"reset"!==d||void 0!==b.value&&null!==b.value))return;b=""+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;""!==c&&(a.name="");a.defaultChecked=!!a._wrapperState.initialChecked;""!==c&&(a.name=c)}
function bb(a,b,c){if("number"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+c&&(a.defaultValue=""+c)}function db(a){var b="";aa.Children.forEach(a,function(a){null!=a&&(b+=a)});return b}function eb(a,b){a=m({children:void 0},b);if(b=db(b.children))a.children=b;return a}
function fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b["$"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty("$"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=""+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}
function gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(y(91));return m({},b,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(y(92));if(Array.isArray(c)){if(!(1>=c.length))throw Error(y(93));c=c[0]}b=c}null==b&&(b="");c=b}a._wrapperState={initialValue:Sa(c)}}
function ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=""+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=""+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&""!==b&&null!==b&&(a.value=b)}var kb={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};
function lb(a){switch(a){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mb(a,b){return null==a||"http://www.w3.org/1999/xhtml"===a?lb(b):"http://www.w3.org/2000/svg"===a&&"foreignObject"===b?"http://www.w3.org/1999/xhtml":a}
var nb,ob=function(a){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(a.namespaceURI!==kb.svg||"innerHTML"in a)a.innerHTML=b;else{nb=nb||document.createElement("div");nb.innerHTML="<svg>"+b.valueOf().toString()+"</svg>";for(b=nb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});
function pb(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}
var qb={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,
floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rb=["Webkit","ms","Moz","O"];Object.keys(qb).forEach(function(a){rb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);qb[b]=qb[a]})});function sb(a,b,c){return null==b||"boolean"===typeof b||""===b?"":c||"number"!==typeof b||0===b||qb.hasOwnProperty(a)&&qb[a]?(""+b).trim():b+"px"}
function tb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf("--"),e=sb(c,b[c],d);"float"===c&&(c="cssFloat");d?a.setProperty(c,e):a[c]=e}}var ub=m({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});
function vb(a,b){if(b){if(ub[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(y(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(y(60));if(!("object"===typeof b.dangerouslySetInnerHTML&&"__html"in b.dangerouslySetInnerHTML))throw Error(y(61));}if(null!=b.style&&"object"!==typeof b.style)throw Error(y(62));}}
function wb(a,b){if(-1===a.indexOf("-"))return"string"===typeof b.is;switch(a){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;default:return!0}}function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;
function Bb(a){if(a=Cb(a)){if("function"!==typeof yb)throw Error(y(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(a,b,c,d,e){return a(b,c,d,e)}function Ib(){}var Jb=Gb,Kb=!1,Lb=!1;function Mb(){if(null!==zb||null!==Ab)Ib(),Fb()}
function Nb(a,b,c){if(Lb)return a(b,c);Lb=!0;try{return Jb(a,b,c)}finally{Lb=!1,Mb()}}
function Ob(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(d=!d.disabled)||(a=a.type,d=!("button"===a||"input"===a||"select"===a||"textarea"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&"function"!==
typeof c)throw Error(y(231,b,typeof c));return c}var Pb=!1;if(fa)try{var Qb={};Object.defineProperty(Qb,"passive",{get:function(){Pb=!0}});window.addEventListener("test",Qb,Qb);window.removeEventListener("test",Qb,Qb)}catch(a){Pb=!1}function Rb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(n){this.onError(n)}}var Sb=!1,Tb=null,Ub=!1,Vb=null,Wb={onError:function(a){Sb=!0;Tb=a}};function Xb(a,b,c,d,e,f,g,h,k){Sb=!1;Tb=null;Rb.apply(Wb,arguments)}
function Yb(a,b,c,d,e,f,g,h,k){Xb.apply(this,arguments);if(Sb){if(Sb){var l=Tb;Sb=!1;Tb=null}else throw Error(y(198));Ub||(Ub=!0,Vb=l)}}function Zb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&1026)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function $b(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function ac(a){if(Zb(a)!==a)throw Error(y(188));}
function bc(a){var b=a.alternate;if(!b){b=Zb(a);if(null===b)throw Error(y(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return ac(e),a;if(f===d)return ac(e),b;f=f.sibling}throw Error(y(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===
c){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(y(189));}}if(c.alternate!==d)throw Error(y(190));}if(3!==c.tag)throw Error(y(188));return c.stateNode.current===c?a:b}function cc(a){a=bc(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}}return null}
function dc(a,b){for(var c=a.alternate;null!==b;){if(b===a||b===c)return!0;b=b.return}return!1}var ec,fc,gc,hc,ic=!1,jc=[],kc=null,lc=null,mc=null,nc=new Map,oc=new Map,pc=[],qc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");
function rc(a,b,c,d,e){return{blockedOn:a,domEventName:b,eventSystemFlags:c|16,nativeEvent:e,targetContainers:[d]}}function sc(a,b){switch(a){case "focusin":case "focusout":kc=null;break;case "dragenter":case "dragleave":lc=null;break;case "mouseover":case "mouseout":mc=null;break;case "pointerover":case "pointerout":nc.delete(b.pointerId);break;case "gotpointercapture":case "lostpointercapture":oc.delete(b.pointerId)}}
function tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a=rc(b,c,d,e,f),null!==b&&(b=Cb(b),null!==b&&fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}
function uc(a,b,c,d,e){switch(b){case "focusin":return kc=tc(kc,a,b,c,d,e),!0;case "dragenter":return lc=tc(lc,a,b,c,d,e),!0;case "mouseover":return mc=tc(mc,a,b,c,d,e),!0;case "pointerover":var f=e.pointerId;nc.set(f,tc(nc.get(f)||null,a,b,c,d,e));return!0;case "gotpointercapture":return f=e.pointerId,oc.set(f,tc(oc.get(f)||null,a,b,c,d,e)),!0}return!1}
function vc(a){var b=wc(a.target);if(null!==b){var c=Zb(b);if(null!==c)if(b=c.tag,13===b){if(b=$b(c),null!==b){a.blockedOn=b;hc(a.lanePriority,function(){r.unstable_runWithPriority(a.priority,function(){gc(c)})});return}}else if(3===b&&c.stateNode.hydrate){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}
function xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null!==c)return b=Cb(c),null!==b&&fc(b),a.blockedOn=c,!1;b.shift()}return!0}function zc(a,b,c){xc(a)&&c.delete(b)}
function Ac(){for(ic=!1;0<jc.length;){var a=jc[0];if(null!==a.blockedOn){a=Cb(a.blockedOn);null!==a&&ec(a);break}for(var b=a.targetContainers;0<b.length;){var c=yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null!==c){a.blockedOn=c;break}b.shift()}null===a.blockedOn&&jc.shift()}null!==kc&&xc(kc)&&(kc=null);null!==lc&&xc(lc)&&(lc=null);null!==mc&&xc(mc)&&(mc=null);nc.forEach(zc);oc.forEach(zc)}
function Bc(a,b){a.blockedOn===b&&(a.blockedOn=null,ic||(ic=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ac)))}
function Cc(a){function b(b){return Bc(b,a)}if(0<jc.length){Bc(jc[0],a);for(var c=1;c<jc.length;c++){var d=jc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==kc&&Bc(kc,a);null!==lc&&Bc(lc,a);null!==mc&&Bc(mc,a);nc.forEach(b);oc.forEach(b);for(c=0;c<pc.length;c++)d=pc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<pc.length&&(c=pc[0],null===c.blockedOn);)vc(c),null===c.blockedOn&&pc.shift()}
function Dc(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c["Webkit"+a]="webkit"+b;c["Moz"+a]="moz"+b;return c}var Ec={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionend:Dc("Transition","TransitionEnd")},Fc={},Gc={};
fa&&(Gc=document.createElement("div").style,"AnimationEvent"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),"TransitionEvent"in window||delete Ec.transitionend.transition);function Hc(a){if(Fc[a])return Fc[a];if(!Ec[a])return a;var b=Ec[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Gc)return Fc[a]=b[c];return a}
var Ic=Hc("animationend"),Jc=Hc("animationiteration"),Kc=Hc("animationstart"),Lc=Hc("transitionend"),Mc=new Map,Nc=new Map,Oc=["abort","abort",Ic,"animationEnd",Jc,"animationIteration",Kc,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart",
"lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Lc,"transitionEnd","waiting","waiting"];function Pc(a,b){for(var c=0;c<a.length;c+=2){var d=a[c],e=a[c+1];e="on"+(e[0].toUpperCase()+e.slice(1));Nc.set(d,b);Mc.set(d,e);da(e,[d])}}var Qc=r.unstable_now;Qc();var F=8;
function Rc(a){if(0!==(1&a))return F=15,1;if(0!==(2&a))return F=14,2;if(0!==(4&a))return F=13,4;var b=24&a;if(0!==b)return F=12,b;if(0!==(a&32))return F=11,32;b=192&a;if(0!==b)return F=10,b;if(0!==(a&256))return F=9,256;b=3584&a;if(0!==b)return F=8,b;if(0!==(a&4096))return F=7,4096;b=4186112&a;if(0!==b)return F=6,b;b=62914560&a;if(0!==b)return F=5,b;if(a&67108864)return F=4,67108864;if(0!==(a&134217728))return F=3,134217728;b=805306368&a;if(0!==b)return F=2,b;if(0!==(1073741824&a))return F=1,1073741824;
F=8;return a}function Sc(a){switch(a){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Tc(a){switch(a){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(y(358,a));}}
function Uc(a,b){var c=a.pendingLanes;if(0===c)return F=0;var d=0,e=0,f=a.expiredLanes,g=a.suspendedLanes,h=a.pingedLanes;if(0!==f)d=f,e=F=15;else if(f=c&134217727,0!==f){var k=f&~g;0!==k?(d=Rc(k),e=F):(h&=f,0!==h&&(d=Rc(h),e=F))}else f=c&~g,0!==f?(d=Rc(f),e=F):0!==h&&(d=Rc(h),e=F);if(0===d)return 0;d=31-Vc(d);d=c&((0>d?0:1<<d)<<1)-1;if(0!==b&&b!==d&&0===(b&g)){Rc(b);if(e<=F)return b;F=e}b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-Vc(b),e=1<<c,d|=a[c],b&=~e;return d}
function Wc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function Xc(a,b){switch(a){case 15:return 1;case 14:return 2;case 12:return a=Yc(24&~b),0===a?Xc(10,b):a;case 10:return a=Yc(192&~b),0===a?Xc(8,b):a;case 8:return a=Yc(3584&~b),0===a&&(a=Yc(4186112&~b),0===a&&(a=512)),a;case 2:return b=Yc(805306368&~b),0===b&&(b=268435456),b}throw Error(y(358,a));}function Yc(a){return a&-a}function Zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}
function $c(a,b,c){a.pendingLanes|=b;var d=b-1;a.suspendedLanes&=d;a.pingedLanes&=d;a=a.eventTimes;b=31-Vc(b);a[b]=c}var Vc=Math.clz32?Math.clz32:ad,bd=Math.log,cd=Math.LN2;function ad(a){return 0===a?32:31-(bd(a)/cd|0)|0}var dd=r.unstable_UserBlockingPriority,ed=r.unstable_runWithPriority,fd=!0;function gd(a,b,c,d){Kb||Ib();var e=hd,f=Kb;Kb=!0;try{Hb(e,a,b,c,d)}finally{(Kb=f)||Mb()}}function id(a,b,c,d){ed(dd,hd.bind(null,a,b,c,d))}
function hd(a,b,c,d){if(fd){var e;if((e=0===(b&4))&&0<jc.length&&-1<qc.indexOf(a))a=rc(null,a,b,c,d),jc.push(a);else{var f=yc(a,b,c,d);if(null===f)e&&sc(a,d);else{if(e){if(-1<qc.indexOf(a)){a=rc(f,a,b,c,d);jc.push(a);return}if(uc(f,a,b,c,d))return;sc(a,d)}jd(a,b,d,null,c)}}}}
function yc(a,b,c,d){var e=xb(d);e=wc(e);if(null!==e){var f=Zb(e);if(null===f)e=null;else{var g=f.tag;if(13===g){e=$b(f);if(null!==e)return e;e=null}else if(3===g){if(f.stateNode.hydrate)return 3===f.tag?f.stateNode.containerInfo:null;e=null}else f!==e&&(e=null)}}jd(a,b,d,e,c);return null}var kd=null,ld=null,md=null;
function nd(){if(md)return md;var a,b=ld,c=b.length,d,e="value"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}function od(a){var b=a.keyCode;"charCode"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}
function rd(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}m(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():"unknown"!==typeof a.returnValue&&
(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():"unknown"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}
var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=m({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=m({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if("movementX"in
a)return a.movementX;a!==yd&&(yd&&"mousemove"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return"movementY"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=m({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=m({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=m({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=m({},sd,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=m({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",
Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",
119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:!1}function zd(){return Pd}
var Qd=m({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if("Unidentified"!==b)return b}return"keypress"===a.type?(a=od(a),13===a?"Enter":String.fromCharCode(a)):"keydown"===a.type||"keyup"===a.type?Nd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return"keypress"===a.type?od(a):0},keyCode:function(a){return"keydown"===a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===
a.type?od(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=m({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=m({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=m({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=m({},Ad,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},
deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=fa&&"CompositionEvent"in window,be=null;fa&&"documentMode"in document&&(be=document.documentMode);var ce=fa&&"TextEvent"in window&&!be,de=fa&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;
function ge(a,b){switch(a){case "keyup":return-1!==$d.indexOf(b.keyCode);case "keydown":return 229!==b.keyCode;case "keypress":case "mousedown":case "focusout":return!0;default:return!1}}function he(a){a=a.detail;return"object"===typeof a&&"data"in a?a.data:null}var ie=!1;function je(a,b){switch(a){case "compositionend":return he(b);case "keypress":if(32!==b.which)return null;fe=!0;return ee;case "textInput":return a=b.data,a===ee&&fe?null:a;default:return null}}
function ke(a,b){if(ie)return"compositionend"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case "paste":return null;case "keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case "compositionend":return de&&"ko"!==b.locale?null:b.data;default:return null}}
var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return"input"===b?!!le[a.type]:"textarea"===b?!0:!1}function ne(a,b,c,d){Eb(d);b=oe(b,"onChange");0<b.length&&(c=new td("onChange","change",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}
function ve(a,b){if("change"===a)return b}var we=!1;if(fa){var xe;if(fa){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;");ye="function"===typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(a){if("value"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));a=re;if(Kb)a(b);else{Kb=!0;try{Gb(a,b)}finally{Kb=!1,Mb()}}}}
function Ce(a,b,c){"focusin"===a?(Ae(),pe=b,qe=c,pe.attachEvent("onpropertychange",Be)):"focusout"===a&&Ae()}function De(a){if("selectionchange"===a||"keyup"===a||"keydown"===a)return te(qe)}function Ee(a,b){if("click"===a)return te(b)}function Fe(a,b){if("input"===a||"change"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He="function"===typeof Object.is?Object.is:Ge,Ie=Object.prototype.hasOwnProperty;
function Je(a,b){if(He(a,b))return!0;if("object"!==typeof a||null===a||"object"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!Ie.call(b,c[d])||!He(a[c[d]],b[c[d]]))return!1;return!0}function Ke(a){for(;a&&a.firstChild;)a=a.firstChild;return a}
function Le(a,b){var c=Ke(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Ke(c)}}function Me(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Me(a,b.parentNode):"contains"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}
function Ne(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c="string"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Oe(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&("input"===b&&("text"===a.type||"search"===a.type||"tel"===a.type||"url"===a.type||"password"===a.type)||"textarea"===b||"true"===a.contentEditable)}
var Pe=fa&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;
function Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,"selectionStart"in d&&Oe(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Je(Se,d)||(Se=d,d=oe(Re,"onSelect"),0<d.length&&(b=new td("onSelect","select",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}
Pc("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),
0);Pc("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Pc(Oc,2);for(var Ve="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),We=0;We<Ve.length;We++)Nc.set(Ve[We],0);ea("onMouseEnter",["mouseout","mouseover"]);
ea("onMouseLeave",["mouseout","mouseover"]);ea("onPointerEnter",["pointerout","pointerover"]);ea("onPointerLeave",["pointerout","pointerover"]);da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));da("onBeforeInput",["compositionend","keypress","textInput","paste"]);da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));
da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ye=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xe));
function Ze(a,b,c){var d=a.type||"unknown-event";a.currentTarget=c;Yb(d,b,void 0,a);a.currentTarget=null}
function se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;Ze(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;Ze(e,h,l);f=k}}}if(Ub)throw a=Vb,Ub=!1,Vb=null,a;}
function G(a,b){var c=$e(b),d=a+"__bubble";c.has(d)||(af(b,a,2,!1),c.add(d))}var bf="_reactListening"+Math.random().toString(36).slice(2);function cf(a){a[bf]||(a[bf]=!0,ba.forEach(function(b){Ye.has(b)||df(b,!1,a,null);df(b,!0,a,null)}))}
function df(a,b,c,d){var e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,f=c;"selectionchange"===a&&9!==c.nodeType&&(f=c.ownerDocument);if(null!==d&&!b&&Ye.has(a)){if("scroll"!==a)return;e|=2;f=d}var g=$e(f),h=a+"__"+(b?"capture":"bubble");g.has(h)||(b&&(e|=4),af(f,a,e,b),g.add(h))}
function af(a,b,c,d){var e=Nc.get(b);switch(void 0===e?2:e){case 0:e=gd;break;case 1:e=id;break;default:e=hd}c=e.bind(null,b,c,a);e=void 0;!Pb||"touchstart"!==b&&"touchmove"!==b&&"wheel"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}
function jd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return;g=g.return}for(;null!==h;){g=wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Nb(function(){var d=f,e=xb(c),g=[];
a:{var h=Mc.get(a);if(void 0!==h){var k=td,x=a;switch(a){case "keypress":if(0===od(c))break a;case "keydown":case "keyup":k=Rd;break;case "focusin":x="focus";k=Fd;break;case "focusout":x="blur";k=Fd;break;case "beforeblur":case "afterblur":k=Fd;break;case "click":if(2===c.button)break a;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":k=Bd;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":k=
Dd;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":k=Vd;break;case Ic:case Jc:case Kc:k=Hd;break;case Lc:k=Xd;break;case "scroll":k=vd;break;case "wheel":k=Zd;break;case "copy":case "cut":case "paste":k=Jd;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":k=Td}var w=0!==(b&4),z=!w&&"scroll"===a,u=w?null!==h?h+"Capture":null:h;w=[];for(var t=d,q;null!==
t;){q=t;var v=q.stateNode;5===q.tag&&null!==v&&(q=v,null!==u&&(v=Ob(t,u),null!=v&&w.push(ef(t,v,q))));if(z)break;t=t.return}0<w.length&&(h=new k(h,x,null,c,e),g.push({event:h,listeners:w}))}}if(0===(b&7)){a:{h="mouseover"===a||"pointerover"===a;k="mouseout"===a||"pointerout"===a;if(h&&0===(b&16)&&(x=c.relatedTarget||c.fromElement)&&(wc(x)||x[ff]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window;if(k){if(x=c.relatedTarget||c.toElement,k=d,x=x?wc(x):null,null!==
x&&(z=Zb(x),x!==z||5!==x.tag&&6!==x.tag))x=null}else k=null,x=d;if(k!==x){w=Bd;v="onMouseLeave";u="onMouseEnter";t="mouse";if("pointerout"===a||"pointerover"===a)w=Td,v="onPointerLeave",u="onPointerEnter",t="pointer";z=null==k?h:ue(k);q=null==x?h:ue(x);h=new w(v,t+"leave",k,c,e);h.target=z;h.relatedTarget=q;v=null;wc(e)===d&&(w=new w(u,t+"enter",x,c,e),w.target=q,w.relatedTarget=z,v=w);z=v;if(k&&x)b:{w=k;u=x;t=0;for(q=w;q;q=gf(q))t++;q=0;for(v=u;v;v=gf(v))q++;for(;0<t-q;)w=gf(w),t--;for(;0<q-t;)u=
gf(u),q--;for(;t--;){if(w===u||null!==u&&w===u.alternate)break b;w=gf(w);u=gf(u)}w=null}else w=null;null!==k&&hf(g,h,k,w,!1);null!==x&&null!==z&&hf(g,z,x,w,!0)}}}a:{h=d?ue(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if("select"===k||"input"===k&&"file"===h.type)var J=ve;else if(me(h))if(we)J=Fe;else{J=De;var K=Ce}else(k=h.nodeName)&&"input"===k.toLowerCase()&&("checkbox"===h.type||"radio"===h.type)&&(J=Ee);if(J&&(J=J(a,d))){ne(g,J,c,e);break a}K&&K(a,h,d);"focusout"===a&&(K=h._wrapperState)&&
K.controlled&&"number"===h.type&&bb(h,"number",h.value)}K=d?ue(d):window;switch(a){case "focusin":if(me(K)||"true"===K.contentEditable)Qe=K,Re=d,Se=null;break;case "focusout":Se=Re=Qe=null;break;case "mousedown":Te=!0;break;case "contextmenu":case "mouseup":case "dragend":Te=!1;Ue(g,c,e);break;case "selectionchange":if(Pe)break;case "keydown":case "keyup":Ue(g,c,e)}var Q;if(ae)b:{switch(a){case "compositionstart":var L="onCompositionStart";break b;case "compositionend":L="onCompositionEnd";break b;
case "compositionupdate":L="onCompositionUpdate";break b}L=void 0}else ie?ge(a,c)&&(L="onCompositionEnd"):"keydown"===a&&229===c.keyCode&&(L="onCompositionStart");L&&(de&&"ko"!==c.locale&&(ie||"onCompositionStart"!==L?"onCompositionEnd"===L&&ie&&(Q=nd()):(kd=e,ld="value"in kd?kd.value:kd.textContent,ie=!0)),K=oe(d,L),0<K.length&&(L=new Ld(L,a,null,c,e),g.push({event:L,listeners:K}),Q?L.data=Q:(Q=he(c),null!==Q&&(L.data=Q))));if(Q=ce?je(a,c):ke(a,c))d=oe(d,"onBeforeInput"),0<d.length&&(e=new Ld("onBeforeInput",
"beforeinput",null,c,e),g.push({event:e,listeners:d}),e.data=Q)}se(g,b)})}function ef(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+"Capture",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Ob(a,c),null!=f&&d.unshift(ef(a,f,e)),f=Ob(a,b),null!=f&&d.push(ef(a,f,e)));a=a.return}return d}function gf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}
function hf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Ob(c,f),null!=k&&g.unshift(ef(c,k,h))):e||(k=Ob(c,f),null!=k&&g.push(ef(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}function jf(){}var kf=null,lf=null;function mf(a,b){switch(a){case "button":case "input":case "select":case "textarea":return!!b.autoFocus}return!1}
function nf(a,b){return"textarea"===a||"option"===a||"noscript"===a||"string"===typeof b.children||"number"===typeof b.children||"object"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}var of="function"===typeof setTimeout?setTimeout:void 0,pf="function"===typeof clearTimeout?clearTimeout:void 0;function qf(a){1===a.nodeType?a.textContent="":9===a.nodeType&&(a=a.body,null!=a&&(a.textContent=""))}
function rf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break}return a}function sf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if("$"===c||"$!"===c||"$?"===c){if(0===b)return a;b--}else"/$"===c&&b++}a=a.previousSibling}return null}var tf=0;function uf(a){return{$$typeof:Ga,toString:a,valueOf:a}}var vf=Math.random().toString(36).slice(2),wf="__reactFiber$"+vf,xf="__reactProps$"+vf,ff="__reactContainer$"+vf,yf="__reactEvents$"+vf;
function wc(a){var b=a[wf];if(b)return b;for(var c=a.parentNode;c;){if(b=c[ff]||c[wf]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=sf(a);null!==a;){if(c=a[wf])return c;a=sf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[wf]||a[ff];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(y(33));}function Db(a){return a[xf]||null}
function $e(a){var b=a[yf];void 0===b&&(b=a[yf]=new Set);return b}var zf=[],Af=-1;function Bf(a){return{current:a}}function H(a){0>Af||(a.current=zf[Af],zf[Af]=null,Af--)}function I(a,b){Af++;zf[Af]=a.current;a.current=b}var Cf={},M=Bf(Cf),N=Bf(!1),Df=Cf;
function Ef(a,b){var c=a.type.contextTypes;if(!c)return Cf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}function Ff(a){a=a.childContextTypes;return null!==a&&void 0!==a}function Gf(){H(N);H(M)}function Hf(a,b,c){if(M.current!==Cf)throw Error(y(168));I(M,b);I(N,c)}
function If(a,b,c){var d=a.stateNode;a=b.childContextTypes;if("function"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in a))throw Error(y(108,Ra(b)||"Unknown",e));return m({},c,d)}function Jf(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Cf;Df=M.current;I(M,a);I(N,N.current);return!0}function Kf(a,b,c){var d=a.stateNode;if(!d)throw Error(y(169));c?(a=If(a,b,Df),d.__reactInternalMemoizedMergedChildContext=a,H(N),H(M),I(M,a)):H(N);I(N,c)}
var Lf=null,Mf=null,Nf=r.unstable_runWithPriority,Of=r.unstable_scheduleCallback,Pf=r.unstable_cancelCallback,Qf=r.unstable_shouldYield,Rf=r.unstable_requestPaint,Sf=r.unstable_now,Tf=r.unstable_getCurrentPriorityLevel,Uf=r.unstable_ImmediatePriority,Vf=r.unstable_UserBlockingPriority,Wf=r.unstable_NormalPriority,Xf=r.unstable_LowPriority,Yf=r.unstable_IdlePriority,Zf={},$f=void 0!==Rf?Rf:function(){},ag=null,bg=null,cg=!1,dg=Sf(),O=1E4>dg?Sf:function(){return Sf()-dg};
function eg(){switch(Tf()){case Uf:return 99;case Vf:return 98;case Wf:return 97;case Xf:return 96;case Yf:return 95;default:throw Error(y(332));}}function fg(a){switch(a){case 99:return Uf;case 98:return Vf;case 97:return Wf;case 96:return Xf;case 95:return Yf;default:throw Error(y(332));}}function gg(a,b){a=fg(a);return Nf(a,b)}function hg(a,b,c){a=fg(a);return Of(a,b,c)}function ig(){if(null!==bg){var a=bg;bg=null;Pf(a)}jg()}
function jg(){if(!cg&&null!==ag){cg=!0;var a=0;try{var b=ag;gg(99,function(){for(;a<b.length;a++){var c=b[a];do c=c(!0);while(null!==c)}});ag=null}catch(c){throw null!==ag&&(ag=ag.slice(a+1)),Of(Uf,ig),c;}finally{cg=!1}}}var kg=ra.ReactCurrentBatchConfig;function lg(a,b){if(a&&a.defaultProps){b=m({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}var mg=Bf(null),ng=null,og=null,pg=null;function qg(){pg=og=ng=null}
function rg(a){var b=mg.current;H(mg);a.type._context._currentValue=b}function sg(a,b){for(;null!==a;){var c=a.alternate;if((a.childLanes&b)===b)if(null===c||(c.childLanes&b)===b)break;else c.childLanes|=b;else a.childLanes|=b,null!==c&&(c.childLanes|=b);a=a.return}}function tg(a,b){ng=a;pg=og=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(ug=!0),a.firstContext=null)}
function vg(a,b){if(pg!==a&&!1!==b&&0!==b){if("number"!==typeof b||1073741823===b)pg=a,b=1073741823;b={context:a,observedBits:b,next:null};if(null===og){if(null===ng)throw Error(y(308));og=b;ng.dependencies={lanes:0,firstContext:b,responders:null}}else og=og.next=b}return a._currentValue}var wg=!1;function xg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}
function yg(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function zg(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}function Ag(a,b){a=a.updateQueue;if(null!==a){a=a.shared;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}}
function Bg(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=
b;c.lastBaseUpdate=b}
function Cg(a,b,c,d){var e=a.updateQueue;wg=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var n=a.alternate;if(null!==n){n=n.updateQueue;var A=n.lastBaseUpdate;A!==g&&(null===A?n.firstBaseUpdate=l:A.next=l,n.lastBaseUpdate=k)}}if(null!==f){A=e.baseState;g=0;n=l=k=null;do{h=f.lane;var p=f.eventTime;if((d&h)===h){null!==n&&(n=n.next={eventTime:p,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,
next:null});a:{var C=a,x=f;h=b;p=c;switch(x.tag){case 1:C=x.payload;if("function"===typeof C){A=C.call(p,A,h);break a}A=C;break a;case 3:C.flags=C.flags&-4097|64;case 0:C=x.payload;h="function"===typeof C?C.call(p,A,h):C;if(null===h||void 0===h)break a;A=m({},A,h);break a;case 2:wg=!0}}null!==f.callback&&(a.flags|=32,h=e.effects,null===h?e.effects=[f]:h.push(f))}else p={eventTime:p,lane:h,tag:f.tag,payload:f.payload,callback:f.callback,next:null},null===n?(l=n=p,k=A):n=n.next=p,g|=h;f=f.next;if(null===
f)if(h=e.shared.pending,null===h)break;else f=h.next,h.next=null,e.lastBaseUpdate=h,e.shared.pending=null}while(1);null===n&&(k=A);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=n;Dg|=g;a.lanes=g;a.memoizedState=A}}function Eg(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if("function"!==typeof e)throw Error(y(191,e));e.call(d)}}}var Fg=(new aa.Component).refs;
function Gg(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:m({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}
var Kg={isMounted:function(a){return(a=a._reactInternals)?Zb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=Hg(),e=Ig(a),f=zg(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);Ag(a,f);Jg(a,e,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=Hg(),e=Ig(a),f=zg(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);Ag(a,f);Jg(a,e,d)},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=Hg(),d=Ig(a),e=zg(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=
b);Ag(a,e);Jg(a,d,c)}};function Lg(a,b,c,d,e,f,g){a=a.stateNode;return"function"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Je(c,d)||!Je(e,f):!0}
function Mg(a,b,c){var d=!1,e=Cf;var f=b.contextType;"object"===typeof f&&null!==f?f=vg(f):(e=Ff(b)?Df:M.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Ef(a,e):Cf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Kg;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}
function Ng(a,b,c,d){a=b.state;"function"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);"function"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Kg.enqueueReplaceState(b,b.state,null)}
function Og(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=Fg;xg(a);var f=b.contextType;"object"===typeof f&&null!==f?e.context=vg(f):(f=Ff(b)?Df:M.current,e.context=Ef(a,f));Cg(a,c,e,d);e.state=a.memoizedState;f=b.getDerivedStateFromProps;"function"===typeof f&&(Gg(a,b,f,c),e.state=a.memoizedState);"function"===typeof b.getDerivedStateFromProps||"function"===typeof e.getSnapshotBeforeUpdate||"function"!==typeof e.UNSAFE_componentWillMount&&"function"!==typeof e.componentWillMount||
(b=e.state,"function"===typeof e.componentWillMount&&e.componentWillMount(),"function"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Kg.enqueueReplaceState(e,e.state,null),Cg(a,c,e,d),e.state=a.memoizedState);"function"===typeof e.componentDidMount&&(a.flags|=4)}var Pg=Array.isArray;
function Qg(a,b,c){a=c.ref;if(null!==a&&"function"!==typeof a&&"object"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(y(309));var d=c.stateNode}if(!d)throw Error(y(147,a));var e=""+a;if(null!==b&&null!==b.ref&&"function"===typeof b.ref&&b.ref._stringRef===e)return b.ref;b=function(a){var b=d.refs;b===Fg&&(b=d.refs={});null===a?delete b[e]:b[e]=a};b._stringRef=e;return b}if("string"!==typeof a)throw Error(y(284));if(!c._owner)throw Error(y(290,a));}return a}
function Rg(a,b){if("textarea"!==a.type)throw Error(y(31,"[object Object]"===Object.prototype.toString.call(b)?"object with keys {"+Object.keys(b).join(", ")+"}":b));}
function Sg(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c;c.nextEffect=null;c.flags=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Tg(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags=2,
c):d;b.flags=2;return c}function g(b){a&&null===b.alternate&&(b.flags=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=Ug(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){if(null!==b&&b.elementType===c.type)return d=e(b,c.props),d.ref=Qg(a,b,c),d.return=a,d;d=Vg(c.type,c.key,c.props,null,a.mode,d);d.ref=Qg(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=
Wg(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function n(a,b,c,d,f){if(null===b||7!==b.tag)return b=Xg(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function A(a,b,c){if("string"===typeof b||"number"===typeof b)return b=Ug(""+b,a.mode,c),b.return=a,b;if("object"===typeof b&&null!==b){switch(b.$$typeof){case sa:return c=Vg(b.type,b.key,b.props,null,a.mode,c),c.ref=Qg(a,null,b),c.return=a,c;case ta:return b=Wg(b,a.mode,c),b.return=a,b}if(Pg(b)||La(b))return b=Xg(b,
a.mode,c,null),b.return=a,b;Rg(a,b)}return null}function p(a,b,c,d){var e=null!==b?b.key:null;if("string"===typeof c||"number"===typeof c)return null!==e?null:h(a,b,""+c,d);if("object"===typeof c&&null!==c){switch(c.$$typeof){case sa:return c.key===e?c.type===ua?n(a,b,c.props.children,d,e):k(a,b,c,d):null;case ta:return c.key===e?l(a,b,c,d):null}if(Pg(c)||La(c))return null!==e?null:n(a,b,c,d,null);Rg(a,c)}return null}function C(a,b,c,d,e){if("string"===typeof d||"number"===typeof d)return a=a.get(c)||
null,h(b,a,""+d,e);if("object"===typeof d&&null!==d){switch(d.$$typeof){case sa:return a=a.get(null===d.key?c:d.key)||null,d.type===ua?n(b,a,d.props.children,e,d.key):k(b,a,d,e);case ta:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e)}if(Pg(d)||La(d))return a=a.get(c)||null,n(b,a,d,e,null);Rg(b,d)}return null}function x(e,g,h,k){for(var l=null,t=null,u=g,z=g=0,q=null;null!==u&&z<h.length;z++){u.index>z?(q=u,u=null):q=u.sibling;var n=p(e,u,h[z],k);if(null===n){null===u&&(u=q);break}a&&u&&null===
n.alternate&&b(e,u);g=f(n,g,z);null===t?l=n:t.sibling=n;t=n;u=q}if(z===h.length)return c(e,u),l;if(null===u){for(;z<h.length;z++)u=A(e,h[z],k),null!==u&&(g=f(u,g,z),null===t?l=u:t.sibling=u,t=u);return l}for(u=d(e,u);z<h.length;z++)q=C(u,e,z,h[z],k),null!==q&&(a&&null!==q.alternate&&u.delete(null===q.key?z:q.key),g=f(q,g,z),null===t?l=q:t.sibling=q,t=q);a&&u.forEach(function(a){return b(e,a)});return l}function w(e,g,h,k){var l=La(h);if("function"!==typeof l)throw Error(y(150));h=l.call(h);if(null==
h)throw Error(y(151));for(var t=l=null,u=g,z=g=0,q=null,n=h.next();null!==u&&!n.done;z++,n=h.next()){u.index>z?(q=u,u=null):q=u.sibling;var w=p(e,u,n.value,k);if(null===w){null===u&&(u=q);break}a&&u&&null===w.alternate&&b(e,u);g=f(w,g,z);null===t?l=w:t.sibling=w;t=w;u=q}if(n.done)return c(e,u),l;if(null===u){for(;!n.done;z++,n=h.next())n=A(e,n.value,k),null!==n&&(g=f(n,g,z),null===t?l=n:t.sibling=n,t=n);return l}for(u=d(e,u);!n.done;z++,n=h.next())n=C(u,e,z,n.value,k),null!==n&&(a&&null!==n.alternate&&
u.delete(null===n.key?z:n.key),g=f(n,g,z),null===t?l=n:t.sibling=n,t=n);a&&u.forEach(function(a){return b(e,a)});return l}return function(a,d,f,h){var k="object"===typeof f&&null!==f&&f.type===ua&&null===f.key;k&&(f=f.props.children);var l="object"===typeof f&&null!==f;if(l)switch(f.$$typeof){case sa:a:{l=f.key;for(k=d;null!==k;){if(k.key===l){switch(k.tag){case 7:if(f.type===ua){c(a,k.sibling);d=e(k,f.props.children);d.return=a;a=d;break a}break;default:if(k.elementType===f.type){c(a,k.sibling);
d=e(k,f.props);d.ref=Qg(a,k,f);d.return=a;a=d;break a}}c(a,k);break}else b(a,k);k=k.sibling}f.type===ua?(d=Xg(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Vg(f.type,f.key,f.props,null,a.mode,h),h.ref=Qg(a,d,f),h.return=a,a=h)}return g(a);case ta:a:{for(k=f.key;null!==d;){if(d.key===k)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=
Wg(f,a.mode,h);d.return=a;a=d}return g(a)}if("string"===typeof f||"number"===typeof f)return f=""+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):(c(a,d),d=Ug(f,a.mode,h),d.return=a,a=d),g(a);if(Pg(f))return x(a,d,f,h);if(La(f))return w(a,d,f,h);l&&Rg(a,f);if("undefined"===typeof f&&!k)switch(a.tag){case 1:case 22:case 0:case 11:case 15:throw Error(y(152,Ra(a.type)||"Component"));}return c(a,d)}}var Yg=Sg(!0),Zg=Sg(!1),$g={},ah=Bf($g),bh=Bf($g),ch=Bf($g);
function dh(a){if(a===$g)throw Error(y(174));return a}function eh(a,b){I(ch,b);I(bh,a);I(ah,$g);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:mb(null,"");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=mb(b,a)}H(ah);I(ah,b)}function fh(){H(ah);H(bh);H(ch)}function gh(a){dh(ch.current);var b=dh(ah.current);var c=mb(b,a.type);b!==c&&(I(bh,a),I(ah,c))}function hh(a){bh.current===a&&(H(ah),H(bh))}var P=Bf(0);
function ih(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||"$?"===c.data||"$!"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&64))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var jh=null,kh=null,lh=!1;
function mh(a,b){var c=nh(5,null,null,0);c.elementType="DELETED";c.type="DELETED";c.stateNode=b;c.return=a;c.flags=8;null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}function oh(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,!0):!1;case 6:return b=""===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,!0):!1;case 13:return!1;default:return!1}}
function ph(a){if(lh){var b=kh;if(b){var c=b;if(!oh(a,b)){b=rf(c.nextSibling);if(!b||!oh(a,b)){a.flags=a.flags&-1025|2;lh=!1;jh=a;return}mh(jh,c)}jh=a;kh=rf(b.firstChild)}else a.flags=a.flags&-1025|2,lh=!1,jh=a}}function qh(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;jh=a}
function rh(a){if(a!==jh)return!1;if(!lh)return qh(a),lh=!0,!1;var b=a.type;if(5!==a.tag||"head"!==b&&"body"!==b&&!nf(b,a.memoizedProps))for(b=kh;b;)mh(a,b),b=rf(b.nextSibling);qh(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(y(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if("/$"===c){if(0===b){kh=rf(a.nextSibling);break a}b--}else"$"!==c&&"$!"!==c&&"$?"!==c||b++}a=a.nextSibling}kh=null}}else kh=jh?rf(a.stateNode.nextSibling):null;return!0}
function sh(){kh=jh=null;lh=!1}var th=[];function uh(){for(var a=0;a<th.length;a++)th[a]._workInProgressVersionPrimary=null;th.length=0}var vh=ra.ReactCurrentDispatcher,wh=ra.ReactCurrentBatchConfig,xh=0,R=null,S=null,T=null,yh=!1,zh=!1;function Ah(){throw Error(y(321));}function Bh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}
function Ch(a,b,c,d,e,f){xh=f;R=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;vh.current=null===a||null===a.memoizedState?Dh:Eh;a=c(d,e);if(zh){f=0;do{zh=!1;if(!(25>f))throw Error(y(301));f+=1;T=S=null;b.updateQueue=null;vh.current=Fh;a=c(d,e)}while(zh)}vh.current=Gh;b=null!==S&&null!==S.next;xh=0;T=S=R=null;yh=!1;if(b)throw Error(y(300));return a}function Hh(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===T?R.memoizedState=T=a:T=T.next=a;return T}
function Ih(){if(null===S){var a=R.alternate;a=null!==a?a.memoizedState:null}else a=S.next;var b=null===T?R.memoizedState:T.next;if(null!==b)T=b,S=a;else{if(null===a)throw Error(y(310));S=a;a={memoizedState:S.memoizedState,baseState:S.baseState,baseQueue:S.baseQueue,queue:S.queue,next:null};null===T?R.memoizedState=T=a:T=T.next=a}return T}function Jh(a,b){return"function"===typeof b?b(a):b}
function Kh(a){var b=Ih(),c=b.queue;if(null===c)throw Error(y(311));c.lastRenderedReducer=a;var d=S,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){e=e.next;d=d.baseState;var h=g=f=null,k=e;do{var l=k.lane;if((xh&l)===l)null!==h&&(h=h.next={lane:0,action:k.action,eagerReducer:k.eagerReducer,eagerState:k.eagerState,next:null}),d=k.eagerReducer===a?k.eagerState:a(d,k.action);else{var n={lane:l,action:k.action,eagerReducer:k.eagerReducer,
eagerState:k.eagerState,next:null};null===h?(g=h=n,f=d):h=h.next=n;R.lanes|=l;Dg|=l}k=k.next}while(null!==k&&k!==e);null===h?f=d:h.next=g;He(d,b.memoizedState)||(ug=!0);b.memoizedState=d;b.baseState=f;b.baseQueue=h;c.lastRenderedState=d}return[b.memoizedState,c.dispatch]}
function Lh(a){var b=Ih(),c=b.queue;if(null===c)throw Error(y(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(ug=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}
function Mh(a,b,c){var d=b._getVersion;d=d(b._source);var e=b._workInProgressVersionPrimary;if(null!==e)a=e===d;else if(a=a.mutableReadLanes,a=(xh&a)===a)b._workInProgressVersionPrimary=d,th.push(b);if(a)return c(b._source);th.push(b);throw Error(y(350));}
function Nh(a,b,c,d){var e=U;if(null===e)throw Error(y(349));var f=b._getVersion,g=f(b._source),h=vh.current,k=h.useState(function(){return Mh(e,b,c)}),l=k[1],n=k[0];k=T;var A=a.memoizedState,p=A.refs,C=p.getSnapshot,x=A.source;A=A.subscribe;var w=R;a.memoizedState={refs:p,source:b,subscribe:d};h.useEffect(function(){p.getSnapshot=c;p.setSnapshot=l;var a=f(b._source);if(!He(g,a)){a=c(b._source);He(n,a)||(l(a),a=Ig(w),e.mutableReadLanes|=a&e.pendingLanes);a=e.mutableReadLanes;e.entangledLanes|=a;for(var d=
e.entanglements,h=a;0<h;){var k=31-Vc(h),v=1<<k;d[k]|=a;h&=~v}}},[c,b,d]);h.useEffect(function(){return d(b._source,function(){var a=p.getSnapshot,c=p.setSnapshot;try{c(a(b._source));var d=Ig(w);e.mutableReadLanes|=d&e.pendingLanes}catch(q){c(function(){throw q;})}})},[b,d]);He(C,c)&&He(x,b)&&He(A,d)||(a={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:n},a.dispatch=l=Oh.bind(null,R,a),k.queue=a,k.baseQueue=null,n=Mh(e,b,c),k.memoizedState=k.baseState=n);return n}
function Ph(a,b,c){var d=Ih();return Nh(d,a,b,c)}function Qh(a){var b=Hh();"function"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a=b.queue={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:a};a=a.dispatch=Oh.bind(null,R,a);return[b.memoizedState,a]}
function Rh(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=R.updateQueue;null===b?(b={lastEffect:null},R.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function Sh(a){var b=Hh();a={current:a};return b.memoizedState=a}function Th(){return Ih().memoizedState}function Uh(a,b,c,d){var e=Hh();R.flags|=a;e.memoizedState=Rh(1|b,c,void 0,void 0===d?null:d)}
function Vh(a,b,c,d){var e=Ih();d=void 0===d?null:d;var f=void 0;if(null!==S){var g=S.memoizedState;f=g.destroy;if(null!==d&&Bh(d,g.deps)){Rh(b,c,f,d);return}}R.flags|=a;e.memoizedState=Rh(1|b,c,f,d)}function Wh(a,b){return Uh(516,4,a,b)}function Xh(a,b){return Vh(516,4,a,b)}function Yh(a,b){return Vh(4,2,a,b)}function Zh(a,b){if("function"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}
function $h(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Vh(4,2,Zh.bind(null,b,a),c)}function ai(){}function bi(a,b){var c=Ih();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Bh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}function ci(a,b){var c=Ih();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Bh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}
function di(a,b){var c=eg();gg(98>c?98:c,function(){a(!0)});gg(97<c?97:c,function(){var c=wh.transition;wh.transition=1;try{a(!1),b()}finally{wh.transition=c}})}
function Oh(a,b,c){var d=Hg(),e=Ig(a),f={lane:e,action:c,eagerReducer:null,eagerState:null,next:null},g=b.pending;null===g?f.next=f:(f.next=g.next,g.next=f);b.pending=f;g=a.alternate;if(a===R||null!==g&&g===R)zh=yh=!0;else{if(0===a.lanes&&(null===g||0===g.lanes)&&(g=b.lastRenderedReducer,null!==g))try{var h=b.lastRenderedState,k=g(h,c);f.eagerReducer=g;f.eagerState=k;if(He(k,h))return}catch(l){}finally{}Jg(a,e,d)}}
var Gh={readContext:vg,useCallback:Ah,useContext:Ah,useEffect:Ah,useImperativeHandle:Ah,useLayoutEffect:Ah,useMemo:Ah,useReducer:Ah,useRef:Ah,useState:Ah,useDebugValue:Ah,useDeferredValue:Ah,useTransition:Ah,useMutableSource:Ah,useOpaqueIdentifier:Ah,unstable_isNewReconciler:!1},Dh={readContext:vg,useCallback:function(a,b){Hh().memoizedState=[a,void 0===b?null:b];return a},useContext:vg,useEffect:Wh,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Uh(4,2,Zh.bind(null,
b,a),c)},useLayoutEffect:function(a,b){return Uh(4,2,a,b)},useMemo:function(a,b){var c=Hh();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=Hh();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a=d.queue={pending:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};a=a.dispatch=Oh.bind(null,R,a);return[d.memoizedState,a]},useRef:Sh,useState:Qh,useDebugValue:ai,useDeferredValue:function(a){var b=Qh(a),c=b[0],d=b[1];Wh(function(){var b=wh.transition;
wh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Qh(!1),b=a[0];a=di.bind(null,a[1]);Sh(a);return[a,b]},useMutableSource:function(a,b,c){var d=Hh();d.memoizedState={refs:{getSnapshot:b,setSnapshot:null},source:a,subscribe:c};return Nh(d,a,b,c)},useOpaqueIdentifier:function(){if(lh){var a=!1,b=uf(function(){a||(a=!0,c("r:"+(tf++).toString(36)));throw Error(y(355));}),c=Qh(b)[1];0===(R.mode&2)&&(R.flags|=516,Rh(5,function(){c("r:"+(tf++).toString(36))},
void 0,null));return b}b="r:"+(tf++).toString(36);Qh(b);return b},unstable_isNewReconciler:!1},Eh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Kh,useRef:Th,useState:function(){return Kh(Jh)},useDebugValue:ai,useDeferredValue:function(a){var b=Kh(Jh),c=b[0],d=b[1];Xh(function(){var b=wh.transition;wh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Kh(Jh)[0];return[Th().current,
a]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Kh(Jh)[0]},unstable_isNewReconciler:!1},Fh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Lh,useRef:Th,useState:function(){return Lh(Jh)},useDebugValue:ai,useDeferredValue:function(a){var b=Lh(Jh),c=b[0],d=b[1];Xh(function(){var b=wh.transition;wh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Lh(Jh)[0];return[Th().current,
a]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Lh(Jh)[0]},unstable_isNewReconciler:!1},ei=ra.ReactCurrentOwner,ug=!1;function fi(a,b,c,d){b.child=null===a?Zg(b,null,c,d):Yg(b,a.child,c,d)}function gi(a,b,c,d,e){c=c.render;var f=b.ref;tg(b,e);d=Ch(a,b,c,d,f,e);if(null!==a&&!ug)return b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,hi(a,b,e);b.flags|=1;fi(a,b,d,e);return b.child}
function ii(a,b,c,d,e,f){if(null===a){var g=c.type;if("function"===typeof g&&!ji(g)&&void 0===g.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=g,ki(a,b,g,d,e,f);a=Vg(c.type,null,d,b,b.mode,f);a.ref=b.ref;a.return=b;return b.child=a}g=a.child;if(0===(e&f)&&(e=g.memoizedProps,c=c.compare,c=null!==c?c:Je,c(e,d)&&a.ref===b.ref))return hi(a,b,f);b.flags|=1;a=Tg(g,d);a.ref=b.ref;a.return=b;return b.child=a}
function ki(a,b,c,d,e,f){if(null!==a&&Je(a.memoizedProps,d)&&a.ref===b.ref)if(ug=!1,0!==(f&e))0!==(a.flags&16384)&&(ug=!0);else return b.lanes=a.lanes,hi(a,b,f);return li(a,b,c,d,f)}
function mi(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if("hidden"===d.mode||"unstable-defer-without-hiding"===d.mode)if(0===(b.mode&4))b.memoizedState={baseLanes:0},ni(b,c);else if(0!==(c&1073741824))b.memoizedState={baseLanes:0},ni(b,null!==f?f.baseLanes:c);else return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a},ni(b,a),null;else null!==f?(d=f.baseLanes|c,b.memoizedState=null):d=c,ni(b,d);fi(a,b,e,c);return b.child}
function oi(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=128}function li(a,b,c,d,e){var f=Ff(c)?Df:M.current;f=Ef(b,f);tg(b,e);c=Ch(a,b,c,d,f,e);if(null!==a&&!ug)return b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,hi(a,b,e);b.flags|=1;fi(a,b,c,e);return b.child}
function pi(a,b,c,d,e){if(Ff(c)){var f=!0;Jf(b)}else f=!1;tg(b,e);if(null===b.stateNode)null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),Mg(b,c,d),Og(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;"object"===typeof l&&null!==l?l=vg(l):(l=Ff(c)?Df:M.current,l=Ef(b,l));var n=c.getDerivedStateFromProps,A="function"===typeof n||"function"===typeof g.getSnapshotBeforeUpdate;A||"function"!==typeof g.UNSAFE_componentWillReceiveProps&&
"function"!==typeof g.componentWillReceiveProps||(h!==d||k!==l)&&Ng(b,g,d,l);wg=!1;var p=b.memoizedState;g.state=p;Cg(b,d,g,e);k=b.memoizedState;h!==d||p!==k||N.current||wg?("function"===typeof n&&(Gg(b,c,n,d),k=b.memoizedState),(h=wg||Lg(b,c,h,d,p,k,l))?(A||"function"!==typeof g.UNSAFE_componentWillMount&&"function"!==typeof g.componentWillMount||("function"===typeof g.componentWillMount&&g.componentWillMount(),"function"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),"function"===
typeof g.componentDidMount&&(b.flags|=4)):("function"===typeof g.componentDidMount&&(b.flags|=4),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):("function"===typeof g.componentDidMount&&(b.flags|=4),d=!1)}else{g=b.stateNode;yg(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:lg(b.type,h);g.props=l;A=b.pendingProps;p=g.context;k=c.contextType;"object"===typeof k&&null!==k?k=vg(k):(k=Ff(c)?Df:M.current,k=Ef(b,k));var C=c.getDerivedStateFromProps;(n="function"===typeof C||
"function"===typeof g.getSnapshotBeforeUpdate)||"function"!==typeof g.UNSAFE_componentWillReceiveProps&&"function"!==typeof g.componentWillReceiveProps||(h!==A||p!==k)&&Ng(b,g,d,k);wg=!1;p=b.memoizedState;g.state=p;Cg(b,d,g,e);var x=b.memoizedState;h!==A||p!==x||N.current||wg?("function"===typeof C&&(Gg(b,c,C,d),x=b.memoizedState),(l=wg||Lg(b,c,l,d,p,x,k))?(n||"function"!==typeof g.UNSAFE_componentWillUpdate&&"function"!==typeof g.componentWillUpdate||("function"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,
x,k),"function"===typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(d,x,k)),"function"===typeof g.componentDidUpdate&&(b.flags|=4),"function"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=256)):("function"!==typeof g.componentDidUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),"function"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),b.memoizedProps=d,b.memoizedState=x),g.props=d,g.state=x,g.context=k,d=l):("function"!==typeof g.componentDidUpdate||
h===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),"function"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),d=!1)}return qi(a,b,c,d,f,e)}
function qi(a,b,c,d,e,f){oi(a,b);var g=0!==(b.flags&64);if(!d&&!g)return e&&Kf(b,c,!1),hi(a,b,f);d=b.stateNode;ei.current=b;var h=g&&"function"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Yg(b,a.child,null,f),b.child=Yg(b,null,h,f)):fi(a,b,h,f);b.memoizedState=d.state;e&&Kf(b,c,!0);return b.child}function ri(a){var b=a.stateNode;b.pendingContext?Hf(a,b.pendingContext,b.pendingContext!==b.context):b.context&&Hf(a,b.context,!1);eh(a,b.containerInfo)}
var si={dehydrated:null,retryLane:0};
function ti(a,b,c){var d=b.pendingProps,e=P.current,f=!1,g;(g=0!==(b.flags&64))||(g=null!==a&&null===a.memoizedState?!1:0!==(e&2));g?(f=!0,b.flags&=-65):null!==a&&null===a.memoizedState||void 0===d.fallback||!0===d.unstable_avoidThisFallback||(e|=1);I(P,e&1);if(null===a){void 0!==d.fallback&&ph(b);a=d.children;e=d.fallback;if(f)return a=ui(b,a,e,c),b.child.memoizedState={baseLanes:c},b.memoizedState=si,a;if("number"===typeof d.unstable_expectedLoadTime)return a=ui(b,a,e,c),b.child.memoizedState={baseLanes:c},
b.memoizedState=si,b.lanes=33554432,a;c=vi({mode:"visible",children:a},b.mode,c,null);c.return=b;return b.child=c}if(null!==a.memoizedState){if(f)return d=wi(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=si,d;c=xi(a,b,d.children,c);b.memoizedState=null;return c}if(f)return d=wi(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:
{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=si,d;c=xi(a,b,d.children,c);b.memoizedState=null;return c}function ui(a,b,c,d){var e=a.mode,f=a.child;b={mode:"hidden",children:b};0===(e&2)&&null!==f?(f.childLanes=0,f.pendingProps=b):f=vi(b,e,0,null);c=Xg(c,e,d,null);f.return=a;c.return=a;f.sibling=c;a.child=f;return c}
function xi(a,b,c,d){var e=a.child;a=e.sibling;c=Tg(e,{mode:"visible",children:c});0===(b.mode&2)&&(c.lanes=d);c.return=b;c.sibling=null;null!==a&&(a.nextEffect=null,a.flags=8,b.firstEffect=b.lastEffect=a);return b.child=c}
function wi(a,b,c,d,e){var f=b.mode,g=a.child;a=g.sibling;var h={mode:"hidden",children:c};0===(f&2)&&b.child!==g?(c=b.child,c.childLanes=0,c.pendingProps=h,g=c.lastEffect,null!==g?(b.firstEffect=c.firstEffect,b.lastEffect=g,g.nextEffect=null):b.firstEffect=b.lastEffect=null):c=Tg(g,h);null!==a?d=Tg(a,d):(d=Xg(d,f,e,null),d.flags|=2);d.return=b;c.return=b;c.sibling=d;b.child=c;return d}function yi(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);sg(a.return,b)}
function zi(a,b,c,d,e,f){var g=a.memoizedState;null===g?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e,lastEffect:f}:(g.isBackwards=b,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=c,g.tailMode=e,g.lastEffect=f)}
function Ai(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;fi(a,b,d.children,c);d=P.current;if(0!==(d&2))d=d&1|2,b.flags|=64;else{if(null!==a&&0!==(a.flags&64))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&yi(a,c);else if(19===a.tag)yi(a,c);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}I(P,d);if(0===(b.mode&2))b.memoizedState=
null;else switch(e){case "forwards":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===ih(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);zi(b,!1,e,c,f,b.lastEffect);break;case "backwards":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===ih(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}zi(b,!0,c,null,f,b.lastEffect);break;case "together":zi(b,!1,null,null,void 0,b.lastEffect);break;default:b.memoizedState=null}return b.child}
function hi(a,b,c){null!==a&&(b.dependencies=a.dependencies);Dg|=b.lanes;if(0!==(c&b.childLanes)){if(null!==a&&b.child!==a.child)throw Error(y(153));if(null!==b.child){a=b.child;c=Tg(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Tg(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}return null}var Bi,Ci,Di,Ei;
Bi=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Ci=function(){};
Di=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;dh(ah.current);var f=null;switch(c){case "input":e=Ya(a,e);d=Ya(a,d);f=[];break;case "option":e=eb(a,e);d=eb(a,d);f=[];break;case "select":e=m({},e,{value:void 0});d=m({},d,{value:void 0});f=[];break;case "textarea":e=gb(a,e);d=gb(a,d);f=[];break;default:"function"!==typeof e.onClick&&"function"===typeof d.onClick&&(a.onclick=jf)}vb(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if("style"===
l){var h=e[l];for(g in h)h.hasOwnProperty(g)&&(c||(c={}),c[g]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(ca.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if("style"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]="");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||
(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,c)),c=k;else"dangerouslySetInnerHTML"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):"children"===l?"string"!==typeof k&&"number"!==typeof k||(f=f||[]).push(l,""+k):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(ca.hasOwnProperty(l)?(null!=k&&"onScroll"===l&&G("scroll",a),f||h===k||(f=[])):"object"===typeof k&&null!==k&&k.$$typeof===Ga?k.toString():(f=f||[]).push(l,k))}c&&(f=f||[]).push("style",
c);var l=f;if(b.updateQueue=l)b.flags|=4}};Ei=function(a,b,c,d){c!==d&&(b.flags|=4)};function Fi(a,b){if(!lh)switch(a.tailMode){case "hidden":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case "collapsed":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}
function Gi(a,b,c){var d=b.pendingProps;switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ff(b.type)&&Gf(),null;case 3:fh();H(N);H(M);uh();d=b.stateNode;d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)rh(b)?b.flags|=4:d.hydrate||(b.flags|=256);Ci(b);return null;case 5:hh(b);var e=dh(ch.current);c=b.type;if(null!==a&&null!=b.stateNode)Di(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=128);else{if(!d){if(null===
b.stateNode)throw Error(y(166));return null}a=dh(ah.current);if(rh(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[wf]=b;d[xf]=f;switch(c){case "dialog":G("cancel",d);G("close",d);break;case "iframe":case "object":case "embed":G("load",d);break;case "video":case "audio":for(a=0;a<Xe.length;a++)G(Xe[a],d);break;case "source":G("error",d);break;case "img":case "image":case "link":G("error",d);G("load",d);break;case "details":G("toggle",d);break;case "input":Za(d,f);G("invalid",d);break;case "select":d._wrapperState=
{wasMultiple:!!f.multiple};G("invalid",d);break;case "textarea":hb(d,f),G("invalid",d)}vb(c,f);a=null;for(var g in f)f.hasOwnProperty(g)&&(e=f[g],"children"===g?"string"===typeof e?d.textContent!==e&&(a=["children",e]):"number"===typeof e&&d.textContent!==""+e&&(a=["children",""+e]):ca.hasOwnProperty(g)&&null!=e&&"onScroll"===g&&G("scroll",d));switch(c){case "input":Va(d);cb(d,f,!0);break;case "textarea":Va(d);jb(d);break;case "select":case "option":break;default:"function"===typeof f.onClick&&(d.onclick=
jf)}d=a;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;a===kb.html&&(a=lb(c));a===kb.html?"script"===c?(a=g.createElement("div"),a.innerHTML="<script>\x3c/script>",a=a.removeChild(a.firstChild)):"string"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),"select"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[wf]=b;a[xf]=d;Bi(a,b,!1,!1);b.stateNode=a;g=wb(c,d);switch(c){case "dialog":G("cancel",a);G("close",a);
e=d;break;case "iframe":case "object":case "embed":G("load",a);e=d;break;case "video":case "audio":for(e=0;e<Xe.length;e++)G(Xe[e],a);e=d;break;case "source":G("error",a);e=d;break;case "img":case "image":case "link":G("error",a);G("load",a);e=d;break;case "details":G("toggle",a);e=d;break;case "input":Za(a,d);e=Ya(a,d);G("invalid",a);break;case "option":e=eb(a,d);break;case "select":a._wrapperState={wasMultiple:!!d.multiple};e=m({},d,{value:void 0});G("invalid",a);break;case "textarea":hb(a,d);e=
gb(a,d);G("invalid",a);break;default:e=d}vb(c,e);var h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];"style"===f?tb(a,k):"dangerouslySetInnerHTML"===f?(k=k?k.__html:void 0,null!=k&&ob(a,k)):"children"===f?"string"===typeof k?("textarea"!==c||""!==k)&&pb(a,k):"number"===typeof k&&pb(a,""+k):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(ca.hasOwnProperty(f)?null!=k&&"onScroll"===f&&G("scroll",a):null!=k&&qa(a,f,k,g))}switch(c){case "input":Va(a);cb(a,d,!1);
break;case "textarea":Va(a);jb(a);break;case "option":null!=d.value&&a.setAttribute("value",""+Sa(d.value));break;case "select":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,!0);break;default:"function"===typeof e.onClick&&(a.onclick=jf)}mf(c,d)&&(b.flags|=4)}null!==b.ref&&(b.flags|=128)}return null;case 6:if(a&&null!=b.stateNode)Ei(a,b,a.memoizedProps,d);else{if("string"!==typeof d&&null===b.stateNode)throw Error(y(166));
c=dh(ch.current);dh(ah.current);rh(b)?(d=b.stateNode,c=b.memoizedProps,d[wf]=b,d.nodeValue!==c&&(b.flags|=4)):(d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[wf]=b,b.stateNode=d)}return null;case 13:H(P);d=b.memoizedState;if(0!==(b.flags&64))return b.lanes=c,b;d=null!==d;c=!1;null===a?void 0!==b.memoizedProps.fallback&&rh(b):c=null!==a.memoizedState;if(d&&!c&&0!==(b.mode&2))if(null===a&&!0!==b.memoizedProps.unstable_avoidThisFallback||0!==(P.current&1))0===V&&(V=3);else{if(0===V||3===V)V=
4;null===U||0===(Dg&134217727)&&0===(Hi&134217727)||Ii(U,W)}if(d||c)b.flags|=4;return null;case 4:return fh(),Ci(b),null===a&&cf(b.stateNode.containerInfo),null;case 10:return rg(b),null;case 17:return Ff(b.type)&&Gf(),null;case 19:H(P);d=b.memoizedState;if(null===d)return null;f=0!==(b.flags&64);g=d.rendering;if(null===g)if(f)Fi(d,!1);else{if(0!==V||null!==a&&0!==(a.flags&64))for(a=b.child;null!==a;){g=ih(a);if(null!==g){b.flags|=64;Fi(d,!1);f=g.updateQueue;null!==f&&(b.updateQueue=f,b.flags|=4);
null===d.lastEffect&&(b.firstEffect=null);b.lastEffect=d.lastEffect;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=2,f.nextEffect=null,f.firstEffect=null,f.lastEffect=null,g=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,
f.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;I(P,P.current&1|2);return b.child}a=a.sibling}null!==d.tail&&O()>Ji&&(b.flags|=64,f=!0,Fi(d,!1),b.lanes=33554432)}else{if(!f)if(a=ih(g),null!==a){if(b.flags|=64,f=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Fi(d,!0),null===d.tail&&"hidden"===d.tailMode&&!g.alternate&&!lh)return b=b.lastEffect=d.lastEffect,null!==b&&(b.nextEffect=null),null}else 2*O()-d.renderingStartTime>Ji&&1073741824!==c&&(b.flags|=
64,f=!0,Fi(d,!1),b.lanes=33554432);d.isBackwards?(g.sibling=b.child,b.child=g):(c=d.last,null!==c?c.sibling=g:b.child=g,d.last=g)}return null!==d.tail?(c=d.tail,d.rendering=c,d.tail=c.sibling,d.lastEffect=b.lastEffect,d.renderingStartTime=O(),c.sibling=null,b=P.current,I(P,f?b&1|2:b&1),c):null;case 23:case 24:return Ki(),null!==a&&null!==a.memoizedState!==(null!==b.memoizedState)&&"unstable-defer-without-hiding"!==d.mode&&(b.flags|=4),null}throw Error(y(156,b.tag));}
function Li(a){switch(a.tag){case 1:Ff(a.type)&&Gf();var b=a.flags;return b&4096?(a.flags=b&-4097|64,a):null;case 3:fh();H(N);H(M);uh();b=a.flags;if(0!==(b&64))throw Error(y(285));a.flags=b&-4097|64;return a;case 5:return hh(a),null;case 13:return H(P),b=a.flags,b&4096?(a.flags=b&-4097|64,a):null;case 19:return H(P),null;case 4:return fh(),null;case 10:return rg(a),null;case 23:case 24:return Ki(),null;default:return null}}
function Mi(a,b){try{var c="",d=b;do c+=Qa(d),d=d.return;while(d);var e=c}catch(f){e="\nError generating stack: "+f.message+"\n"+f.stack}return{value:a,source:b,stack:e}}function Ni(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Oi="function"===typeof WeakMap?WeakMap:Map;function Pi(a,b,c){c=zg(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Qi||(Qi=!0,Ri=d);Ni(a,b)};return c}
function Si(a,b,c){c=zg(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if("function"===typeof d){var e=b.value;c.payload=function(){Ni(a,b);return d(e)}}var f=a.stateNode;null!==f&&"function"===typeof f.componentDidCatch&&(c.callback=function(){"function"!==typeof d&&(null===Ti?Ti=new Set([this]):Ti.add(this),Ni(a,b));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:""})});return c}var Ui="function"===typeof WeakSet?WeakSet:Set;
function Vi(a){var b=a.ref;if(null!==b)if("function"===typeof b)try{b(null)}catch(c){Wi(a,c)}else b.current=null}function Xi(a,b){switch(b.tag){case 0:case 11:case 15:case 22:return;case 1:if(b.flags&256&&null!==a){var c=a.memoizedProps,d=a.memoizedState;a=b.stateNode;b=a.getSnapshotBeforeUpdate(b.elementType===b.type?c:lg(b.type,c),d);a.__reactInternalSnapshotBeforeUpdate=b}return;case 3:b.flags&256&&qf(b.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(y(163));}
function Yi(a,b,c){switch(c.tag){case 0:case 11:case 15:case 22:b=c.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){a=b=b.next;do{if(3===(a.tag&3)){var d=a.create;a.destroy=d()}a=a.next}while(a!==b)}b=c.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){a=b=b.next;do{var e=a;d=e.next;e=e.tag;0!==(e&4)&&0!==(e&1)&&(Zi(c,a),$i(c,a));a=d}while(a!==b)}return;case 1:a=c.stateNode;c.flags&4&&(null===b?a.componentDidMount():(d=c.elementType===c.type?b.memoizedProps:lg(c.type,b.memoizedProps),a.componentDidUpdate(d,
b.memoizedState,a.__reactInternalSnapshotBeforeUpdate)));b=c.updateQueue;null!==b&&Eg(c,b,a);return;case 3:b=c.updateQueue;if(null!==b){a=null;if(null!==c.child)switch(c.child.tag){case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}Eg(c,b,a)}return;case 5:a=c.stateNode;null===b&&c.flags&4&&mf(c.type,c.memoizedProps)&&a.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===c.memoizedState&&(c=c.alternate,null!==c&&(c=c.memoizedState,null!==c&&(c=c.dehydrated,null!==c&&Cc(c))));
return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(y(163));}
function aj(a,b){for(var c=a;;){if(5===c.tag){var d=c.stateNode;if(b)d=d.style,"function"===typeof d.setProperty?d.setProperty("display","none","important"):d.display="none";else{d=c.stateNode;var e=c.memoizedProps.style;e=void 0!==e&&null!==e&&e.hasOwnProperty("display")?e.display:null;d.style.display=sb("display",e)}}else if(6===c.tag)c.stateNode.nodeValue=b?"":c.memoizedProps;else if((23!==c.tag&&24!==c.tag||null===c.memoizedState||c===a)&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===
a)break;for(;null===c.sibling;){if(null===c.return||c.return===a)return;c=c.return}c.sibling.return=c.return;c=c.sibling}}
function bj(a,b){if(Mf&&"function"===typeof Mf.onCommitFiberUnmount)try{Mf.onCommitFiberUnmount(Lf,b)}catch(f){}switch(b.tag){case 0:case 11:case 14:case 15:case 22:a=b.updateQueue;if(null!==a&&(a=a.lastEffect,null!==a)){var c=a=a.next;do{var d=c,e=d.destroy;d=d.tag;if(void 0!==e)if(0!==(d&4))Zi(b,c);else{d=b;try{e()}catch(f){Wi(d,f)}}c=c.next}while(c!==a)}break;case 1:Vi(b);a=b.stateNode;if("function"===typeof a.componentWillUnmount)try{a.props=b.memoizedProps,a.state=b.memoizedState,a.componentWillUnmount()}catch(f){Wi(b,
f)}break;case 5:Vi(b);break;case 4:cj(a,b)}}function dj(a){a.alternate=null;a.child=null;a.dependencies=null;a.firstEffect=null;a.lastEffect=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.return=null;a.updateQueue=null}function ej(a){return 5===a.tag||3===a.tag||4===a.tag}
function fj(a){a:{for(var b=a.return;null!==b;){if(ej(b))break a;b=b.return}throw Error(y(160));}var c=b;b=c.stateNode;switch(c.tag){case 5:var d=!1;break;case 3:b=b.containerInfo;d=!0;break;case 4:b=b.containerInfo;d=!0;break;default:throw Error(y(161));}c.flags&16&&(pb(b,""),c.flags&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c.return||ej(c.return)){c=null;break a}c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.flags&2)continue b;if(null===
c.child||4===c.tag)continue b;else c.child.return=c,c=c.child}if(!(c.flags&2)){c=c.stateNode;break a}}d?gj(a,c,b):hj(a,c,b)}
function gj(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=jf));else if(4!==d&&(a=a.child,null!==a))for(gj(a,b,c),a=a.sibling;null!==a;)gj(a,b,c),a=a.sibling}
function hj(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(hj(a,b,c),a=a.sibling;null!==a;)hj(a,b,c),a=a.sibling}
function cj(a,b){for(var c=b,d=!1,e,f;;){if(!d){d=c.return;a:for(;;){if(null===d)throw Error(y(160));e=d.stateNode;switch(d.tag){case 5:f=!1;break a;case 3:e=e.containerInfo;f=!0;break a;case 4:e=e.containerInfo;f=!0;break a}d=d.return}d=!0}if(5===c.tag||6===c.tag){a:for(var g=a,h=c,k=h;;)if(bj(g,k),null!==k.child&&4!==k.tag)k.child.return=k,k=k.child;else{if(k===h)break a;for(;null===k.sibling;){if(null===k.return||k.return===h)break a;k=k.return}k.sibling.return=k.return;k=k.sibling}f?(g=e,h=c.stateNode,
8===g.nodeType?g.parentNode.removeChild(h):g.removeChild(h)):e.removeChild(c.stateNode)}else if(4===c.tag){if(null!==c.child){e=c.stateNode.containerInfo;f=!0;c.child.return=c;c=c.child;continue}}else if(bj(a,c),null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return;4===c.tag&&(d=!1)}c.sibling.return=c.return;c=c.sibling}}
function ij(a,b){switch(b.tag){case 0:case 11:case 14:case 15:case 22:var c=b.updateQueue;c=null!==c?c.lastEffect:null;if(null!==c){var d=c=c.next;do 3===(d.tag&3)&&(a=d.destroy,d.destroy=void 0,void 0!==a&&a()),d=d.next;while(d!==c)}return;case 1:return;case 5:c=b.stateNode;if(null!=c){d=b.memoizedProps;var e=null!==a?a.memoizedProps:d;a=b.type;var f=b.updateQueue;b.updateQueue=null;if(null!==f){c[xf]=d;"input"===a&&"radio"===d.type&&null!=d.name&&$a(c,d);wb(a,e);b=wb(a,d);for(e=0;e<f.length;e+=
2){var g=f[e],h=f[e+1];"style"===g?tb(c,h):"dangerouslySetInnerHTML"===g?ob(c,h):"children"===g?pb(c,h):qa(c,g,h,b)}switch(a){case "input":ab(c,d);break;case "textarea":ib(c,d);break;case "select":a=c._wrapperState.wasMultiple,c._wrapperState.wasMultiple=!!d.multiple,f=d.value,null!=f?fb(c,!!d.multiple,f,!1):a!==!!d.multiple&&(null!=d.defaultValue?fb(c,!!d.multiple,d.defaultValue,!0):fb(c,!!d.multiple,d.multiple?[]:"",!1))}}}return;case 6:if(null===b.stateNode)throw Error(y(162));b.stateNode.nodeValue=
b.memoizedProps;return;case 3:c=b.stateNode;c.hydrate&&(c.hydrate=!1,Cc(c.containerInfo));return;case 12:return;case 13:null!==b.memoizedState&&(jj=O(),aj(b.child,!0));kj(b);return;case 19:kj(b);return;case 17:return;case 23:case 24:aj(b,null!==b.memoizedState);return}throw Error(y(163));}function kj(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Ui);b.forEach(function(b){var d=lj.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}
function mj(a,b){return null!==a&&(a=a.memoizedState,null===a||null!==a.dehydrated)?(b=b.memoizedState,null!==b&&null===b.dehydrated):!1}var nj=Math.ceil,oj=ra.ReactCurrentDispatcher,pj=ra.ReactCurrentOwner,X=0,U=null,Y=null,W=0,qj=0,rj=Bf(0),V=0,sj=null,tj=0,Dg=0,Hi=0,uj=0,vj=null,jj=0,Ji=Infinity;function wj(){Ji=O()+500}var Z=null,Qi=!1,Ri=null,Ti=null,xj=!1,yj=null,zj=90,Aj=[],Bj=[],Cj=null,Dj=0,Ej=null,Fj=-1,Gj=0,Hj=0,Ij=null,Jj=!1;function Hg(){return 0!==(X&48)?O():-1!==Fj?Fj:Fj=O()}
function Ig(a){a=a.mode;if(0===(a&2))return 1;if(0===(a&4))return 99===eg()?1:2;0===Gj&&(Gj=tj);if(0!==kg.transition){0!==Hj&&(Hj=null!==vj?vj.pendingLanes:0);a=Gj;var b=4186112&~Hj;b&=-b;0===b&&(a=4186112&~a,b=a&-a,0===b&&(b=8192));return b}a=eg();0!==(X&4)&&98===a?a=Xc(12,Gj):(a=Sc(a),a=Xc(a,Gj));return a}
function Jg(a,b,c){if(50<Dj)throw Dj=0,Ej=null,Error(y(185));a=Kj(a,b);if(null===a)return null;$c(a,b,c);a===U&&(Hi|=b,4===V&&Ii(a,W));var d=eg();1===b?0!==(X&8)&&0===(X&48)?Lj(a):(Mj(a,c),0===X&&(wj(),ig())):(0===(X&4)||98!==d&&99!==d||(null===Cj?Cj=new Set([a]):Cj.add(a)),Mj(a,c));vj=a}function Kj(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}
function Mj(a,b){for(var c=a.callbackNode,d=a.suspendedLanes,e=a.pingedLanes,f=a.expirationTimes,g=a.pendingLanes;0<g;){var h=31-Vc(g),k=1<<h,l=f[h];if(-1===l){if(0===(k&d)||0!==(k&e)){l=b;Rc(k);var n=F;f[h]=10<=n?l+250:6<=n?l+5E3:-1}}else l<=b&&(a.expiredLanes|=k);g&=~k}d=Uc(a,a===U?W:0);b=F;if(0===d)null!==c&&(c!==Zf&&Pf(c),a.callbackNode=null,a.callbackPriority=0);else{if(null!==c){if(a.callbackPriority===b)return;c!==Zf&&Pf(c)}15===b?(c=Lj.bind(null,a),null===ag?(ag=[c],bg=Of(Uf,jg)):ag.push(c),
c=Zf):14===b?c=hg(99,Lj.bind(null,a)):(c=Tc(b),c=hg(c,Nj.bind(null,a)));a.callbackPriority=b;a.callbackNode=c}}
function Nj(a){Fj=-1;Hj=Gj=0;if(0!==(X&48))throw Error(y(327));var b=a.callbackNode;if(Oj()&&a.callbackNode!==b)return null;var c=Uc(a,a===U?W:0);if(0===c)return null;var d=c;var e=X;X|=16;var f=Pj();if(U!==a||W!==d)wj(),Qj(a,d);do try{Rj();break}catch(h){Sj(a,h)}while(1);qg();oj.current=f;X=e;null!==Y?d=0:(U=null,W=0,d=V);if(0!==(tj&Hi))Qj(a,0);else if(0!==d){2===d&&(X|=64,a.hydrate&&(a.hydrate=!1,qf(a.containerInfo)),c=Wc(a),0!==c&&(d=Tj(a,c)));if(1===d)throw b=sj,Qj(a,0),Ii(a,c),Mj(a,O()),b;a.finishedWork=
a.current.alternate;a.finishedLanes=c;switch(d){case 0:case 1:throw Error(y(345));case 2:Uj(a);break;case 3:Ii(a,c);if((c&62914560)===c&&(d=jj+500-O(),10<d)){if(0!==Uc(a,0))break;e=a.suspendedLanes;if((e&c)!==c){Hg();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=of(Uj.bind(null,a),d);break}Uj(a);break;case 4:Ii(a,c);if((c&4186112)===c)break;d=a.eventTimes;for(e=-1;0<c;){var g=31-Vc(c);f=1<<g;g=d[g];g>e&&(e=g);c&=~f}c=e;c=O()-c;c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3E3>c?3E3:4320>
c?4320:1960*nj(c/1960))-c;if(10<c){a.timeoutHandle=of(Uj.bind(null,a),c);break}Uj(a);break;case 5:Uj(a);break;default:throw Error(y(329));}}Mj(a,O());return a.callbackNode===b?Nj.bind(null,a):null}function Ii(a,b){b&=~uj;b&=~Hi;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-Vc(b),d=1<<c;a[c]=-1;b&=~d}}
function Lj(a){if(0!==(X&48))throw Error(y(327));Oj();if(a===U&&0!==(a.expiredLanes&W)){var b=W;var c=Tj(a,b);0!==(tj&Hi)&&(b=Uc(a,b),c=Tj(a,b))}else b=Uc(a,0),c=Tj(a,b);0!==a.tag&&2===c&&(X|=64,a.hydrate&&(a.hydrate=!1,qf(a.containerInfo)),b=Wc(a),0!==b&&(c=Tj(a,b)));if(1===c)throw c=sj,Qj(a,0),Ii(a,b),Mj(a,O()),c;a.finishedWork=a.current.alternate;a.finishedLanes=b;Uj(a);Mj(a,O());return null}
function Vj(){if(null!==Cj){var a=Cj;Cj=null;a.forEach(function(a){a.expiredLanes|=24&a.pendingLanes;Mj(a,O())})}ig()}function Wj(a,b){var c=X;X|=1;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}}function Xj(a,b){var c=X;X&=-2;X|=8;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}}function ni(a,b){I(rj,qj);qj|=b;tj|=b}function Ki(){qj=rj.current;H(rj)}
function Qj(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,pf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&Gf();break;case 3:fh();H(N);H(M);uh();break;case 5:hh(d);break;case 4:fh();break;case 13:H(P);break;case 19:H(P);break;case 10:rg(d);break;case 23:case 24:Ki()}c=c.return}U=a;Y=Tg(a.current,null);W=qj=tj=b;V=0;sj=null;uj=Hi=Dg=0}
function Sj(a,b){do{var c=Y;try{qg();vh.current=Gh;if(yh){for(var d=R.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}yh=!1}xh=0;T=S=R=null;zh=!1;pj.current=null;if(null===c||null===c.return){V=1;sj=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=W;h.flags|=2048;h.firstEffect=h.lastEffect=null;if(null!==k&&"object"===typeof k&&"function"===typeof k.then){var l=k;if(0===(h.mode&2)){var n=h.alternate;n?(h.updateQueue=n.updateQueue,h.memoizedState=n.memoizedState,h.lanes=n.lanes):
(h.updateQueue=null,h.memoizedState=null)}var A=0!==(P.current&1),p=g;do{var C;if(C=13===p.tag){var x=p.memoizedState;if(null!==x)C=null!==x.dehydrated?!0:!1;else{var w=p.memoizedProps;C=void 0===w.fallback?!1:!0!==w.unstable_avoidThisFallback?!0:A?!1:!0}}if(C){var z=p.updateQueue;if(null===z){var u=new Set;u.add(l);p.updateQueue=u}else z.add(l);if(0===(p.mode&2)){p.flags|=64;h.flags|=16384;h.flags&=-2981;if(1===h.tag)if(null===h.alternate)h.tag=17;else{var t=zg(-1,1);t.tag=2;Ag(h,t)}h.lanes|=1;break a}k=
void 0;h=b;var q=f.pingCache;null===q?(q=f.pingCache=new Oi,k=new Set,q.set(l,k)):(k=q.get(l),void 0===k&&(k=new Set,q.set(l,k)));if(!k.has(h)){k.add(h);var v=Yj.bind(null,f,l,h);l.then(v,v)}p.flags|=4096;p.lanes=b;break a}p=p.return}while(null!==p);k=Error((Ra(h.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==V&&(V=2);k=Mi(k,h);p=
g;do{switch(p.tag){case 3:f=k;p.flags|=4096;b&=-b;p.lanes|=b;var J=Pi(p,f,b);Bg(p,J);break a;case 1:f=k;var K=p.type,Q=p.stateNode;if(0===(p.flags&64)&&("function"===typeof K.getDerivedStateFromError||null!==Q&&"function"===typeof Q.componentDidCatch&&(null===Ti||!Ti.has(Q)))){p.flags|=4096;b&=-b;p.lanes|=b;var L=Si(p,f,b);Bg(p,L);break a}}p=p.return}while(null!==p)}Zj(c)}catch(va){b=va;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}
function Pj(){var a=oj.current;oj.current=Gh;return null===a?Gh:a}function Tj(a,b){var c=X;X|=16;var d=Pj();U===a&&W===b||Qj(a,b);do try{ak();break}catch(e){Sj(a,e)}while(1);qg();X=c;oj.current=d;if(null!==Y)throw Error(y(261));U=null;W=0;return V}function ak(){for(;null!==Y;)bk(Y)}function Rj(){for(;null!==Y&&!Qf();)bk(Y)}function bk(a){var b=ck(a.alternate,a,qj);a.memoizedProps=a.pendingProps;null===b?Zj(a):Y=b;pj.current=null}
function Zj(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&2048)){c=Gi(c,b,qj);if(null!==c){Y=c;return}c=b;if(24!==c.tag&&23!==c.tag||null===c.memoizedState||0!==(qj&1073741824)||0===(c.mode&4)){for(var d=0,e=c.child;null!==e;)d|=e.lanes|e.childLanes,e=e.sibling;c.childLanes=d}null!==a&&0===(a.flags&2048)&&(null===a.firstEffect&&(a.firstEffect=b.firstEffect),null!==b.lastEffect&&(null!==a.lastEffect&&(a.lastEffect.nextEffect=b.firstEffect),a.lastEffect=b.lastEffect),1<b.flags&&(null!==
a.lastEffect?a.lastEffect.nextEffect=b:a.firstEffect=b,a.lastEffect=b))}else{c=Li(b);if(null!==c){c.flags&=2047;Y=c;return}null!==a&&(a.firstEffect=a.lastEffect=null,a.flags|=2048)}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===V&&(V=5)}function Uj(a){var b=eg();gg(99,dk.bind(null,a,b));return null}
function dk(a,b){do Oj();while(null!==yj);if(0!==(X&48))throw Error(y(327));var c=a.finishedWork;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(y(177));a.callbackNode=null;var d=c.lanes|c.childLanes,e=d,f=a.pendingLanes&~e;a.pendingLanes=e;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=e;a.mutableReadLanes&=e;a.entangledLanes&=e;e=a.entanglements;for(var g=a.eventTimes,h=a.expirationTimes;0<f;){var k=31-Vc(f),l=1<<k;e[k]=0;g[k]=-1;h[k]=-1;f&=~l}null!==
Cj&&0===(d&24)&&Cj.has(a)&&Cj.delete(a);a===U&&(Y=U=null,W=0);1<c.flags?null!==c.lastEffect?(c.lastEffect.nextEffect=c,d=c.firstEffect):d=c:d=c.firstEffect;if(null!==d){e=X;X|=32;pj.current=null;kf=fd;g=Ne();if(Oe(g)){if("selectionStart"in g)h={start:g.selectionStart,end:g.selectionEnd};else a:if(h=(h=g.ownerDocument)&&h.defaultView||window,(l=h.getSelection&&h.getSelection())&&0!==l.rangeCount){h=l.anchorNode;f=l.anchorOffset;k=l.focusNode;l=l.focusOffset;try{h.nodeType,k.nodeType}catch(va){h=null;
break a}var n=0,A=-1,p=-1,C=0,x=0,w=g,z=null;b:for(;;){for(var u;;){w!==h||0!==f&&3!==w.nodeType||(A=n+f);w!==k||0!==l&&3!==w.nodeType||(p=n+l);3===w.nodeType&&(n+=w.nodeValue.length);if(null===(u=w.firstChild))break;z=w;w=u}for(;;){if(w===g)break b;z===h&&++C===f&&(A=n);z===k&&++x===l&&(p=n);if(null!==(u=w.nextSibling))break;w=z;z=w.parentNode}w=u}h=-1===A||-1===p?null:{start:A,end:p}}else h=null;h=h||{start:0,end:0}}else h=null;lf={focusedElem:g,selectionRange:h};fd=!1;Ij=null;Jj=!1;Z=d;do try{ek()}catch(va){if(null===
Z)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);Ij=null;Z=d;do try{for(g=a;null!==Z;){var t=Z.flags;t&16&&pb(Z.stateNode,"");if(t&128){var q=Z.alternate;if(null!==q){var v=q.ref;null!==v&&("function"===typeof v?v(null):v.current=null)}}switch(t&1038){case 2:fj(Z);Z.flags&=-3;break;case 6:fj(Z);Z.flags&=-3;ij(Z.alternate,Z);break;case 1024:Z.flags&=-1025;break;case 1028:Z.flags&=-1025;ij(Z.alternate,Z);break;case 4:ij(Z.alternate,Z);break;case 8:h=Z;cj(g,h);var J=h.alternate;dj(h);null!==
J&&dj(J)}Z=Z.nextEffect}}catch(va){if(null===Z)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);v=lf;q=Ne();t=v.focusedElem;g=v.selectionRange;if(q!==t&&t&&t.ownerDocument&&Me(t.ownerDocument.documentElement,t)){null!==g&&Oe(t)&&(q=g.start,v=g.end,void 0===v&&(v=q),"selectionStart"in t?(t.selectionStart=q,t.selectionEnd=Math.min(v,t.value.length)):(v=(q=t.ownerDocument||document)&&q.defaultView||window,v.getSelection&&(v=v.getSelection(),h=t.textContent.length,J=Math.min(g.start,h),g=void 0===
g.end?J:Math.min(g.end,h),!v.extend&&J>g&&(h=g,g=J,J=h),h=Le(t,J),f=Le(t,g),h&&f&&(1!==v.rangeCount||v.anchorNode!==h.node||v.anchorOffset!==h.offset||v.focusNode!==f.node||v.focusOffset!==f.offset)&&(q=q.createRange(),q.setStart(h.node,h.offset),v.removeAllRanges(),J>g?(v.addRange(q),v.extend(f.node,f.offset)):(q.setEnd(f.node,f.offset),v.addRange(q))))));q=[];for(v=t;v=v.parentNode;)1===v.nodeType&&q.push({element:v,left:v.scrollLeft,top:v.scrollTop});"function"===typeof t.focus&&t.focus();for(t=
0;t<q.length;t++)v=q[t],v.element.scrollLeft=v.left,v.element.scrollTop=v.top}fd=!!kf;lf=kf=null;a.current=c;Z=d;do try{for(t=a;null!==Z;){var K=Z.flags;K&36&&Yi(t,Z.alternate,Z);if(K&128){q=void 0;var Q=Z.ref;if(null!==Q){var L=Z.stateNode;switch(Z.tag){case 5:q=L;break;default:q=L}"function"===typeof Q?Q(q):Q.current=q}}Z=Z.nextEffect}}catch(va){if(null===Z)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);Z=null;$f();X=e}else a.current=c;if(xj)xj=!1,yj=a,zj=b;else for(Z=d;null!==Z;)b=
Z.nextEffect,Z.nextEffect=null,Z.flags&8&&(K=Z,K.sibling=null,K.stateNode=null),Z=b;d=a.pendingLanes;0===d&&(Ti=null);1===d?a===Ej?Dj++:(Dj=0,Ej=a):Dj=0;c=c.stateNode;if(Mf&&"function"===typeof Mf.onCommitFiberRoot)try{Mf.onCommitFiberRoot(Lf,c,void 0,64===(c.current.flags&64))}catch(va){}Mj(a,O());if(Qi)throw Qi=!1,a=Ri,Ri=null,a;if(0!==(X&8))return null;ig();return null}
function ek(){for(;null!==Z;){var a=Z.alternate;Jj||null===Ij||(0!==(Z.flags&8)?dc(Z,Ij)&&(Jj=!0):13===Z.tag&&mj(a,Z)&&dc(Z,Ij)&&(Jj=!0));var b=Z.flags;0!==(b&256)&&Xi(a,Z);0===(b&512)||xj||(xj=!0,hg(97,function(){Oj();return null}));Z=Z.nextEffect}}function Oj(){if(90!==zj){var a=97<zj?97:zj;zj=90;return gg(a,fk)}return!1}function $i(a,b){Aj.push(b,a);xj||(xj=!0,hg(97,function(){Oj();return null}))}function Zi(a,b){Bj.push(b,a);xj||(xj=!0,hg(97,function(){Oj();return null}))}
function fk(){if(null===yj)return!1;var a=yj;yj=null;if(0!==(X&48))throw Error(y(331));var b=X;X|=32;var c=Bj;Bj=[];for(var d=0;d<c.length;d+=2){var e=c[d],f=c[d+1],g=e.destroy;e.destroy=void 0;if("function"===typeof g)try{g()}catch(k){if(null===f)throw Error(y(330));Wi(f,k)}}c=Aj;Aj=[];for(d=0;d<c.length;d+=2){e=c[d];f=c[d+1];try{var h=e.create;e.destroy=h()}catch(k){if(null===f)throw Error(y(330));Wi(f,k)}}for(h=a.current.firstEffect;null!==h;)a=h.nextEffect,h.nextEffect=null,h.flags&8&&(h.sibling=
null,h.stateNode=null),h=a;X=b;ig();return!0}function gk(a,b,c){b=Mi(c,b);b=Pi(a,b,1);Ag(a,b);b=Hg();a=Kj(a,1);null!==a&&($c(a,1,b),Mj(a,b))}
function Wi(a,b){if(3===a.tag)gk(a,a,b);else for(var c=a.return;null!==c;){if(3===c.tag){gk(c,a,b);break}else if(1===c.tag){var d=c.stateNode;if("function"===typeof c.type.getDerivedStateFromError||"function"===typeof d.componentDidCatch&&(null===Ti||!Ti.has(d))){a=Mi(b,a);var e=Si(c,a,1);Ag(c,e);e=Hg();c=Kj(c,1);if(null!==c)$c(c,1,e),Mj(c,e);else if("function"===typeof d.componentDidCatch&&(null===Ti||!Ti.has(d)))try{d.componentDidCatch(b,a)}catch(f){}break}}c=c.return}}
function Yj(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=Hg();a.pingedLanes|=a.suspendedLanes&c;U===a&&(W&c)===c&&(4===V||3===V&&(W&62914560)===W&&500>O()-jj?Qj(a,0):uj|=c);Mj(a,b)}function lj(a,b){var c=a.stateNode;null!==c&&c.delete(b);b=0;0===b&&(b=a.mode,0===(b&2)?b=1:0===(b&4)?b=99===eg()?1:2:(0===Gj&&(Gj=tj),b=Yc(62914560&~Gj),0===b&&(b=4194304)));c=Hg();a=Kj(a,b);null!==a&&($c(a,b,c),Mj(a,c))}var ck;
ck=function(a,b,c){var d=b.lanes;if(null!==a)if(a.memoizedProps!==b.pendingProps||N.current)ug=!0;else if(0!==(c&d))ug=0!==(a.flags&16384)?!0:!1;else{ug=!1;switch(b.tag){case 3:ri(b);sh();break;case 5:gh(b);break;case 1:Ff(b.type)&&Jf(b);break;case 4:eh(b,b.stateNode.containerInfo);break;case 10:d=b.memoizedProps.value;var e=b.type._context;I(mg,e._currentValue);e._currentValue=d;break;case 13:if(null!==b.memoizedState){if(0!==(c&b.child.childLanes))return ti(a,b,c);I(P,P.current&1);b=hi(a,b,c);return null!==
b?b.sibling:null}I(P,P.current&1);break;case 19:d=0!==(c&b.childLanes);if(0!==(a.flags&64)){if(d)return Ai(a,b,c);b.flags|=64}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);I(P,P.current);if(d)break;else return null;case 23:case 24:return b.lanes=0,mi(a,b,c)}return hi(a,b,c)}else ug=!1;b.lanes=0;switch(b.tag){case 2:d=b.type;null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2);a=b.pendingProps;e=Ef(b,M.current);tg(b,c);e=Ch(null,b,d,a,e,c);b.flags|=1;if("object"===
typeof e&&null!==e&&"function"===typeof e.render&&void 0===e.$$typeof){b.tag=1;b.memoizedState=null;b.updateQueue=null;if(Ff(d)){var f=!0;Jf(b)}else f=!1;b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;xg(b);var g=d.getDerivedStateFromProps;"function"===typeof g&&Gg(b,d,g,a);e.updater=Kg;b.stateNode=e;e._reactInternals=b;Og(b,d,a,c);b=qi(null,b,d,!0,f,c)}else b.tag=0,fi(null,b,e,c),b=b.child;return b;case 16:e=b.elementType;a:{null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2);
a=b.pendingProps;f=e._init;e=f(e._payload);b.type=e;f=b.tag=hk(e);a=lg(e,a);switch(f){case 0:b=li(null,b,e,a,c);break a;case 1:b=pi(null,b,e,a,c);break a;case 11:b=gi(null,b,e,a,c);break a;case 14:b=ii(null,b,e,lg(e.type,a),d,c);break a}throw Error(y(306,e,""));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),li(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),pi(a,b,d,e,c);case 3:ri(b);d=b.updateQueue;if(null===a||null===d)throw Error(y(282));
d=b.pendingProps;e=b.memoizedState;e=null!==e?e.element:null;yg(a,b);Cg(b,d,null,c);d=b.memoizedState.element;if(d===e)sh(),b=hi(a,b,c);else{e=b.stateNode;if(f=e.hydrate)kh=rf(b.stateNode.containerInfo.firstChild),jh=b,f=lh=!0;if(f){a=e.mutableSourceEagerHydrationData;if(null!=a)for(e=0;e<a.length;e+=2)f=a[e],f._workInProgressVersionPrimary=a[e+1],th.push(f);c=Zg(b,null,d,c);for(b.child=c;c;)c.flags=c.flags&-3|1024,c=c.sibling}else fi(a,b,d,c),sh();b=b.child}return b;case 5:return gh(b),null===a&&
ph(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,nf(d,e)?g=null:null!==f&&nf(d,f)&&(b.flags|=16),oi(a,b),fi(a,b,g,c),b.child;case 6:return null===a&&ph(b),null;case 13:return ti(a,b,c);case 4:return eh(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Yg(b,null,d,c):fi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),gi(a,b,d,e,c);case 7:return fi(a,b,b.pendingProps,c),b.child;case 8:return fi(a,b,b.pendingProps.children,
c),b.child;case 12:return fi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;g=b.memoizedProps;f=e.value;var h=b.type._context;I(mg,h._currentValue);h._currentValue=f;if(null!==g)if(h=g.value,f=He(h,f)?0:("function"===typeof d._calculateChangedBits?d._calculateChangedBits(h,f):1073741823)|0,0===f){if(g.children===e.children&&!N.current){b=hi(a,b,c);break a}}else for(h=b.child,null!==h&&(h.return=b);null!==h;){var k=h.dependencies;if(null!==k){g=h.child;for(var l=
k.firstContext;null!==l;){if(l.context===d&&0!==(l.observedBits&f)){1===h.tag&&(l=zg(-1,c&-c),l.tag=2,Ag(h,l));h.lanes|=c;l=h.alternate;null!==l&&(l.lanes|=c);sg(h.return,c);k.lanes|=c;break}l=l.next}}else g=10===h.tag?h.type===b.type?null:h.child:h.child;if(null!==g)g.return=h;else for(g=h;null!==g;){if(g===b){g=null;break}h=g.sibling;if(null!==h){h.return=g.return;g=h;break}g=g.return}h=g}fi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,f=b.pendingProps,d=f.children,tg(b,c),e=vg(e,
f.unstable_observedBits),d=d(e),b.flags|=1,fi(a,b,d,c),b.child;case 14:return e=b.type,f=lg(e,b.pendingProps),f=lg(e.type,f),ii(a,b,e,f,d,c);case 15:return ki(a,b,b.type,b.pendingProps,d,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),b.tag=1,Ff(d)?(a=!0,Jf(b)):a=!1,tg(b,c),Mg(b,d,e),Og(b,d,e,c),qi(null,b,d,!0,a,c);case 19:return Ai(a,b,c);case 23:return mi(a,b,c);case 24:return mi(a,b,c)}throw Error(y(156,b.tag));
};function ik(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.flags=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childLanes=this.lanes=0;this.alternate=null}function nh(a,b,c,d){return new ik(a,b,c,d)}function ji(a){a=a.prototype;return!(!a||!a.isReactComponent)}
function hk(a){if("function"===typeof a)return ji(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Aa)return 11;if(a===Da)return 14}return 2}
function Tg(a,b){var c=a.alternate;null===c?(c=nh(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null);c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};
c.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}
function Vg(a,b,c,d,e,f){var g=2;d=a;if("function"===typeof a)ji(a)&&(g=1);else if("string"===typeof a)g=5;else a:switch(a){case ua:return Xg(c.children,e,f,b);case Ha:g=8;e|=16;break;case wa:g=8;e|=1;break;case xa:return a=nh(12,c,b,e|8),a.elementType=xa,a.type=xa,a.lanes=f,a;case Ba:return a=nh(13,c,b,e),a.type=Ba,a.elementType=Ba,a.lanes=f,a;case Ca:return a=nh(19,c,b,e),a.elementType=Ca,a.lanes=f,a;case Ia:return vi(c,e,f,b);case Ja:return a=nh(24,c,b,e),a.elementType=Ja,a.lanes=f,a;default:if("object"===
typeof a&&null!==a)switch(a.$$typeof){case ya:g=10;break a;case za:g=9;break a;case Aa:g=11;break a;case Da:g=14;break a;case Ea:g=16;d=null;break a;case Fa:g=22;break a}throw Error(y(130,null==a?a:typeof a,""));}b=nh(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Xg(a,b,c,d){a=nh(7,a,d,b);a.lanes=c;return a}function vi(a,b,c,d){a=nh(23,a,d,b);a.elementType=Ia;a.lanes=c;return a}function Ug(a,b,c){a=nh(6,a,null,b);a.lanes=c;return a}
function Wg(a,b,c){b=nh(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}
function jk(a,b,c){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.pendingContext=this.context=null;this.hydrate=c;this.callbackNode=null;this.callbackPriority=0;this.eventTimes=Zc(0);this.expirationTimes=Zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=Zc(0);this.mutableSourceEagerHydrationData=null}
function kk(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ta,key:null==d?null:""+d,children:a,containerInfo:b,implementation:c}}
function lk(a,b,c,d){var e=b.current,f=Hg(),g=Ig(e);a:if(c){c=c._reactInternals;b:{if(Zb(c)!==c||1!==c.tag)throw Error(y(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break b;case 1:if(Ff(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break b}}h=h.return}while(null!==h);throw Error(y(171));}if(1===c.tag){var k=c.type;if(Ff(k)){c=If(c,k,h);break a}}c=h}else c=Cf;null===b.context?b.context=c:b.pendingContext=c;b=zg(f,g);b.payload={element:a};d=void 0===d?null:d;null!==
d&&(b.callback=d);Ag(e,b);Jg(e,g,f);return g}function mk(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function nk(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function ok(a,b){nk(a,b);(a=a.alternate)&&nk(a,b)}function pk(){return null}
function qk(a,b,c){var d=null!=c&&null!=c.hydrationOptions&&c.hydrationOptions.mutableSources||null;c=new jk(a,b,null!=c&&!0===c.hydrate);b=nh(3,null,null,2===b?7:1===b?3:0);c.current=b;b.stateNode=c;xg(b);a[ff]=c.current;cf(8===a.nodeType?a.parentNode:a);if(d)for(a=0;a<d.length;a++){b=d[a];var e=b._getVersion;e=e(b._source);null==c.mutableSourceEagerHydrationData?c.mutableSourceEagerHydrationData=[b,e]:c.mutableSourceEagerHydrationData.push(b,e)}this._internalRoot=c}
qk.prototype.render=function(a){lk(a,this._internalRoot,null,null)};qk.prototype.unmount=function(){var a=this._internalRoot,b=a.containerInfo;lk(null,a,null,function(){b[ff]=null})};function rk(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||" react-mount-point-unstable "!==a.nodeValue))}
function sk(a,b){b||(b=a?9===a.nodeType?a.documentElement:a.firstChild:null,b=!(!b||1!==b.nodeType||!b.hasAttribute("data-reactroot")));if(!b)for(var c;c=a.lastChild;)a.removeChild(c);return new qk(a,0,b?{hydrate:!0}:void 0)}
function tk(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f._internalRoot;if("function"===typeof e){var h=e;e=function(){var a=mk(g);h.call(a)}}lk(b,g,a,e)}else{f=c._reactRootContainer=sk(c,d);g=f._internalRoot;if("function"===typeof e){var k=e;e=function(){var a=mk(g);k.call(a)}}Xj(function(){lk(b,g,a,e)})}return mk(g)}ec=function(a){if(13===a.tag){var b=Hg();Jg(a,4,b);ok(a,4)}};fc=function(a){if(13===a.tag){var b=Hg();Jg(a,67108864,b);ok(a,67108864)}};
gc=function(a){if(13===a.tag){var b=Hg(),c=Ig(a);Jg(a,c,b);ok(a,c)}};hc=function(a,b){return b()};
yb=function(a,b,c){switch(b){case "input":ab(a,c);b=c.name;if("radio"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll("input[name="+JSON.stringify(""+b)+'][type="radio"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(y(90));Wa(d);ab(d,e)}}}break;case "textarea":ib(a,c);break;case "select":b=c.value,null!=b&&fb(a,!!c.multiple,b,!1)}};Gb=Wj;
Hb=function(a,b,c,d,e){var f=X;X|=4;try{return gg(98,a.bind(null,b,c,d,e))}finally{X=f,0===X&&(wj(),ig())}};Ib=function(){0===(X&49)&&(Vj(),Oj())};Jb=function(a,b){var c=X;X|=2;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}};function uk(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!rk(b))throw Error(y(200));return kk(a,b,null,c)}var vk={Events:[Cb,ue,Db,Eb,Fb,Oj,{current:!1}]},wk={findFiberByHostInstance:wc,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"};
var xk={bundleType:wk.bundleType,version:wk.version,rendererPackageName:wk.rendererPackageName,rendererConfig:wk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=cc(a);return null===a?null:a.stateNode},findFiberByHostInstance:wk.findFiberByHostInstance||
pk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var yk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yk.isDisabled&&yk.supportsFiber)try{Lf=yk.inject(xk),Mf=yk}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vk;exports.createPortal=uk;
exports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if("function"===typeof a.render)throw Error(y(188));throw Error(y(268,Object.keys(a)));}a=cc(b);a=null===a?null:a.stateNode;return a};exports.flushSync=function(a,b){var c=X;if(0!==(c&48))return a(b);X|=1;try{if(a)return gg(99,a.bind(null,b))}finally{X=c,ig()}};exports.hydrate=function(a,b,c){if(!rk(b))throw Error(y(200));return tk(null,a,b,!0,c)};
exports.render=function(a,b,c){if(!rk(b))throw Error(y(200));return tk(null,a,b,!1,c)};exports.unmountComponentAtNode=function(a){if(!rk(a))throw Error(y(40));return a._reactRootContainer?(Xj(function(){tk(null,null,a,!1,function(){a._reactRootContainer=null;a[ff]=null})}),!0):!1};exports.unstable_batchedUpdates=Wj;exports.unstable_createPortal=function(a,b){return uk(a,b,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};
exports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!rk(c))throw Error(y(200));if(null==a||void 0===a._reactInternals)throw Error(y(38));return tk(a,b,c,!1,d)};exports.version="17.0.2";


/***/ }),
/* 133 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


if (true) {
  module.exports = __webpack_require__(134);
} else {}


/***/ }),
/* 134 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var f,g,h,k;if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}
if("undefined"===typeof window||"function"!==typeof MessageChannel){var t=null,u=null,w=function(){if(null!==t)try{var a=exports.unstable_now();t(!0,a);t=null}catch(b){throw setTimeout(w,0),b;}};f=function(a){null!==t?setTimeout(f,0,a):(t=a,setTimeout(w,0))};g=function(a,b){u=setTimeout(a,b)};h=function(){clearTimeout(u)};exports.unstable_shouldYield=function(){return!1};k=exports.unstable_forceFrameRate=function(){}}else{var x=window.setTimeout,y=window.clearTimeout;if("undefined"!==typeof console){var z=
window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills");"function"!==typeof z&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var A=!1,B=null,C=-1,D=5,E=0;exports.unstable_shouldYield=function(){return exports.unstable_now()>=
E};k=function(){};exports.unstable_forceFrameRate=function(a){0>a||125<a?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<a?Math.floor(1E3/a):5};var F=new MessageChannel,G=F.port2;F.port1.onmessage=function(){if(null!==B){var a=exports.unstable_now();E=a+D;try{B(!0,a)?G.postMessage(null):(A=!1,B=null)}catch(b){throw G.postMessage(null),b;}}else A=!1};f=function(a){B=a;A||(A=!0,G.postMessage(null))};g=function(a,b){C=
x(function(){a(exports.unstable_now())},b)};h=function(){y(C);C=-1}}function H(a,b){var c=a.length;a.push(b);a:for(;;){var d=c-1>>>1,e=a[d];if(void 0!==e&&0<I(e,b))a[d]=b,a[c]=e,c=d;else break a}}function J(a){a=a[0];return void 0===a?null:a}
function K(a){var b=a[0];if(void 0!==b){var c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length;d<e;){var m=2*(d+1)-1,n=a[m],v=m+1,r=a[v];if(void 0!==n&&0>I(n,c))void 0!==r&&0>I(r,n)?(a[d]=r,a[v]=c,d=v):(a[d]=n,a[m]=c,d=m);else if(void 0!==r&&0>I(r,c))a[d]=r,a[v]=c,d=v;else break a}}return b}return null}function I(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}var L=[],M=[],N=1,O=null,P=3,Q=!1,R=!1,S=!1;
function T(a){for(var b=J(M);null!==b;){if(null===b.callback)K(M);else if(b.startTime<=a)K(M),b.sortIndex=b.expirationTime,H(L,b);else break;b=J(M)}}function U(a){S=!1;T(a);if(!R)if(null!==J(L))R=!0,f(V);else{var b=J(M);null!==b&&g(U,b.startTime-a)}}
function V(a,b){R=!1;S&&(S=!1,h());Q=!0;var c=P;try{T(b);for(O=J(L);null!==O&&(!(O.expirationTime>b)||a&&!exports.unstable_shouldYield());){var d=O.callback;if("function"===typeof d){O.callback=null;P=O.priorityLevel;var e=d(O.expirationTime<=b);b=exports.unstable_now();"function"===typeof e?O.callback=e:O===J(L)&&K(L);T(b)}else K(L);O=J(L)}if(null!==O)var m=!0;else{var n=J(M);null!==n&&g(U,n.startTime-b);m=!1}return m}finally{O=null,P=c,Q=!1}}var W=k;exports.unstable_IdlePriority=5;
exports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){R||Q||(R=!0,f(V))};exports.unstable_getCurrentPriorityLevel=function(){return P};exports.unstable_getFirstCallbackNode=function(){return J(L)};
exports.unstable_next=function(a){switch(P){case 1:case 2:case 3:var b=3;break;default:b=P}var c=P;P=b;try{return a()}finally{P=c}};exports.unstable_pauseExecution=function(){};exports.unstable_requestPaint=W;exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=P;P=a;try{return b()}finally{P=c}};
exports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();"object"===typeof c&&null!==c?(c=c.delay,c="number"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:N++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,H(M,a),null===J(L)&&a===J(M)&&(S?h():S=!0,g(U,c-d))):(a.sortIndex=e,H(L,a),R||Q||(R=!0,f(V)));return a};
exports.unstable_wrapCallback=function(a){var b=P;return function(){var c=P;P=b;try{return a.apply(this,arguments)}finally{P=c}}};


/***/ }),
/* 135 */
/***/ (function(module, exports) {

function _getPrototypeOf(t) {
  return module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) {
    return t.__proto__ || Object.getPrototypeOf(t);
  }, module.exports.__esModule = true, module.exports["default"] = module.exports, _getPrototypeOf(t);
}
module.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 136 */
/***/ (function(module, exports, __webpack_require__) {

var setPrototypeOf = __webpack_require__(137);
function _inherits(t, e) {
  if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
  t.prototype = Object.create(e && e.prototype, {
    constructor: {
      value: t,
      writable: !0,
      configurable: !0
    }
  }), Object.defineProperty(t, "prototype", {
    writable: !1
  }), e && setPrototypeOf(t, e);
}
module.exports = _inherits, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 137 */
/***/ (function(module, exports) {

function _setPrototypeOf(t, e) {
  return module.exports = _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
    return t.__proto__ = e, t;
  }, module.exports.__esModule = true, module.exports["default"] = module.exports, _setPrototypeOf(t, e);
}
module.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 138 */
/***/ (function(module, exports, __webpack_require__) {

var _typeof = __webpack_require__(4)["default"];
var assertThisInitialized = __webpack_require__(77);
function _possibleConstructorReturn(t, e) {
  if (e && ("object" == _typeof(e) || "function" == typeof e)) return e;
  if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined");
  return assertThisInitialized(t);
}
module.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports["default"] = module.exports;

/***/ }),
/* 139 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(process) {exports = module.exports = SemVer

var debug
/* istanbul ignore next */
if (typeof process === 'object' &&
    process.env &&
    process.env.NODE_DEBUG &&
    /\bsemver\b/i.test(process.env.NODE_DEBUG)) {
  debug = function () {
    var args = Array.prototype.slice.call(arguments, 0)
    args.unshift('SEMVER')
    console.log.apply(console, args)
  }
} else {
  debug = function () {}
}

// Note: this is the semver.org version of the spec that it implements
// Not necessarily the package version of this code.
exports.SEMVER_SPEC_VERSION = '2.0.0'

var MAX_LENGTH = 256
var MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||
  /* istanbul ignore next */ 9007199254740991

// Max safe segment length for coercion.
var MAX_SAFE_COMPONENT_LENGTH = 16

var MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6

// The actual regexps go on exports.re
var re = exports.re = []
var safeRe = exports.safeRe = []
var src = exports.src = []
var R = 0

var LETTERDASHNUMBER = '[a-zA-Z0-9-]'

// Replace some greedy regex tokens to prevent regex dos issues. These regex are
// used internally via the safeRe object since all inputs in this library get
// normalized first to trim and collapse all extra whitespace. The original
// regexes are exported for userland consumption and lower level usage. A
// future breaking change could export the safer regex only with a note that
// all input should have extra whitespace removed.
var safeRegexReplacements = [
  ['\\s', 1],
  ['\\d', MAX_LENGTH],
  [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH],
]

function makeSafeRe (value) {
  for (var i = 0; i < safeRegexReplacements.length; i++) {
    var token = safeRegexReplacements[i][0]
    var max = safeRegexReplacements[i][1]
    value = value
      .split(token + '*').join(token + '{0,' + max + '}')
      .split(token + '+').join(token + '{1,' + max + '}')
  }
  return value
}

// The following Regular Expressions can be used for tokenizing,
// validating, and parsing SemVer version strings.

// ## Numeric Identifier
// A single `0`, or a non-zero digit followed by zero or more digits.

var NUMERICIDENTIFIER = R++
src[NUMERICIDENTIFIER] = '0|[1-9]\\d*'
var NUMERICIDENTIFIERLOOSE = R++
src[NUMERICIDENTIFIERLOOSE] = '\\d+'

// ## Non-numeric Identifier
// Zero or more digits, followed by a letter or hyphen, and then zero or
// more letters, digits, or hyphens.

var NONNUMERICIDENTIFIER = R++
src[NONNUMERICIDENTIFIER] = '\\d*[a-zA-Z-]' + LETTERDASHNUMBER + '*'

// ## Main Version
// Three dot-separated numeric identifiers.

var MAINVERSION = R++
src[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\.' +
                   '(' + src[NUMERICIDENTIFIER] + ')\\.' +
                   '(' + src[NUMERICIDENTIFIER] + ')'

var MAINVERSIONLOOSE = R++
src[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\.' +
                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\.' +
                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')'

// ## Pre-release Version Identifier
// A numeric identifier, or a non-numeric identifier.

var PRERELEASEIDENTIFIER = R++
src[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +
                            '|' + src[NONNUMERICIDENTIFIER] + ')'

var PRERELEASEIDENTIFIERLOOSE = R++
src[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +
                                 '|' + src[NONNUMERICIDENTIFIER] + ')'

// ## Pre-release Version
// Hyphen, followed by one or more dot-separated pre-release version
// identifiers.

var PRERELEASE = R++
src[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +
                  '(?:\\.' + src[PRERELEASEIDENTIFIER] + ')*))'

var PRERELEASELOOSE = R++
src[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +
                       '(?:\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))'

// ## Build Metadata Identifier
// Any combination of digits, letters, or hyphens.

var BUILDIDENTIFIER = R++
src[BUILDIDENTIFIER] = LETTERDASHNUMBER + '+'

// ## Build Metadata
// Plus sign, followed by one or more period-separated build metadata
// identifiers.

var BUILD = R++
src[BUILD] = '(?:\\+(' + src[BUILDIDENTIFIER] +
             '(?:\\.' + src[BUILDIDENTIFIER] + ')*))'

// ## Full Version String
// A main version, followed optionally by a pre-release version and
// build metadata.

// Note that the only major, minor, patch, and pre-release sections of
// the version string are capturing groups.  The build metadata is not a
// capturing group, because it should not ever be used in version
// comparison.

var FULL = R++
var FULLPLAIN = 'v?' + src[MAINVERSION] +
                src[PRERELEASE] + '?' +
                src[BUILD] + '?'

src[FULL] = '^' + FULLPLAIN + '$'

// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.
// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty
// common in the npm registry.
var LOOSEPLAIN = '[v=\\s]*' + src[MAINVERSIONLOOSE] +
                 src[PRERELEASELOOSE] + '?' +
                 src[BUILD] + '?'

var LOOSE = R++
src[LOOSE] = '^' + LOOSEPLAIN + '$'

var GTLT = R++
src[GTLT] = '((?:<|>)?=?)'

// Something like "2.*" or "1.2.x".
// Note that "x.x" is a valid xRange identifer, meaning "any version"
// Only the first item is strictly required.
var XRANGEIDENTIFIERLOOSE = R++
src[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\*'
var XRANGEIDENTIFIER = R++
src[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\*'

var XRANGEPLAIN = R++
src[XRANGEPLAIN] = '[v=\\s]*(' + src[XRANGEIDENTIFIER] + ')' +
                   '(?:\\.(' + src[XRANGEIDENTIFIER] + ')' +
                   '(?:\\.(' + src[XRANGEIDENTIFIER] + ')' +
                   '(?:' + src[PRERELEASE] + ')?' +
                   src[BUILD] + '?' +
                   ')?)?'

var XRANGEPLAINLOOSE = R++
src[XRANGEPLAINLOOSE] = '[v=\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +
                        '(?:\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +
                        '(?:\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +
                        '(?:' + src[PRERELEASELOOSE] + ')?' +
                        src[BUILD] + '?' +
                        ')?)?'

var XRANGE = R++
src[XRANGE] = '^' + src[GTLT] + '\\s*' + src[XRANGEPLAIN] + '$'
var XRANGELOOSE = R++
src[XRANGELOOSE] = '^' + src[GTLT] + '\\s*' + src[XRANGEPLAINLOOSE] + '$'

// Coercion.
// Extract anything that could conceivably be a part of a valid semver
var COERCE = R++
src[COERCE] = '(?:^|[^\\d])' +
              '(\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +
              '(?:\\.(\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +
              '(?:\\.(\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +
              '(?:$|[^\\d])'

// Tilde ranges.
// Meaning is "reasonably at or greater than"
var LONETILDE = R++
src[LONETILDE] = '(?:~>?)'

var TILDETRIM = R++
src[TILDETRIM] = '(\\s*)' + src[LONETILDE] + '\\s+'
re[TILDETRIM] = new RegExp(src[TILDETRIM], 'g')
safeRe[TILDETRIM] = new RegExp(makeSafeRe(src[TILDETRIM]), 'g')
var tildeTrimReplace = '$1~'

var TILDE = R++
src[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$'
var TILDELOOSE = R++
src[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$'

// Caret ranges.
// Meaning is "at least and backwards compatible with"
var LONECARET = R++
src[LONECARET] = '(?:\\^)'

var CARETTRIM = R++
src[CARETTRIM] = '(\\s*)' + src[LONECARET] + '\\s+'
re[CARETTRIM] = new RegExp(src[CARETTRIM], 'g')
safeRe[CARETTRIM] = new RegExp(makeSafeRe(src[CARETTRIM]), 'g')
var caretTrimReplace = '$1^'

var CARET = R++
src[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$'
var CARETLOOSE = R++
src[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$'

// A simple gt/lt/eq thing, or just "" to indicate "any version"
var COMPARATORLOOSE = R++
src[COMPARATORLOOSE] = '^' + src[GTLT] + '\\s*(' + LOOSEPLAIN + ')$|^$'
var COMPARATOR = R++
src[COMPARATOR] = '^' + src[GTLT] + '\\s*(' + FULLPLAIN + ')$|^$'

// An expression to strip any whitespace between the gtlt and the thing
// it modifies, so that `> 1.2.3` ==> `>1.2.3`
var COMPARATORTRIM = R++
src[COMPARATORTRIM] = '(\\s*)' + src[GTLT] +
                      '\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')'

// this one has to use the /g flag
re[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g')
safeRe[COMPARATORTRIM] = new RegExp(makeSafeRe(src[COMPARATORTRIM]), 'g')
var comparatorTrimReplace = '$1$2$3'

// Something like `1.2.3 - 1.2.4`
// Note that these all use the loose form, because they'll be
// checked against either the strict or loose comparator form
// later.
var HYPHENRANGE = R++
src[HYPHENRANGE] = '^\\s*(' + src[XRANGEPLAIN] + ')' +
                   '\\s+-\\s+' +
                   '(' + src[XRANGEPLAIN] + ')' +
                   '\\s*$'

var HYPHENRANGELOOSE = R++
src[HYPHENRANGELOOSE] = '^\\s*(' + src[XRANGEPLAINLOOSE] + ')' +
                        '\\s+-\\s+' +
                        '(' + src[XRANGEPLAINLOOSE] + ')' +
                        '\\s*$'

// Star ranges basically just allow anything at all.
var STAR = R++
src[STAR] = '(<|>)?=?\\s*\\*'

// Compile to actual regexp objects.
// All are flag-free, unless they were created above with a flag.
for (var i = 0; i < R; i++) {
  debug(i, src[i])
  if (!re[i]) {
    re[i] = new RegExp(src[i])

    // Replace all greedy whitespace to prevent regex dos issues. These regex are
    // used internally via the safeRe object since all inputs in this library get
    // normalized first to trim and collapse all extra whitespace. The original
    // regexes are exported for userland consumption and lower level usage. A
    // future breaking change could export the safer regex only with a note that
    // all input should have extra whitespace removed.
    safeRe[i] = new RegExp(makeSafeRe(src[i]))
  }
}

exports.parse = parse
function parse (version, options) {
  if (!options || typeof options !== 'object') {
    options = {
      loose: !!options,
      includePrerelease: false
    }
  }

  if (version instanceof SemVer) {
    return version
  }

  if (typeof version !== 'string') {
    return null
  }

  if (version.length > MAX_LENGTH) {
    return null
  }

  var r = options.loose ? safeRe[LOOSE] : safeRe[FULL]
  if (!r.test(version)) {
    return null
  }

  try {
    return new SemVer(version, options)
  } catch (er) {
    return null
  }
}

exports.valid = valid
function valid (version, options) {
  var v = parse(version, options)
  return v ? v.version : null
}

exports.clean = clean
function clean (version, options) {
  var s = parse(version.trim().replace(/^[=v]+/, ''), options)
  return s ? s.version : null
}

exports.SemVer = SemVer

function SemVer (version, options) {
  if (!options || typeof options !== 'object') {
    options = {
      loose: !!options,
      includePrerelease: false
    }
  }
  if (version instanceof SemVer) {
    if (version.loose === options.loose) {
      return version
    } else {
      version = version.version
    }
  } else if (typeof version !== 'string') {
    throw new TypeError('Invalid Version: ' + version)
  }

  if (version.length > MAX_LENGTH) {
    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')
  }

  if (!(this instanceof SemVer)) {
    return new SemVer(version, options)
  }

  debug('SemVer', version, options)
  this.options = options
  this.loose = !!options.loose

  var m = version.trim().match(options.loose ? safeRe[LOOSE] : safeRe[FULL])

  if (!m) {
    throw new TypeError('Invalid Version: ' + version)
  }

  this.raw = version

  // these are actually numbers
  this.major = +m[1]
  this.minor = +m[2]
  this.patch = +m[3]

  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {
    throw new TypeError('Invalid major version')
  }

  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {
    throw new TypeError('Invalid minor version')
  }

  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {
    throw new TypeError('Invalid patch version')
  }

  // numberify any prerelease numeric ids
  if (!m[4]) {
    this.prerelease = []
  } else {
    this.prerelease = m[4].split('.').map(function (id) {
      if (/^[0-9]+$/.test(id)) {
        var num = +id
        if (num >= 0 && num < MAX_SAFE_INTEGER) {
          return num
        }
      }
      return id
    })
  }

  this.build = m[5] ? m[5].split('.') : []
  this.format()
}

SemVer.prototype.format = function () {
  this.version = this.major + '.' + this.minor + '.' + this.patch
  if (this.prerelease.length) {
    this.version += '-' + this.prerelease.join('.')
  }
  return this.version
}

SemVer.prototype.toString = function () {
  return this.version
}

SemVer.prototype.compare = function (other) {
  debug('SemVer.compare', this.version, this.options, other)
  if (!(other instanceof SemVer)) {
    other = new SemVer(other, this.options)
  }

  return this.compareMain(other) || this.comparePre(other)
}

SemVer.prototype.compareMain = function (other) {
  if (!(other instanceof SemVer)) {
    other = new SemVer(other, this.options)
  }

  return compareIdentifiers(this.major, other.major) ||
         compareIdentifiers(this.minor, other.minor) ||
         compareIdentifiers(this.patch, other.patch)
}

SemVer.prototype.comparePre = function (other) {
  if (!(other instanceof SemVer)) {
    other = new SemVer(other, this.options)
  }

  // NOT having a prerelease is > having one
  if (this.prerelease.length && !other.prerelease.length) {
    return -1
  } else if (!this.prerelease.length && other.prerelease.length) {
    return 1
  } else if (!this.prerelease.length && !other.prerelease.length) {
    return 0
  }

  var i = 0
  do {
    var a = this.prerelease[i]
    var b = other.prerelease[i]
    debug('prerelease compare', i, a, b)
    if (a === undefined && b === undefined) {
      return 0
    } else if (b === undefined) {
      return 1
    } else if (a === undefined) {
      return -1
    } else if (a === b) {
      continue
    } else {
      return compareIdentifiers(a, b)
    }
  } while (++i)
}

// preminor will bump the version up to the next minor release, and immediately
// down to pre-release. premajor and prepatch work the same way.
SemVer.prototype.inc = function (release, identifier) {
  switch (release) {
    case 'premajor':
      this.prerelease.length = 0
      this.patch = 0
      this.minor = 0
      this.major++
      this.inc('pre', identifier)
      break
    case 'preminor':
      this.prerelease.length = 0
      this.patch = 0
      this.minor++
      this.inc('pre', identifier)
      break
    case 'prepatch':
      // If this is already a prerelease, it will bump to the next version
      // drop any prereleases that might already exist, since they are not
      // relevant at this point.
      this.prerelease.length = 0
      this.inc('patch', identifier)
      this.inc('pre', identifier)
      break
    // If the input is a non-prerelease version, this acts the same as
    // prepatch.
    case 'prerelease':
      if (this.prerelease.length === 0) {
        this.inc('patch', identifier)
      }
      this.inc('pre', identifier)
      break

    case 'major':
      // If this is a pre-major version, bump up to the same major version.
      // Otherwise increment major.
      // 1.0.0-5 bumps to 1.0.0
      // 1.1.0 bumps to 2.0.0
      if (this.minor !== 0 ||
          this.patch !== 0 ||
          this.prerelease.length === 0) {
        this.major++
      }
      this.minor = 0
      this.patch = 0
      this.prerelease = []
      break
    case 'minor':
      // If this is a pre-minor version, bump up to the same minor version.
      // Otherwise increment minor.
      // 1.2.0-5 bumps to 1.2.0
      // 1.2.1 bumps to 1.3.0
      if (this.patch !== 0 || this.prerelease.length === 0) {
        this.minor++
      }
      this.patch = 0
      this.prerelease = []
      break
    case 'patch':
      // If this is not a pre-release version, it will increment the patch.
      // If it is a pre-release it will bump up to the same patch version.
      // 1.2.0-5 patches to 1.2.0
      // 1.2.0 patches to 1.2.1
      if (this.prerelease.length === 0) {
        this.patch++
      }
      this.prerelease = []
      break
    // This probably shouldn't be used publicly.
    // 1.0.0 "pre" would become 1.0.0-0 which is the wrong direction.
    case 'pre':
      if (this.prerelease.length === 0) {
        this.prerelease = [0]
      } else {
        var i = this.prerelease.length
        while (--i >= 0) {
          if (typeof this.prerelease[i] === 'number') {
            this.prerelease[i]++
            i = -2
          }
        }
        if (i === -1) {
          // didn't increment anything
          this.prerelease.push(0)
        }
      }
      if (identifier) {
        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,
        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0
        if (this.prerelease[0] === identifier) {
          if (isNaN(this.prerelease[1])) {
            this.prerelease = [identifier, 0]
          }
        } else {
          this.prerelease = [identifier, 0]
        }
      }
      break

    default:
      throw new Error('invalid increment argument: ' + release)
  }
  this.format()
  this.raw = this.version
  return this
}

exports.inc = inc
function inc (version, release, loose, identifier) {
  if (typeof (loose) === 'string') {
    identifier = loose
    loose = undefined
  }

  try {
    return new SemVer(version, loose).inc(release, identifier).version
  } catch (er) {
    return null
  }
}

exports.diff = diff
function diff (version1, version2) {
  if (eq(version1, version2)) {
    return null
  } else {
    var v1 = parse(version1)
    var v2 = parse(version2)
    var prefix = ''
    if (v1.prerelease.length || v2.prerelease.length) {
      prefix = 'pre'
      var defaultResult = 'prerelease'
    }
    for (var key in v1) {
      if (key === 'major' || key === 'minor' || key === 'patch') {
        if (v1[key] !== v2[key]) {
          return prefix + key
        }
      }
    }
    return defaultResult // may be undefined
  }
}

exports.compareIdentifiers = compareIdentifiers

var numeric = /^[0-9]+$/
function compareIdentifiers (a, b) {
  var anum = numeric.test(a)
  var bnum = numeric.test(b)

  if (anum && bnum) {
    a = +a
    b = +b
  }

  return a === b ? 0
    : (anum && !bnum) ? -1
    : (bnum && !anum) ? 1
    : a < b ? -1
    : 1
}

exports.rcompareIdentifiers = rcompareIdentifiers
function rcompareIdentifiers (a, b) {
  return compareIdentifiers(b, a)
}

exports.major = major
function major (a, loose) {
  return new SemVer(a, loose).major
}

exports.minor = minor
function minor (a, loose) {
  return new SemVer(a, loose).minor
}

exports.patch = patch
function patch (a, loose) {
  return new SemVer(a, loose).patch
}

exports.compare = compare
function compare (a, b, loose) {
  return new SemVer(a, loose).compare(new SemVer(b, loose))
}

exports.compareLoose = compareLoose
function compareLoose (a, b) {
  return compare(a, b, true)
}

exports.rcompare = rcompare
function rcompare (a, b, loose) {
  return compare(b, a, loose)
}

exports.sort = sort
function sort (list, loose) {
  return list.sort(function (a, b) {
    return exports.compare(a, b, loose)
  })
}

exports.rsort = rsort
function rsort (list, loose) {
  return list.sort(function (a, b) {
    return exports.rcompare(a, b, loose)
  })
}

exports.gt = gt
function gt (a, b, loose) {
  return compare(a, b, loose) > 0
}

exports.lt = lt
function lt (a, b, loose) {
  return compare(a, b, loose) < 0
}

exports.eq = eq
function eq (a, b, loose) {
  return compare(a, b, loose) === 0
}

exports.neq = neq
function neq (a, b, loose) {
  return compare(a, b, loose) !== 0
}

exports.gte = gte
function gte (a, b, loose) {
  return compare(a, b, loose) >= 0
}

exports.lte = lte
function lte (a, b, loose) {
  return compare(a, b, loose) <= 0
}

exports.cmp = cmp
function cmp (a, op, b, loose) {
  switch (op) {
    case '===':
      if (typeof a === 'object')
        a = a.version
      if (typeof b === 'object')
        b = b.version
      return a === b

    case '!==':
      if (typeof a === 'object')
        a = a.version
      if (typeof b === 'object')
        b = b.version
      return a !== b

    case '':
    case '=':
    case '==':
      return eq(a, b, loose)

    case '!=':
      return neq(a, b, loose)

    case '>':
      return gt(a, b, loose)

    case '>=':
      return gte(a, b, loose)

    case '<':
      return lt(a, b, loose)

    case '<=':
      return lte(a, b, loose)

    default:
      throw new TypeError('Invalid operator: ' + op)
  }
}

exports.Comparator = Comparator
function Comparator (comp, options) {
  if (!options || typeof options !== 'object') {
    options = {
      loose: !!options,
      includePrerelease: false
    }
  }

  if (comp instanceof Comparator) {
    if (comp.loose === !!options.loose) {
      return comp
    } else {
      comp = comp.value
    }
  }

  if (!(this instanceof Comparator)) {
    return new Comparator(comp, options)
  }

  comp = comp.trim().split(/\s+/).join(' ')
  debug('comparator', comp, options)
  this.options = options
  this.loose = !!options.loose
  this.parse(comp)

  if (this.semver === ANY) {
    this.value = ''
  } else {
    this.value = this.operator + this.semver.version
  }

  debug('comp', this)
}

var ANY = {}
Comparator.prototype.parse = function (comp) {
  var r = this.options.loose ? safeRe[COMPARATORLOOSE] : safeRe[COMPARATOR]
  var m = comp.match(r)

  if (!m) {
    throw new TypeError('Invalid comparator: ' + comp)
  }

  this.operator = m[1]
  if (this.operator === '=') {
    this.operator = ''
  }

  // if it literally is just '>' or '' then allow anything.
  if (!m[2]) {
    this.semver = ANY
  } else {
    this.semver = new SemVer(m[2], this.options.loose)
  }
}

Comparator.prototype.toString = function () {
  return this.value
}

Comparator.prototype.test = function (version) {
  debug('Comparator.test', version, this.options.loose)

  if (this.semver === ANY) {
    return true
  }

  if (typeof version === 'string') {
    version = new SemVer(version, this.options)
  }

  return cmp(version, this.operator, this.semver, this.options)
}

Comparator.prototype.intersects = function (comp, options) {
  if (!(comp instanceof Comparator)) {
    throw new TypeError('a Comparator is required')
  }

  if (!options || typeof options !== 'object') {
    options = {
      loose: !!options,
      includePrerelease: false
    }
  }

  var rangeTmp

  if (this.operator === '') {
    rangeTmp = new Range(comp.value, options)
    return satisfies(this.value, rangeTmp, options)
  } else if (comp.operator === '') {
    rangeTmp = new Range(this.value, options)
    return satisfies(comp.semver, rangeTmp, options)
  }

  var sameDirectionIncreasing =
    (this.operator === '>=' || this.operator === '>') &&
    (comp.operator === '>=' || comp.operator === '>')
  var sameDirectionDecreasing =
    (this.operator === '<=' || this.operator === '<') &&
    (comp.operator === '<=' || comp.operator === '<')
  var sameSemVer = this.semver.version === comp.semver.version
  var differentDirectionsInclusive =
    (this.operator === '>=' || this.operator === '<=') &&
    (comp.operator === '>=' || comp.operator === '<=')
  var oppositeDirectionsLessThan =
    cmp(this.semver, '<', comp.semver, options) &&
    ((this.operator === '>=' || this.operator === '>') &&
    (comp.operator === '<=' || comp.operator === '<'))
  var oppositeDirectionsGreaterThan =
    cmp(this.semver, '>', comp.semver, options) &&
    ((this.operator === '<=' || this.operator === '<') &&
    (comp.operator === '>=' || comp.operator === '>'))

  return sameDirectionIncreasing || sameDirectionDecreasing ||
    (sameSemVer && differentDirectionsInclusive) ||
    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan
}

exports.Range = Range
function Range (range, options) {
  if (!options || typeof options !== 'object') {
    options = {
      loose: !!options,
      includePrerelease: false
    }
  }

  if (range instanceof Range) {
    if (range.loose === !!options.loose &&
        range.includePrerelease === !!options.includePrerelease) {
      return range
    } else {
      return new Range(range.raw, options)
    }
  }

  if (range instanceof Comparator) {
    return new Range(range.value, options)
  }

  if (!(this instanceof Range)) {
    return new Range(range, options)
  }

  this.options = options
  this.loose = !!options.loose
  this.includePrerelease = !!options.includePrerelease

  // First reduce all whitespace as much as possible so we do not have to rely
  // on potentially slow regexes like \s*. This is then stored and used for
  // future error messages as well.
  this.raw = range
    .trim()
    .split(/\s+/)
    .join(' ')

  // First, split based on boolean or ||
  this.set = this.raw.split('||').map(function (range) {
    return this.parseRange(range.trim())
  }, this).filter(function (c) {
    // throw out any that are not relevant for whatever reason
    return c.length
  })

  if (!this.set.length) {
    throw new TypeError('Invalid SemVer Range: ' + this.raw)
  }

  this.format()
}

Range.prototype.format = function () {
  this.range = this.set.map(function (comps) {
    return comps.join(' ').trim()
  }).join('||').trim()
  return this.range
}

Range.prototype.toString = function () {
  return this.range
}

Range.prototype.parseRange = function (range) {
  var loose = this.options.loose
  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`
  var hr = loose ? safeRe[HYPHENRANGELOOSE] : safeRe[HYPHENRANGE]
  range = range.replace(hr, hyphenReplace)
  debug('hyphen replace', range)
  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`
  range = range.replace(safeRe[COMPARATORTRIM], comparatorTrimReplace)
  debug('comparator trim', range, safeRe[COMPARATORTRIM])

  // `~ 1.2.3` => `~1.2.3`
  range = range.replace(safeRe[TILDETRIM], tildeTrimReplace)

  // `^ 1.2.3` => `^1.2.3`
  range = range.replace(safeRe[CARETTRIM], caretTrimReplace)

  // At this point, the range is completely trimmed and
  // ready to be split into comparators.
  var compRe = loose ? safeRe[COMPARATORLOOSE] : safeRe[COMPARATOR]
  var set = range.split(' ').map(function (comp) {
    return parseComparator(comp, this.options)
  }, this).join(' ').split(/\s+/)
  if (this.options.loose) {
    // in loose mode, throw out any that are not valid comparators
    set = set.filter(function (comp) {
      return !!comp.match(compRe)
    })
  }
  set = set.map(function (comp) {
    return new Comparator(comp, this.options)
  }, this)

  return set
}

Range.prototype.intersects = function (range, options) {
  if (!(range instanceof Range)) {
    throw new TypeError('a Range is required')
  }

  return this.set.some(function (thisComparators) {
    return thisComparators.every(function (thisComparator) {
      return range.set.some(function (rangeComparators) {
        return rangeComparators.every(function (rangeComparator) {
          return thisComparator.intersects(rangeComparator, options)
        })
      })
    })
  })
}

// Mostly just for testing and legacy API reasons
exports.toComparators = toComparators
function toComparators (range, options) {
  return new Range(range, options).set.map(function (comp) {
    return comp.map(function (c) {
      return c.value
    }).join(' ').trim().split(' ')
  })
}

// comprised of xranges, tildes, stars, and gtlt's at this point.
// already replaced the hyphen ranges
// turn into a set of JUST comparators.
function parseComparator (comp, options) {
  debug('comp', comp, options)
  comp = replaceCarets(comp, options)
  debug('caret', comp)
  comp = replaceTildes(comp, options)
  debug('tildes', comp)
  comp = replaceXRanges(comp, options)
  debug('xrange', comp)
  comp = replaceStars(comp, options)
  debug('stars', comp)
  return comp
}

function isX (id) {
  return !id || id.toLowerCase() === 'x' || id === '*'
}

// ~, ~> --> * (any, kinda silly)
// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0
// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0
// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0
// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0
// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0
function replaceTildes (comp, options) {
  return comp.trim().split(/\s+/).map(function (comp) {
    return replaceTilde(comp, options)
  }).join(' ')
}

function replaceTilde (comp, options) {
  var r = options.loose ? safeRe[TILDELOOSE] : safeRe[TILDE]
  return comp.replace(r, function (_, M, m, p, pr) {
    debug('tilde', comp, _, M, m, p, pr)
    var ret

    if (isX(M)) {
      ret = ''
    } else if (isX(m)) {
      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'
    } else if (isX(p)) {
      // ~1.2 == >=1.2.0 <1.3.0
      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'
    } else if (pr) {
      debug('replaceTilde pr', pr)
      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +
            ' <' + M + '.' + (+m + 1) + '.0'
    } else {
      // ~1.2.3 == >=1.2.3 <1.3.0
      ret = '>=' + M + '.' + m + '.' + p +
            ' <' + M + '.' + (+m + 1) + '.0'
    }

    debug('tilde return', ret)
    return ret
  })
}

// ^ --> * (any, kinda silly)
// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0
// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0
// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0
// ^1.2.3 --> >=1.2.3 <2.0.0
// ^1.2.0 --> >=1.2.0 <2.0.0
function replaceCarets (comp, options) {
  return comp.trim().split(/\s+/).map(function (comp) {
    return replaceCaret(comp, options)
  }).join(' ')
}

function replaceCaret (comp, options) {
  debug('caret', comp, options)
  var r = options.loose ? safeRe[CARETLOOSE] : safeRe[CARET]
  return comp.replace(r, function (_, M, m, p, pr) {
    debug('caret', comp, _, M, m, p, pr)
    var ret

    if (isX(M)) {
      ret = ''
    } else if (isX(m)) {
      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'
    } else if (isX(p)) {
      if (M === '0') {
        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'
      } else {
        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'
      }
    } else if (pr) {
      debug('replaceCaret pr', pr)
      if (M === '0') {
        if (m === '0') {
          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +
                ' <' + M + '.' + m + '.' + (+p + 1)
        } else {
          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +
                ' <' + M + '.' + (+m + 1) + '.0'
        }
      } else {
        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +
              ' <' + (+M + 1) + '.0.0'
      }
    } else {
      debug('no pr')
      if (M === '0') {
        if (m === '0') {
          ret = '>=' + M + '.' + m + '.' + p +
                ' <' + M + '.' + m + '.' + (+p + 1)
        } else {
          ret = '>=' + M + '.' + m + '.' + p +
                ' <' + M + '.' + (+m + 1) + '.0'
        }
      } else {
        ret = '>=' + M + '.' + m + '.' + p +
              ' <' + (+M + 1) + '.0.0'
      }
    }

    debug('caret return', ret)
    return ret
  })
}

function replaceXRanges (comp, options) {
  debug('replaceXRanges', comp, options)
  return comp.split(/\s+/).map(function (comp) {
    return replaceXRange(comp, options)
  }).join(' ')
}

function replaceXRange (comp, options) {
  comp = comp.trim()
  var r = options.loose ? safeRe[XRANGELOOSE] : safeRe[XRANGE]
  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {
    debug('xRange', comp, ret, gtlt, M, m, p, pr)
    var xM = isX(M)
    var xm = xM || isX(m)
    var xp = xm || isX(p)
    var anyX = xp

    if (gtlt === '=' && anyX) {
      gtlt = ''
    }

    if (xM) {
      if (gtlt === '>' || gtlt === '<') {
        // nothing is allowed
        ret = '<0.0.0'
      } else {
        // nothing is forbidden
        ret = '*'
      }
    } else if (gtlt && anyX) {
      // we know patch is an x, because we have any x at all.
      // replace X with 0
      if (xm) {
        m = 0
      }
      p = 0

      if (gtlt === '>') {
        // >1 => >=2.0.0
        // >1.2 => >=1.3.0
        // >1.2.3 => >= 1.2.4
        gtlt = '>='
        if (xm) {
          M = +M + 1
          m = 0
          p = 0
        } else {
          m = +m + 1
          p = 0
        }
      } else if (gtlt === '<=') {
        // <=0.7.x is actually <0.8.0, since any 0.7.x should
        // pass.  Similarly, <=7.x is actually <8.0.0, etc.
        gtlt = '<'
        if (xm) {
          M = +M + 1
        } else {
          m = +m + 1
        }
      }

      ret = gtlt + M + '.' + m + '.' + p
    } else if (xm) {
      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'
    } else if (xp) {
      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'
    }

    debug('xRange return', ret)

    return ret
  })
}

// Because * is AND-ed with everything else in the comparator,
// and '' means "any version", just remove the *s entirely.
function replaceStars (comp, options) {
  debug('replaceStars', comp, options)
  // Looseness is ignored here.  star is always as loose as it gets!
  return comp.trim().replace(safeRe[STAR], '')
}

// This function is passed to string.replace(safeRe[HYPHENRANGE])
// M, m, patch, prerelease, build
// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5
// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do
// 1.2 - 3.4 => >=1.2.0 <3.5.0
function hyphenReplace ($0,
  from, fM, fm, fp, fpr, fb,
  to, tM, tm, tp, tpr, tb) {
  if (isX(fM)) {
    from = ''
  } else if (isX(fm)) {
    from = '>=' + fM + '.0.0'
  } else if (isX(fp)) {
    from = '>=' + fM + '.' + fm + '.0'
  } else {
    from = '>=' + from
  }

  if (isX(tM)) {
    to = ''
  } else if (isX(tm)) {
    to = '<' + (+tM + 1) + '.0.0'
  } else if (isX(tp)) {
    to = '<' + tM + '.' + (+tm + 1) + '.0'
  } else if (tpr) {
    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr
  } else {
    to = '<=' + to
  }

  return (from + ' ' + to).trim()
}

// if ANY of the sets match ALL of its comparators, then pass
Range.prototype.test = function (version) {
  if (!version) {
    return false
  }

  if (typeof version === 'string') {
    version = new SemVer(version, this.options)
  }

  for (var i = 0; i < this.set.length; i++) {
    if (testSet(this.set[i], version, this.options)) {
      return true
    }
  }
  return false
}

function testSet (set, version, options) {
  for (var i = 0; i < set.length; i++) {
    if (!set[i].test(version)) {
      return false
    }
  }

  if (version.prerelease.length && !options.includePrerelease) {
    // Find the set of versions that are allowed to have prereleases
    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0
    // That should allow `1.2.3-pr.2` to pass.
    // However, `1.2.4-alpha.notready` should NOT be allowed,
    // even though it's within the range set by the comparators.
    for (i = 0; i < set.length; i++) {
      debug(set[i].semver)
      if (set[i].semver === ANY) {
        continue
      }

      if (set[i].semver.prerelease.length > 0) {
        var allowed = set[i].semver
        if (allowed.major === version.major &&
            allowed.minor === version.minor &&
            allowed.patch === version.patch) {
          return true
        }
      }
    }

    // Version has a -pre, but it's not one of the ones we like.
    return false
  }

  return true
}

exports.satisfies = satisfies
function satisfies (version, range, options) {
  try {
    range = new Range(range, options)
  } catch (er) {
    return false
  }
  return range.test(version)
}

exports.maxSatisfying = maxSatisfying
function maxSatisfying (versions, range, options) {
  var max = null
  var maxSV = null
  try {
    var rangeObj = new Range(range, options)
  } catch (er) {
    return null
  }
  versions.forEach(function (v) {
    if (rangeObj.test(v)) {
      // satisfies(v, range, options)
      if (!max || maxSV.compare(v) === -1) {
        // compare(max, v, true)
        max = v
        maxSV = new SemVer(max, options)
      }
    }
  })
  return max
}

exports.minSatisfying = minSatisfying
function minSatisfying (versions, range, options) {
  var min = null
  var minSV = null
  try {
    var rangeObj = new Range(range, options)
  } catch (er) {
    return null
  }
  versions.forEach(function (v) {
    if (rangeObj.test(v)) {
      // satisfies(v, range, options)
      if (!min || minSV.compare(v) === 1) {
        // compare(min, v, true)
        min = v
        minSV = new SemVer(min, options)
      }
    }
  })
  return min
}

exports.minVersion = minVersion
function minVersion (range, loose) {
  range = new Range(range, loose)

  var minver = new SemVer('0.0.0')
  if (range.test(minver)) {
    return minver
  }

  minver = new SemVer('0.0.0-0')
  if (range.test(minver)) {
    return minver
  }

  minver = null
  for (var i = 0; i < range.set.length; ++i) {
    var comparators = range.set[i]

    comparators.forEach(function (comparator) {
      // Clone to avoid manipulating the comparator's semver object.
      var compver = new SemVer(comparator.semver.version)
      switch (comparator.operator) {
        case '>':
          if (compver.prerelease.length === 0) {
            compver.patch++
          } else {
            compver.prerelease.push(0)
          }
          compver.raw = compver.format()
          /* fallthrough */
        case '':
        case '>=':
          if (!minver || gt(minver, compver)) {
            minver = compver
          }
          break
        case '<':
        case '<=':
          /* Ignore maximum versions */
          break
        /* istanbul ignore next */
        default:
          throw new Error('Unexpected operation: ' + comparator.operator)
      }
    })
  }

  if (minver && range.test(minver)) {
    return minver
  }

  return null
}

exports.validRange = validRange
function validRange (range, options) {
  try {
    // Return '*' instead of '' so that truthiness works.
    // This will throw if it's invalid anyway
    return new Range(range, options).range || '*'
  } catch (er) {
    return null
  }
}

// Determine if version is less than all the versions possible in the range
exports.ltr = ltr
function ltr (version, range, options) {
  return outside(version, range, '<', options)
}

// Determine if version is greater than all the versions possible in the range.
exports.gtr = gtr
function gtr (version, range, options) {
  return outside(version, range, '>', options)
}

exports.outside = outside
function outside (version, range, hilo, options) {
  version = new SemVer(version, options)
  range = new Range(range, options)

  var gtfn, ltefn, ltfn, comp, ecomp
  switch (hilo) {
    case '>':
      gtfn = gt
      ltefn = lte
      ltfn = lt
      comp = '>'
      ecomp = '>='
      break
    case '<':
      gtfn = lt
      ltefn = gte
      ltfn = gt
      comp = '<'
      ecomp = '<='
      break
    default:
      throw new TypeError('Must provide a hilo val of "<" or ">"')
  }

  // If it satisifes the range it is not outside
  if (satisfies(version, range, options)) {
    return false
  }

  // From now on, variable terms are as if we're in "gtr" mode.
  // but note that everything is flipped for the "ltr" function.

  for (var i = 0; i < range.set.length; ++i) {
    var comparators = range.set[i]

    var high = null
    var low = null

    comparators.forEach(function (comparator) {
      if (comparator.semver === ANY) {
        comparator = new Comparator('>=0.0.0')
      }
      high = high || comparator
      low = low || comparator
      if (gtfn(comparator.semver, high.semver, options)) {
        high = comparator
      } else if (ltfn(comparator.semver, low.semver, options)) {
        low = comparator
      }
    })

    // If the edge version comparator has a operator then our version
    // isn't outside it
    if (high.operator === comp || high.operator === ecomp) {
      return false
    }

    // If the lowest version comparator has an operator and our version
    // is less than it then it isn't higher than the range
    if ((!low.operator || low.operator === comp) &&
        ltefn(version, low.semver)) {
      return false
    } else if (low.operator === ecomp && ltfn(version, low.semver)) {
      return false
    }
  }
  return true
}

exports.prerelease = prerelease
function prerelease (version, options) {
  var parsed = parse(version, options)
  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null
}

exports.intersects = intersects
function intersects (r1, r2, options) {
  r1 = new Range(r1, options)
  r2 = new Range(r2, options)
  return r1.intersects(r2)
}

exports.coerce = coerce
function coerce (version) {
  if (version instanceof SemVer) {
    return version
  }

  if (typeof version !== 'string') {
    return null
  }

  var match = version.match(safeRe[COERCE])

  if (match == null) {
    return null
  }

  return parse(match[1] +
    '.' + (match[2] || '0') +
    '.' + (match[3] || '0'))
}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(140)))

/***/ }),
/* 140 */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ }),
/* 141 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// https://github.com/tc39/proposal-iterator-helpers
var $ = __webpack_require__(19);
var apply = __webpack_require__(62);
var aCallable = __webpack_require__(13);
var anObject = __webpack_require__(2);
var createIteratorProxy = __webpack_require__(63);
var callWithSafeIterationClosing = __webpack_require__(64);

var IteratorProxy = createIteratorProxy(function (args) {
  var iterator = this.iterator;
  var result = anObject(apply(this.next, iterator, args));
  var done = this.done = !!result.done;
  if (!done) return callWithSafeIterationClosing(iterator, this.mapper, result.value);
});

$({ target: 'Iterator', proto: true, real: true, forced: true }, {
  map: function map(mapper) {
    return new IteratorProxy({
      iterator: anObject(this),
      mapper: aCallable(mapper)
    });
  }
});


/***/ }),
/* 142 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: ./node_modules/core-js/modules/esnext.iterator.constructor.js
var esnext_iterator_constructor = __webpack_require__(9);

// EXTERNAL MODULE: ./node_modules/core-js/modules/esnext.iterator.filter.js
var esnext_iterator_filter = __webpack_require__(16);

// CONCATENATED MODULE: ./viewer/js/routes/routes.js
const configureRoutes = ($routeProvider) => {
  $routeProvider.
  when('/', {
    templateUrl: 'partials/project.html'
  }).
  when('/gradebook', {
    templateUrl: 'partials/gradebook.html'
  }).
  when('/admin', {
    templateUrl: 'partials/admin.html'
  }).
  when('/L:level', {
    templateUrl: 'partials/level_metadata.html'
  }).
  when('/L:level/R:referenceFolder', {
    template: ''
  }).
  when('/L:level/H:htmlFolder', {
    templateUrl: 'partials/html_file.html'
  }).
  when('/L:level/H:htmlFolder/:htmlFile', {
    templateUrl: 'partials/html_file.html'
  }).
  when('/reference/:referenceItem', {
    templateUrl: 'partials/referenceitem.html'
  }).
  when('/L:level/R:referenceFolder/:referenceItem', {
    templateUrl: 'partials/referenceitem.html'
  }).
  when('/L:level/U:unit', {
    templateUrl: 'partials/unit_metadata.html'
  }).
  when('/L:level/U:unit/AS:activitySet', {}).
  when('/L:level/U:unit/S:section/', {
    templateUrl: 'partials/section_metadata.html'
  }).
  when('/L:level/U:unit/EL:lesson/', {
    templateUrl: 'partials/lesson_metadata.html'
  }).
  when('/L:level/U:unit/EL:lesson/S:section', {
    templateUrl: 'partials/section_metadata.html'
  }).
  when('/L:level/U:unit/EL:lesson/AS:activitySet', {}).
  when('/L:level/U:unit/S:section/AS:activitySet', {}).
  when('/L:level/U:unit/EL:lesson/S:section/AS:activitySet', {}).
  when('/L:level/U:unit/AS:activitySet/A:activity', {
    templateUrl: 'partials/activity.html'
  }).
  when('/L:level/U:unit/S:section/AS:activitySet/A:activity', {
    templateUrl: 'partials/activity.html'
  }).
  when('/L:level/U:unit/EL:lesson/AS:activitySet/A:activity', {
    templateUrl: 'partials/activity.html'
  }).
  when('/L:level/U:unit/EL:lesson/S:section/AS:activitySet/A:activity', {
    templateUrl: 'partials/activity.html'
  }).
  when('/L:level/U:unit/S:section/AS:activitySet/M-LM-NI:metadata', {
    controller: 'MecMetadataController',
    templateUrl: 'partials/activityset_metadata_mec_news_item.html'
  }).
  when('/L:level/U:unit/S:section/AS:activitySet/M-LM:metadata', {
    controller: 'MecMetadataController',
    templateUrl: 'partials/activityset_metadata_mec.html'
  }).
  when('/L:level/U:unit/S:section/AS:activitySet/M:metadata', {
    templateUrl: 'partials/activityset_metadata.html'
  }).
  when('/L:level/U:unit/EL:lesson/S:section/AS:activitySet/M:metadata', {
    templateUrl: 'partials/activityset_metadata.html'
  }).
  when('/L:level/U:unit/EL:lesson/AS:activitySet/M:metadata', {
    templateUrl: 'partials/activityset_metadata.html'
  }).
  when('/L:level/U:unit/AS:activitySet/M-LM:metadata', {
    controller: 'MecMetadataController',
    templateUrl: 'partials/activityset_metadata_mec.html'
  }).
  when('/L:level/U:unit/AS:activitySet/M:metadata', {
    templateUrl: 'partials/activityset_metadata.html'
  }).
  otherwise({
    controller: 'PageController',
    templateUrl: 'partials/error.html'
  });
};

/* harmony default export */ var routes = (configureRoutes);
// CONCATENATED MODULE: ./viewer/js/controllers/admin/adminController.js
function AdminController($scope, $http) {
  angular.extend($scope, {
    generateGUID,
    rebuildCache
  });

  function rebuildCache() {
    $http.get('api.php/admin/rebuild').then(
      function onSuccess(response) {
        if (response.status === 200) {
          toastr.info('Cache Rebuilt !');
        }
      },
      function onReject(data) {
        toastr.error(`Error rebuilding cache ! ${data}`);
      }
    );
  }

  function generateGUID() {
    $http.get('api.php/admin/generateguid').then(
      function onSuccess(response) {
        $scope.guid = response.data.guid;
      },
      function onReject(data) {
        toastr.error(`Error getting GUID ! ${data}`);
      }
    );
  }
}

AdminController.$inject = ['$scope', '$http'];

/* harmony default export */ var adminController = (AdminController);
// CONCATENATED MODULE: ./viewer/js/controllers/find/findController.js
function FindController($scope, $timeout, $http, SearchActivities, TableOfContents) {
  $scope.init = initialiseScope;
  $scope.searchActivities = searchActivities;

  function initialiseScope() {
    angular.extend($scope, {
      searchText: '',
      searchInteractionText: '',
      search: {
        level: 'all'
      }
    });
    // call toc api to get top-level level items
    TableOfContents.get(
      {
        path: ''
      },
      (navItems) => {
        $scope.search.availableLevels = navItems;
      },
      (error) => {
        alert(`Error getting levels for searching this project!${error}`);
      }
    );
  }

  function searchActivities() {
    const searchValue =
    !!$scope.search.text && $scope.search.text.length > 0 ?
    $scope.search.text :
    $scope.search.interactionText;

    if (!searchValue || searchValue.length < 3) {
      alert(
        'Please enter a value of at least 3 characters, or choose an interaction type from the drop down!'
      );
      return;
    }

    angular.extend($scope, {
      searchResults: [],
      searchingActivities: true
    });

    $timeout(() => {
      const useLevel = $scope.search.level || 'all';

      SearchActivities.get(
        {
          level: useLevel,
          searchValue
        },
        (searchResults) => {
          angular.extend($scope, {
            searchingActivities: false,
            searchResults
          });
        },
        () => {
          angular.extend($scope, {
            searchingActivities: false
          });
        }
      );
    });
    // }
  }

  // watch dropdown for changes
  $scope.$watch('search.interactionText', (newValue) => {
    //, oldValue) {
    //
    if (newValue) {
      $scope.search.text = '';
      //
    }
  });

  // watch typein for changes
  $scope.$watch('search.text', (newValue) => {
    if (newValue && newValue.length > 0) {
      $scope.search.interactionText = '';
    }
  });
}

FindController.$inject = ['$scope', '$timeout', '$http', 'SearchActivities', 'TableOfContents'];

/* harmony default export */ var findController = (FindController);
// CONCATENATED MODULE: ./viewer/js/controllers/imageDialog/imageDialogController.js
function ImageDialogController($scope, $timeout, assets) {
  angular.extend($scope, {
    imageFilterLimit: 10,
    levelImages: assets.images,
    currentLevel: assets.currentLevel,
    chosenImage: assets.chosenImage,

    setImage
  });

  function setImage(imageName) {
    $scope.chosenImage = '';
    $timeout(() => {
      $scope.chosenImage = imageName;
    });
  }
}

ImageDialogController.$inject = ['$scope', '$timeout', 'assets'];

/* harmony default export */ var imageDialogController = (ImageDialogController);
// EXTERNAL MODULE: ./node_modules/core-js/modules/esnext.iterator.find.js
var esnext_iterator_find = __webpack_require__(37);

// EXTERNAL MODULE: ./node_modules/core-js/modules/esnext.iterator.for-each.js
var esnext_iterator_for_each = __webpack_require__(17);

// CONCATENATED MODULE: ./viewer/js/constants/roles.js
const roles = {
  GODLIKE: 'godlike',
  EDITOR: 'editor'
};

/* harmony default export */ var constants_roles = (roles);
// CONCATENATED MODULE: ./viewer/js/controllers/editPanel/editPanelController.js

function EditPanelController($scope, $routeParams, $timeout) {
  angular.extend($scope, {
    init: initScope,
    xmlEditorLoaded,
    itemsXmlEditorLoaded,
    cssEditorLoaded,
    css768EditorLoaded,
    saveXML,
    verifyXML,
    reloadXML,
    refreshEditors
  });

  function initScope() {
    setupActivityHtmlToXmlEditorClickHandler($scope);
    // listen for broadcast messages
    $scope.$on('refresh.editors', () => {
      _refreshEditors();
    });
  }

  const aceLoaded = (_editor) => {
    _editor.setShowPrintMargin(false);
    _editor.setFontSize('14px');
    ace.require('ace/ext/emmet');
    _editor.setOption('enableEmmet', true);

    _editor.commands.addCommand({
      name: 'saveXml',
      bindKey: {
        win: 'Ctrl-S',
        mac: 'Command-S',
        sender: 'editor|cli'
      },
      exec: function () {
        //env, args, request) {
        $scope.saveXML();
      }
    });

    _editor.commands.addCommand({
      name: 'verifyXml',
      bindKey: {
        win: 'Ctrl-M',
        mac: 'Command-M',
        sender: 'editor|cli'
      },
      exec: function () {
        // env, args, request) {
        $scope.verifyXML();
      }
    });

    $scope.editorControls.push(_editor);
  };

  // $scope.xmlEditorLoaded =
  function xmlEditorLoaded(_editor) {
    aceLoaded(_editor);

    _editor.on('change', () => {
      // remove any annotations
      _editor.getSession().setAnnotations([]);
      const markers = _editor.getSession().getMarkers(false);

      if (markers) {
        for (const m in markers) {
          _editor.getSession().removeMarker(m);
        }
      }
      _editor.resize();
    });

    $scope.searchXMLEditor = (needle) => {
      _editor.find(needle, {
        wrap: true,
        caseSensitive: false,
        wholeWord: false,
        regExp: false
      });
    };

    $scope.showXMLErrors = (errorJSON) => {
      /* eg : [{ line, column, description }] */
      const session = _editor.getSession();
      const aceAnnotations = [];
      let firstLine = -1;

      for (const error in errorJSON) {
        const errObj = errorJSON[error];
        const lineNum = errObj.line;
        const colNum = errObj.column;

        if (firstLine < 0) {
          firstLine = lineNum;
        }
        aceAnnotations.push({
          row: lineNum - 1,
          column: colNum,
          text: `[${lineNum}] : ${errObj.description}`,
          type: 'error'
        });
        toastr.error(`[${lineNum}] : ${errObj.description}`);
        session.highlightLines(lineNum - 1, lineNum - 1);
      }
      session.setAnnotations(aceAnnotations);
      _editor.focus();
      _editor.gotoLine(firstLine);
    };
  }

  function itemsXmlEditorLoaded(_editor) {
    aceLoaded(_editor);

    _editor.on('change', () => {
      // remove any annotations
      _editor.getSession().setAnnotations([]);
      const markers = _editor.getSession().getMarkers(false);

      if (markers) {
        for (const m in markers) {
          _editor.getSession().removeMarker(m);
        }
      }
      _editor.resize();
    });

    $scope.$on('searchXmlItems', (evt, data) => {
      $scope.searchItemsXMLEditor(data);
    });

    $scope.searchItemsXMLEditor = (needle) => {
      _editor.find(needle, {
        wrap: true,
        caseSensitive: false,
        wholeWord: false,
        regExp: false
      });
    };

    $scope.showItemsXmlErrors = (errorJSON) => {
      /* eg : [{ line, column, description }] */
      const session = _editor.getSession();
      const aceAnnotations = [];
      let firstLine = -1;

      for (const error in errorJSON) {
        const errObj = errorJSON[error];
        const lineNum = errObj.line;
        const colNum = errObj.column;

        if (firstLine < 0) {
          firstLine = lineNum;
        }
        aceAnnotations.push({
          row: lineNum - 1,
          column: colNum,
          text: `[${lineNum}] : ${errObj.description}`,
          type: 'error'
        });
        toastr.error(`[${lineNum}] : ${errObj.description}`);
        session.highlightLines(lineNum - 1, lineNum - 1);
      }
      session.setAnnotations(aceAnnotations);
      _editor.focus();
      _editor.gotoLine(firstLine);
    };
  }

  // $scope.cssEditorLoaded =
  function cssEditorLoaded(_editor) {
    aceLoaded(_editor);
  }

  // $scope.css768EditorLoaded =
  function css768EditorLoaded(_editor) {
    aceLoaded(_editor);
  }

  // $scope.refreshEditors
  function refreshEditors() {
    // found that this routine ($scope.refreshEditors) also needs to be called from within a $timeout
    // otherwise the resizing / redrawing / rendering of the editors goes a bit screwy !
    $timeout(() => {
      $scope.editorControls.forEach((_editor) => {
        try {
          _editor.resize(true);
        } catch (ex) {
          console.log('error resizing aceEditor : ', _editor);
        }
      });
    });
  }
  // $scope.saveXML =
  function saveXML() {
    const saveFunction = () => {
      // update any popup windows
      $scope.popupWindows.forEach((win) => {
        try {
          win.location.reload();
        } catch (ex) {

          // don't care .. this just a nice to have
        }});

      $scope.activity.$saveActivity(
        (savedActivity) => {
          // remember the item we were on (if any)
          if ($scope.$parent.activityItemBasedItemId) {
            $scope.$parent.overrideItemBasedId = $scope.$parent.activityItemBasedItemId;
          }

          $scope.setCurrentActivity($routeParams);

          $scope.updateDrillItemCaption(savedActivity.id, savedActivity.tocName);

          toastr.info('Activity saved successfully.');
          $scope.refreshEditors();
        },
        (errorResults) => {
          // error results code:
          // 88 = items xml error
          // 98 = activity xml error
          if (errorResults.data.code === 98) {
            $scope.showXMLErrors(errorResults.data.errors);
            toastr.warning('Activity XML contains errors', 'Changes NOT saved!');
          } else {
            $scope.showItemsXmlErrors(errorResults.data.errors);
            toastr.warning('Items XML contains errors', 'Changes NOT saved!');
          }
          $scope.refreshEditors();
        }
      );
    };

    // use $timeout to save the activity xml
    const userMode = $scope.adminSettings.view;
    if (
    (userMode == constants_roles.GODLIKE || userMode == constants_roles.EDITOR) &&
    $scope.adminSettings.enableSave === 'y')
    {
      $timeout(() => {
        saveFunction();
      });
    }
  }

  // $scope.verifyXML();
  function verifyXML() {
    const validateFunction = () => {
      $scope.activity.$validate(
        () => {
          toastr.info('XML is valid!');
          $scope.refreshEditors();
        },
        (errorResults) => {
          // error results code:
          // 88 = items xml error
          // 98 = activity xml error
          if (errorResults.data.code === 98) {
            $scope.showXMLErrors(errorResults.data.errors);
            toastr.warning('Activity XML contains errors', 'Changes NOT saved!');
          } else {
            $scope.showItemsXmlErrors(errorResults.data.errors);
            toastr.warning('Items XML contains errors', 'Changes NOT saved!');
          }
          $scope.refreshEditors();
        }
      );
    };

    $timeout(() => {
      validateFunction();
    });
  }

  // $scope.reloadXML
  function reloadXML() {
    const msg =
    'Are you sure that you want to reload the previously saved version ?\n\nYou will lose any unsaved edits.';
    if (confirm(msg)) {
      $scope.setCurrentActivity($routeParams);
      _refreshEditors();
    }
  }

  function _refreshEditors() {
    // found that this needs to be called from an angular $timeout as things just go a bit screwy with the
    // resizing / digest loop angular does... it really is a pile of poop :(
    $timeout(() => {
      $scope.refreshEditors();
    });
  }
}

function setupActivityHtmlToXmlEditorClickHandler($scope) {
  angular.
  element('body').
  on('click', '.editPanelOpen .rcfContentContainer *[data-rcfxlocation]', function (evt) {
    const $elem = angular.element(evt.currentTarget);
    const rcfID = $elem.attr('data-rcfid');
    let txt = '';

    if ($scope.editing.xml || $scope.editing.itemsXml && !$elem.attr('contenteditable')) {
      if ($elem.hasClass('rcfText')) {
        // just find the text !
        txt = $elem.
        contents().
        filter(function () {
          return this.nodeType === 3 && this.nodeValue.trim() !== '';
        }).
        first().
        text();
      } else if ($elem.prop('tagName').toUpperCase() == 'IMG') {
        txt = $elem.attr('src').split('/').pop();
      } else {
        txt = rcfID;
      }
      if (txt) {
        // some kind of check here for focus (textinputs etc ?)
        if ($scope.editing.itemsXml) {
          $scope.searchItemsXMLEditor(txt);
        } else {
          $scope.searchXMLEditor(txt);
        }
      }
    }
  });
}

EditPanelController.$inject = ['$scope', '$routeParams', '$timeout'];

/* harmony default export */ var editPanelController = (EditPanelController);
// EXTERNAL MODULE: external "jQuery"
var external_jQuery_ = __webpack_require__(6);
var external_jQuery_default = /*#__PURE__*/__webpack_require__.n(external_jQuery_);

// CONCATENATED MODULE: ./viewer/js/viewer.utils.js
const getPageTitleFromParams = (routeParams) => {
  let title = '';

  const level = routeParams.level;
  const unit = routeParams.unit;
  const section = routeParams.section;
  const lesson = routeParams.lesson;
  const activitySet = routeParams.activitySet;
  const activity = routeParams.activity;

  if (level) {
    title = `Level ${level.padStart(2, '0')}`;
  } else {
    title = 'Viewer';
  }

  if (unit) {
    title += ` > Unit ${unit.padStart(2, '0')}`;
  }

  if (lesson) {
    title += ` > Lesson ${lesson.padStart(2, '0')}`;
  }

  if (section) {
    title += ` > Section ${section.padStart(2, '0')}`;
  }

  if (activitySet) {
    title += ` > Activity Set ${activitySet.padStart(2, '0')}`;
  }

  if (activity) {
    title += ` > Activity ${activity.padStart(2, '0')}`;
  }

  return title;
};

const getPathFromParams = (routeParams) => {
  let path = '';

  const level = routeParams.level;
  const htmlFolder = routeParams.htmlFolder;
  const htmlFile = routeParams.htmlFile;
  const referenceFolder = routeParams.referenceFolder;
  const referenceItem = routeParams.referenceItem;
  const unit = routeParams.unit;
  const lesson = routeParams.lesson;
  const section = routeParams.section;
  const activitySet = routeParams.activitySet;
  const activity = routeParams.activity;

  if (level) {
    path = `L${level}`;
  }
  if (referenceFolder) {
    path += `/R${referenceFolder}`;
    if (referenceItem) {
      path += `/${referenceItem}`;
    }
    return path;
  }
  if (htmlFolder) {
    path += `/H${htmlFolder}`;
    if (htmlFile) {
      path += `/${htmlFile}`;
    }
    return path;
  }
  if (unit) {
    path += `/U${unit.padStart(2, '0')}`;
  }
  if (lesson) {
    path += `/EL${lesson.padStart(2, '0')}`;
  }
  if (section) {
    path += `/S${section.padStart(2, '0')}`;
  }
  if (activitySet) {
    path += `/AS${activitySet.padStart(2, '0')}`;
  }
  if (activity) {
    path += `/A${activity.padStart(2, '0')}`;
  }
  return path;
};

const getMetadataPathFromRouteParams = ($routeParams) => {
  let usePath = '';
  if ($routeParams.level) {
    usePath += `Level_${$routeParams.level}`;
  }

  if ($routeParams.unit) {
    usePath += `|content|Unit_${$routeParams.unit.padStart(2, '0')}`;
  }

  if ($routeParams.lesson) {
    usePath += `|Lesson_${$routeParams.lesson.padStart(2, '0')}`;
  }

  if ($routeParams.section) {
    usePath += `|Section_${$routeParams.section.padStart(2, '0')}`;
  }

  if ($routeParams.activitySet) {
    usePath += `|ActivitySet_${$routeParams.activitySet.padStart(2, '0')}`;
  }

  return usePath;
};

const showDevModeButtons = ($scope) => {var _$scope$adminSettings;
  // return $scope.adminSettings && $scope.adminSettings.view && $scope.adminSettings.view !== 'joepublic';
  return ((_$scope$adminSettings = $scope.adminSettings) === null || _$scope$adminSettings === void 0 ? void 0 : _$scope$adminSettings.view) && $scope.adminSettings.view !== 'joepublic';
};

const activityHasJsonContent = ($scope) => {
  return $scope.activity.jsonContent;
};


// CONCATENATED MODULE: ./viewer/js/constants/pbf.js
const REPRESENTATION_TYPES = [
'video',
'audio',
'story',
'pictureStudy',
'author',
'slideshow'];
// CONCATENATED MODULE: ./viewer/js/controllers/metadata/metadataController.js






function MetadataController(
$scope,
$routeParams,
$location,
$timeout,
$rootScope,
Metadata,
createDialog,
LevelImages,
AdminSettings,
SectionMetadata)
{
  const chooseImage = (options, callback) => {
    createDialog(
      'partials/image_picker.html',
      {
        id: 'imagePicker',
        title: options.title,
        backdrop: true,
        controller: 'ImageDialogController',
        success: {
          label: 'OK',
          fn: callback
        }
      },
      {
        assets: {
          images: $scope.levelImages,
          currentLevel: $scope.currentLevel,
          chosenImage: options.existingImage
        }
      }
    );
  };

  $scope.footerShown = false;
  $scope.submitButtonDisabled = true;

  // properties
  angular.extend($scope, {
    footerShown: false,
    submitButtonDisabled: true
  });

  // methods
  angular.extend($scope, {
    init: initialiseScope,
    sortedColours,
    chooseThumbnail,
    chooseBackgroundImage,
    chooseActivitiesImage,
    chooseCourseImage,
    chooseCoverImage,
    chooseDashboardImage,
    chooseNavFlyOutImage,
    chooseCategoryImage,
    chooseCategoryBackgroundImage,
    chooseLogoImage,
    chooseScoreImage,
    chooseScoreBackgroundImage,
    saveMetaData
  });

  function initialiseScope() {
    const usePath = getMetadataPathFromRouteParams($routeParams);

    // get permissions into scope to determine button + function availability
    loadPermissionsIntoScope();

    // initialise $scope variables for the metadata controller
    angular.extend($scope, {
      activity: {},
      origValues: {},
      currentLevel: $routeParams.level,
      level: `Level_${$routeParams.level}`,
      metadataPath: usePath,
      allowableRepresentationTypes: REPRESENTATION_TYPES
    });

    // initialise $scope layout variables for the metadata controller
    angular.extend($scope.layout, {
      showEditor: false,
      marking: false,
      splitView: false
    });

    // initialise $scope editing variables for the metadata controller
    angular.extend($scope.editing, {
      xml: false,
      css: false,
      css768: false
    });

    // load metadata from the path
    loadMetaDataFromPath(usePath);

    // load the level images for the current level
    loadLevelImages($scope.currentLevel);
  }

  function loadPermissionsIntoScope() {
    AdminSettings.get().
    $promise.then((adminSettings) => {
      const isGodLikeOrEditor = [constants_roles.GODLIKE, constants_roles.EDITOR].includes(
        adminSettings.view
      );
      $scope.footerShown = isGodLikeOrEditor;
      $scope.submitButtonDisabled = !isGodLikeOrEditor;
    }).
    catch(() => {});
  }

  function loadLevelImages(level) {
    LevelImages.get(
      { level },
      (images) => {
        $scope.levelImages = images;
      },
      (errorData) => {
        alert(`error loading level images ! ${JSON.stringify(errorData)}`);
      }
    );
  }

  function loadMetaDataFromPath(path) {
    Metadata.get(
      { path },
      (metaData) => {
        // set $scope.metaData to be the loaded json
        $scope.metaData = metaData;

        // handle blink spk metadata defaults
        if ($scope.projectType === 'blink-spk') {
          $scope.metaData.activityCategories = $scope.metaData.activityCategories || [];
        }

        // handle pbf metadata defaults
        if ($scope.projectType === 'pbf' || $scope.projectType === 'abc') {
          $rootScope.backgroundImage = metaData.backgroundImage;
          angular.extend($scope.metaData, {
            educationalAlignment: $scope.metaData.educationalAlignment || [],
            keyCourseAim: $scope.metaData.keyCourseAim || [],
            skill: $scope.metaData.skill || [],
            learningObjective: $scope.metaData.learningObjective || [],
            grammarPronPoint: $scope.metaData.grammarPronPoint || [],
            lexicalSet: $scope.metaData.lexicalSet || [],
            coreVocabularyItems: $scope.metaData.coreVocabularyItems || [],
            recycledVocabularyItems: $scope.metaData.recycledVocabularyItems || [],
            vocabularyItems: $scope.metaData.vocabularyItems || [],
            printPagesReference: $scope.metaData.printPagesReference || []
          });

          //This will need changing when multiple values are allowed.
          if (metaData.alternativeSourceTypes) {
            if (
            external_jQuery_default.a.inArray(
              metaData.alternativeSourceTypes,
              $scope.alternativeSourceTypes
            ) === -1)
            {
              $scope.alternativeSourceTypes.push(metaData.alternativeSourceTypes);
            }
          }
          if (metaData.activityRepresentationType) {
            if (!REPRESENTATION_TYPES.includes(metaData.activityRepresentationType)) {
              metaData.activityRepresentationType = '';
            }
          }
        }
      },
      (errorData) => {
        if (errorData.status) {
          if (errorData.status == 404) {
            toastr.error('Cannot find metadata at that location !');
          }
        } else {
          toastr.error(`An error occurred ! \n${errorData.message || errorData}`);
        }
        $timeout(() => {
          $location.path('/');
        });
      }
    );
  }

  // necessary because of the way angular iterates
  function sortedColours(obj) {
    return obj ? Object.keys(obj) : [];
  }

  function chooseThumbnail(existingImage) {
    chooseImage({ title: 'Choose a thumbnail image', existingImage }, function () {
      $scope.metaData.thumb = this.chosenImage;
    });
  }

  function chooseBackgroundImage(existingImage) {
    chooseImage({ title: 'Choose a Background Image', existingImage }, function () {
      $scope.metaData.backgroundImage = this.chosenImage || '';
    });
  }

  function chooseActivitiesImage(existingImage) {
    chooseImage({ title: 'Choose an Activities Image', existingImage }, function () {
      $scope.metaData.activitiesImage = this.chosenImage || '';
    });
  }

  function chooseCourseImage(existingImage) {
    chooseImage({ title: 'Choose a course image', existingImage }, function () {
      $scope.metaData.courseImage = this.chosenImage;
    });
  }

  function chooseCoverImage(existingImage) {
    chooseImage({ title: 'Choose a cover image', existingImage }, function () {
      $scope.metaData.coverImage = this.chosenImage;
    });
  }

  function chooseDashboardImage(existingImage) {
    chooseImage({ title: 'Choose a dashboard image', existingImage }, function () {
      $scope.metaData.dashboardImage = this.chosenImage;
    });
  }

  function chooseNavFlyOutImage(existingImage) {
    chooseImage(
      {
        title: 'Choose a navigation fly-out image',
        existingImage
      },
      function () {
        $scope.metaData.navflyoutImage = this.chosenImage;
      }
    );
  }

  function chooseCategoryImage(existingImage, categoryToUpdate) {
    chooseImage(
      {
        title: 'Choose a category icon',
        existingImage
      },
      function () {
        $scope.metaData.activityCategories[categoryToUpdate].icon = this.chosenImage;
      }
    );
  }

  function chooseCategoryBackgroundImage(existingImage, categoryToUpdate) {
    chooseImage(
      {
        title: 'Choose a category button background',
        existingImage
      },
      function () {
        $scope.metaData.activityCategories[categoryToUpdate].background = this.chosenImage;
      }
    );
  }

  function chooseLogoImage(existingImage) {
    chooseImage(
      {
        title: 'Choose a logo image',
        existingImage
      },
      function () {
        $scope.metaData.logoImage = this.chosenImage;
      }
    );
  }

  function chooseScoreImage(existingImage) {
    chooseImage(
      {
        title: 'Choose a score image',
        existingImage
      },
      function () {
        $scope.metaData.scoreImage = this.chosenImage;
      }
    );
  }

  function chooseScoreBackgroundImage(existingImage) {
    chooseImage(
      {
        title: 'Choose a score button background image',
        existingImage
      },
      function () {
        $scope.metaData.scoreBackground = this.chosenImage;
      }
    );
  }

  function saveMetaData() {
    $scope.metaData.
    $save(
      { path: $scope.metadataPath },
      () => {
        //success) {
        toastr.info('Metadata saved successfully.');
      },
      (err) => {
        toastr.error(`Error saving metadata !\n${err.data}`);
      }
    ).
    then(() => {
      SectionMetadata.getItem(
        { level: $scope.metadataPath, searchValue: 'isNewsItem' },
        (data) => {
          $rootScope.isNewsItem = data.isNewsItem;
        }
      );
    }).
    then(() => {
      const levelMatch = window.location.hash.match(/\/L\d+/g);
      const level = levelMatch[0].replace('/L', 'Level_');

      Metadata.get({ path: level }, (metaData) => {
        $rootScope.options.feedbackOptions.delayAfterFeedbackTimeInMilliseconds =
        metaData.hasOwnProperty('instantFeedbackDelay') &&
        !!parseInt(metaData.instantFeedbackDelay) ?
        parseInt(metaData.instantFeedbackDelay) :
        1500;
      });
    });
  }
}

MetadataController.$inject = [
'$scope',
'$routeParams',
'$location',
'$timeout',
'$rootScope',
'Metadata',
'DialogFactory',
'LevelImages',
'AdminSettings',
'SectionMetadata'];


/* harmony default export */ var metadataController = (MetadataController);
// CONCATENATED MODULE: ./viewer/js/controllers/metadata/mecMetadataController.js




function MecMetadataController(
$scope,
$routeParams,
$location,
$timeout,
$rootScope,
RawMetadata,
createDialog,
AdminSettings,
MecMetadataService)
{
  $scope.footerShown = false;
  $scope.submitButtonDisabled = true;

  $scope.init = () => {
    AdminSettings.get().$promise.then((adminSettings) => {
      const isGodLikeOrEditor = [constants_roles.GODLIKE, constants_roles.EDITOR].includes(adminSettings.view);
      $scope.footerShown = isGodLikeOrEditor;
      $scope.submitButtonDisabled = !isGodLikeOrEditor;
    });

    $scope.activity = {};
    $scope.origValues = {};
    $scope.layout.showEditor = false;
    $scope.layout.marking = false;
    $scope.layout.splitView = false;
    $scope.editing = {
      xml: false,
      css: false,
      css768: false
    };

    $scope.schema = MecMetadataService.schema();

    const usePath = getMetadataPathFromRouteParams($routeParams);

    $scope.currentLevel = $routeParams.level;
    $scope.level = `Level_${$routeParams.level}`;

    $scope.metadataPath = usePath;

    RawMetadata.get(usePath).
    then((obj) => {
      const metadata = MecMetadataService.removeEmptyArrayFields(obj.metadata);
      //Set any default fields from template
      $scope.metadata = Object.assign({}, MecMetadataService.getTemplate(), metadata);
    }).
    catch((errorData) => {
      if (errorData.status) {
        if (errorData.status == 404) {
          toastr.error('Cannot find metadata at that location !');
        }
      } else {
        toastr.error(`An error occurred ! \n${errorData.message || errorData}`);
      }
      $timeout(() => {
        $location.path('/');
      });
    });
  };

  $scope.saveMetadata = () => {
    const validationErrors = MecMetadataService.validateMetadata($scope.metadata);
    if (validationErrors) {
      toastr.error(`Error validating metadata !\n${validationErrors.join(', ')}`);
      return;
    }

    $scope.metadata = MecMetadataService.filterMetadata($scope.metadata);

    const objForXml = {
      metadata: MecMetadataService.removeEmptyArrayFields($scope.metadata)
    };

    RawMetadata.post($scope.metadataPath, objForXml).
    then(() => {
      //success
      toastr.info('metadata saved successfully.');
    }).
    catch((err) => {
      toastr.error(`Error saving metadata !\n${err.data}`);
    });
  };

  $scope.addItem = (arr) => {
    arr.push('');
  };

  $scope.deleteItem = (arr, index) => {
    arr.splice(index, 1);
  };

  $scope.showTimeLimit = () =>
  $scope.metadata === undefined ?
  false :
  $scope.metadata.activityTypes[0].activityType.indexOf('Practice Test') !== -1;
}

MecMetadataController.$inject = [
'$scope',
'$routeParams',
'$location',
'$timeout',
'$rootScope',
'RawMetadata',
'DialogFactory',
'AdminSettings',
'MecMetadataService'];


/* harmony default export */ var mecMetadataController = (MecMetadataController);
// CONCATENATED MODULE: ./viewer/js/controllers/metadata/mecMetadataNewsController.js



function MecMetadataNewsController(
$scope,
$routeParams,
$location,
$timeout,
$rootScope,
RawMetadata,
createDialog,
LevelImages,
AdminSettings,
newsMetadataService)
{
  //
  const chooseImage = (options, callback) => {
    createDialog(
      'partials/image_picker.html',
      {
        id: 'imagePicker',
        title: options.title,
        backdrop: true,
        controller: 'ImageDialogController',
        success: {
          label: 'OK',
          fn: callback
        }
      },
      {
        assets: {
          images: $scope.levelImages,
          currentLevel: $scope.currentLevel,
          chosenImage: options.existingImage
        }
      }
    );
  };

  $scope.footerShown = false;
  $scope.submitButtonDisabled = true;

  $scope.init = function () {
    AdminSettings.get().$promise.then((adminSettings) => {
      const isGodLikeOrEditor = [constants_roles.GODLIKE, constants_roles.EDITOR].includes(adminSettings.view);

      $scope.footerShown = isGodLikeOrEditor;
      $scope.submitButtonDisabled = !isGodLikeOrEditor;
    });

    $scope.activity = {};
    $scope.origValues = {};
    $scope.layout.showEditor = false;
    $scope.layout.marking = false;
    $scope.layout.splitView = false;
    $scope.editing = {
      xml: false,
      css: false,
      css768: false
    };

    $scope.schema = newsMetadataService.schema();

    /*
    let usePath = '';
    if ($routeParams.level) {
    	usePath += `Level_${$routeParams.level}`;
    }
    	if ($routeParams.unit) {
    	usePath += `|content|Unit_${$routeParams.unit.padStart(2, '0')}`;
    }
    if ($routeParams.section) {
    	usePath += `|Section_${$routeParams.section.padStart(2, '0')}`;
    }
    if ($routeParams.activitySet) {
    	usePath += `|ActivitySet_${$routeParams.activitySet.padStart(2, '0')}`;
    }
    */

    const usePath = getMetadataPathFromRouteParams($routeParams);

    $scope.currentLevel = $routeParams.level;
    $scope.level = `Level_${$routeParams.level}`;
    $scope.metadataPath = usePath;

    $scope.chooseThumbnail = function (existingImage) {
      chooseImage({ title: 'Choose a thumbnail image', existingImage }, function () {
        $scope.metadata.thumbnail[0] = this.chosenImage;
      });
    };

    RawMetadata.get(usePath).
    then((obj) => {
      const metadata = newsMetadataService.removeEmptyArrayFields(obj.metadata);
      //Set any default fields from template
      $scope.metadata = Object.assign({}, newsMetadataService.getTemplate(), metadata);
    }).
    catch((errorData) => {
      if (errorData.status) {
        if (errorData.status == 404) {
          toastr.error('Cannot find metadata at that location !');
        }
      } else {
        toastr.error(`An error occurred ! \n${errorData.message || errorData}`);
      }
      $timeout(() => {
        $location.path('/');
      });
    });
  };

  LevelImages.get(
    { level: $scope.currentLevel },
    (images) => {
      $scope.levelImages = images;
    },
    (errorData) => {
      alert(`error loading level images ! ${JSON.stringify(errorData)}`);
    }
  );

  $scope.saveMetadata = () => {
    const validationErrors = newsMetadataService.validateMetadata($scope.metadata);
    if (validationErrors) {
      toastr.error(`Error validating metadata !\n${validationErrors.join(', ')}`);
      return;
    }

    $scope.metadata = newsMetadataService.filterMetadata($scope.metadata);

    const objForXml = {
      metadata: newsMetadataService.removeEmptyArrayFields($scope.metadata)
    };

    RawMetadata.post($scope.metadataPath, objForXml).
    then(() => {
      //success
      toastr.info('metadata saved successfully.');
    }).
    catch((err) => {
      toastr.error(`Error saving metadata !\n${err.data}`);
    });
  };

  $scope.addItem = (arr) => {
    arr.push('');
  };

  $scope.deleteItem = (arr, index) => {
    arr.splice(index, 1);
  };
  //
}

MecMetadataNewsController.$inject = [
'$scope',
'$routeParams',
'$location',
'$timeout',
'$rootScope',
'RawMetadata',
'DialogFactory',
'LevelImages',
'AdminSettings',
'NewsMetadataService'];


/* harmony default export */ var mecMetadataNewsController = (MecMetadataNewsController);
// CONCATENATED MODULE: ./viewer/js/controllers/modalMessage/modalMessageController.js
function ModalMessageController($scope, assets) {
  $scope.subtitle = assets.subtitle;
  $scope.jsonAnswers = assets.jsonAnswers;
}

ModalMessageController.$inject = ['$scope', 'assets'];

/* harmony default export */ var modalMessageController = (ModalMessageController);
// CONCATENATED MODULE: ./viewer/js/controllers/pageController/determineDesktopMode.js
const DESKTOP = 'desktop';
const MOBILE = 'mobile';

const determineDesktopMode = ($scope, rcfUtils) => {
  //
  const mode = rcfUtils.getDeviceMode();

  const urlParameters = new URLSearchParams(window.location.search);

  if (urlParameters.has('device')) {
    const urlDevice = urlParameters.get('device');

    if (urlDevice === MOBILE) {
      rcfUtils.setDeviceMode(MOBILE);
      $scope.isDesktopDevice = false;
      $scope.layout.isDesktopMode = false;
      return;
    }

    if (urlDevice === DESKTOP) {
      rcfUtils.setDeviceMode(DESKTOP);
      $scope.isDesktopDevice = true;
      $scope.layout.isDesktopMode = true;
      return;
    }
  }

  $scope.isDesktopDevice = rcfUtils.isDesktopDevice();

  if (rcfUtils.isMobileDevice()) {
    $scope.layout.isDesktopMode = false;
    rcfUtils.setDeviceMode(MOBILE);
  } else {
    if (!mode) {
      $scope.layout.isDesktopMode = true;
      rcfUtils.setDeviceMode(mode);
    } else {
      $scope.layout.isDesktopMode = mode == DESKTOP;
    }
  }
};

/* harmony default export */ var pageController_determineDesktopMode = (determineDesktopMode);
// CONCATENATED MODULE: ./viewer/js/controllers/pageController/initTypeKit.js
/*
	This code provided by the typekit website to load the typekit libraries etc
*/

function initTypeKit(kitId) {
  if (kitId === undefined || kitId === null || kitId === '') return;
  /* jshint ignore:start */
  var config = {
    kitId: kitId,
    scriptTimeout: 3000,
    async: true
  };
  //'Advanced embed code' adapted from code @ Typekit.com:
  var d = document;
  // eslint-disable-next-line
  var h = d.documentElement,
    t = setTimeout(function () {
      h.className = h.className.replace(/\bwf-loading\b/g, '') + ' wf-inactive';
    }, config.scriptTimeout),
    tk = d.createElement('script'),
    f = false,
    s = d.getElementsByTagName('script')[0],
    a;
  h.className += ' wf-loading';
  tk.src = 'https://use.typekit.net/' + config.kitId + '.js';
  tk.async = true;
  tk.onload = tk.onreadystatechange = function () {
    a = this.readyState;
    if (f || a && a != 'complete' && a != 'loaded') return;
    f = true;
    clearTimeout(t);
    try {
      Typekit.load(config);
    } catch (e) {
      console.log('error loading typekit font', e);
    }
  };
  s.parentNode.insertBefore(tk, s);
  /* jshint ignore:end */
}

/* harmony default export */ var pageController_initTypeKit = (initTypeKit);
// CONCATENATED MODULE: ./viewer/js/controllers/pageController/initialiseRcf.js





const initialiseRcf = (
enableFeedback,
configJSON,
FeedbackService,
rcfService,
$scope,
$rootScope,
rcfUtils) =>
{
  const minWidth768 = configJSON.data.projectSettings.minWidth768 || '1000px';

  const urlParameters = new URLSearchParams(window.location.search);
  const useVorbis = urlParameters.has('vorbis') && urlParameters.get('vorbis') !== 'n';
  const feedbackProject = (configJSON.data.projectSettings.feedbackEnabled || 'n') === 'y';
  const useStreamingVideos = urlParameters.get('useStreamingVideos') === 'y';
  let runtimeLanguage = urlParameters.get('runtimeLanguage') || '';

  if (runtimeLanguage === '') {
    // get the runtime language from the configJSON - or default to 'en'
    runtimeLanguage = configJSON.data.projectSettings.runtimeLanguage || 'en';
  }

  const rcfOptions = {
    minWidth768,
    itemMode: $scope.playingMode.current,
    storyPlayingMode: $scope.storyPlayingMode.current,
    // rcfJsPath: 'http://localhost:99/rcf_projects/rcf-sandbox/rcf-source/dist/rcf-release/build/js/',
    // rcfJsPath: '../dist/rcf-release/build/js/',
    mediaFormats: {
      audio: {
        format: !useVorbis ? 'mp3' : 'ogg'
      },
      video: {
        format: !useVorbis ? 'mp4' : 'ogv'
      }
    },
    useStreamingVideos,
    language: runtimeLanguage
  };
  $scope.layout.feedbackEnabled = feedbackProject;
  $scope.layout.marking = false;
  $scope.layout.activityPaused = false;

  if (enableFeedback && feedbackProject) {
    rcfOptions.feedbackOptions = external_jQuery_default.a.extend(
      FeedbackService.feedbackOptions,
      $rootScope.options.feedbackOptions
    );
  } else {
    rcfOptions.feedbackOptions = null;
  }

  if ($scope.activityLoaded) {
    rcfService.hideMarkedAnswers();
    rcfService.hideFeedback();
    rcfService.resetAnswers();
  }

  rcfService.initialize(rcfOptions);

  pageController_determineDesktopMode($scope, rcfUtils);

  $scope.projectType = configJSON.data.projectSettings.projectType;
  $scope.alternativeSourceTypes = configJSON.data.projectSettings.alternativeSourceTypes || [];

  pageController_initTypeKit(configJSON.data.projectSettings.typeKitId);
};

/* harmony default export */ var pageController_initialiseRcf = (initialiseRcf);
// CONCATENATED MODULE: ./viewer/js/controllers/pageController/initialiseRcfWithLevel.js


function initialiseRcfWithLevel(
level,
Metadata,
$scope,
$rootScope,
ConfigService,
FeedbackService,
rcfService,
rcfUtils)
{
  const existingDelay =
  $rootScope.options.feedbackOptions.delayAfterFeedbackTimeInMilliseconds || 1500;

  Metadata.get({ path: level }, (metaData) => {
    const newDelay =
    metaData.hasOwnProperty('instantFeedbackDelay') &&
    !!parseInt(metaData.instantFeedbackDelay) ?
    parseInt(metaData.instantFeedbackDelay) :
    1500;

    if (newDelay != existingDelay) {
      $rootScope.options.feedbackOptions.delayAfterFeedbackTimeInMilliseconds = newDelay;

      ConfigService.getConfiguration().then((configJSON) => {
        pageController_initialiseRcf(
          $scope.layout.feedbackActivated,
          configJSON,
          FeedbackService,
          rcfService,
          $scope,
          $rootScope,
          rcfUtils
        );
      });
    }
  });
}

/* harmony default export */ var pageController_initialiseRcfWithLevel = (initialiseRcfWithLevel);
// CONCATENATED MODULE: ./viewer/js/controllers/pageController/initialiseController.js


const initialiseController = (
$scope,
$rootScope,
ConfigService,
rcfUtils,
Metadata,
FeedbackService,
rcfService,
AdminSettings) =>
{
  $scope.layout.isDevMode = ConfigService.runningAsDeveloper();
  $scope.RCFVersion = rcfUtils.getVersion();

  const levelMatch = window.location.hash.match(/\/L\w+/g);

  if (levelMatch) {
    const level = levelMatch[0].replace('/L', 'Level_');
    pageController_initialiseRcfWithLevel(
      level,
      Metadata,
      $scope,
      $rootScope,
      ConfigService,
      FeedbackService,
      rcfService,
      rcfUtils
    );
  }

  AdminSettings.get({}, (adminData) => {
    $scope.adminSettings = adminData;
  });
};

/* harmony default export */ var pageController_initialiseController = (initialiseController);
// CONCATENATED MODULE: ./viewer/js/controllers/pageController/resetScopeEditingStatus.js
const resetScopeEditingStatus = (angular, $scope) => {
  // reset scope level values
  angular.extend($scope, {
    activity: {},
    origValues: {},
    currentActivity: null
  });

  // reset scope layout values
  angular.extend($scope.layout, {
    showEditor: false,
    marking: false,
    splitView: false,
    editorFullScreen: false
  });

  // reset scope editing values
  angular.extend($scope.editing, {
    xml: false,
    itemsXml: false,
    css: false,
    css768: false
  });
};

/* harmony default export */ var pageController_resetScopeEditingStatus = (resetScopeEditingStatus);
// CONCATENATED MODULE: ./viewer/js/controllers/pageController/saveCurrentPath.js
const saveCurrentPath = ($scope, $location, rcfUtils) => {
  const oldPath = rcfUtils.getCookie('oldPath');

  if (oldPath) {
    const newPath = $location.path();
    const newPaths = newPath ? newPath.split('/') : [];
    const oldPaths = oldPath ? oldPath.split('/') : [];

    if (oldPaths.length > newPaths.length) {
      if (oldPath.includes(newPath)) {
        const tmpPath = oldPaths.slice(0, newPaths.length + 1).join('/');
        $scope.oldFolder = tmpPath.substr(1);
      }
    } else {
      $scope.oldFolder = oldPath;
    }
  }
  rcfUtils.setCookie('oldPath', $location.path());
};

/* harmony default export */ var pageController_saveCurrentPath = (saveCurrentPath);
// CONCATENATED MODULE: ./viewer/js/controllers/pageController/getBasePathFromWindowLocation.js
const getBasePathFromWindowLocation = (ConfigService) => {
  const pathName = window.location.pathname;
  const paths = pathName.split('/');
  // need to change the url/path returned if running as mono repo
  const isRcfSourceMonoRepo = ConfigService.runningAsMonoRepo();

  while (true) {
    const top = paths.pop();
    if (top.toLowerCase() === 'viewer') {
      // if running in mono repo mode - do not strip the next item in the stack after 'viewer'
      if (!isRcfSourceMonoRepo) {
        paths.pop();
      }
      break;
    }
    if (top === null || paths.length === 0) {
      break;
    }
  }
  return `${paths.join('/')}/`;
};

/* harmony default export */ var pageController_getBasePathFromWindowLocation = (getBasePathFromWindowLocation);
// CONCATENATED MODULE: ./viewer/js/controllers/pageController/logic/isEditorFullScreen.js
const isEditorFullScreen = ($scope) => {
  return $scope.layout.showEditor && !$scope.layout.splitView;
};

/* harmony default export */ var logic_isEditorFullScreen = (isEditorFullScreen);
// CONCATENATED MODULE: ./viewer/js/controllers/pageController/buttons/disableShowAnswersButton.js


function disableShowAnswersButton($scope) {
  const activityJson = $scope.activity.jsonContent ?
  JSON.parse($scope.activity.jsonContent) :
  { answers: [] };

  // RCF-9714 ... hack for sftg to enable the 'show answers' button when there are no answers
  // ¯\_(ツ)_/¯
  if ($scope.projectType !== 'sftg' && activityJson.answers.length < 1) {
    return true;
  }

  if (logic_isEditorFullScreen($scope)) {
    return true;
  }

  switch ($scope.gradableType) {
    case 'open-gradable':
      if ($scope.openGradableFeedbackOption !== 'answerKeyMode') {
        return true;
      }
      return false;

    case 'open-non-gradable':
      return activityJson.answers.length > 0 ? false : true;

    case 'non-gradable':
      // enable show-answers button for 'sftg' / non-gradables
      return $scope.projectType === 'sftg' ? false : true;

    case undefined:
      return true;

    default:
      return false;
  }
}

/* harmony default export */ var buttons_disableShowAnswersButton = (disableShowAnswersButton);
// CONCATENATED MODULE: ./viewer/js/controllers/pageController/logic/hasAnswersForActivity.js
const hasAnswersForActivity = ($scope) => {
  // return true if scope activity has any json content
  return Boolean($scope.activity.jsonContent);
};

/* harmony default export */ var logic_hasAnswersForActivity = (hasAnswersForActivity);
// CONCATENATED MODULE: ./viewer/js/controllers/pageController/buttons/disableCheckAnswersButton.js



function disableCheckAnswersButton($scope, rcfService) {
  if (!logic_hasAnswersForActivity($scope)) {
    return true;
  }

  if (logic_isEditorFullScreen($scope)) {
    return true;
  }

  switch ($scope.gradableType) {
    case 'open-gradable':
    case 'non-gradable':
    case 'open-non-gradable':
    case 'answer-key':
    case undefined:
      return true;

    case 'item-based':
      return rcfService.getItemPointsAvailable($scope.activityItemBasedItemId) === 0;

    default:
      return false;
  }
}

/* harmony default export */ var buttons_disableCheckAnswersButton = (disableCheckAnswersButton);
// CONCATENATED MODULE: ./viewer/js/controllers/pageController/logic/isActivityItemBased.js
const isActivityItemBased = ($scope) =>
$scope.activity.hasItems || $scope.gradableType === 'item-based';

/* harmony default export */ var logic_isActivityItemBased = (isActivityItemBased);
// CONCATENATED MODULE: ./viewer/js/controllers/pageController/buttons/disableNextAnswerButton.js




const disableNextAnswerButton = ($scope, rcfService) => {
  // return false if no scope activity jsonContent exists

  if (!logic_hasAnswersForActivity($scope)) {
    return true;
  }

  if (logic_isEditorFullScreen($scope)) {
    return true;
  }

  if (logic_isActivityItemBased($scope)) {
    return true;
  }

  const numberOfOneByOneAnswers = rcfService.getNumberOfOneByOneAnswers(
    JSON.parse($scope.activity.jsonContent)
  );

  // only show if > 1 answer available
  return numberOfOneByOneAnswers < 2;
};

/* harmony default export */ var buttons_disableNextAnswerButton = (disableNextAnswerButton);
// CONCATENATED MODULE: ./viewer/js/controllers/pageController/buttons/disableTryAgainButton.js




const disableTryAgainButton = ($scope) => {
  if (!logic_hasAnswersForActivity($scope)) {
    return true;
  }

  if (logic_isEditorFullScreen($scope)) {
    return true;
  }

  // do not show if it's an item based activity
  if (logic_isActivityItemBased($scope)) {
    return true;
  }

  return !$scope.layout.marking;
};

/* harmony default export */ var buttons_disableTryAgainButton = (disableTryAgainButton);
// CONCATENATED MODULE: ./viewer/js/controllers/pageController/buttons/disableResetButton.js


const disableResetButton = ($scope) => {
  if (logic_isEditorFullScreen($scope)) {
    return true;
  }

  return false;
};

/* harmony default export */ var buttons_disableResetButton = (disableResetButton);
// CONCATENATED MODULE: ./viewer/js/controllers/pageController/buttons/disableDeveloperButton.js


const disableDeveloperButton = ($scope) => {
  if (logic_isEditorFullScreen($scope)) {
    return true;
  }

  return false;
};

/* harmony default export */ var buttons_disableDeveloperButton = (disableDeveloperButton);
// CONCATENATED MODULE: ./viewer/js/controllers/pageController/buttons/showNextAnswerButton.js




const showNextAnswerButton = ($scope, rcfService) => {
  // don't show if there are no answers!
  if (!logic_hasAnswersForActivity($scope)) {
    return false;
  }

  // do not show if the scope layout showEditor is shown full screen
  if (logic_isEditorFullScreen($scope)) {
    return false;
  }

  // do not show if it's an item based activity
  if (logic_isActivityItemBased($scope)) {
    return false;
  }

  const numberOfOneByOneAnswers = rcfService.getNumberOfOneByOneAnswers(
    JSON.parse($scope.activity.jsonContent)
  );

  // only show if > 1 answer available
  return numberOfOneByOneAnswers > 1;
};

/* harmony default export */ var buttons_showNextAnswerButton = (showNextAnswerButton);
// CONCATENATED MODULE: ./viewer/js/controllers/pageController/buttons/showCheckAnswersButton.js
// always shown
const showCheckAnswersButton = (/*$scope, rcfService*/) => {
  return true;
};

/* harmony default export */ var buttons_showCheckAnswersButton = (showCheckAnswersButton);
// CONCATENATED MODULE: ./viewer/js/controllers/pageController/buttons/showShowAnswersButton.js
// always show
const showShowAnswersButton = () => true;

/* harmony default export */ var buttons_showShowAnswersButton = (showShowAnswersButton);
// CONCATENATED MODULE: ./viewer/js/controllers/pageController/buttons/showTryAgainButton.js




const showTryAgainButton = ($scope) => {
  if (!logic_hasAnswersForActivity($scope)) {
    return false;
  }

  if (logic_isEditorFullScreen($scope)) {
    return false;
  }
  // do not show if it's an item based activity
  if (logic_isActivityItemBased($scope)) {
    return false;
  }

  return true;
};

/* harmony default export */ var buttons_showTryAgainButton = (showTryAgainButton);
// CONCATENATED MODULE: ./viewer/js/controllers/pageController/buttons/showResetButton.js


const showResetButton = ($scope) => {
  // should still allow reset to be shown even if there are no activity answers (games / non-gradable etc)
  if (logic_isEditorFullScreen($scope)) {
    return false;
  }

  return true;
};

/* harmony default export */ var buttons_showResetButton = (showResetButton);
// CONCATENATED MODULE: ./viewer/js/controllers/pageController/activityAssetUrl.js
const getAssetUrlFromActivity = ($activity) => {
  return $activity.attr('data-levelassetsurl');
};

const setAssetUrlOnActivity = ($activity, assetUrl) => {
  $activity.attr('data-levelassetsurl', assetUrl);
};


// EXTERNAL MODULE: ./node_modules/@rcf/universal-library-rcf-player/dist/index.js
var dist = __webpack_require__(22);

// CONCATENATED MODULE: ./viewer/js/controllers/pageController/pageController.js




























let windowId = 0;

function PageController(
$rootScope,
$scope,
$document,
$templateCache,
$route,
$routeParams,
$location,
$timeout,
$http,
breadcrumbs,
rcfService,
rcfUtils,
TableOfContents,
SectionMetadata,
Activities,
AdminSettings,
ConfigService,
FeedbackService,
Metadata)
{
  //
  $scope.$parent.rootAppLocation = window.rootAppLocation;
  $scope.$parent.levelAssetsUrl = window.levelAssetsUrl;

  const URLParameters = new URLSearchParams(window.location.search);

  const randomizeAnswersOnScreen = URLParameters.get('randomizeAnswersOnScreen') || 'none';
  const inMonoRepoMode = (URLParameters.get('rcfAsMonoRepo') || 'n') === 'y';
  const runtimeLanguage = URLParameters.get('runtimeLanguage') || 'en';
  // initialise $scope values

  angular.extend($scope, {
    // $scope.activity contains the html, xml, json, next/previous data for an activity
    activity: {},

    // original values for xml, css, css768 should the user want to revert
    origValues: {},

    // $scope.editorControls - contains the instances of the ACE editors on the page
    editorControls: [],

    // toc items
    drillItems: [],

    // $scope.layout handles the values relating to screen layout / logic
    layout: {
      isDesktopMode: false,
      isDesktopDevice: false,
      showTOCPanel: true,
      showEditor: false,
      splitView: false,
      marking: false,
      feedbackEnabled: false,
      activityPaused: false,
      activityDisabled: false,
      breadCrumbs: breadcrumbs,
      zenMode: false,
      showReferenceContentCollapsed: false
    },

    // states for editing xml, css and css768
    editing: {
      xml: true,
      itemsXml: false,
      css: false,
      css768: false
    },

    playingMode: {
      current: 'Review',
      available: ['Review']
    },
    storyPlayingMode: {
      current: 'comprehension',
      available: ['comprehension', 'reading']
    },
    // used in routing
    currentPath: null,
    // used in TOC to highlight current path
    currentActivity: null,
    // used in TOC to highlight previous path
    oldFolder: '',

    // can be watched for anything that should occur after RCF.Applicaiton.updateContent was called
    activityLoaded: false,

    loadingTocCount: 0,

    selectedPathInToc: null,

    // player options

    playerOptions: {
      availableThemes: dist["THEMES"],
      userRole: dist["USER_ROLES"].student,
      linkOrigin: dist["LINK_ORIGINS"].hotspot,
      theme: dist["THEMES"].theme1,
      language: runtimeLanguage // populate from the url parameter by default
    },
    inMonoRepoMode,
    popupWindows: []
  });

  $rootScope.options = {
    feedbackEnabled: 'n',
    feedbackOptions: {},
    randomizeAnswersOnScreen,
    showReferenceContentCollapsed: 'y'
  };

  // setup scope methods
  angular.extend($scope, {
    init: initialise,
    gotoHome,
    computeItemBasedIdClass,
    computeNavItemClass,
    disableButton,
    getBackgroundStyle,
    getItemPointsAvailableForCurrentItem,
    loadHTMLAsset,
    openActivityItemFromToc,
    pauseActivity,
    disableActivity,
    enableActivity,
    resetCache,
    resumeActivity,
    saveAdminData,
    setCurrentActivity,
    setCurrentTocPath,
    setDeviceMode,
    showButton,
    tryAgain,
    updateDrillItemCaption,
    showActivityInPlayer,
    showPlaylistInPlayer,
    openMultipleActivityPlayer,
    openSingleActivityPlayer,
    reloadToc,
    openPrintableVersion,
    openPrintablePlaylist,
    copyPathToClipboard,
    copyCurrentUrlToClipboard
  });

  // listen for rcf custom messages - we won't do anything with them - this is to ensure the messages and data are passed correctly
  // 1. game screen change messages - should include the screen name and activity id
  angular.element('html').on('rcf.game.change.screen', (event, value) => {
    console.log(new Date(), `[RCF Game Screen Change]`, value);
    if ((value === null || value === void 0 ? void 0 : value.eventName) === 'IS_PLAYING' || (value === null || value === void 0 ? void 0 : value.eventName) === 'IS_RESUMING') {
      // update the scope *outside* of this event handler!
      setTimeout(() => {
        $scope.layout.activityPaused = false;
        $scope.$apply();
      }, 1);
    }
  });

  // javascript 'CustomEvent' can't be picked up using the angular 'on' method - so we use the native 'addEventListener' method
  //
  // 2. recording messages - should include the activity id and recording data
  $document[0].addEventListener('rcf.audio.recorder.startRecording', (event) => {
    console.log(new Date(), `[RCF Audio Recorder Start Recording]`, event.detail);
  });
  // 3. recording message - starting playback of recording
  $document[0].addEventListener('rcf.audio.recorder.startPlayback', (event) => {
    console.log(new Date(), `[RCF Audio Recorder Start Playback]`, event.detail);
  });
  // 4. recording message stopRecording
  $document[0].addEventListener('rcf.audio.recorder.stopRecording', (event) => {
    console.log(new Date(), `[RCF Audio Recorder Stop Recording]`, event.detail);
  });
  // 5. recording message stopAllRecording
  $document[0].addEventListener('rcf.audio.recorder.stopAllRecording', (event) => {
    console.log(new Date(), `[RCF Audio Recorder Stop All Recording]`, event.detail);
  });
  // 6. recording message stopPlayback
  $document[0].addEventListener('rcf.audio.recorder.stopPlayback', (event) => {
    console.log(new Date(), `[RCF Audio Recorder Stop Playback]`, event.detail);
  });
  // 7. recording - change playback url
  $document[0].addEventListener('rcf.audio.recorder.changePlaybackUrl', (event) => {
    console.log(new Date(), `[RCF Audio Recorder Change Playback URL]`, event.detail);
  });

  $document[0].addEventListener('fullscreenchange', fullScreenChange);

  // RCF Player will talk to the viewer via the 'postMessage' api - which in turn will call 'updateDrillItemsWithGradebookEntries'
  window.addEventListener('message', updateDrillItemsWithGradebookEntries);

  $scope.$on('$destroy', () => {
    $document[0].removeEventListener('fullscreenchange', fullScreenChange);
    window.removeEventListener('message', updateDrillItemsWithGradebookEntries);
  });

  function reloadToc() {
    populateTocForPath(
      $scope,
      $scope.currentPath,
      TableOfContents,
      $scope.currentPath.substr(1).replace(/\//g, '|'),
      $routeParams,
      $location,
      SectionMetadata,
      $rootScope,
      $timeout
    );
  }

  function openPrintableVersion(path) {
    openPrintablePlaylist(path);
  }

  async function copyPathToClipboard() {
    const value = $scope.currentActivity || $scope.currentPath;
    await navigator.clipboard.writeText(value);
    toastr.info('Path [ ' + value + ' ] copied to clipboard');
  }

  async function copyCurrentUrlToClipboard() {
    const value = window.location.href;
    await navigator.clipboard.writeText(value);
    toastr.info('URL [ ' + value + ' ] copied to clipboard');
  }

  function openPrintablePlaylist(path) {
    const url = `rcf-print.php?playlist=${path}&runtimeLanguage=${runtimeLanguage}`;
    const width = $scope.layout.isDesktopMode ? 1024 : 390;
    const height = $scope.layout.isDesktopMode ? 1000 : 844;

    const printWindowId = `rcf-print-playlist${windowId++}`;
    $scope.popupWindows.push(openPopupWindow(url, printWindowId, window, width, height));
  }

  function getUrlParametersForExternalWindow() {
    const urlParameters = new URLSearchParams(window.location.search);
    return urlParameters.toString();
  }

  function showPlaylistInPlayer(path) {
    const urlParameters = new URLSearchParams(window.location.search);
    const rcfAsMonoRepo = urlParameters.get('rcfAsMonoRepo') || '';
    const width = $scope.layout.isDesktopMode ? 1024 : 390;
    const height = $scope.layout.isDesktopMode ? 1000 : 844;

    const url = `rcf-player.html?path=${path}&playlist=y&rcfAsMonoRepo=${rcfAsMonoRepo}&userRole=${
    $scope.playerOptions.userRole}&linkOrigin=${
    $scope.playerOptions.linkOrigin}&isDesktop=${
    $scope.layout.isDesktopMode ? 'y' : 'n'}&${
    getUrlParametersForExternalWindow()}`;

    $scope.popupWindows.push(
      openPopupWindow(url, `rcf-player${windowId++}`, window, width, height)
    );
  }

  function openMultipleActivityPlayer(path) {
    const urlParameters = new URLSearchParams(window.location.search);
    const rcfAsMonoRepo = urlParameters.get('rcfAsMonoRepo') || '';
    const runtimeLanguage = urlParameters.get('runtimeLanguage') || 'en';

    const width = $scope.layout.isDesktopMode ? 1024 : 390;
    const height = $scope.layout.isDesktopMode ? 1000 : 844;

    // const url = `rcf-multiple-activities.html?path=${path}&playlist=y&rcfAsMonoRepo=${rcfAsMonoRepo}&userRole=${
    const url = `rcf-multiple-activities.php?path=${path}&playlist=y&rcfAsMonoRepo=${rcfAsMonoRepo}&userRole=${
    $scope.playerOptions.userRole}&linkOrigin=${
    $scope.playerOptions.linkOrigin}&isDesktop=${
    $scope.layout.isDesktopMode ? 'y' : 'n'}&runtimeLanguage=${
    runtimeLanguage}`;

    $scope.popupWindows.push(
      openPopupWindow(url, `rcf-multiple-activities-${windowId++}`, window, width, height)
    );
  }

  function openSingleActivityPlayer(id) {
    const urlParameters = new URLSearchParams(window.location.search);
    const rcfAsMonoRepo = urlParameters.get('rcfAsMonoRepo') || '';

    const width = $scope.layout.isDesktopMode ? 1024 : 390;
    const height = $scope.layout.isDesktopMode ? 1000 : 844;

    const url = `rcf-popup-player.php?id=${id}&level=${$scope.currentLevel}&rcfAsMonoRepo=${rcfAsMonoRepo}`;

    const y = window.top.outerHeight / 2 + window.top.screenY - height / 2;
    const x = window.top.outerWidth / 2 + window.top.screenX - width / 2;

    return window.open(
      url,
      'reference content',
      'toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=' +
      width +
      ', height=' +
      height +
      ', top=' +
      y +
      ', left=' +
      x
    );
  }

  function showActivityInPlayer(activityPath, activityMode = '') {
    const urlParameters = new URLSearchParams(window.location.search);
    const rcfAsMonoRepo = urlParameters.get('rcfAsMonoRepo') || '';
    const runtimeLanguage = $scope.playerOptions.language; //  'en';
    const theme = $scope.playerOptions.theme;
    const linkOrigin = $scope.playerOptions.linkOrigin;
    const userRole = $scope.playerOptions.userRole;

    const width = $scope.layout.isDesktopMode ? 1024 : 390;
    const height = $scope.layout.isDesktopMode ? 1000 : 844;

    const url = `rcf-player.html?path=${activityPath}&rcfAsMonoRepo=${rcfAsMonoRepo}&userRole=${userRole}&linkOrigin=${linkOrigin}&isDesktop=${
    $scope.layout.isDesktopMode ? 'y' : 'n'}&activityMode=${
    activityMode}&${getUrlParametersForExternalWindow()}&runtimeLanguage=${runtimeLanguage}&theme=${theme}`;

    $scope.popupWindows.push(
      openPopupWindow(url, `rcf-player${windowId++}`, window, width, height)
    );
  }

  function openPopupWindow(url, windowName, win = 1024, w, h = 1000) {
    const y = win.top.outerHeight / 2 + win.top.screenY - h / 2;
    const x = win.top.outerWidth / 2 + win.top.screenX - w / 2;

    return win.open(
      url,
      windowName,
      'toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=' +
      w +
      ', height=' +
      h +
      ', top=' +
      y +
      ', left=' +
      x
    );
  }

  function fullScreenChange() {
    if (!document.fullscreenElement) {
      $scope.layout.zenMode = false;
      $scope.$apply();
    }
    console.log('[ FULL SCREEN CHANGE EVENT CAPTURED ]');
    console.log('layout.zenMode:', $scope.layout.zenMode);
    console.log('document.fullscreenElement:', document.fullscreenElement);
  }
  // capture route changes --------------------------------
  // route changed in TOC / Address Bar - handle it
  $scope.$on('$locationChangeStart', locationChangeStart);

  // route change successful
  $scope.$on('$routeChangeSuccess', routeChangeSuccess);

  // raised by rcfService.updateContent
  $scope.$on('rcf.activity.populated', () => {
    angular.extend($scope, {
      activityLoaded: true,
      gradableType: rcfService.getGradableType()
    });
    if ($scope.activityItemBasedItemId) {
      rcfService.playItem($scope.activityItemBasedItemId);
    }
    const $activity = angular.element('.activity');
    if ($activity.length > 0) {
      const interactionsInActivity = $activity.attr('data-interactions').split(' ');
      const containsStory = interactionsInActivity.includes('rcfStory');
      $scope.activity.playingStory = containsStory;
    }
    if ($scope.gradableType === 'open-gradable') {
      const userAnswers = rcfService.getUserAnswers();
      rcfService.setOpenGradableMode(
        $scope.openGradableFeedbackOption || 'default',
        userAnswers
      );
    }
  });

  // watches ----------------------------------------------
  // toggle marking on/off
  $scope.$watch('layout.marking', layoutMarkingChangedFromWatch);

  // toggle editor panel on / off
  $scope.$watch('layout.showEditor', layoutShowEditorFromWatch);

  $scope.$watch(
    'layout.showReferenceContentCollapsed',
    layoutReferenceContentCollapsibleChangeFromWatch
  );

  // toggle split view on / off
  $scope.$watch('layout.splitView', function () {
    $scope.$broadcast('refresh.editors');
  });

  // toggle TOC panel
  $scope.$watch('layout.showTOCPanel', function () {
    $scope.$broadcast('refresh.editors');
  });

  // listen for story playing mode changes
  $scope.$watch('storyPlayingMode.current', function (newValue) {
    if ($scope.activityLoaded) {
      rcfService.setStoryPlayingMode(newValue);
    }
  });

  // toggle feedback activated
  $scope.$watch('layout.feedbackActivated', layoutFeedbackActivatedFromWatch);

  // toggle zenMode on / off
  $scope.$watch('layout.zenMode', layoutZenModeFromWatch);

  // log any story events to the console
  angular.element('html').on('rcf.story.change.page', (event, value) => {
    console.log(new Date(), '[RCF Story Change Page]: ', value);
    setTimeout(() => {
      $scope.layout.marking = false;
      $scope.$apply();
    });
  });

  // SCOPE methods ------------------------------------------
  // $scope.init =
  function initialise() {
    pageController_initialiseController(
      $scope,
      $rootScope,
      ConfigService,
      rcfUtils,
      Metadata,
      FeedbackService,
      rcfService,
      AdminSettings
    );
  }

  function gotoHome() {
    $location.path('/');
  }

  // $scope.refreshCache =
  function resetCache() {
    $http.get('api.php/admin/rebuild').then(
      function onSuccess(response) {
        if (response.data.status === 'ok') {
          toastr.info('Cache Rebuilt !');
          $timeout(function () {
            window.location.reload();
          });
        }
      },
      function onError(data) {
        toastr.error('Error rebuilding cache !' + data);
      }
    );
  }

  // $scope.setDeviceMode
  function setDeviceMode(mode) {
    // handle changes to device mode
    $scope.layout.isDesktopMode = mode == 'desktop';
    rcfUtils.setDeviceMode(mode);
    $scope.setCurrentActivity($routeParams);
  }

  // $scope.loadHTMLAsset(...);
  function loadHTMLAsset(params) {
    external_jQuery_default.a.get(`api.php/level/${params.level}/html/${params.htmlFile}`, (data) => {
      angular.element('.htmlContainer').html(data);
    });
  }

  // $scope.setCurrentActivity(..);
  // load activity from the passed parameters
  function setCurrentActivity(params) {
    var chosenActivity = !external_jQuery_default.a.isEmptyObject(params);

    chosenActivity = chosenActivity && !!params.activity;
    chosenActivity = chosenActivity || !!params.referenceItem;

    var handleActivity = function (activity) {
      var answers = activity.jsonContent || '{}';

      var jsonAnswers;
      var htmlElement = angular.element('.rcfActivityContentContainer');

      try {
        jsonAnswers = JSON.parse(answers);
        if (jsonAnswers.errors && jsonAnswers.errors[0].rcfPlaceHolder) {
          jsonAnswers.errors.splice(0, 1); // remove placeholder
        }
      } catch (ex) {
        //
        alert('Error parsing the answers for this activity ! ' + answers);
      }

      if ($scope.layout.feedbackEnabled) {
        FeedbackService.initialise(JSON.parse(activity.jsonContent));
      }
      angular.extend($scope, {
        activity: activity,
        activityBreadCrumb: JSON.parse(activity.breadCrumbPath)
      });

      angular.extend($scope.origValues, {
        xml: activity.xmlContent,
        itemsXml: activity.itemsXml,
        css: activity.css,
        css768: activity.css768
      });
      angular.extend($scope.layout, {
        marking: false,
        correctAnswers: false,
        hasJsonErrors: !!jsonAnswers.errors,
        jsonErrors: !!jsonAnswers && jsonAnswers.errors ? jsonAnswers.errors : []
      });

      const htmlContent = includeStylesWithActivityHtml(activity);

      htmlElement.html(htmlContent);

      if (!htmlContent) {
        $scope.reloadingActivity = false;
        rcfService.cleanUp();
        return;
      }

      var $activity = angular.element('.activity');

      // TODO
      // not sure / can't remember why we change the level assets url data attribute here
      // suspect it was something CAPE related, but removing it seems to make no difference (and this doesn't take place in popup player either)
      //
      // Leaving it in for now as I don't want to break anything I may have overlooked - fix is in the 'getBasePathFromWindowLocation'
      // where we pass in the angular config service to determine if we are in mono repo mode or not
      //
      var basePath = pageController_getBasePathFromWindowLocation(ConfigService);
      var existingAssetUrl = getAssetUrlFromActivity($activity);
      var newAssetUrl = '';

      if (!!existingAssetUrl) {
        newAssetUrl = basePath + existingAssetUrl.replace(/\.\.\//g, '');
      }

      setAssetUrlOnActivity($activity, newAssetUrl);

      // if we have an items toc entry, record the first item id
      var activityItemsToc = activity.itemsToc;
      var activityItemBasedItemId;

      if (activityItemsToc) {
        activityItemsToc = JSON.parse(activityItemsToc);
        activityItemBasedItemId = activityItemsToc[0].id; // first one

        // override ID is set when navigating directly to a new activity and item id
        if ($scope.overrideItemBasedId) {
          activityItemBasedItemId = $scope.overrideItemBasedId;
          $scope.overrideItemBasedId = null;
        }

        if (!$scope.reloadingActivity || !$scope.activityItemBasedItemId) {
          $scope.activityItemBasedItemId = activityItemBasedItemId;
        }

        var tempBreadCrumbs = JSON.parse(activity.breadCrumbPath);
        tempBreadCrumbs.push({
          title: activityItemBasedItemId
        });
        $scope.activityBreadCrumb = tempBreadCrumbs;
      } else {
        $scope.activityItemBasedItemId = null;
      }

      $scope.reloadingActivity = false;
      // will trigger 'rcf.activity.populated' when loaded
      rcfService.update(htmlElement, $rootScope.options);

      // refresh ui
      $scope.$broadcast('refresh.editors');
    };

    var activityNotFound = function (errorData) {
      var status = errorData.status;
      $scope.reloadingActivity = false;
      if (status === 404) {
        alert(
          'Cannot find this activity, it may have been removed or the viewer cache may need rebuilding'
        );
      } else if (status == 403) {
        alert('An internal error occurred while trying to load the activity');
      }
      $timeout(function () {
        pageController_resetScopeEditingStatus(angular, $scope);
        $location.path('/');
      });
    };

    // get the activity path from the passed parameters
    if (chosenActivity) {
      var desiredActivity = getPathFromParams(params);
      $scope.reloadingActivity = desiredActivity === $scope.currentActivity;

      $scope.currentActivity = getPathFromParams(params);
      // load the activity from the server
      var path = getPathFromParams($routeParams);
      var usePath = path.replace(/\//g, '|');
      //
      // if ($scope.editing.xml) {
      if ($scope.layout.showEditor) {
        Activities.getEditableByPath({ path: usePath }, handleActivity, activityNotFound);
      } else {
        Activities.getByPath({ path: usePath }, handleActivity, activityNotFound);
      }
    } else {
      // navigated to a folder - reset layouts
      pageController_resetScopeEditingStatus(angular, $scope);
    }
  }

  // $scope.tryAgain()
  function tryAgain() {
    // get correct answers
    const correctJSON = JSON.parse($scope.activity.jsonContent);
    // get users json
    const usersJSON = rcfService.getUserAnswers();
    // get the marked answers
    const markedAnswers = RCF.MarkingEngine.getMarkedAnswers(correctJSON, usersJSON);

    // call the rcf try again api
    rcfService.tryAgain(markedAnswers);

    // update the scope
    $scope.layout.correctAnswers = false;
    $scope.layout.marking = false;
    $scope.layout.activityPaused = false;
    $scope.layout.activityDisabled = false;
  }

  // $scope.getBackgroundStyle()
  function getBackgroundStyle() {
    if ($scope.activity.backgroundImage) {
      return `background-image: url(${$scope.levelAssetsUrl}/Level_${$scope.currentLevel}/assets/images/${$scope.activity.backgroundImage});`;
    } else {
      return '';
    }
  }

  // $scope.saveAdminData();
  function saveAdminData() {
    $scope.adminSettings.$save(
      () => {
        toastr.info('Changes saved successfully');
      },
      (errorResults) => {
        toastr.warning('Error saving changes !', `Changes NOT saved : ${errorResults}`);
      }
    );
  }

  // $scope.setCurrentTocPath
  function setCurrentTocPath(navItem) {
    $scope.selectedPathInToc = navItem.location;
  }

  // $scope.pauseActivity
  function pauseActivity() {
    $scope.layout.activityPaused = true;
    rcfService.pauseActivity();
  }

  // $scope.resumeActivity
  function resumeActivity() {
    $scope.layout.activityPaused = false;
    rcfService.resumeActivity();
  }

  // $scope.disableActivity
  function disableActivity() {
    $scope.layout.activityDisabled = true;
    rcfService.disableActivity();
  }

  // $scope.enableActivity
  function enableActivity() {
    $scope.layout.activityDisabled = false;
    rcfService.enableActivity();
  }

  // $scope.computeNavItemClass
  function computeNavItemClass(navItem) {
    const finalClasses = [];
    if (!$scope.currentActivity) {
      finalClasses.push($scope.selectedPathInToc == navItem.location ? 'active' : '');
    } else {
      finalClasses.push($scope.currentActivity == navItem.location ? 'active' : '');
    }
    finalClasses.push(navItem.items && navItem.items.length > 0 ? 'hasItems' : '');

    return finalClasses.join(' ').trim();
  }

  // $scope.getItemPointsAvailableForCurrentItem
  function getItemPointsAvailableForCurrentItem() {
    return rcfService.getItemPointsAvailable($scope.activityItemBasedItemId);
  }

  // $scope.disableButton
  function disableButton(buttonName) {
    // don't worry about disabling the button if it's not visible
    if (logic_isEditorFullScreen($scope)) {
      return true;
    }

    switch (buttonName) {
      case 'show-answers':
        return buttons_disableShowAnswersButton($scope);

      case 'check-answers':
        return buttons_disableCheckAnswersButton($scope, rcfService);

      case 'next-answer':
        return buttons_disableNextAnswerButton($scope, rcfService);

      case 'try-again':
        return buttons_disableTryAgainButton($scope);

      case 'reset':
        return buttons_disableResetButton($scope);

      case 'user-answers':
      case 'show-answers-json':
      case 'get-user-answers':
      case 'get-user-item-answers':
        return buttons_disableDeveloperButton($scope);

      default:
        return false;
    }
  }

  // $scope.showButton
  function showButton(buttonName) {
    if (logic_isEditorFullScreen($scope)) {
      return false;
    }

    switch (buttonName) {
      case 'show-answers':
        return buttons_showShowAnswersButton($scope);

      case 'check-answers':
        return buttons_showCheckAnswersButton($scope, rcfService);

      case 'next-answer':
        return buttons_showNextAnswerButton($scope, rcfService);

      case 'try-again':
        return buttons_showTryAgainButton($scope);

      case 'reset':
        return buttons_showResetButton($scope);
    }
  }

  // $scope.computeItemBasedIdClass
  function computeItemBasedIdClass(navItem, itemId) {
    if ($scope.currentActivity !== navItem.location) {
      return '';
    }
    if (itemId === $scope.activityItemBasedItemId) {
      return 'active';
    }
    return '';
  }

  // ROUTE methods ------------------------------------------
  // called from locationChangeStart
  function locationChangeStart(event) {
    const isDirty =
    !!$scope.origValues.xml && $scope.origValues.xml != $scope.activity.xmlContent ||
    !!$scope.origValues.itemsXml &&
    $scope.origValues.itemsXml != $scope.activity.itemsXml ||
    $scope.origValues.css != $scope.activity.css ||
    $scope.origValues.css768 != $scope.activity.css768;

    if (isDirty && $scope.adminSettings.enableSave == 'y') {
      if (!confirm('Do you want to lose your unsaved changes ?')) {
        event.preventDefault();
      }
    }
    $scope.activityItemBasedItemId = '';
    $scope.layout.marking = false;
    $scope.layout.activityPaused = false;
    $scope.layout.activityDisabled = false;
  }

  // called from $routeChangeSucces
  function routeChangeSuccess(event, routeData) {
    // Your $routeParams-dependent logic goes here
    const routeParams = routeData.pathParams;
    let calculatedPath = '';

    $scope.pageTitle = getPageTitleFromParams(routeParams);

    $scope.openGradableFeedbackOption = 'default';

    var urlParams = angular.copy(routeParams, urlParams);

    urlParams.activity = null;

    let path = getPathFromParams(urlParams);
    path = path.replace(/\//g, '|');

    if (routeParams.level) {
      calculatedPath += `/L${routeParams.level}`;
    }

    if ($scope.currentLevel != routeParams.level && !!routeParams.level) {
      // level changed, refresh image list
      $scope.currentLevel = routeParams.level;
    }

    $scope.viewingRcfContentFolder =
    !!!routeParams.referenceFolder && !!!routeParams.htmlFolder;

    if (routeParams.referenceFolder) {
      // display it
      calculatedPath += `/R${routeParams.referenceFolder}/${routeParams.referenceItem ? routeParams.referenceItem : ''}`;
    } else if (routeParams.htmlFolder) {
      calculatedPath += `/H0${routeParams.htmlFile ? routeParams.htmlFile : ''}`;
    } else {
      if (routeParams.unit) {
        calculatedPath += `/U${routeParams.unit}`;
      }
      if (routeParams.lesson) {
        calculatedPath += `/EL${routeParams.lesson}`;
      }
      if (routeParams.section) {
        calculatedPath += `/S${routeParams.section}`;
      }
      if (routeParams.activitySet) {
        calculatedPath += `/AS${routeParams.activitySet}`;
      }
    }

    if (
    $scope.currentPath != calculatedPath &&
    !!!routeParams.referenceItem &&
    !$routeParams.htmlFile ||
    routeParams.activitySet && !routeParams.activity)
    {
      populateTocForPath(
        $scope,
        calculatedPath,
        TableOfContents,
        path,
        routeParams,
        $location,
        SectionMetadata,
        $rootScope,
        $timeout
      );
    }

    // clear down activity data if we just navigated to metadata
    if (routeParams.metadata) {
      pageController_resetScopeEditingStatus(angular, $scope);
    }

    // if we navigated to a section, check if it's a news item
    if (!!routeParams.section && $scope.projectType === 'mec') {
      SectionMetadata.getItem(
        { level: path, searchValue: 'isNewsItem' },
        (data) => {
          $rootScope.isNewsItem = data.isNewsItem;
        },
        (error) => {
          if (error.status) {
            if (error.status == 404) {
              console.log('Cannot find item in XML !');
            }
          } else {
            alert(`An error occurred ! \n${JSON.stringify(error, null, 2)}`);
          }
        }
      );
    }

    // load the activity if we have navigated to one
    if (routeParams.activity) {
      calculatedPath += `A${routeParams.activity}`;
      $scope.setCurrentActivity(routeParams);
    } else {
      $scope.showSearchPanel = false;
      if (routeParams.referenceItem) {
        $scope.setCurrentActivity(routeParams);
      } else if (routeParams.htmlFile) {
        $scope.loadHTMLAsset(routeParams);
      } else if (routeParams.metadata) {

        //
      } else {pageController_resetScopeEditingStatus(angular, $scope);
        $scope.$broadcast('refresh.editors');
      }
    }

    pageController_saveCurrentPath($scope, $location, rcfUtils);
  }

  // $watch methods -----------------------------------------
  // called from a $watch
  function layoutMarkingChangedFromWatch(newValue) {
    if (!$scope.activityLoaded) {
      return;
    }

    if (!!newValue) {
      const correctJSON = JSON.parse($scope.activity.jsonContent);
      // get user answers from RCF, *then* (promis) mark the answers, then populate them in RCF
      const usersJSON = rcfService.getUserAnswers($scope.activityItemBasedItemId);
      const markedAnswers = RCF.MarkingEngine.getMarkedAnswers(correctJSON, usersJSON);

      console.log('Correct Answers');
      console.log(correctJSON);
      console.log('User Answers');
      console.log(usersJSON);
      console.log('Marked Answers');
      console.log(markedAnswers);
      // show answers in the rcf activity
      rcfService.showMarkedAnswers(markedAnswers, $scope.activityItemBasedItemId);
      // show any feedback
      rcfService.showFeedback();

      const score = markedAnswers.score;
      let outOf = $scope.activity.availablePoints;

      if ($scope.gradableType === 'item-based') {
        outOf = rcfService.getItemPointsAvailable($scope.activityItemBasedItemId);
      }

      setTimeout(() => {
        $scope.penaliseWrongAnswers = (() => {
          const urlParameters = new URLSearchParams(window.location.search);
          if (urlParameters.has('penaliseWrongAnswers')) {
            return urlParameters.get('penaliseWrongAnswers') === 'y';
          } else {
            return false;
          }
        })();
        $scope.activity.currentScore = score;
        $scope.activity.scoreOutOf = outOf;
        $scope.layout.showScoreCard = true;
        $scope.$apply();
      });
      //
    } else {
      // hide marks
      rcfService.hideFeedback();
      rcfService.hideMarkedAnswers($scope.activityItemBasedItemId);
    }
  }

  // called from a $watch
  function layoutShowEditorFromWatch(newValue) {
    //, oldValue) {
    $scope.setCurrentActivity($routeParams);
    if (newValue) {
      angular.element('.rcfText').attr('contenteditable');
    } else {
      angular.element('.rcfText').removeAttr('contenteditable');
    }
    $scope.$broadcast('refresh.editors');
  }

  // called from a $watch
  function layoutFeedbackActivatedFromWatch(newValue) {
    ConfigService.getConfiguration().then((configJSON) => {
      pageController_initialiseRcf(
        newValue,
        configJSON,
        FeedbackService,
        rcfService,
        $scope,
        $rootScope,
        rcfUtils
      );
    });
  }

  function layoutReferenceContentCollapsibleChangeFromWatch() {
    // force reload of activity
    $rootScope.options.showReferenceContentCollapsed = $scope.layout.
    showReferenceContentCollapsed ?
    'y' :
    'n';

    $scope.setCurrentActivity($routeParams);
  }

  // called from a $watch
  function layoutZenModeFromWatch(newValue) {
    if (newValue) {
      $document[0].body.requestFullscreen();
    } else {
      $document[0].exitFullscreen().catch(() => {});
    }
  }

  // update Drill Item caption when xml is saved - better than refreshing toc of viewer
  function updateDrillItemCaption(xmlId, caption) {
    const tocItem = $scope.drillItems.find((drillItem) => drillItem.xmlID === xmlId);
    if (tocItem) {
      const folderName = tocItem.name.substr(0, tocItem.name.indexOf('-'));
      tocItem.name = `${folderName} - ${caption}`;
    }
  }

  function openActivityItemFromToc(itemId, activityLocation) {
    $scope.layout.marking = false;
    $scope.layout.activityPaused = false;
    $scope.layout.activityDisabled = false;

    if ($scope.currentActivity !== activityLocation) {
      $scope.overrideItemBasedId = itemId;
      $scope.activityItemBasedItemId = itemId;
      $location.path(activityLocation);
    } else {
      $scope.layout.marking = false;
      $scope.layout.correctAnswers = false;
      $scope.activityItemBasedItemId = itemId;
      $scope.$broadcast('searchXmlItems', itemId);
      rcfService.playItem(itemId);
    }
  }

  function updateDrillItemsWithGradebookEntries(event) {
    if (event.data !== 'answers-saved') {
      return;
    }
    const lmsKeyPrefix = `${window.location.pathname.
    split('/').
    slice(0, -1).
    join('/')}/rcf-player.html/path=`;

    // check for gradebook entries
    $scope.drillItems.
    filter((drillItem) => drillItem.type === 'activity').
    forEach((drillItem) => {
      const location = drillItem.location;
      const lmsKey = `${lmsKeyPrefix}${location}`;
      drillItem.gradebookEntry = window.localStorage.getItem(lmsKey) ? true : false;
    });

    $scope.$apply();
  }
}

PageController.$inject = [
'$rootScope',
'$scope',
'$document',
'$templateCache',
'$route',
'$routeParams',
'$location',
'$timeout',
'$http',
'Breadcrumbs',
'RcfService',
'RcfUtils',
'TableOfContents',
'SectionMetadata',
'Activities',
'AdminSettings',
'ConfigService',
'FeedbackService',
'Metadata'];


/* harmony default export */ var pageController = (PageController);

function populateTocForPath(
$scope,
currentPath,
TableOfContents,
path,
routeParams,
$location,
SectionMetadata,
$rootScope,
$timeout)
{
  $scope.currentPath = currentPath;
  // load the new TOC value
  // $scope.loadingToc = true;
  $scope.loadingTocCount++;

  TableOfContents.get(
    { path: path },
    function (navItems) {
      const lmsKeyPrefix = `${window.location.pathname.
      split('/').
      slice(0, -1).
      join('/')}/rcf-player.html/path=`;

      // check for gradebook entries
      navItems.
      filter((navItem) => navItem.type === 'activity').
      forEach((navItem) => {
        const location = navItem.location;
        const lmsKey = `${lmsKeyPrefix}${location}`;
        if (window.localStorage.getItem(lmsKey)) {
          navItem.gradebookEntry = true;
        }
      });

      // update any reference content or html content links
      navItems.
      filter((navItem) => {
        return navItem.isReferenceContent || navItem.isHtmlContent;
      }).
      forEach((navItem) => {
        const prefix = navItem.isReferenceContent ? 'R' : 'H';
        navItem.location = `/L${$scope.currentLevel}/${prefix}0`;
      });

      $scope.loadingTocCount--;

      var firstNavItem = navItems[0];

      if (
      !!firstNavItem && (
      firstNavItem.type == 'activity' ||
      firstNavItem.type == 'reference' ||
      firstNavItem.type == 'html') &&
      !!!routeParams.activity &&
      !!!routeParams.referenceItem)
      {
        if (!routeParams.metadata) {
          $location.path(firstNavItem.location);
        } else {
          $scope.selectedPathInToc = $location.path();
        }
        // force first activity to be loaded
      }

      // populate the drill items, and add any extras as required (reference content / meta data etc)
      $scope.drillItems = navItems;

      if (routeParams.activitySet) {
        SectionMetadata.getItem(
          { level: path, searchValue: 'isNewsItem' },
          function (data) {
            if ($scope.projectType === 'mec' && data.isNewsItem === 'y') {
              $rootScope.isNewsItem = data.isNewsItem;
              $scope.drillItems.push({
                name: 'METADATA (MEC)',
                location:
                '/L' +
                routeParams.level +
                '/U' +
                routeParams.unit + (
                routeParams.lesson ? `/EL${routeParams.lesson}` : '') + (
                routeParams.section ? `/S${routeParams.section}` : '') +
                '/AS' +
                routeParams.activitySet +
                '/M-LM-NI0'
              });
            } else if ($scope.projectType === 'mec' && $rootScope.isNewsItem !== 'y') {
              $scope.drillItems.push({
                name: 'METADATA (MEC)',
                location:
                '/L' +
                routeParams.level +
                '/U' +
                routeParams.unit + (
                routeParams.lesson ? `/EL${routeParams.lesson}` : '') + (
                routeParams.section ? `/S${routeParams.section}` : '') +
                '/AS' +
                routeParams.activitySet +
                '/M-LM0'
              });
            } else {
              $scope.drillItems.push({
                name: 'METADATA',
                items: [],
                location:
                '/L' +
                routeParams.level +
                '/U' +
                routeParams.unit + (
                routeParams.lesson ? `/EL${routeParams.lesson}` : '') + (
                routeParams.section ? `/S${routeParams.section}` : '') +
                '/AS' +
                routeParams.activitySet +
                '/M0'
              });
            }

            // add the 'multistep' link
            $scope.drillItems.push({
              name: 'MULTISTEP VIEW',
              location: `/L${routeParams.level}/U${routeParams.unit}${routeParams.lesson ? `/EL${routeParams.lesson}` : ''}${
              routeParams.section ? `/S${routeParams.section}` : ''}/AS${
              routeParams.activitySet}`,
              multiStepLink: true
            });
          }
        );
      }
    },
    (error) => {
      $scope.loadingTocCount--;
      if (error.status) {
        if (error.status == 404) {
          alert('Cannot find content at that location !');
        }
      } else {
        alert(`An error occurred ! \n${JSON.stringify(error, null, 2)}`);
      }
      $timeout(() => {
        $location.path('/');
      });
    }
  );
}

const includeStylesWithActivityHtml = (activity) => {
  let activityStyles = '';
  if (activity.css) {
    activityStyles = `
			<style id="mobStyleCSS">
				${activity.css}
			</style>
		`;
  }

  if (activity.css768) {
    activityStyles += `
			<style id="desktopStyleCSS">
				@media screen and (min-width: ${activity.mq768}) {
				${activity.css768}
				}
			</style>
		`;
  }

  return `
		${activityStyles}
		${activity.htmlContent}
	`.trim();
};
// EXTERNAL MODULE: ./node_modules/core-js/modules/esnext.iterator.map.js
var esnext_iterator_map = __webpack_require__(141);

// CONCATENATED MODULE: ./viewer/js/controllers/gradebook/gradebookController.js
function GradebookController($scope, DialogFactory) {
  $scope.init = initialiseScope;

  $scope.deleteItemFromGradebook = (itemKey) => {
    window.localStorage.removeItem(itemKey);
    $scope.gradebook = $scope.gradebook.filter((item) => item.id !== itemKey);
    setTimeout(() => {
      $scope.$apply();
    }, 100);
  };

  $scope.clearGradebook = () => {
    if (!confirm('Are you sure you want to clear the gradebook?')) {
      return;
    }

    const lmsKeyPrefix = `${window.location.pathname.
    split('/').
    slice(0, -1).
    join('/')}/rcf-player.html/path=`;

    Object.keys(window.localStorage).forEach((key) => {
      if (key.startsWith(lmsKeyPrefix)) {
        $scope.deleteItemFromGradebook(key);
      }
    });

    $scope.drillItems.forEach((drillItem) => drillItem.gradebookEntry = false);

    DialogFactory({
      id: 'gradebook-cleared',
      title: 'Gradebook',
      backdrop: true,
      template: '<p>RCF Player gradebook has been cleared</p>',
      footerTemplate: '<span class="viewerSingleButton" ng-click="$modalSuccess()">OK</span>',
      css: {
        top: '25%',
        left: '40%',
        right: '40%',
        'border-radius': '4px'
      }
    });
  };

  function initialiseScope() {
    // build the lms key prefix for the gradebook
    const lmsKeyPrefix = `${window.location.pathname.
    split('/').
    slice(0, -1).
    join('/')}/rcf-player.html/path=`;

    $scope.gradebook = Object.keys(window.localStorage)
    // only get the localstorage items with the lms prefix so we don't cross contaminate projects on same machine / port / origin
    .filter((key) => key.startsWith(lmsKeyPrefix))
    // return a structure we can easily use in the gradebook
    .map((key) => {
      // get the answer from the gradebook
      const savedAnswer = JSON.parse(window.localStorage.getItem(key));
      // return the structure for the gradebook item
      return {
        id: key,
        title: savedAnswer.activityTitle,
        location: savedAnswer.activitySetId,
        score: Number(savedAnswer.score || 0) + Number(savedAnswer.userScore || 0),
        maxScore: savedAnswer.maxScore || 0,
        duration: savedAnswer.durationInSeconds
      };
    })
    // sort them alphabetically by location
    .sort((a, b) => a.location.localeCompare(b.location));
    console.log('gradebook : ', $scope.gradebook);
  }
}

GradebookController.$inject = ['$scope', 'DialogFactory'];

/* harmony default export */ var gradebookController = (GradebookController);
// CONCATENATED MODULE: ./viewer/js/controllers/ProjectController/index.js
function ProjectController($scope, $timeout, $http) {
  $scope.init = initialiseScope;

  function initialiseScope() {
    $http.get('api.php/project').then(
      (response) => {
        const {
          projectName,
          projectVersion,
          projectType,
          mobileDragDrop,
          dropDownListOutput,
          stickyWordPools,
          wordPoolPosition,
          fixedWordPools,
          collapsibleWordPools,
          penaliseWrongAnswers,
          disableOpenGradableTeacherComments
        } = response.data;

        angular.extend($scope, {
          projectName,
          projectVersion,
          projectType,
          mobileDragDrop: mobileDragDrop === 'y',
          wordPoolPosition: wordPoolPosition || 'default',
          dropDownListOutput: dropDownListOutput === 'y',
          stickyWordPools: stickyWordPools === 'y',
          fixedWordPools: fixedWordPools === 'y',
          collapsibleWordPools: collapsibleWordPools === 'y',
          penaliseWrongAnswers: penaliseWrongAnswers === 'y',
          disableOpenGradableTeacherComments: disableOpenGradableTeacherComments === 'y'
        });
      },
      (error) => {
        alert(`error getting project details ${error}`);
      }
    );
  }
}

ProjectController.$inject = ['$scope', '$timeout', '$http'];

/* harmony default export */ var controllers_ProjectController = (ProjectController);
// CONCATENATED MODULE: ./viewer/js/controllers/toolbar/logic/toggleEditorPanel.js
const toggleEditorPanel = ($scope) => {
  // toggle the layout.showEditor flag
  $scope.layout.showEditor = !$scope.layout.showEditor;

  if (!$scope.layout.showEditor) {
    $scope.layout.editorFullScreen = false;
  }

  // set the editing status
  $scope.editing = {
    xml: $scope.layout.showEditor,
    css: false,
    css768: false
  };

  // set the splitview status
  $scope.layout.splitView = $scope.layout.showEditor;
};

/* harmony default export */ var logic_toggleEditorPanel = (toggleEditorPanel);
// CONCATENATED MODULE: ./viewer/js/controllers/toolbar/toolbarController.js






let showNextWillReset = false;

function ToolbarController($scope, $location, rcfService, createDialog) {
  angular.extend($scope, {
    init: initialiseScope,
    showNextAnswer,
    showAnswers,
    toggleCorrectAnswers,
    showUsersAnswers,
    toggleMarks,
    resetAnswers,
    toggleEditor,
    // toggleXml,
    showAnswersJSON,
    showUsersAnswersJSON,
    showPopupPlayer,
    showReferencePlayer,
    verifyActivity,
    editXML,
    editItemsXml,
    editCSS,
    editCSS768,
    openGradableFeedbackOption: '',
    replaceRecordingAudio: true,
    previousRcfTocItem,
    nextRcfTocItem,
    toggleReplaceAudioValue,
    showDeveloperModeButtons
  });

  function initialiseScope() {
    $scope.layout.showTOCPanel = true;
  }

  function showNextAnswer() {
    $scope.layout.marking = false;
    $scope.layout.activityPaused = false;
    $scope.layout.activityDisabled = false;

    if (!showNextWillReset) {
      $scope.layout.correctAnswers = true;
    } else {
      showNextWillReset = $scope.layout.correctAnswers = false;
    }

    rcfService.hideMarkedAnswers();
    const hasMoreAnswers = rcfService.showNextAnswer(JSON.parse($scope.activity.jsonContent));
    if (hasMoreAnswers === false) {
      showNextWillReset = true;
    }
    if (window.console) {
      console.log(`Has More Answers : ${hasMoreAnswers}`);
    }
  }

  function showDeveloperModeButtons() {
    return showDevModeButtons($scope);
  }

  function previousRcfTocItem() {
    if ($scope.activityItemBasedItemId) {
      const items = JSON.parse($scope.activity.itemsToc);
      const itemId = previousTocItemId(items, $scope.activityItemBasedItemId);
      if (itemId) {
        $scope.openActivityItemFromToc(itemId, $scope.currentActivity);
        return;
      }
    }
    $scope.reloadingActivity = true;
    $location.path($scope.activity.prevActivityID);
  }

  function nextRcfTocItem() {
    if ($scope.activityItemBasedItemId) {
      const items = JSON.parse($scope.activity.itemsToc);
      const itemId = nextTocItemId(items, $scope.activityItemBasedItemId);

      if (itemId) {
        $scope.openActivityItemFromToc(itemId, $scope.currentActivity);
        return;
      }
    }
    $scope.reloadingActivity = true;
    $location.path($scope.activity.nextActivityID);
  }

  function itemPosition(itemsArray, itemId) {
    return itemsArray.findIndex((item) => item.id === itemId);
  }

  function nextTocItemId(itemsArray, itemId) {
    const itemPos = itemPosition(itemsArray, itemId);
    if (itemPos > -1 && itemPos < itemsArray.length - 1) {
      return itemsArray[itemPos + 1].id;
    }
    return null;
  }

  function previousTocItemId(itemsArray, itemId) {
    const itemPos = itemPosition(itemsArray, itemId);
    if (itemPos > 0) {
      return itemsArray[itemPos - 1].id;
    }
    return null;
  }

  function showAnswers() {
    rcfService.hideMarkedAnswers();
    rcfService.showCorrectAnswers(
      JSON.parse($scope.activity.jsonContent),
      $scope.activityItemBasedItemId
    );
    $scope.layout.correctAnswers = true;
    $scope.layout.activityPaused = false;
    $scope.layout.activityDisabled = false;
  }

  function toggleCorrectAnswers() {
    $scope.layout.correctAnswers = !$scope.layout.correctAnswers;
  }

  function showUsersAnswers() {
    $scope.layout.correctAnswers = false;
    $scope.layout.activityPaused = false;
    $scope.layout.activityDisabled = false;
    rcfService.showUserAnswers($scope.activityItemBasedItemId);
  }

  function toggleMarks() {
    $scope.layout.marking = !$scope.layout.marking;
    $scope.layout.activityPaused = false;
    $scope.layout.activityDisabled = false;
  }

  function resetAnswers() {
    const resetScope = () => {
      rcfService.resetAnswers();
      rcfService.enableActivity();

      angular.
      element('.desktopContentContainer').
      removeClass('showingFeedback activityComplete');

      $scope.layout.correctAnswers = false;
      $scope.layout.marking = false;
      $scope.layout.activityPaused = false;
      $scope.layout.activityDisabled = false;
    };

    rcfService.hideMarkedAnswers($scope.activityItemBasedItemId);
    rcfService.hideFeedback();

    // set this first as it will update the ui / audio answers etc - reset needs to be done *AFTER* this call

    console.log($scope.activity.gradable);

    if ($scope.activity.gradable === 'open-gradable') {
      // reset the answers on the next 'tick' - will give the 'openGradableFeedbackOption' time to update
      $scope.openGradableFeedbackOption = 'default';
      setTimeout(() => {
        resetScope();
      });
    } else {
      resetScope();
    }
  }

  function toggleReplaceAudioValue() {
    $scope.replaceRecordingAudio = !$scope.replaceRecordingAudio;
    resetAnswers();
  }

  function toggleEditor() {
    logic_toggleEditorPanel($scope);
  }

  function showAnswersJSON() {
    //
    createDialog(
      'partials/jsonanswers.html',
      {
        id: 'jsonAnswer',
        title: 'Answers JSON Object',
        backdrop: 'true',
        controller: 'ModalMessageController',
        footerTemplate:
        '<span class="viewerSingleButton" ng-click="$modalSuccess()">{{$modalSuccessLabel}}</span>',
        success: {
          label: 'OK'
        }
      },
      {
        assets: {
          subtitle: 'JSON Generated for this Activity',
          jsonAnswers: $scope.activity.jsonContent
        }
      }
    );
  }

  function showUsersAnswersJSON(activityItemBasedItemId) {
    //
    $scope.activity.usersJSON = '';
    //
    $scope.activity.usersJSON = JSON.stringify(
      rcfService.getUserAnswers(activityItemBasedItemId),
      (key, value) => {
        switch (key) {
          case 'audioBase64':
            return '... base 64 string (not shown) ...';
          case 'drawing':
            return '... compressed drawing paths (not shown) ...';
          default:
            return value;
        }
      },
      2
    );

    createDialog(
      'partials/jsonanswers.html',
      {
        id: 'userJSON',
        title: 'Users Answers JSON',
        backdrop: 'true',
        controller: 'ModalMessageController',
        footerTemplate:
        '<span class="viewerSingleButton" ng-click="$modalSuccess()">{{$modalSuccessLabel}}</span>',
        success: {
          label: 'OK'
        }
      },
      {
        assets: {
          subtitle: 'Answers generated JSON',
          jsonAnswers: $scope.activity.usersJSON
        }
      }
    );
  }

  function getUrlParametersForExternalWindow() {
    const urlParameters = new URLSearchParams(window.location.search);
    return urlParameters.toString();
  }

  function showPopupPlayer() {
    const urlParameters = new URLSearchParams(window.location.search);
    const useStreamingVideos = urlParameters.get('useStreamingVideos') || '';
    const runningAsMonoRepoParameter =
    external_jQuery_default()('html').attr('data-rcf-monorepo') === 'rcf-monorepo' ? '&rcfAsMonoRepo=y' : '';
    const deviceParameter = `&device=${$scope.layout.isDesktopMode ? 'desktop' : 'mobile'}`;
    const itemParameter = $scope.activityItemBasedItemId ?
    `&item=${$scope.activityItemBasedItemId}` :
    '';
    const openGradable =
    $scope.openGradableFeedbackOption !== '' ?
    `&openGradableFeedbackOption=${$scope.openGradableFeedbackOption}` :
    '';
    const feedbackParameter = $scope.layout.feedbackActivated ? '&feedback=y' : '';
    const title = 'Activity Player';
    const url =
    // 'popup_player.php?id=' +
    'rcf-popup-player.php?id=' +
    $scope.activity.id +
    itemParameter +
    deviceParameter +
    '&level=' +
    $scope.currentLevel +
    '&useStreamingVideos=' +
    useStreamingVideos +
    feedbackParameter +
    openGradable +
    runningAsMonoRepoParameter + (
    $scope.gradableType === 'story' ?
    `&storyPlayingMode=${$scope.storyPlayingMode.current}` :
    '') +
    `&${getUrlParametersForExternalWindow()}`;

    popupWindow(url, title, window, 1024, 800);
  }

  function showReferencePlayer(referenceId) {
    const runningAsMonoRepoParameter =
    external_jQuery_default()('html').attr('data-rcf-monorepo') === 'rcf-monorepo' ? '&rcfAsMonoRepo=y' : '';
    const url = `rcf-popup-player.php?id=${referenceId}&level=${$scope.currentLevel}${runningAsMonoRepoParameter}`;
    popupWindow(url, 'Reference Player', window, 1024, 800);
  }

  function popupWindow(url, windowName, win, w, h) {
    const y = win.top.outerHeight / 2 + win.top.screenY - h / 2;
    const x = win.top.outerWidth / 2 + win.top.screenX - w / 2;

    return win.open(
      url,
      windowName,
      'toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=' +
      w +
      ', height=' +
      h +
      ', top=' +
      y +
      ', left=' +
      x
    );
  }

  function verifyActivity() {
    const answerJSON = JSON.stringify(JSON.parse($scope.activity.jsonContent), null, 2);
    rcfService.showCorrectAnswers(JSON.parse($scope.activity.jsonContent));
    const userJSON = JSON.stringify(
      rcfService.getUserAnswers($scope.activityItemBasedItemId),
      null,
      2
    );

    let valid = userJSON == answerJSON;
    if (!valid) {
      valid = angular.element('.mark.wrong').length === 0;
    }
    alert(`Activity is ${valid ? ' valid' : ' not valid!!!'}`);
  }

  function editXML() {
    $scope.editing = {
      xml: true,
      itemsXml: false,
      css: false,
      css768: false
    };
    $scope.$broadcast('refresh.editors');
  }

  function editItemsXml() {
    $scope.editing = {
      xml: false,
      itemsXml: true,
      css: false,
      css768: false
    };
    $scope.$broadcast('refresh.editors');
  }

  function editCSS() {
    $scope.editing = {
      xml: false,
      itemsXml: false,
      css: true,
      css768: false
    };
    $scope.$broadcast('refresh.editors');
  }

  function editCSS768() {
    $scope.editing = {
      xml: false,
      itemsXml: false,
      css: false,
      css768: true
    };
    $scope.$broadcast('refresh.editors');
  }

  $scope.$watch('openGradableFeedbackOption', function (newValue) {
    if ($scope.activityLoaded === false) return;
    const answerState = rcfService.getTeacherFeedback();
    fixAudioUrls(answerState);
    rcfService.setOpenGradableMode(newValue, answerState);
  });

  function fixAudioUrls(answerState) {
    //Replace any audio base64 content with fixed audio file, just for
    //authoring / test purposes
    answerState.answers.forEach(fixAudioUrl);
  }

  function fixAudioUrl(answer) {
    if ($scope.replaceRecordingAudio) {
      if (
      answer.value !== undefined &&
      answer.value.user !== undefined &&
      answer.value.user.audioBase64 !== undefined)
      {
        delete answer.value.user.audioBase64;
        answer.value.user.audioUrl = './audio/student-recording.mp3';
      }
      if (
      answer.value !== undefined &&
      answer.value.teacher !== undefined &&
      answer.value.teacher.audioBase64 !== undefined)
      {
        delete answer.value.teacher.audioBase64;
        answer.value.teacher.audioUrl = './audio/teacher-recording.mp3';
      }
    } else {
      if (answer.value && answer.value.user && answer.value.user.audioUrl) {
        delete answer.value.user.audioUrl;
      }
      if (answer.value && answer.value.teacher && answer.value.teacher.audioUrl) {
        delete answer.value.teacher.audioUrl;
      }
    }
  }
}

ToolbarController.$inject = ['$scope', '$location', 'RcfService', 'DialogFactory'];

/* harmony default export */ var toolbarController = (ToolbarController);
// CONCATENATED MODULE: ./viewer/js/filters/imageFileNameFilter.js
const imageFileNameFilter = () => {
  return (input) => {
    if (!!input && input.includes('/')) {
      return input.split('/').pop();
    } else {
      return input;
    }
  };
};

/* harmony default export */ var filters_imageFileNameFilter = (imageFileNameFilter);
// CONCATENATED MODULE: ./viewer/js/services/feedback/feedbackService.js
/*
	when values are to be injected, we need to use a *proper* (not arrow) function so that its prototype can be extended
	with the injected values - or we could wrap this as a class
*/

function feedbackService_FeedbackService(rcfService) {
  let correctAnswers;

  return {
    feedbackOptions: {
      delayAfterFeedbackTimeInMilliseconds: 3000,
      resetAfterFeedback: true,
      onAnswerChanged,
      onFeedbackComplete
    },
    initialise
  };

  // need to keep a copy of the correct answers!
  function initialise(jsonCorrectAnswers) {
    correctAnswers = jsonCorrectAnswers;
  }

  // called from RCF via callback when user answer changes
  function onAnswerChanged(userAnswers) {
    if (!correctAnswers) {
      throw 'Error: Player did not pass correctAnswers object to feedback module';
    }

    const markedAnswers = rcfService.getMarkedAnswers(correctAnswers, userAnswers);

    angular.element('.desktopContentContainer').addClass('showingFeedback');

    rcfService.provideFeedback(markedAnswers);

    showActivityCompleteFeedback(hasActivityBeenCompleted(correctAnswers));

    rcfService.disableActivity();
  }

  function onFeedbackComplete() {
    if (!hasActivityBeenCompleted(correctAnswers)) {
      angular.element('.desktopContentContainer').removeClass('showingFeedback');
      rcfService.enableActivity();
    }
  }

  function hasActivityBeenCompleted(correctAnswers) {
    const hasActivityBeenAttempted = rcfService.hasActivityBeenAttempted();
    if (!hasActivityBeenAttempted) {
      return false;
    }

    const userAnswers = RCF.Application.getUserAnswers();

    return isActivityComplete(correctAnswers, userAnswers);
  }

  function isActivityComplete(correctAnswers, userAnswers) {
    const markedAnswers = rcfService.getMarkedAnswers(correctAnswers, userAnswers);
    const pointsAvailable = rcfService.getPointsAvailable();

    return Number(pointsAvailable) === Number(markedAnswers.score);
  }

  function showActivityCompleteFeedback(isActivityComplete) {
    if (isActivityComplete) {
      angular.element('.desktopContentContainer').addClass('activityComplete');
    }
  }
}

feedbackService_FeedbackService.$inject = ['RcfService'];

/* harmony default export */ var feedbackService = (feedbackService_FeedbackService);
// EXTERNAL MODULE: ./node_modules/core-js/modules/esnext.iterator.reduce.js
var esnext_iterator_reduce = __webpack_require__(78);

// CONCATENATED MODULE: ./viewer/js/services/mecServices/mecMetadataService.js
function mecMetadataService_MecMetadataService() {
  return {
    schema: getSchema,
    filterMetadata: filterMetadata,
    validateMetadata: validateMetadata,
    getTemplate: getTemplate,
    removeEmptyArrayFields: removeEmptyArrayFields
  };
}

const schema = {
  activityTypes: [
  '',
  'Exam Preparation Exercise',
  'Game',
  'Grammar Reference Unit',
  'Integrated Skills Activity',
  'Language Exercise',
  'Listening Activity',
  'News Item',
  'Pronunciation Activity',
  'Reading Activity',
  'Sample Essay',
  'Speaking Activity',
  'Vocabulary Activity',
  'Web Project',
  'Writing Activity',
  'Practice Test',
  'Test Compiler Activity'],

  groups: ['', 'Business', 'EAP', 'Video'],
  levels: [
  '',
  'starter',
  'beginner',
  'elementary',
  'preIntermediate',
  'intermediate',
  'upperIntermediate',
  'advanced'],

  ages: ['', 'Teenager', 'Adult'],
  dialect: ['', 'British English', 'American English'],
  contentSets: [
  '',
  'CS_CULTURA',
  'CS_BRI_SE',
  'CS_AM_SE',
  'CS_BRI_MBC',
  'CS_AM_MBC',
  'CS_MPO',
  'CS_IndiaOnly'],

  exams: [
  '',
  'B1 Preliminary',
  'B1 Business Preliminary',
  'B2 Business Vantage',
  'C1 Business Higher',
  'A2 Key',
  'B2 First',
  'C1 Advanced',
  'C2 Proficiency',
  'IELTS',
  'TOEFL',
  'TOEIC',
  'TOEIC Bridge'],

  cefrLevels: ['A1', 'A2', 'A2+', 'B1', 'B1+', 'B2', 'B2+', 'C1', 'C2']
};

const template = {
  id: [],
  title: [],
  subtitle: [],
  description: [],
  activityTypes: [
  {
    activityType: []
  }],

  topics: [
  {
    topic: []
  }],

  groups: [
  {
    group: []
  }],

  levels: [
  {
    level: []
  }],

  exam: [],
  ages: [
  {
    age: []
  }],

  dialect: [],
  contentSets: [
  {
    contentSet: []
  }],

  cefrLevels: [
  {
    cefrLevel: []
  }],

  grammarReferences: [
  {
    grammarReference: []
  }],

  timeLimitDuration: []
};

function getTemplate() {
  return JSON.parse(JSON.stringify(template));
}

const metadataFields = [
{
  get: function (metadata) {
    return metadata.activityTypes[0].activityType;
  },
  set: function (metadata, value) {
    metadata.activityTypes[0].activityType = value;
  },
  name: 'activityType',
  enumeration: arrayToObjectKeys(schema.activityTypes),
  delete: function (metadata) {
    delete metadata.activityTypes;
  }
},
{
  get: function (metadata) {
    return metadata.topics[0].topic;
  },
  set: function (metadata, value) {
    metadata.topics[0].topic = value;
  },
  name: 'topic',
  delete: function (metadata) {
    delete metadata.topics;
  }
},
{
  get: function (metadata) {
    return metadata.groups[0].group;
  },
  set: function (metadata, value) {
    metadata.groups[0].group = value;
  },
  name: 'group',
  enumeration: arrayToObjectKeys(schema.groups),
  delete: function (metadata) {
    delete metadata.groups;
  }
},
{
  get: function (metadata) {
    return metadata.levels[0].level;
  },
  set: function (metadata, value) {
    metadata.levels[0].level = value;
  },
  name: 'level',
  enumeration: arrayToObjectKeys(schema.levels),
  delete: function (metadata) {
    delete metadata.levels;
  }
},
{
  get: function (metadata) {
    return metadata.ages[0].age;
  },
  set: function (metadata, value) {
    metadata.ages[0].age = value;
  },
  name: 'age',
  enumeration: arrayToObjectKeys(schema.ages),
  delete: function (metadata) {
    delete metadata.ages;
  }
},
{
  get: function (metadata) {
    return metadata.contentSets[0].contentSet;
  },
  set: function (metadata, value) {
    metadata.contentSets[0].contentSet = value;
  },
  name: 'contentSet',
  enumeration: arrayToObjectKeys(schema.contentSets),
  delete: function (metadata) {
    delete metadata.contentSets;
  }
},
{
  get: function (metadata) {
    return metadata.grammarReferences[0].grammarReference;
  },
  set: function (metadata, value) {
    metadata.grammarReferences[0].grammarReference = value;
  },
  name: 'grammarReference',
  delete: function (metadata) {
    delete metadata.grammarReferences;
  }
},
{
  get: function (metadata) {
    return metadata.cefrLevels[0].cefrLevel;
  },
  set: function (metadata, value) {
    metadata.cefrLevels[0].cefrLevel = value;
  },
  name: 'cefrLevel',
  enumeration: arrayToObjectKeys(schema.cefrLevels),
  delete: function (metadata) {
    delete metadata.cefrLevels;
  }
},
{
  get: function (metadata) {
    return metadata.exam[0];
  },
  set: function (metadata, value) {
    metadata.exam[0] = value;
  },
  name: 'exam',
  enumeration: arrayToObjectKeys(schema.exams),
  delete: function (metadata) {
    delete metadata.exam;
  }
},
{
  get: function (metadata) {
    return metadata.dialect[0];
  },
  set: function (metadata, value) {
    metadata.dialect[0] = value;
  },
  name: 'dialect',
  enumeration: arrayToObjectKeys(schema.dialect),
  delete: function (metadata) {
    delete metadata.dialect;
  }
},
{
  get: function (metadata) {
    return metadata.timeLimitDuration[0];
  },
  set: function (metadata, value) {
    metadata.timeLimitDuration[0] = value;
  },
  name: 'timeLimitDuration',
  delete: function (metadata) {
    delete metadata.timeLimitDuration;
  }
}];


const metadataTopLevelFields = [
'id',
'title',
'subtitle',
'description',
'activityTypes',
'topics',
'groups',
'levels',
'exam',
'ages',
'dialect',
'contentSets',
'grammarReferences',
'cefrLevels',
'timeLimitDuration'];


function arrayToObjectKeys(arr) {
  return arr.reduce(function (result, item) {
    result[item] = true;
    return result;
  }, {});
}

function getSchema() {
  return Object.assign({}, schema);
}

function filterMetadata(metadata) {
  metadataTopLevelFields.forEach(function (key) {
    metadata[key] = restrictArrayToSingleElement(metadata[key]);
  });

  metadataFields.forEach(function (field) {
    field.set(metadata, filterArray(field.get(metadata)));
  });

  return metadata;
}

function restrictArrayToSingleElement(arr) {
  //Source xml may have multiple elements but only one is permitted. Filter to one element only
  return arr.slice(0, 1);
}

function filterArray(metadataValue) {
  //Removes empty string items
  //Dedupes items
  //Orders items
  if (!Array.isArray(metadataValue)) return metadataValue;
  const arr = metadataValue;
  return arr.
  filter(function (item, index) {
    return item !== '' && arr.indexOf(item) === index;
  }).
  sort();
}

function validateMetadata(metadata) {
  const errors = [];

  metadataFields.forEach(function (field) {
    //Check that all values for enumeration fields are in the enumeration
    if (field.enumeration) {
      const metadataValue = field.get(metadata);
      if (Array.isArray(metadataValue)) {
        metadataValue.forEach(validateMetadataField.bind(null, errors, field));
      } else {
        validateMetadataField(errors, field, metadataValue, 0);
      }
    }
  });

  if (!metadata.id[0]) {
    errors.push('MEC id must be set');
  }

  if (errors.length > 0) return errors;
}

function validateMetadataField(errors, field, item, index) {
  if (item === undefined) return;
  if (!field.enumeration.hasOwnProperty(item)) {
    errors.push(`invalid value for ${field.name}, index ${index} : ${item}`);
  }
}

function removeEmptyArrayFields(metadataReadOnly) {
  const metadata = Object.assign({}, metadataReadOnly);
  metadataFields.forEach(function (field) {
    if (!field.delete) return;
    try {
      const fieldValue = field.get(metadata);
      if (fieldValue === undefined || fieldValue.length === 0) {
        field.delete(metadata);
      }
    } catch (err) {

      //
    }});
  return metadata;
}

/* harmony default export */ var mecMetadataService = (mecMetadataService_MecMetadataService);
// CONCATENATED MODULE: ./viewer/js/services/mecServices/mecNewsMetadataService.js
function MecNewsMetadataService() {
  return {
    schema: mecNewsMetadataService_getSchema,
    filterMetadata: mecNewsMetadataService_filterMetadata,
    validateMetadata: mecNewsMetadataService_validateMetadata,
    getTemplate: mecNewsMetadataService_getTemplate,
    removeEmptyArrayFields: mecNewsMetadataService_removeEmptyArrayFields
  };
}

// 'private' methods
const mecNewsMetadataService_schema = {
  groups: ['', 'Business', 'EAP', 'Video'],
  levels: [
  '',
  'starter',
  'beginner',
  'elementary',
  'preIntermediate',
  'intermediate',
  'upperIntermediate',
  'advanced'],

  ages: ['', 'Teenager', 'Adult'],
  contentSets: [
  '',
  'CS_CULTURA',
  'CS_BRI_SE',
  'CS_AM_SE',
  'CS_BRI_MBC',
  'CS_AM_MBC',
  'CS_MPO',
  'CS_IndiaOnly']

};

const mecNewsMetadataService_template = {
  id: [],
  title: [],
  subtitle: [],
  description: [],
  topics: [
  {
    topic: []
  }],

  groups: [
  {
    group: []
  }],

  levels: [
  {
    level: []
  }],

  ages: [
  {
    age: []
  }],

  contentSets: [
  {
    contentSet: []
  }],

  thumbnail: []
};

function mecNewsMetadataService_getTemplate() {
  return JSON.parse(JSON.stringify(mecNewsMetadataService_template));
}

const mecNewsMetadataService_metadataFields = [
{
  get(metadata) {
    return metadata.topics[0].topic;
  },
  set(metadata, value) {
    metadata.topics[0].topic = value;
  },
  name: 'topic',
  delete(metadata) {
    delete metadata.topics;
  }
},
{
  get(metadata) {
    return metadata.groups[0].group;
  },
  set(metadata, value) {
    metadata.groups[0].group = value;
  },
  name: 'group',
  enumeration: mecNewsMetadataService_arrayToObjectKeys(mecNewsMetadataService_schema.groups),
  delete(metadata) {
    delete metadata.groups;
  }
},
{
  get(metadata) {
    return metadata.levels[0].level;
  },
  set(metadata, value) {
    metadata.levels[0].level = value;
  },
  name: 'level',
  enumeration: mecNewsMetadataService_arrayToObjectKeys(mecNewsMetadataService_schema.levels),
  delete(metadata) {
    delete metadata.levels;
  }
},
{
  get(metadata) {
    return metadata.ages[0].age;
  },
  set(metadata, value) {
    metadata.ages[0].age = value;
  },
  name: 'age',
  enumeration: mecNewsMetadataService_arrayToObjectKeys(mecNewsMetadataService_schema.ages),
  delete(metadata) {
    delete metadata.ages;
  }
},
{
  get(metadata) {
    return metadata.contentSets[0].contentSet;
  },
  set(metadata, value) {
    metadata.contentSets[0].contentSet = value;
  },
  name: 'contentSet',
  enumeration: mecNewsMetadataService_arrayToObjectKeys(mecNewsMetadataService_schema.contentSets),
  delete(metadata) {
    delete metadata.contentSets;
  }
}];


const mecNewsMetadataService_metadataTopLevelFields = [
'id',
'title',
'subtitle',
'description',
'topics',
'groups',
'levels',
'ages',
'contentSets',
'thumbnail'];


function mecNewsMetadataService_arrayToObjectKeys(arr) {
  return arr.reduce((result, item) => {
    result[item] = true;
    return result;
  }, {});
}

function mecNewsMetadataService_getSchema() {
  return Object.assign({}, mecNewsMetadataService_schema);
}

function mecNewsMetadataService_filterMetadata(metadata) {
  mecNewsMetadataService_metadataTopLevelFields.forEach((key) => {
    metadata[key] = mecNewsMetadataService_restrictArrayToSingleElement(metadata[key]);
  });

  mecNewsMetadataService_metadataFields.forEach((field) => {
    field.set(metadata, mecNewsMetadataService_filterArray(field.get(metadata)));
  });

  return metadata;
}

function mecNewsMetadataService_restrictArrayToSingleElement(arr) {
  //Source xml may have multiple elements but only one is permitted. Filter to one element only
  return arr.slice(0, 1);
}

function mecNewsMetadataService_filterArray(metadataValue) {
  //Removes empty string items
  //Dedupes items
  //Orders items
  if (!Array.isArray(metadataValue)) return metadataValue;
  const arr = metadataValue;
  return arr.filter((item, index) => item !== '' && arr.indexOf(item) === index).sort();
}

function mecNewsMetadataService_validateMetadata(metadata) {
  const errors = [];

  mecNewsMetadataService_metadataFields.forEach(function (field) {
    //Check that all values for enumeration fields are in the enumeration
    if (field.enumeration) {
      const metadataValue = field.get(metadata);
      if (Array.isArray(metadataValue)) {
        metadataValue.forEach(mecNewsMetadataService_validateMetadataField.bind(null, errors, field));
      } else {
        mecNewsMetadataService_validateMetadataField(errors, field, metadataValue, 0);
      }
    }
  });

  if (!metadata.id[0]) {
    errors.push('MEC id must be set');
  }

  //An error was thrown if there wasn't a subtitle- and there never should be
  //So this adds an empty subtitle tag if there isn't one
  if (!metadata.subtitle[0]) {
    metadata.subtitle[0] = '';
  }

  if (errors.length > 0) return errors;
}

function mecNewsMetadataService_validateMetadataField(errors, field, item, index) {
  if (item === undefined) return;
  if (!field.enumeration.hasOwnProperty(item)) {
    errors.push(`invalid value for ${field.name}, index ${index} : ${item}`);
  }
}

function mecNewsMetadataService_removeEmptyArrayFields(metadataReadOnly) {
  const metadata = Object.assign({}, metadataReadOnly);
  mecNewsMetadataService_metadataFields.forEach((field) => {
    if (!field.delete) return;
    try {
      const fieldValue = field.get(metadata);
      if (fieldValue === undefined || fieldValue.length === 0) {
        field.delete(metadata);
      }
    } catch (err) {

      //
    }});
  return metadata;
}

/* harmony default export */ var mecNewsMetadataService = (MecNewsMetadataService);
// CONCATENATED MODULE: ./viewer/js/directives/breadcrumbs/breadcrumbsDirective.js
const breadcrumbsDirective = () => {
  return {
    restrict: 'E',
    replace: 'true',
    templateUrl: 'partials/breadcrumbs.html'
  };
};

/* harmony default export */ var breadcrumbs_breadcrumbsDirective = (breadcrumbsDirective);
// CONCATENATED MODULE: ./viewer/js/directives/navarrows/navArrowsDirective.js
const navArrowsDirective = () => {
  return {
    restrict: 'E',
    replace: 'true',
    templateUrl: 'partials/prevnext.html'
  };
};

/* harmony default export */ var navarrows_navArrowsDirective = (navArrowsDirective);
// CONCATENATED MODULE: ./viewer/js/directives/toc/tocDirective.js
const tocDirective = () => {
  return {
    restrict: 'E',
    replace: true,
    templateUrl: 'partials/toc.html'
  };
};

/* harmony default export */ var toc_tocDirective = (tocDirective);
// CONCATENATED MODULE: ./viewer/js/directives/toolbar/toolbarDirective.js
const toolbarDirective = () => {
  return {
    restrict: 'E',
    replace: 'true',
    templateUrl: 'partials/toolbar.html'
  };
};

/* harmony default export */ var toolbar_toolbarDirective = (toolbarDirective);
// CONCATENATED MODULE: ./viewer/js/directives/activityToolbar/index.js
const activityToolbar = () => {
  return {
    restrict: 'E',
    replace: 'true',
    templateUrl: 'partials/activityToolbar.html'
  };
};

/* harmony default export */ var directives_activityToolbar = (activityToolbar);
// CONCATENATED MODULE: ./viewer/js/directives/feedbackContainer/index.js
const feedbackContainer = () => {
  return {
    restrict: 'E',
    replace: 'true',
    templateUrl: 'partials/feedbackContainer.html'
  };
};

/* harmony default export */ var directives_feedbackContainer = (feedbackContainer);
// CONCATENATED MODULE: ./viewer/js/directives/developerToolbar/index.js
const developerToolbar = () => {
  return {
    restrict: 'E',
    replace: 'true',
    templateUrl: 'partials/developerToolbar.html'
  };
};

/* harmony default export */ var directives_developerToolbar = (developerToolbar);
// CONCATENATED MODULE: ./viewer/js/directives/playerToolbar/index.js
const playerToolbar = () => {
  return {
    restrict: 'E',
    replace: 'true',
    templateUrl: 'partials/playerToolbar.html'
  };
};

/* harmony default export */ var directives_playerToolbar = (playerToolbar);
// CONCATENATED MODULE: ./viewer/js/directives/jsonErrors/index.js
const jsonErrors = () => {
  return {
    restrict: 'E',
    replace: 'true',
    templateUrl: 'partials/jsonErrors.html'
  };
};

/* harmony default export */ var directives_jsonErrors = (jsonErrors);
// CONCATENATED MODULE: ./viewer/js/directives/viewerSidebar/index.js
const viewerSidebar = () => {
  return {
    restrict: 'E',
    replace: 'true',
    templateUrl: 'partials/viewer_sidebar.html'
  };
};

/* harmony default export */ var directives_viewerSidebar = (viewerSidebar);
// CONCATENATED MODULE: ./viewer/js/directives/scoreCard/index.js
const scoreCard = () => {
  return {
    restrict: 'E',
    replace: 'true',
    templateUrl: 'partials/scoreCard.html'
  };
};

/* harmony default export */ var directives_scoreCard = (scoreCard);
// CONCATENATED MODULE: ./viewer/js/directives/referenceContentToolbar/index.js
const referenceContentToolbar = () => {
  return {
    restrict: 'E',
    replace: 'true',
    templateUrl: 'partials/referenceContentToolbar.html'
  };
};

/* harmony default export */ var directives_referenceContentToolbar = (referenceContentToolbar);
// CONCATENATED MODULE: ./viewer/js/directives/metadata/onlyNumbers.js
/* (function() {
	'use strict';

	//Found here: https://stackoverflow.com/questions/34013311/text-input-allow-only-integer-input-in-angularjs
	//Restricts an input to only numbers
	angular.module('rcf.viewer.directives').directive('onlyNumbers', function() {
		return {
			restrict: 'A',
			link: function(scope, elm) {
				// eslint-disable-next-line
				angular.element(elm).on('keydown', function(event) {
					//ESLint doesn't like this line I've tried 4 or 5 different methods and they all flag a different error
					if (event.shiftKey) {
						event.preventDefault();
						return false;
					}
					//console.log(event.which);
					if ([8, 13, 27, 37, 38, 39, 40, 188].indexOf(event.which) > -1) {
						// backspace, enter, escape, arrows, comma
						return true;
					} else if (event.which >= 48 && event.which <= 57) {
						// numbers 0 to 9
						return true;
					} else if (event.which >= 96 && event.which <= 105) {
						// numpad number
						return true;
					} else {
						event.preventDefault();
						return false;
					}
				});
			}
		};
	});
})();
 */

const onlyNumbersDirective = () => {
  return {
    restrict: 'A',
    link: function (scope, elm) {
      // eslint-disable-next-line
      angular.element(elm).on('keydown', function (event) {
        //ESLint doesn't like this line I've tried 4 or 5 different methods and they all flag a different error
        if (event.shiftKey) {
          event.preventDefault();
          return false;
        }
        //console.log(event.which);
        if ([8, 13, 27, 37, 38, 39, 40, 188].indexOf(event.which) > -1) {
          // backspace, enter, escape, arrows, comma
          return true;
        } else if (event.which >= 48 && event.which <= 57) {
          // numbers 0 to 9
          return true;
        } else if (event.which >= 96 && event.which <= 105) {
          // numpad number
          return true;
        } else {
          event.preventDefault();
          return false;
        }
      });
    }
  };
};

/* harmony default export */ var onlyNumbers = (onlyNumbersDirective);
// CONCATENATED MODULE: ./viewer/js/directives/metadata/onlyNumbersAndRomanNumerals.js
/* (function() {
	'use strict';

	//Found here: https://stackoverflow.com/questions/34013311/text-input-allow-only-integer-input-in-angularjs
	//Restricts an input to only numbers
	angular.module('rcf.viewer.directives').directive('onlyNumbersAndRomanNumerals', function() {
		return {
			restrict: 'A',
			link: function(scope, elm) {
				// eslint-disable-next-line
				angular.element(elm).on('keydown', function(event) {
					//ESLint doesn't like this line I've tried 4 or 5 different methods and they all flag a different error
					//console.log(event.which);
					if ([8, 13, 27, 37, 38, 39, 40, 188].indexOf(event.which) > -1 && !event.shiftKey) {
						// backspace, enter, escape, arrows, comma,
						return true;
					} else if ([73, 86, 88, 67, 76, 68, 77].indexOf(event.which) > -1) {
						// I, V, X, C, L, D, M (for roman numerals)
						return true;
					} else if (event.which >= 48 && event.which <= 57 && !event.shiftKey) {
						// numbers 0 to 9
						return true;
					} else if (event.which >= 96 && event.which <= 105 && !event.shiftKey) {
						// numpad number
						return true;
					} else {
						event.preventDefault();
						return false;
					}
				});
			}
		};
	});
})();
 */

const onlyNumbersAndRomanNumeralsDirective = () => {
  return {
    restrict: 'A',
    link: function (scope, elm) {
      // eslint-disable-next-line
      angular.element(elm).on('keydown', function (event) {
        //ESLint doesn't like this line I've tried 4 or 5 different methods and they all flag a different error
        //console.log(event.which);
        if ([8, 13, 27, 37, 38, 39, 40, 188].indexOf(event.which) > -1 && !event.shiftKey) {
          // backspace, enter, escape, arrows, comma,
          return true;
        } else if ([73, 86, 88, 67, 76, 68, 77].indexOf(event.which) > -1) {
          // I, V, X, C, L, D, M (for roman numerals)
          return true;
        } else if (event.which >= 48 && event.which <= 57 && !event.shiftKey) {
          // numbers 0 to 9
          return true;
        } else if (event.which >= 96 && event.which <= 105 && !event.shiftKey) {
          // numpad number
          return true;
        } else {
          event.preventDefault();
          return false;
        }
      });
    }
  };
};

/* harmony default export */ var onlyNumbersAndRomanNumerals = (onlyNumbersAndRomanNumeralsDirective);
// CONCATENATED MODULE: ./viewer/js/directives/metadata/onlyIntegers.js
/* (function() {
	'use strict';

	//Found here: https://stackoverflow.com/questions/34013311/text-input-allow-only-integer-input-in-angularjs
	//Restricts an input to only integers
	angular.module('rcf.viewer.directives').directive('onlyIntegers', function() {
		return {
			restrict: 'A',
			link: function(scope, elm) {
				// eslint-disable-next-line
				angular.element(elm).on('keydown', function(event) {
					//ESLint doesn't like this line I've tried 4 or 5 different methods and they all flag a different error
					if (event.shiftKey) {
						event.preventDefault();
						return false;
					}
					//console.log(event.which);
					if ([8, 13, 27, 37, 38, 39, 40].indexOf(event.which) > -1) {
						// backspace, enter, escape, arrows
						return true;
					} else if (event.which >= 48 && event.which <= 57) {
						// numbers 0 to 9
						return true;
					} else if (event.which >= 96 && event.which <= 105) {
						// numpad number
						return true;
					} else {
						event.preventDefault();
						return false;
					}
				});
			}
		};
	});
})();
 */

const onlyIntegersDirective = () => {
  return {
    restrict: 'A',
    link: function (scope, elm) {
      // eslint-disable-next-line
      angular.element(elm).on('keydown', function (event) {
        //ESLint doesn't like this line I've tried 4 or 5 different methods and they all flag a different error
        if (event.shiftKey) {
          event.preventDefault();
          return false;
        }
        //console.log(event.which);
        if ([8, 13, 27, 37, 38, 39, 40].indexOf(event.which) > -1) {
          // backspace, enter, escape, arrows
          return true;
        } else if (event.which >= 48 && event.which <= 57) {
          // numbers 0 to 9
          return true;
        } else if (event.which >= 96 && event.which <= 105) {
          // numpad number
          return true;
        } else {
          event.preventDefault();
          return false;
        }
      });
    }
  };
};

/* harmony default export */ var onlyIntegers = (onlyIntegersDirective);
// CONCATENATED MODULE: ./viewer/js/directives/metadata/stringToNumber.js
/* (function() {
	'use strict';

	// Found here: https://docs.angularjs.org/error/ngModel/numfmt
	// Directive to convert a string to a number
	angular.module('rcf.viewer.directives').directive('stringToNumber', function() {
		return {
			require: 'ngModel',
			link: function(scope, element, attrs, ngModel) {
				ngModel.$parsers.push(function(value) {
					return '' + value;
				});
				ngModel.$formatters.push(function(value) {
					return parseFloat(value, 10);
				});
			}
		};
	});
})();
 */

const stringToNumberDirective = () => {
  return {
    require: 'ngModel',
    link: function (scope, element, attrs, ngModel) {
      ngModel.$parsers.push(function (value) {
        return '' + value;
      });
      ngModel.$formatters.push(function (value) {
        return parseFloat(value, 10);
      });
    }
  };
};

/* harmony default export */ var stringToNumber = (stringToNumberDirective);
// CONCATENATED MODULE: ./viewer/js/directives/directives.js
// directives
//
// angular directive to load RCF html and 'compile' it so that
// the RCF framework can interact with it
//


















const setupDirectives = (angular) => {
  angular.
  module('rcf.viewer.directives', ['rcf.viewer.services']).
  directive('rcfBreadcrumbs', breadcrumbs_breadcrumbsDirective).
  directive('rcfNavarrows', navarrows_navArrowsDirective).
  directive('rcfToc', toc_tocDirective).
  directive('rcfToolbar', toolbar_toolbarDirective).
  directive('rcfActivityToolbar', directives_activityToolbar).
  directive('rcfFeedbackContainer', directives_feedbackContainer).
  directive('rcfDeveloperToolbar', directives_developerToolbar).
  directive('rcfPlayerToolbar', directives_playerToolbar).
  directive('rcfJsonErrors', directives_jsonErrors).
  directive('rcfReferenceContentToolbar', directives_referenceContentToolbar).
  directive('rcfViewerSidebar', directives_viewerSidebar).
  directive('rcfScoreCard', directives_scoreCard).

  directive('onlyIntegers', onlyIntegers).
  directive('onlyNumbers', onlyNumbers).
  directive('onlyNumbersAndRomanNumerals', onlyNumbersAndRomanNumerals).
  directive('stringToNumber', stringToNumber);
};

/* harmony default export */ var directives = (setupDirectives);
// CONCATENATED MODULE: ./viewer/js/services/rest/activityFactory.js
const activityFactory = ($resource) => {
  //
  const tidyResponse = (data) => {
    //, headersGetter) {
    //
    var activity = null; //JSON.parse(data);
    try {
      activity = JSON.parse(data);
    } catch (e) {
      return null;
    }
    //

    if (activity.htmlContent) {
      activity.htmlContent += `<!-- ${new Date()}-->`;
    }
    if (!activity.jsonContent) {
      activity.jsonContent = {};
    } else {
      var jsonAnswers;
      try {
        jsonAnswers = JSON.parse(activity.jsonContent);
      } catch (ex) {
        // debugger;
        console.log('error in activity json : \n\n', activity.jsonContent);
        alert(`Error trying to parse Activity JSON : \n\n${activity.jsonContent}`);
        return activity;
      }
      if (!!jsonAnswers && !!jsonAnswers.answers) {
        if (jsonAnswers.answers.length > 0) {
          jsonAnswers.answers.splice(0, 1);
          activity.jsonContent = JSON.stringify(jsonAnswers, null, 2);
        }
        if (jsonAnswers.errors) {
          jsonAnswers.errors
          // skip 'rcfPlaceholder' generated by xslt
          .filter((error) => !!error.error)
          // output via the toastr method/library
          .forEach((error) => {
            console.log('error: ', error.error);
            toastr.error(error.error);
          });
        }
      }
    }
    return activity;
  };

  return $resource(
    'api.php/activity/',
    { id: '@id', editing: '@editing' },
    {
      get: {
        method: 'GET',
        url: 'api.php/activity/:id',
        transformResponse: tidyResponse
      },
      getEditable: {
        method: 'GET',
        url: 'api.php/activity/edit/:id/',
        transformResponse: tidyResponse
      },
      // path is the internal path, eg. L1|U01|AS01|A01
      getByPath: {
        method: 'GET',
        url: 'api.php/activity/path/:path',
        transformResponse: tidyResponse
      },
      // path is the internal path, eg. L1|U01|AS01|A01
      getEditableByPath: {
        method: 'GET',
        url: 'api.php/activity/path/edit/:path/',
        transformResponse: tidyResponse
      },
      saveActivity: {
        method: 'PUT',
        url: 'api.php/activity/:id/'
      },
      validate: {
        method: 'POST',
        url: 'api.php/activity/:id/validate/'
      }
    }
  );
};

/* harmony default export */ var rest_activityFactory = (activityFactory);
// CONCATENATED MODULE: ./viewer/js/services/rest/adminSettingsFactory.js
const adminSettingsFactory = ($resource) => {
  return $resource('api.php/admin', {});
};

/* harmony default export */ var rest_adminSettingsFactory = (adminSettingsFactory);
// CONCATENATED MODULE: ./viewer/js/services/rest/breadcrumbRestFactory.js
const breadcrumbRestFactory = ($resource) => {
  return $resource('api.php/breadcrumb/:path', { path: '@path' });
};

/* harmony default export */ var rest_breadcrumbRestFactory = (breadcrumbRestFactory);
// CONCATENATED MODULE: ./viewer/js/services/rest/levelImagesFactory.js
const levelImagesFactory = ($resource) => {
  return $resource(
    `api.php/level/:level/images`,
    {
      level: `@level`
    },
    {
      get: {
        method: 'GET',
        url: `api.php/level/:level/images`,
        isArray: true
      }
    }
  );
};

/* harmony default export */ var rest_levelImagesFactory = (levelImagesFactory);
// CONCATENATED MODULE: ./viewer/js/services/rest/metadataFactory.js
const metadataFactory = ($resource) => {
  return $resource(
    `api.php/metadata/:path`,
    {
      path: `@path`
    },
    {
      get: {
        method: `GET`,
        //
        url: `api.php/metadata/:path`,
        //
        transformResponse: function (data) {
          //, headersGetter) {
          var metaData = null;

          try {
            metaData = JSON.parse(data);
          } catch (e) {
            return null;
          }

          var metadataValues = [
          'publish',
          'isNewsItem',
          'inTLP',
          'isAlternativeSourceType',
          'noInheritance',
          'showOrientationDeviceNotification'];


          metadataValues.forEach(function (item) {
            convertYesNoToTrueFalse(metaData, item);
          });

          return metaData;
        }
      }
    }
  );
};

const convertYesNoToTrueFalse = (set, key) => {
  if (set[key]) {
    set[key] = set[key] == 'y';
  }
};

/* harmony default export */ var rest_metadataFactory = (metadataFactory);
// CONCATENATED MODULE: ./viewer/js/services/rest/rawMetadataFactory.js
const rawMetadataFactory = ($http, $q) => {
  return {
    get,
    post
  };

  function get(path) {
    return $http.get(`api.php/metadataXml/${path}`).then(function (httpResponse) {
      return $q(function (resolve, reject) {
        const parser = new window.xml2js.Parser();
        parser.parseString(httpResponse.data, function (err, result) {
          if (err) {
            reject(err);
          } else {
            resolve(result);
          }
        });
      });
    });
  }

  function post(path, metaData) {
    const builder = new window.xml2js.Builder();
    const xml = builder.buildObject(metaData);
    return $http.post(`api.php/metadataXml/${path}`, xml);
  }
};

rawMetadataFactory.$inject = ['$http', '$q'];

/* harmony default export */ var rest_rawMetadataFactory = (rawMetadataFactory);
// CONCATENATED MODULE: ./viewer/js/services/rest/searchActivitiesFactory.js
const searchActivitiesFactory = ($resource) =>
$resource(
  `api.php/activity/find/:level/:searchValue`,
  {
    level: '@level',
    searchValue: `@searchValue`
  },
  {
    get: {
      method: `GET`,
      url: `api.php/activity/find/:level/:searchValue`,
      isArray: true
    }
  }
);

/* harmony default export */ var rest_searchActivitiesFactory = (searchActivitiesFactory);
// CONCATENATED MODULE: ./viewer/js/services/rest/sectionMetadataFactory.js
const sectionMetadataFactory = ($resource) =>
$resource(
  `api.php/section/:level/:searchValue`,
  {
    level: `@level`,
    searchValue: `@searchValue`
  },
  {
    getItem: {
      method: `GET`
    }
  }
);

/* harmony default export */ var rest_sectionMetadataFactory = (sectionMetadataFactory);
// CONCATENATED MODULE: ./viewer/js/services/rest/tableOfContentsFactory.js
const tableOfContentsFactory = ($resource) =>
$resource(
  `api.php/toc/:path`,
  {
    path: `@path`
  },
  {
    get: {
      method: `GET`,
      isArray: true,
      transformResponse(data) {
        try {
          return JSON.parse(data);
        } catch (ex) {
          alert(
            `Error in data for the table of contents factory! \n\n${data} \n\n${ex}`
          );
          throw ex;
        }
      }
    }
  }
);

/* harmony default export */ var rest_tableOfContentsFactory = (tableOfContentsFactory);
// CONCATENATED MODULE: ./viewer/js/services/rest/restServices.js










const setupRestServices = (angular) => {
  angular.
  module('rest.services', ['ngResource']).
  factory('Activities', rest_activityFactory).
  factory('AdminSettings', rest_adminSettingsFactory).
  factory('BreadcrumbRestFactory', rest_breadcrumbRestFactory).
  factory('LevelImages', rest_levelImagesFactory).
  factory('Metadata', rest_metadataFactory).
  factory('RawMetadata', rest_rawMetadataFactory).
  factory('SearchActivities', rest_searchActivitiesFactory).
  factory('SectionMetadata', rest_sectionMetadataFactory).
  factory('TableOfContents', rest_tableOfContentsFactory);
};

/* harmony default export */ var restServices = (setupRestServices);
// CONCATENATED MODULE: ./viewer/js/services/viewerServices/configureLocationProvider.js
function configureLocationProvider($locationProvider) {
  $locationProvider.html5Mode({
    enabled: false
  });
  $locationProvider.hashPrefix('');
}

/* harmony default export */ var viewerServices_configureLocationProvider = (configureLocationProvider);
// EXTERNAL MODULE: ./viewer/js/services/viewerServices/createConfigurationFactory.js
var createConfigurationFactory = __webpack_require__(80);

// CONCATENATED MODULE: ./viewer/js/services/viewerServices/breadcrumbsFactory.js
function breadcrumbsFactory($rootScope, $location) {
  // const breadcrumbsFactory = ($rootScope, $location) => {
  let breadcrumbs = ['dummy'];
  const factory = {};

  //we want to update breadcrumbs only when a route is actually changed
  //as $location.path() will get updated immediately (even if route change fails!)
  $rootScope.$on('$routeChangeSuccess', () => {
    const pathElements = $location.path().split('/');
    const result = [];

    const breadcrumbPath = (index) => `/${pathElements.slice(0, index + 1).join('/')}`;

    pathElements.shift();

    for (let i = 0; i < pathElements.length; i++) {
      //"A922".replace(/A([0-9])/,'Activity $1')
      const bcName = pathElements[i].
      replace(/EL([0-9])/, 'Lesson $1').
      replace(/L([0-9])/, 'Level $1').
      replace(/U([0-9])/, 'Unit $1').
      replace(/AS([0-9])/, 'Activity Set $1').
      replace(/S([0-9])/, 'Section $1').
      replace(/A([0-9])/, 'Activity $1').
      replace(/M(.*)/, 'Metadata');

      result.push({ name: bcName, path: breadcrumbPath(i) });
    }

    breadcrumbs = result;
  });

  factory.getAll = () => breadcrumbs;

  factory.getFirst = () => breadcrumbs[0] || {};
  //
  return factory;
  //
}

breadcrumbsFactory.$inject = ['$rootScope', '$location'];

/* harmony default export */ var viewerServices_breadcrumbsFactory = (breadcrumbsFactory);
// CONCATENATED MODULE: ./viewer/js/services/viewerServices/dialogFactory.js
function dialogFactory($document, $compile, $rootScope, $controller, $timeout) {
  var defaults = {
    id: null,
    template: null,
    templateUrl: null,
    title: 'Default Title',
    backdrop: true,
    success: { label: 'OK', fn: null },
    cancel: { label: 'Close', fn: null },
    controller: null, //just like route controller declaration
    backdropClass: 'modal-backdrop',
    footerTemplate: null,
    modalClass: 'modal',
    css: {
      top: '100px',
      left: '30%',
      margin: '0 auto',
      'border-radius': '4px'
    }
  };

  var body = $document.find('body');

  return function Dialog(templateUrl, options, passedInLocals) {
    // Handle arguments if optional template isn't provided.
    if (angular.isObject(templateUrl)) {
      passedInLocals = options;
      options = templateUrl;
    } else {
      options.templateUrl = templateUrl;
    }

    options = angular.extend({}, defaults, options); //options defined in constructor

    var key;
    var idAttr = options.id ? ' id="' + options.id + '" ' : '';

    var defaultFooter =
    '<span class="viewerSingleButton" ng-click="$modalCancel()">{{$modalCancelLabel}}</span>' +
    '<span class="viewerSingleButton" ng-click="$modalSuccess()">{{$modalSuccessLabel}}</span>';

    var footerTemplate =
    '<div class="modal-footer">' + (options.footerTemplate || defaultFooter) + '</div>';

    var modalBody = function () {
      if (options.template) {
        if (angular.isString(options.template)) {
          // Simple string template
          return '<div class="viewerForm modal-body">' + options.template + '</div>';
        } else {
          // jQuery/JQlite wrapped object
          return '<div class="modal-body">' + options.template.html() + '</div>';
        }
      } else {
        // Template url
        return (
          '<div class="modal-body" ng-include="\'' + options.templateUrl + '\'"></div>');

      }
    }();

    //We don't have the scope we're gonna use yet, so just get a compile function for modal
    var modalEl = angular.element(
      '<div class="viewerForm ' +
      options.modalClass +
      ' fade"' +
      idAttr +
      '>' +
      '  <div class="modal-header">' +
      '    <h2>{{$title}}</h2>' +
      '  </div>' +
      modalBody +
      footerTemplate +
      '</div>'
    );

    for (key in options.css) {
      modalEl.css(key, options.css[key]);
    }

    var backdropEl = angular.element('<div ng-click="$modalCancel()">');
    backdropEl.addClass(options.backdropClass);
    backdropEl.addClass('fade in');

    var handleEscPressed = function (event) {
      if (event.keyCode === 27) {
        scope.$modalCancel();
      }
    };

    var closeFn = function () {
      body.unbind('keydown', handleEscPressed);
      modalEl.remove();
      if (options.backdrop) {
        backdropEl.remove();
      }
    };

    body.bind('keydown', handleEscPressed);

    var ctrl,
      locals,
      scope = options.scope || $rootScope.$new();

    scope.$title = options.title;
    scope.$modalClose = closeFn;
    scope.$modalCancel = function () {
      var callFn = options.cancel.fn || closeFn;
      callFn.call(this);
      scope.$modalClose();
    };
    scope.$modalSuccess = function () {
      var callFn = options.success.fn || closeFn;
      callFn.call(this);
      scope.$modalClose();
    };
    scope.$modalSuccessLabel = options.success.label;
    scope.$modalCancelLabel = options.cancel.label;

    if (options.controller) {
      locals = angular.extend({ $scope: scope }, passedInLocals);
      ctrl = $controller(options.controller, locals);
      // Yes, ngControllerController is not a typo
      modalEl.contents().data('$ngControllerController', ctrl);
    }

    $compile(modalEl)(scope);
    $compile(backdropEl)(scope);

    body.append(modalEl);
    if (options.backdrop) body.append(backdropEl);

    $timeout(function () {
      modalEl.addClass('in');
    }, 200);
  };
}

dialogFactory.$inject = ['$document', '$compile', '$rootScope', '$controller', '$timeout'];

/* harmony default export */ var viewerServices_dialogFactory = (dialogFactory);
// CONCATENATED MODULE: ./viewer/js/services/viewerServices/rcfFactory.js
function rcfFactory($timeout, $rootScope) {
  // rcf facade service
  return {
    initialize: function (options) {
      RCF.Application.initialize(options);
    },
    update: function ($element, options) {
      var $body = angular.element('body');
      $body.removeClass('activityLoaded');

      RCF.Application.updateContent($element, options).
      then(function () {
        $timeout(function () {
          $rootScope.$broadcast('rcf.activity.populated');
        });
        $body.addClass('activityLoaded');
        RCF.Application.enableActivity();
      }).
      catch((ex) => {
        alert('Error loading the activity !\n\n' + ex);
        RCF.Application.disableActivity();
      });
    },
    playItem: function (itemId) {
      try {
        RCF.Application.playItem(itemId);
      } catch (ex) {
        alert('Error !\n\n' + ex);
      }
    },
    cleanUp: function () {
      RCF.Application.cleanUp();
    },
    // new API method - no longer needs to be asynchronous
    getUserAnswers: function (itemId) {
      return RCF.Application.getUserAnswers(itemId);
    },
    showCorrectAnswers: function (jsonAnswers, itemId) {
      RCF.Application.hideFeedback();
      RCF.Application.setAnswers(jsonAnswers, itemId);
    },
    showNextAnswer: function (jsonAnswers) {
      return RCF.Application.showNextAnswer(jsonAnswers);
    },
    showMarkedAnswers: function (jsonAnswers, itemId) {
      RCF.Application.showMarkedAnswers(jsonAnswers, itemId);
    },
    tryAgain: function (jsonAnswers) {
      RCF.Application.tryAgain(jsonAnswers);
    },
    hideMarkedAnswers: function (itemId) {
      RCF.Application.hideMarkedAnswers(itemId);
    },
    showUserAnswers: function () {
      RCF.Application.showUserAnswers();
    },
    resetAnswers: function () {
      RCF.Application.resetAnswers();
    },
    getGradableType: function () {
      return RCF.Application.getGradableType();
    },
    provideFeedback: function (markedAnswers) {
      RCF.Application.provideFeedback(markedAnswers);
    },
    getMarkedAnswers: function (correctAnswers, userAnswers) {
      return RCF.MarkingEngine.getMarkedAnswers(correctAnswers, userAnswers);
    },
    hasActivityBeenAttempted: function () {
      return RCF.Application.hasActivityBeenAttempted();
    },
    disableActivity: function () {
      RCF.Application.disableActivity();
    },
    enableActivity: function () {
      RCF.Application.enableActivity();
    },
    getPointsAvailable: function () {
      return RCF.Application.getPointsAvailable();
    },
    getItemPointsAvailable: function (itemId) {
      return RCF.Application.getItemPointsAvailable(itemId);
    },
    getTeacherPointsAvailable: function () {
      return RCF.Application.getTeacherPointsAvailable();
    },
    pauseActivity: function () {
      return RCF.Application.pauseActivity();
    },
    resumeActivity: function () {
      return RCF.Application.resumeActivity();
    },
    setStoryPlayingMode: function (mode) {
      RCF.Application.setStoryPlayingMode(mode);
      RCF.Application.resetAnswers();
    },
    showFeedback: function () {
      RCF.Application.showFeedback();
    },
    hideFeedback: function () {
      RCF.Application.hideFeedback();
    },
    getNumberOfOneByOneAnswers: function (correctAnswers) {
      return RCF.MarkingEngine.getNumberOfOneByOneAnswers(correctAnswers);
    },
    setOpenGradableMode: function (mode, answerState) {
      RCF.Application.setOpenGradableMode(mode, answerState);
    },
    getTeacherFeedback: function () {
      return RCF.Application.getTeacherFeedback();
    }
  };
}

rcfFactory.$inject = ['$timeout', '$rootScope'];

/* harmony default export */ var viewerServices_rcfFactory = (rcfFactory);
// CONCATENATED MODULE: ./viewer/js/services/viewerServices/rcfUtilsFactory.js
function rcfUtilsFactory() {
  // rcf utilities service
  return {
    getVersion: function () {
      var version = RCF.Application.getVersion().version;
      if (version === '@@RCFVERSION@@') {
        return '*development mode*';
      } else {
        return version;
      }
    },

    getCookie: function (name) {
      return RCF.Utils.cookie(name);
    },
    setCookie: function (name, value) {
      RCF.Utils.cookie(name, value);
    },
    isDesktopDevice: function () {
      return !RCF.Utils.isTabletDevice() && !RCF.Utils.isMobileDevice();
    },
    isMobileDevice: function () {
      return RCF.Utils.isTabletDevice() || RCF.Utils.isMobileDevice();
    },
    setDeviceMode: function (mode) {
      RCF.Application.setDeviceMode(mode);
    },
    getDeviceMode: function () {
      return RCF.Application.getDeviceMode();
    }
  };
}

/* harmony default export */ var viewerServices_rcfUtilsFactory = (rcfUtilsFactory);
// CONCATENATED MODULE: ./viewer/js/services/viewerServices/viewerFactories.js







const setupViewerFactories = (angular) => {
  angular.
  module('rcf.viewer.services', []).

  config(viewerServices_configureLocationProvider).

  factory('ConfigService', createConfigurationFactory["a" /* default */]).
  factory('Breadcrumbs', viewerServices_breadcrumbsFactory).
  factory('DialogFactory', viewerServices_dialogFactory).
  factory('RcfService', viewerServices_rcfFactory).
  factory('RcfUtils', viewerServices_rcfUtilsFactory);
};

/* harmony default export */ var viewerFactories = (setupViewerFactories);
// CONCATENATED MODULE: ./viewer/js/viewer.js
 /* configure routing */


/* controllers */













/* filters... still used ? */


/* services */




/*  separate viewer app dependencies */




restServices(angular);
viewerFactories(angular);
directives(angular);

angular.module('ViewerApp', [
'ngRoute',
'ui.ace',
'rcf.viewer.services',
'rest.services',
'rcf.viewer.directives']
);

angular.
module('ViewerApp')
// configure the routes
.config(routes)
// add any filters
.filter('ImageFileNameFilter', filters_imageFileNameFilter)
// setup services (factories are added elsewhere)
.service('FeedbackService', feedbackService).
service('MecMetadataService', mecMetadataService).
service('NewsMetadataService', mecNewsMetadataService)
// setup controllers
.controller('AdminController', adminController).
controller('GradebookController', gradebookController).
controller('EditPanelController', editPanelController).
controller('FindController', findController).
controller('ImageDialogController', imageDialogController).
controller('MetadataController', metadataController).
controller('MecMetadataController', mecMetadataController).
controller('MecMetadataNewsController', mecMetadataNewsController).
controller('ModalMessageController', modalMessageController).
controller('ToolbarController', toolbarController).
controller('ProjectController', controllers_ProjectController).
controller('PageController', pageController);

/***/ }),
/* 143 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/@babel/runtime/helpers/esm/typeof.js
function _typeof(o) {
  "@babel/helpers - typeof";

  return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) {
    return typeof o;
  } : function (o) {
    return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o;
  }, _typeof(o);
}

// CONCATENATED MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/@babel/runtime/helpers/esm/classCallCheck.js
function _classCallCheck(a, n) {
  if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function");
}

// CONCATENATED MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/@babel/runtime/helpers/esm/toPrimitive.js

function toPrimitive(t, r) {
  if ("object" != _typeof(t) || !t) return t;
  var e = t[Symbol.toPrimitive];
  if (void 0 !== e) {
    var i = e.call(t, r || "default");
    if ("object" != _typeof(i)) return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return ("string" === r ? String : Number)(t);
}

// CONCATENATED MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js


function toPropertyKey(t) {
  var i = toPrimitive(t, "string");
  return "symbol" == _typeof(i) ? i : i + "";
}

// CONCATENATED MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/@babel/runtime/helpers/esm/createClass.js

function _defineProperties(e, r) {
  for (var t = 0; t < r.length; t++) {
    var o = r[t];
    o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);
  }
}
function _createClass(e, r, t) {
  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", {
    writable: !1
  }), e;
}

// CONCATENATED MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js
function _assertThisInitialized(e) {
  if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e;
}

// CONCATENATED MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js
function _setPrototypeOf(t, e) {
  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {
    return t.__proto__ = e, t;
  }, _setPrototypeOf(t, e);
}

// CONCATENATED MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/@babel/runtime/helpers/esm/inherits.js

function _inherits(t, e) {
  if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function");
  t.prototype = Object.create(e && e.prototype, {
    constructor: {
      value: t,
      writable: !0,
      configurable: !0
    }
  }), Object.defineProperty(t, "prototype", {
    writable: !1
  }), e && _setPrototypeOf(t, e);
}

// CONCATENATED MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js


function _possibleConstructorReturn(t, e) {
  if (e && ("object" == _typeof(e) || "function" == typeof e)) return e;
  if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined");
  return _assertThisInitialized(t);
}

// CONCATENATED MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js
function _getPrototypeOf(t) {
  return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) {
    return t.__proto__ || Object.getPrototypeOf(t);
  }, _getPrototypeOf(t);
}

// CONCATENATED MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/@babel/runtime/helpers/esm/defineProperty.js

function _defineProperty(e, r, t) {
  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {
    value: t,
    enumerable: !0,
    configurable: !0,
    writable: !0
  }) : e[r] = t, e;
}

// CONCATENATED MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js
function _arrayWithHoles(r) {
  if (Array.isArray(r)) return r;
}

// CONCATENATED MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/@babel/runtime/helpers/esm/iterableToArray.js
function _iterableToArray(r) {
  if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r);
}

// CONCATENATED MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js
function _arrayLikeToArray(r, a) {
  (null == a || a > r.length) && (a = r.length);
  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];
  return n;
}

// CONCATENATED MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js

function _unsupportedIterableToArray(r, a) {
  if (r) {
    if ("string" == typeof r) return _arrayLikeToArray(r, a);
    var t = {}.toString.call(r).slice(8, -1);
    return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0;
  }
}

// CONCATENATED MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js
function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

// CONCATENATED MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/@babel/runtime/helpers/esm/toArray.js




function _toArray(r) {
  return _arrayWithHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableRest();
}

// CONCATENATED MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/i18next/dist/esm/i18next.js
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "changeLanguage", function() { return changeLanguage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createInstance", function() { return createInstance; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "exists", function() { return exists; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFixedT", function() { return i18next_getFixedT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hasLoadedNamespace", function() { return hasLoadedNamespace; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "init", function() { return init; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadLanguages", function() { return loadLanguages; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadNamespaces", function() { return loadNamespaces; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadResources", function() { return loadResources; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reloadResources", function() { return reloadResources; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setDefaultNamespace", function() { return setDefaultNamespace; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "t", function() { return i18next_t; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "use", function() { return use; });










function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var consoleLogger = {
  type: 'logger',
  log: function log(args) {
    this.output('log', args);
  },
  warn: function warn(args) {
    this.output('warn', args);
  },
  error: function error(args) {
    this.output('error', args);
  },
  output: function output(type, args) {
    if (console && console[type]) console[type].apply(console, args);
  }
};

var i18next_Logger = function () {
  function Logger(concreteLogger) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    _classCallCheck(this, Logger);

    this.init(concreteLogger, options);
  }

  _createClass(Logger, [{
    key: "init",
    value: function init(concreteLogger) {
      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      this.prefix = options.prefix || 'i18next:';
      this.logger = concreteLogger || consoleLogger;
      this.options = options;
      this.debug = options.debug;
    }
  }, {
    key: "setDebug",
    value: function setDebug(bool) {
      this.debug = bool;
    }
  }, {
    key: "log",
    value: function log() {
      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      return this.forward(args, 'log', '', true);
    }
  }, {
    key: "warn",
    value: function warn() {
      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
      }

      return this.forward(args, 'warn', '', true);
    }
  }, {
    key: "error",
    value: function error() {
      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
        args[_key3] = arguments[_key3];
      }

      return this.forward(args, 'error', '');
    }
  }, {
    key: "deprecate",
    value: function deprecate() {
      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
        args[_key4] = arguments[_key4];
      }

      return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);
    }
  }, {
    key: "forward",
    value: function forward(args, lvl, prefix, debugOnly) {
      if (debugOnly && !this.debug) return null;
      if (typeof args[0] === 'string') args[0] = "".concat(prefix).concat(this.prefix, " ").concat(args[0]);
      return this.logger[lvl](args);
    }
  }, {
    key: "create",
    value: function create(moduleName) {
      return new Logger(this.logger, _objectSpread(_objectSpread({}, {
        prefix: "".concat(this.prefix, ":").concat(moduleName, ":")
      }), this.options));
    }
  }, {
    key: "clone",
    value: function clone(options) {
      options = options || this.options;
      options.prefix = options.prefix || this.prefix;
      return new Logger(this.logger, options);
    }
  }]);

  return Logger;
}();

var baseLogger = new i18next_Logger();

var i18next_EventEmitter = function () {
  function EventEmitter() {
    _classCallCheck(this, EventEmitter);

    this.observers = {};
  }

  _createClass(EventEmitter, [{
    key: "on",
    value: function on(events, listener) {
      var _this = this;

      events.split(' ').forEach(function (event) {
        _this.observers[event] = _this.observers[event] || [];

        _this.observers[event].push(listener);
      });
      return this;
    }
  }, {
    key: "off",
    value: function off(event, listener) {
      if (!this.observers[event]) return;

      if (!listener) {
        delete this.observers[event];
        return;
      }

      this.observers[event] = this.observers[event].filter(function (l) {
        return l !== listener;
      });
    }
  }, {
    key: "emit",
    value: function emit(event) {
      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }

      if (this.observers[event]) {
        var cloned = [].concat(this.observers[event]);
        cloned.forEach(function (observer) {
          observer.apply(void 0, args);
        });
      }

      if (this.observers['*']) {
        var _cloned = [].concat(this.observers['*']);

        _cloned.forEach(function (observer) {
          observer.apply(observer, [event].concat(args));
        });
      }
    }
  }]);

  return EventEmitter;
}();

function defer() {
  var res;
  var rej;
  var promise = new Promise(function (resolve, reject) {
    res = resolve;
    rej = reject;
  });
  promise.resolve = res;
  promise.reject = rej;
  return promise;
}
function makeString(object) {
  if (object == null) return '';
  return '' + object;
}
function i18next_copy(a, s, t) {
  a.forEach(function (m) {
    if (s[m]) t[m] = s[m];
  });
}

function getLastOfPath(object, path, Empty) {
  function cleanKey(key) {
    return key && key.indexOf('###') > -1 ? key.replace(/###/g, '.') : key;
  }

  function canNotTraverseDeeper() {
    return !object || typeof object === 'string';
  }

  var stack = typeof path !== 'string' ? [].concat(path) : path.split('.');

  while (stack.length > 1) {
    if (canNotTraverseDeeper()) return {};
    var key = cleanKey(stack.shift());
    if (!object[key] && Empty) object[key] = new Empty();

    if (Object.prototype.hasOwnProperty.call(object, key)) {
      object = object[key];
    } else {
      object = {};
    }
  }

  if (canNotTraverseDeeper()) return {};
  return {
    obj: object,
    k: cleanKey(stack.shift())
  };
}

function setPath(object, path, newValue) {
  var _getLastOfPath = getLastOfPath(object, path, Object),
      obj = _getLastOfPath.obj,
      k = _getLastOfPath.k;

  obj[k] = newValue;
}
function pushPath(object, path, newValue, concat) {
  var _getLastOfPath2 = getLastOfPath(object, path, Object),
      obj = _getLastOfPath2.obj,
      k = _getLastOfPath2.k;

  obj[k] = obj[k] || [];
  if (concat) obj[k] = obj[k].concat(newValue);
  if (!concat) obj[k].push(newValue);
}
function getPath(object, path) {
  var _getLastOfPath3 = getLastOfPath(object, path),
      obj = _getLastOfPath3.obj,
      k = _getLastOfPath3.k;

  if (!obj) return undefined;
  return obj[k];
}
function getPathWithDefaults(data, defaultData, key) {
  var value = getPath(data, key);

  if (value !== undefined) {
    return value;
  }

  return getPath(defaultData, key);
}
function deepExtend(target, source, overwrite) {
  for (var prop in source) {
    if (prop !== '__proto__' && prop !== 'constructor') {
      if (prop in target) {
        if (typeof target[prop] === 'string' || target[prop] instanceof String || typeof source[prop] === 'string' || source[prop] instanceof String) {
          if (overwrite) target[prop] = source[prop];
        } else {
          deepExtend(target[prop], source[prop], overwrite);
        }
      } else {
        target[prop] = source[prop];
      }
    }
  }

  return target;
}
function regexEscape(str) {
  return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, '\\$&');
}
var _entityMap = {
  '&': '&amp;',
  '<': '&lt;',
  '>': '&gt;',
  '"': '&quot;',
  "'": '&#39;',
  '/': '&#x2F;'
};
function i18next_escape(data) {
  if (typeof data === 'string') {
    return data.replace(/[&<>"'\/]/g, function (s) {
      return _entityMap[s];
    });
  }

  return data;
}
var isIE10 = typeof window !== 'undefined' && window.navigator && typeof window.navigator.userAgentData === 'undefined' && window.navigator.userAgent && window.navigator.userAgent.indexOf('MSIE') > -1;
var chars = [' ', ',', '?', '!', ';'];
function looksLikeObjectPath(key, nsSeparator, keySeparator) {
  nsSeparator = nsSeparator || '';
  keySeparator = keySeparator || '';
  var possibleChars = chars.filter(function (c) {
    return nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0;
  });
  if (possibleChars.length === 0) return true;
  var r = new RegExp("(".concat(possibleChars.map(function (c) {
    return c === '?' ? '\\?' : c;
  }).join('|'), ")"));
  var matched = !r.test(key);

  if (!matched) {
    var ki = key.indexOf(keySeparator);

    if (ki > 0 && !r.test(key.substring(0, ki))) {
      matched = true;
    }
  }

  return matched;
}

function ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$1(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function deepFind(obj, path) {
  var keySeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '.';
  if (!obj) return undefined;
  if (obj[path]) return obj[path];
  var paths = path.split(keySeparator);
  var current = obj;

  for (var i = 0; i < paths.length; ++i) {
    if (!current) return undefined;

    if (typeof current[paths[i]] === 'string' && i + 1 < paths.length) {
      return undefined;
    }

    if (current[paths[i]] === undefined) {
      var j = 2;
      var p = paths.slice(i, i + j).join(keySeparator);
      var mix = current[p];

      while (mix === undefined && paths.length > i + j) {
        j++;
        p = paths.slice(i, i + j).join(keySeparator);
        mix = current[p];
      }

      if (mix === undefined) return undefined;
      if (mix === null) return null;

      if (path.endsWith(p)) {
        if (typeof mix === 'string') return mix;
        if (p && typeof mix[p] === 'string') return mix[p];
      }

      var joinedPath = paths.slice(i + j).join(keySeparator);
      if (joinedPath) return deepFind(mix, joinedPath, keySeparator);
      return undefined;
    }

    current = current[paths[i]];
  }

  return current;
}

var i18next_ResourceStore = function (_EventEmitter) {
  _inherits(ResourceStore, _EventEmitter);

  var _super = _createSuper(ResourceStore);

  function ResourceStore(data) {
    var _this;

    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
      ns: ['translation'],
      defaultNS: 'translation'
    };

    _classCallCheck(this, ResourceStore);

    _this = _super.call(this);

    if (isIE10) {
      i18next_EventEmitter.call(_assertThisInitialized(_this));
    }

    _this.data = data || {};
    _this.options = options;

    if (_this.options.keySeparator === undefined) {
      _this.options.keySeparator = '.';
    }

    if (_this.options.ignoreJSONStructure === undefined) {
      _this.options.ignoreJSONStructure = true;
    }

    return _this;
  }

  _createClass(ResourceStore, [{
    key: "addNamespaces",
    value: function addNamespaces(ns) {
      if (this.options.ns.indexOf(ns) < 0) {
        this.options.ns.push(ns);
      }
    }
  }, {
    key: "removeNamespaces",
    value: function removeNamespaces(ns) {
      var index = this.options.ns.indexOf(ns);

      if (index > -1) {
        this.options.ns.splice(index, 1);
      }
    }
  }, {
    key: "getResource",
    value: function getResource(lng, ns, key) {
      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
      var ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;
      var path = [lng, ns];
      if (key && typeof key !== 'string') path = path.concat(key);
      if (key && typeof key === 'string') path = path.concat(keySeparator ? key.split(keySeparator) : key);

      if (lng.indexOf('.') > -1) {
        path = lng.split('.');
      }

      var result = getPath(this.data, path);
      if (result || !ignoreJSONStructure || typeof key !== 'string') return result;
      return deepFind(this.data && this.data[lng] && this.data[lng][ns], key, keySeparator);
    }
  }, {
    key: "addResource",
    value: function addResource(lng, ns, key, value) {
      var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {
        silent: false
      };
      var keySeparator = this.options.keySeparator;
      if (keySeparator === undefined) keySeparator = '.';
      var path = [lng, ns];
      if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);

      if (lng.indexOf('.') > -1) {
        path = lng.split('.');
        value = ns;
        ns = path[1];
      }

      this.addNamespaces(ns);
      setPath(this.data, path, value);
      if (!options.silent) this.emit('added', lng, ns, key, value);
    }
  }, {
    key: "addResources",
    value: function addResources(lng, ns, resources) {
      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {
        silent: false
      };

      for (var m in resources) {
        if (typeof resources[m] === 'string' || Object.prototype.toString.apply(resources[m]) === '[object Array]') this.addResource(lng, ns, m, resources[m], {
          silent: true
        });
      }

      if (!options.silent) this.emit('added', lng, ns, resources);
    }
  }, {
    key: "addResourceBundle",
    value: function addResourceBundle(lng, ns, resources, deep, overwrite) {
      var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {
        silent: false
      };
      var path = [lng, ns];

      if (lng.indexOf('.') > -1) {
        path = lng.split('.');
        deep = resources;
        resources = ns;
        ns = path[1];
      }

      this.addNamespaces(ns);
      var pack = getPath(this.data, path) || {};

      if (deep) {
        deepExtend(pack, resources, overwrite);
      } else {
        pack = _objectSpread$1(_objectSpread$1({}, pack), resources);
      }

      setPath(this.data, path, pack);
      if (!options.silent) this.emit('added', lng, ns, resources);
    }
  }, {
    key: "removeResourceBundle",
    value: function removeResourceBundle(lng, ns) {
      if (this.hasResourceBundle(lng, ns)) {
        delete this.data[lng][ns];
      }

      this.removeNamespaces(ns);
      this.emit('removed', lng, ns);
    }
  }, {
    key: "hasResourceBundle",
    value: function hasResourceBundle(lng, ns) {
      return this.getResource(lng, ns) !== undefined;
    }
  }, {
    key: "getResourceBundle",
    value: function getResourceBundle(lng, ns) {
      if (!ns) ns = this.options.defaultNS;
      if (this.options.compatibilityAPI === 'v1') return _objectSpread$1(_objectSpread$1({}, {}), this.getResource(lng, ns));
      return this.getResource(lng, ns);
    }
  }, {
    key: "getDataByLanguage",
    value: function getDataByLanguage(lng) {
      return this.data[lng];
    }
  }, {
    key: "hasLanguageSomeTranslations",
    value: function hasLanguageSomeTranslations(lng) {
      var data = this.getDataByLanguage(lng);
      var n = data && Object.keys(data) || [];
      return !!n.find(function (v) {
        return data[v] && Object.keys(data[v]).length > 0;
      });
    }
  }, {
    key: "toJSON",
    value: function toJSON() {
      return this.data;
    }
  }]);

  return ResourceStore;
}(i18next_EventEmitter);

var postProcessor = {
  processors: {},
  addPostProcessor: function addPostProcessor(module) {
    this.processors[module.name] = module;
  },
  handle: function handle(processors, value, key, options, translator) {
    var _this = this;

    processors.forEach(function (processor) {
      if (_this.processors[processor]) value = _this.processors[processor].process(value, key, options, translator);
    });
    return value;
  }
};

function ownKeys$2(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$2(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$2(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _createSuper$1(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _isNativeReflectConstruct$1() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
var checkedLoadedFor = {};

var i18next_Translator = function (_EventEmitter) {
  _inherits(Translator, _EventEmitter);

  var _super = _createSuper$1(Translator);

  function Translator(services) {
    var _this;

    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    _classCallCheck(this, Translator);

    _this = _super.call(this);

    if (isIE10) {
      i18next_EventEmitter.call(_assertThisInitialized(_this));
    }

    i18next_copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, _assertThisInitialized(_this));
    _this.options = options;

    if (_this.options.keySeparator === undefined) {
      _this.options.keySeparator = '.';
    }

    _this.logger = baseLogger.create('translator');
    return _this;
  }

  _createClass(Translator, [{
    key: "changeLanguage",
    value: function changeLanguage(lng) {
      if (lng) this.language = lng;
    }
  }, {
    key: "exists",
    value: function exists(key) {
      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
        interpolation: {}
      };

      if (key === undefined || key === null) {
        return false;
      }

      var resolved = this.resolve(key, options);
      return resolved && resolved.res !== undefined;
    }
  }, {
    key: "extractFromKey",
    value: function extractFromKey(key, options) {
      var nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;
      if (nsSeparator === undefined) nsSeparator = ':';
      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
      var namespaces = options.ns || this.options.defaultNS || [];
      var wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;
      var seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !options.keySeparator && !this.options.userDefinedNsSeparator && !options.nsSeparator && !looksLikeObjectPath(key, nsSeparator, keySeparator);

      if (wouldCheckForNsInKey && !seemsNaturalLanguage) {
        var m = key.match(this.interpolator.nestingRegexp);

        if (m && m.length > 0) {
          return {
            key: key,
            namespaces: namespaces
          };
        }

        var parts = key.split(nsSeparator);
        if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();
        key = parts.join(keySeparator);
      }

      if (typeof namespaces === 'string') namespaces = [namespaces];
      return {
        key: key,
        namespaces: namespaces
      };
    }
  }, {
    key: "translate",
    value: function translate(keys, options, lastKey) {
      var _this2 = this;

      if (_typeof(options) !== 'object' && this.options.overloadTranslationOptionHandler) {
        options = this.options.overloadTranslationOptionHandler(arguments);
      }

      if (!options) options = {};
      if (keys === undefined || keys === null) return '';
      if (!Array.isArray(keys)) keys = [String(keys)];
      var returnDetails = options.returnDetails !== undefined ? options.returnDetails : this.options.returnDetails;
      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;

      var _this$extractFromKey = this.extractFromKey(keys[keys.length - 1], options),
          key = _this$extractFromKey.key,
          namespaces = _this$extractFromKey.namespaces;

      var namespace = namespaces[namespaces.length - 1];
      var lng = options.lng || this.language;
      var appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;

      if (lng && lng.toLowerCase() === 'cimode') {
        if (appendNamespaceToCIMode) {
          var nsSeparator = options.nsSeparator || this.options.nsSeparator;

          if (returnDetails) {
            resolved.res = "".concat(namespace).concat(nsSeparator).concat(key);
            return resolved;
          }

          return "".concat(namespace).concat(nsSeparator).concat(key);
        }

        if (returnDetails) {
          resolved.res = key;
          return resolved;
        }

        return key;
      }

      var resolved = this.resolve(keys, options);
      var res = resolved && resolved.res;
      var resUsedKey = resolved && resolved.usedKey || key;
      var resExactUsedKey = resolved && resolved.exactUsedKey || key;
      var resType = Object.prototype.toString.apply(res);
      var noObject = ['[object Number]', '[object Function]', '[object RegExp]'];
      var joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;
      var handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;
      var handleAsObject = typeof res !== 'string' && typeof res !== 'boolean' && typeof res !== 'number';

      if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(typeof joinArrays === 'string' && resType === '[object Array]')) {
        if (!options.returnObjects && !this.options.returnObjects) {
          if (!this.options.returnedObjectHandler) {
            this.logger.warn('accessing an object - but returnObjects options is not enabled!');
          }

          var r = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, _objectSpread$2(_objectSpread$2({}, options), {}, {
            ns: namespaces
          })) : "key '".concat(key, " (").concat(this.language, ")' returned an object instead of string.");

          if (returnDetails) {
            resolved.res = r;
            return resolved;
          }

          return r;
        }

        if (keySeparator) {
          var resTypeIsArray = resType === '[object Array]';
          var copy = resTypeIsArray ? [] : {};
          var newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;

          for (var m in res) {
            if (Object.prototype.hasOwnProperty.call(res, m)) {
              var deepKey = "".concat(newKeyToUse).concat(keySeparator).concat(m);
              copy[m] = this.translate(deepKey, _objectSpread$2(_objectSpread$2({}, options), {
                joinArrays: false,
                ns: namespaces
              }));
              if (copy[m] === deepKey) copy[m] = res[m];
            }
          }

          res = copy;
        }
      } else if (handleAsObjectInI18nFormat && typeof joinArrays === 'string' && resType === '[object Array]') {
        res = res.join(joinArrays);
        if (res) res = this.extendTranslation(res, keys, options, lastKey);
      } else {
        var usedDefault = false;
        var usedKey = false;
        var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';
        var hasDefaultValue = Translator.hasDefaultValue(options);
        var defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, options) : '';
        var defaultValue = options["defaultValue".concat(defaultValueSuffix)] || options.defaultValue;

        if (!this.isValidLookup(res) && hasDefaultValue) {
          usedDefault = true;
          res = defaultValue;
        }

        if (!this.isValidLookup(res)) {
          usedKey = true;
          res = key;
        }

        var missingKeyNoValueFallbackToKey = options.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;
        var resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;
        var updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;

        if (usedKey || usedDefault || updateMissing) {
          this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? defaultValue : res);

          if (keySeparator) {
            var fk = this.resolve(key, _objectSpread$2(_objectSpread$2({}, options), {}, {
              keySeparator: false
            }));
            if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');
          }

          var lngs = [];
          var fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);

          if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {
            for (var i = 0; i < fallbackLngs.length; i++) {
              lngs.push(fallbackLngs[i]);
            }
          } else if (this.options.saveMissingTo === 'all') {
            lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);
          } else {
            lngs.push(options.lng || this.language);
          }

          var send = function send(l, k, specificDefaultValue) {
            var defaultForMissing = hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;

            if (_this2.options.missingKeyHandler) {
              _this2.options.missingKeyHandler(l, namespace, k, defaultForMissing, updateMissing, options);
            } else if (_this2.backendConnector && _this2.backendConnector.saveMissing) {
              _this2.backendConnector.saveMissing(l, namespace, k, defaultForMissing, updateMissing, options);
            }

            _this2.emit('missingKey', l, namespace, k, res);
          };

          if (this.options.saveMissing) {
            if (this.options.saveMissingPlurals && needsPluralHandling) {
              lngs.forEach(function (language) {
                _this2.pluralResolver.getSuffixes(language, options).forEach(function (suffix) {
                  send([language], key + suffix, options["defaultValue".concat(suffix)] || defaultValue);
                });
              });
            } else {
              send(lngs, key, defaultValue);
            }
          }
        }

        res = this.extendTranslation(res, keys, options, resolved, lastKey);
        if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = "".concat(namespace, ":").concat(key);

        if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {
          if (this.options.compatibilityAPI !== 'v1') {
            res = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? "".concat(namespace, ":").concat(key) : key, usedDefault ? res : undefined);
          } else {
            res = this.options.parseMissingKeyHandler(res);
          }
        }
      }

      if (returnDetails) {
        resolved.res = res;
        return resolved;
      }

      return res;
    }
  }, {
    key: "extendTranslation",
    value: function extendTranslation(res, key, options, resolved, lastKey) {
      var _this3 = this;

      if (this.i18nFormat && this.i18nFormat.parse) {
        res = this.i18nFormat.parse(res, _objectSpread$2(_objectSpread$2({}, this.options.interpolation.defaultVariables), options), resolved.usedLng, resolved.usedNS, resolved.usedKey, {
          resolved: resolved
        });
      } else if (!options.skipInterpolation) {
        if (options.interpolation) this.interpolator.init(_objectSpread$2(_objectSpread$2({}, options), {
          interpolation: _objectSpread$2(_objectSpread$2({}, this.options.interpolation), options.interpolation)
        }));
        var skipOnVariables = typeof res === 'string' && (options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);
        var nestBef;

        if (skipOnVariables) {
          var nb = res.match(this.interpolator.nestingRegexp);
          nestBef = nb && nb.length;
        }

        var data = options.replace && typeof options.replace !== 'string' ? options.replace : options;
        if (this.options.interpolation.defaultVariables) data = _objectSpread$2(_objectSpread$2({}, this.options.interpolation.defaultVariables), data);
        res = this.interpolator.interpolate(res, data, options.lng || this.language, options);

        if (skipOnVariables) {
          var na = res.match(this.interpolator.nestingRegexp);
          var nestAft = na && na.length;
          if (nestBef < nestAft) options.nest = false;
        }

        if (options.nest !== false) res = this.interpolator.nest(res, function () {
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }

          if (lastKey && lastKey[0] === args[0] && !options.context) {
            _this3.logger.warn("It seems you are nesting recursively key: ".concat(args[0], " in key: ").concat(key[0]));

            return null;
          }

          return _this3.translate.apply(_this3, args.concat([key]));
        }, options);
        if (options.interpolation) this.interpolator.reset();
      }

      var postProcess = options.postProcess || this.options.postProcess;
      var postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;

      if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {
        res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? _objectSpread$2({
          i18nResolved: resolved
        }, options) : options, this);
      }

      return res;
    }
  }, {
    key: "resolve",
    value: function resolve(keys) {
      var _this4 = this;

      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var found;
      var usedKey;
      var exactUsedKey;
      var usedLng;
      var usedNS;
      if (typeof keys === 'string') keys = [keys];
      keys.forEach(function (k) {
        if (_this4.isValidLookup(found)) return;

        var extracted = _this4.extractFromKey(k, options);

        var key = extracted.key;
        usedKey = key;
        var namespaces = extracted.namespaces;
        if (_this4.options.fallbackNS) namespaces = namespaces.concat(_this4.options.fallbackNS);
        var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';

        var needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && _this4.pluralResolver.shouldUseIntlApi();

        var needsContextHandling = options.context !== undefined && (typeof options.context === 'string' || typeof options.context === 'number') && options.context !== '';
        var codes = options.lngs ? options.lngs : _this4.languageUtils.toResolveHierarchy(options.lng || _this4.language, options.fallbackLng);
        namespaces.forEach(function (ns) {
          if (_this4.isValidLookup(found)) return;
          usedNS = ns;

          if (!checkedLoadedFor["".concat(codes[0], "-").concat(ns)] && _this4.utils && _this4.utils.hasLoadedNamespace && !_this4.utils.hasLoadedNamespace(usedNS)) {
            checkedLoadedFor["".concat(codes[0], "-").concat(ns)] = true;

            _this4.logger.warn("key \"".concat(usedKey, "\" for languages \"").concat(codes.join(', '), "\" won't get resolved as namespace \"").concat(usedNS, "\" was not yet loaded"), 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');
          }

          codes.forEach(function (code) {
            if (_this4.isValidLookup(found)) return;
            usedLng = code;
            var finalKeys = [key];

            if (_this4.i18nFormat && _this4.i18nFormat.addLookupKeys) {
              _this4.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);
            } else {
              var pluralSuffix;
              if (needsPluralHandling) pluralSuffix = _this4.pluralResolver.getSuffix(code, options.count, options);
              var zeroSuffix = "".concat(_this4.options.pluralSeparator, "zero");

              if (needsPluralHandling) {
                finalKeys.push(key + pluralSuffix);

                if (needsZeroSuffixLookup) {
                  finalKeys.push(key + zeroSuffix);
                }
              }

              if (needsContextHandling) {
                var contextKey = "".concat(key).concat(_this4.options.contextSeparator).concat(options.context);
                finalKeys.push(contextKey);

                if (needsPluralHandling) {
                  finalKeys.push(contextKey + pluralSuffix);

                  if (needsZeroSuffixLookup) {
                    finalKeys.push(contextKey + zeroSuffix);
                  }
                }
              }
            }

            var possibleKey;

            while (possibleKey = finalKeys.pop()) {
              if (!_this4.isValidLookup(found)) {
                exactUsedKey = possibleKey;
                found = _this4.getResource(code, ns, possibleKey, options);
              }
            }
          });
        });
      });
      return {
        res: found,
        usedKey: usedKey,
        exactUsedKey: exactUsedKey,
        usedLng: usedLng,
        usedNS: usedNS
      };
    }
  }, {
    key: "isValidLookup",
    value: function isValidLookup(res) {
      return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');
    }
  }, {
    key: "getResource",
    value: function getResource(code, ns, key) {
      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
      if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);
      return this.resourceStore.getResource(code, ns, key, options);
    }
  }], [{
    key: "hasDefaultValue",
    value: function hasDefaultValue(options) {
      var prefix = 'defaultValue';

      for (var option in options) {
        if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) {
          return true;
        }
      }

      return false;
    }
  }]);

  return Translator;
}(i18next_EventEmitter);

function capitalize(string) {
  return string.charAt(0).toUpperCase() + string.slice(1);
}

var i18next_LanguageUtil = function () {
  function LanguageUtil(options) {
    _classCallCheck(this, LanguageUtil);

    this.options = options;
    this.supportedLngs = this.options.supportedLngs || false;
    this.logger = baseLogger.create('languageUtils');
  }

  _createClass(LanguageUtil, [{
    key: "getScriptPartFromCode",
    value: function getScriptPartFromCode(code) {
      if (!code || code.indexOf('-') < 0) return null;
      var p = code.split('-');
      if (p.length === 2) return null;
      p.pop();
      if (p[p.length - 1].toLowerCase() === 'x') return null;
      return this.formatLanguageCode(p.join('-'));
    }
  }, {
    key: "getLanguagePartFromCode",
    value: function getLanguagePartFromCode(code) {
      if (!code || code.indexOf('-') < 0) return code;
      var p = code.split('-');
      return this.formatLanguageCode(p[0]);
    }
  }, {
    key: "formatLanguageCode",
    value: function formatLanguageCode(code) {
      if (typeof code === 'string' && code.indexOf('-') > -1) {
        var specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];
        var p = code.split('-');

        if (this.options.lowerCaseLng) {
          p = p.map(function (part) {
            return part.toLowerCase();
          });
        } else if (p.length === 2) {
          p[0] = p[0].toLowerCase();
          p[1] = p[1].toUpperCase();
          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());
        } else if (p.length === 3) {
          p[0] = p[0].toLowerCase();
          if (p[1].length === 2) p[1] = p[1].toUpperCase();
          if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();
          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());
          if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());
        }

        return p.join('-');
      }

      return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;
    }
  }, {
    key: "isSupportedCode",
    value: function isSupportedCode(code) {
      if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {
        code = this.getLanguagePartFromCode(code);
      }

      return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;
    }
  }, {
    key: "getBestMatchFromCodes",
    value: function getBestMatchFromCodes(codes) {
      var _this = this;

      if (!codes) return null;
      var found;
      codes.forEach(function (code) {
        if (found) return;

        var cleanedLng = _this.formatLanguageCode(code);

        if (!_this.options.supportedLngs || _this.isSupportedCode(cleanedLng)) found = cleanedLng;
      });

      if (!found && this.options.supportedLngs) {
        codes.forEach(function (code) {
          if (found) return;

          var lngOnly = _this.getLanguagePartFromCode(code);

          if (_this.isSupportedCode(lngOnly)) return found = lngOnly;
          found = _this.options.supportedLngs.find(function (supportedLng) {
            if (supportedLng.indexOf(lngOnly) === 0) return supportedLng;
          });
        });
      }

      if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];
      return found;
    }
  }, {
    key: "getFallbackCodes",
    value: function getFallbackCodes(fallbacks, code) {
      if (!fallbacks) return [];
      if (typeof fallbacks === 'function') fallbacks = fallbacks(code);
      if (typeof fallbacks === 'string') fallbacks = [fallbacks];
      if (Object.prototype.toString.apply(fallbacks) === '[object Array]') return fallbacks;
      if (!code) return fallbacks["default"] || [];
      var found = fallbacks[code];
      if (!found) found = fallbacks[this.getScriptPartFromCode(code)];
      if (!found) found = fallbacks[this.formatLanguageCode(code)];
      if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];
      if (!found) found = fallbacks["default"];
      return found || [];
    }
  }, {
    key: "toResolveHierarchy",
    value: function toResolveHierarchy(code, fallbackCode) {
      var _this2 = this;

      var fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);
      var codes = [];

      var addCode = function addCode(c) {
        if (!c) return;

        if (_this2.isSupportedCode(c)) {
          codes.push(c);
        } else {
          _this2.logger.warn("rejecting language code not found in supportedLngs: ".concat(c));
        }
      };

      if (typeof code === 'string' && code.indexOf('-') > -1) {
        if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));
        if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));
        if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));
      } else if (typeof code === 'string') {
        addCode(this.formatLanguageCode(code));
      }

      fallbackCodes.forEach(function (fc) {
        if (codes.indexOf(fc) < 0) addCode(_this2.formatLanguageCode(fc));
      });
      return codes;
    }
  }]);

  return LanguageUtil;
}();

var sets = [{
  lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'tl', 'ti', 'tr', 'uz', 'wa'],
  nr: [1, 2],
  fc: 1
}, {
  lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kk', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],
  nr: [1, 2],
  fc: 2
}, {
  lngs: ['ay', 'bo', 'cgg', 'fa', 'ht', 'id', 'ja', 'jbo', 'ka', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],
  nr: [1],
  fc: 3
}, {
  lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],
  nr: [1, 2, 5],
  fc: 4
}, {
  lngs: ['ar'],
  nr: [0, 1, 2, 3, 11, 100],
  fc: 5
}, {
  lngs: ['cs', 'sk'],
  nr: [1, 2, 5],
  fc: 6
}, {
  lngs: ['csb', 'pl'],
  nr: [1, 2, 5],
  fc: 7
}, {
  lngs: ['cy'],
  nr: [1, 2, 3, 8],
  fc: 8
}, {
  lngs: ['fr'],
  nr: [1, 2],
  fc: 9
}, {
  lngs: ['ga'],
  nr: [1, 2, 3, 7, 11],
  fc: 10
}, {
  lngs: ['gd'],
  nr: [1, 2, 3, 20],
  fc: 11
}, {
  lngs: ['is'],
  nr: [1, 2],
  fc: 12
}, {
  lngs: ['jv'],
  nr: [0, 1],
  fc: 13
}, {
  lngs: ['kw'],
  nr: [1, 2, 3, 4],
  fc: 14
}, {
  lngs: ['lt'],
  nr: [1, 2, 10],
  fc: 15
}, {
  lngs: ['lv'],
  nr: [1, 2, 0],
  fc: 16
}, {
  lngs: ['mk'],
  nr: [1, 2],
  fc: 17
}, {
  lngs: ['mnk'],
  nr: [0, 1, 2],
  fc: 18
}, {
  lngs: ['mt'],
  nr: [1, 2, 11, 20],
  fc: 19
}, {
  lngs: ['or'],
  nr: [2, 1],
  fc: 2
}, {
  lngs: ['ro'],
  nr: [1, 2, 20],
  fc: 20
}, {
  lngs: ['sl'],
  nr: [5, 1, 2, 3],
  fc: 21
}, {
  lngs: ['he', 'iw'],
  nr: [1, 2, 20, 21],
  fc: 22
}];
var _rulesPluralsTypes = {
  1: function _(n) {
    return Number(n > 1);
  },
  2: function _(n) {
    return Number(n != 1);
  },
  3: function _(n) {
    return 0;
  },
  4: function _(n) {
    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);
  },
  5: function _(n) {
    return Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);
  },
  6: function _(n) {
    return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);
  },
  7: function _(n) {
    return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);
  },
  8: function _(n) {
    return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);
  },
  9: function _(n) {
    return Number(n >= 2);
  },
  10: function _(n) {
    return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);
  },
  11: function _(n) {
    return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);
  },
  12: function _(n) {
    return Number(n % 10 != 1 || n % 100 == 11);
  },
  13: function _(n) {
    return Number(n !== 0);
  },
  14: function _(n) {
    return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);
  },
  15: function _(n) {
    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);
  },
  16: function _(n) {
    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);
  },
  17: function _(n) {
    return Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1);
  },
  18: function _(n) {
    return Number(n == 0 ? 0 : n == 1 ? 1 : 2);
  },
  19: function _(n) {
    return Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);
  },
  20: function _(n) {
    return Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);
  },
  21: function _(n) {
    return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);
  },
  22: function _(n) {
    return Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3);
  }
};
var deprecatedJsonVersions = ['v1', 'v2', 'v3'];
var suffixesOrder = {
  zero: 0,
  one: 1,
  two: 2,
  few: 3,
  many: 4,
  other: 5
};

function createRules() {
  var rules = {};
  sets.forEach(function (set) {
    set.lngs.forEach(function (l) {
      rules[l] = {
        numbers: set.nr,
        plurals: _rulesPluralsTypes[set.fc]
      };
    });
  });
  return rules;
}

var i18next_PluralResolver = function () {
  function PluralResolver(languageUtils) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    _classCallCheck(this, PluralResolver);

    this.languageUtils = languageUtils;
    this.options = options;
    this.logger = baseLogger.create('pluralResolver');

    if ((!this.options.compatibilityJSON || this.options.compatibilityJSON === 'v4') && (typeof Intl === 'undefined' || !Intl.PluralRules)) {
      this.options.compatibilityJSON = 'v3';
      this.logger.error('Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.');
    }

    this.rules = createRules();
  }

  _createClass(PluralResolver, [{
    key: "addRule",
    value: function addRule(lng, obj) {
      this.rules[lng] = obj;
    }
  }, {
    key: "getRule",
    value: function getRule(code) {
      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

      if (this.shouldUseIntlApi()) {
        try {
          return new Intl.PluralRules(code, {
            type: options.ordinal ? 'ordinal' : 'cardinal'
          });
        } catch (_unused) {
          return;
        }
      }

      return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];
    }
  }, {
    key: "needsPlural",
    value: function needsPlural(code) {
      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var rule = this.getRule(code, options);

      if (this.shouldUseIntlApi()) {
        return rule && rule.resolvedOptions().pluralCategories.length > 1;
      }

      return rule && rule.numbers.length > 1;
    }
  }, {
    key: "getPluralFormsOfKey",
    value: function getPluralFormsOfKey(code, key) {
      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      return this.getSuffixes(code, options).map(function (suffix) {
        return "".concat(key).concat(suffix);
      });
    }
  }, {
    key: "getSuffixes",
    value: function getSuffixes(code) {
      var _this = this;

      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var rule = this.getRule(code, options);

      if (!rule) {
        return [];
      }

      if (this.shouldUseIntlApi()) {
        return rule.resolvedOptions().pluralCategories.sort(function (pluralCategory1, pluralCategory2) {
          return suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2];
        }).map(function (pluralCategory) {
          return "".concat(_this.options.prepend).concat(pluralCategory);
        });
      }

      return rule.numbers.map(function (number) {
        return _this.getSuffix(code, number, options);
      });
    }
  }, {
    key: "getSuffix",
    value: function getSuffix(code, count) {
      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      var rule = this.getRule(code, options);

      if (rule) {
        if (this.shouldUseIntlApi()) {
          return "".concat(this.options.prepend).concat(rule.select(count));
        }

        return this.getSuffixRetroCompatible(rule, count);
      }

      this.logger.warn("no plural rule found for: ".concat(code));
      return '';
    }
  }, {
    key: "getSuffixRetroCompatible",
    value: function getSuffixRetroCompatible(rule, count) {
      var _this2 = this;

      var idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));
      var suffix = rule.numbers[idx];

      if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {
        if (suffix === 2) {
          suffix = 'plural';
        } else if (suffix === 1) {
          suffix = '';
        }
      }

      var returnSuffix = function returnSuffix() {
        return _this2.options.prepend && suffix.toString() ? _this2.options.prepend + suffix.toString() : suffix.toString();
      };

      if (this.options.compatibilityJSON === 'v1') {
        if (suffix === 1) return '';
        if (typeof suffix === 'number') return "_plural_".concat(suffix.toString());
        return returnSuffix();
      } else if (this.options.compatibilityJSON === 'v2') {
        return returnSuffix();
      } else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {
        return returnSuffix();
      }

      return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();
    }
  }, {
    key: "shouldUseIntlApi",
    value: function shouldUseIntlApi() {
      return !deprecatedJsonVersions.includes(this.options.compatibilityJSON);
    }
  }]);

  return PluralResolver;
}();

function ownKeys$3(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$3(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$3(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var i18next_Interpolator = function () {
  function Interpolator() {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    _classCallCheck(this, Interpolator);

    this.logger = baseLogger.create('interpolator');
    this.options = options;

    this.format = options.interpolation && options.interpolation.format || function (value) {
      return value;
    };

    this.init(options);
  }

  _createClass(Interpolator, [{
    key: "init",
    value: function init() {
      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      if (!options.interpolation) options.interpolation = {
        escapeValue: true
      };
      var iOpts = options.interpolation;
      this.escape = iOpts.escape !== undefined ? iOpts.escape : i18next_escape;
      this.escapeValue = iOpts.escapeValue !== undefined ? iOpts.escapeValue : true;
      this.useRawValueToEscape = iOpts.useRawValueToEscape !== undefined ? iOpts.useRawValueToEscape : false;
      this.prefix = iOpts.prefix ? regexEscape(iOpts.prefix) : iOpts.prefixEscaped || '{{';
      this.suffix = iOpts.suffix ? regexEscape(iOpts.suffix) : iOpts.suffixEscaped || '}}';
      this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';
      this.unescapePrefix = iOpts.unescapeSuffix ? '' : iOpts.unescapePrefix || '-';
      this.unescapeSuffix = this.unescapePrefix ? '' : iOpts.unescapeSuffix || '';
      this.nestingPrefix = iOpts.nestingPrefix ? regexEscape(iOpts.nestingPrefix) : iOpts.nestingPrefixEscaped || regexEscape('$t(');
      this.nestingSuffix = iOpts.nestingSuffix ? regexEscape(iOpts.nestingSuffix) : iOpts.nestingSuffixEscaped || regexEscape(')');
      this.nestingOptionsSeparator = iOpts.nestingOptionsSeparator ? iOpts.nestingOptionsSeparator : iOpts.nestingOptionsSeparator || ',';
      this.maxReplaces = iOpts.maxReplaces ? iOpts.maxReplaces : 1000;
      this.alwaysFormat = iOpts.alwaysFormat !== undefined ? iOpts.alwaysFormat : false;
      this.resetRegExp();
    }
  }, {
    key: "reset",
    value: function reset() {
      if (this.options) this.init(this.options);
    }
  }, {
    key: "resetRegExp",
    value: function resetRegExp() {
      var regexpStr = "".concat(this.prefix, "(.+?)").concat(this.suffix);
      this.regexp = new RegExp(regexpStr, 'g');
      var regexpUnescapeStr = "".concat(this.prefix).concat(this.unescapePrefix, "(.+?)").concat(this.unescapeSuffix).concat(this.suffix);
      this.regexpUnescape = new RegExp(regexpUnescapeStr, 'g');
      var nestingRegexpStr = "".concat(this.nestingPrefix, "(.+?)").concat(this.nestingSuffix);
      this.nestingRegexp = new RegExp(nestingRegexpStr, 'g');
    }
  }, {
    key: "interpolate",
    value: function interpolate(str, data, lng, options) {
      var _this = this;

      var match;
      var value;
      var replaces;
      var defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};

      function regexSafe(val) {
        return val.replace(/\$/g, '$$$$');
      }

      var handleFormat = function handleFormat(key) {
        if (key.indexOf(_this.formatSeparator) < 0) {
          var path = getPathWithDefaults(data, defaultData, key);
          return _this.alwaysFormat ? _this.format(path, undefined, lng, _objectSpread$3(_objectSpread$3(_objectSpread$3({}, options), data), {}, {
            interpolationkey: key
          })) : path;
        }

        var p = key.split(_this.formatSeparator);
        var k = p.shift().trim();
        var f = p.join(_this.formatSeparator).trim();
        return _this.format(getPathWithDefaults(data, defaultData, k), f, lng, _objectSpread$3(_objectSpread$3(_objectSpread$3({}, options), data), {}, {
          interpolationkey: k
        }));
      };

      this.resetRegExp();
      var missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;
      var skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;
      var todos = [{
        regex: this.regexpUnescape,
        safeValue: function safeValue(val) {
          return regexSafe(val);
        }
      }, {
        regex: this.regexp,
        safeValue: function safeValue(val) {
          return _this.escapeValue ? regexSafe(_this.escape(val)) : regexSafe(val);
        }
      }];
      todos.forEach(function (todo) {
        replaces = 0;

        while (match = todo.regex.exec(str)) {
          var matchedVar = match[1].trim();
          value = handleFormat(matchedVar);

          if (value === undefined) {
            if (typeof missingInterpolationHandler === 'function') {
              var temp = missingInterpolationHandler(str, match, options);
              value = typeof temp === 'string' ? temp : '';
            } else if (options && options.hasOwnProperty(matchedVar)) {
              value = '';
            } else if (skipOnVariables) {
              value = match[0];
              continue;
            } else {
              _this.logger.warn("missed to pass in variable ".concat(matchedVar, " for interpolating ").concat(str));

              value = '';
            }
          } else if (typeof value !== 'string' && !_this.useRawValueToEscape) {
            value = makeString(value);
          }

          var safeValue = todo.safeValue(value);
          str = str.replace(match[0], safeValue);

          if (skipOnVariables) {
            todo.regex.lastIndex += value.length;
            todo.regex.lastIndex -= match[0].length;
          } else {
            todo.regex.lastIndex = 0;
          }

          replaces++;

          if (replaces >= _this.maxReplaces) {
            break;
          }
        }
      });
      return str;
    }
  }, {
    key: "nest",
    value: function nest(str, fc) {
      var _this2 = this;

      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      var match;
      var value;

      var clonedOptions = _objectSpread$3({}, options);

      clonedOptions.applyPostProcessor = false;
      delete clonedOptions.defaultValue;

      function handleHasOptions(key, inheritedOptions) {
        var sep = this.nestingOptionsSeparator;
        if (key.indexOf(sep) < 0) return key;
        var c = key.split(new RegExp("".concat(sep, "[ ]*{")));
        var optionsString = "{".concat(c[1]);
        key = c[0];
        optionsString = this.interpolate(optionsString, clonedOptions);
        var matchedSingleQuotes = optionsString.match(/'/g);
        var matchedDoubleQuotes = optionsString.match(/"/g);

        if (matchedSingleQuotes && matchedSingleQuotes.length % 2 === 0 && !matchedDoubleQuotes || matchedDoubleQuotes.length % 2 !== 0) {
          optionsString = optionsString.replace(/'/g, '"');
        }

        try {
          clonedOptions = JSON.parse(optionsString);
          if (inheritedOptions) clonedOptions = _objectSpread$3(_objectSpread$3({}, inheritedOptions), clonedOptions);
        } catch (e) {
          this.logger.warn("failed parsing options string in nesting for key ".concat(key), e);
          return "".concat(key).concat(sep).concat(optionsString);
        }

        delete clonedOptions.defaultValue;
        return key;
      }

      while (match = this.nestingRegexp.exec(str)) {
        var formatters = [];
        var doReduce = false;

        if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {
          var r = match[1].split(this.formatSeparator).map(function (elem) {
            return elem.trim();
          });
          match[1] = r.shift();
          formatters = r;
          doReduce = true;
        }

        value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);
        if (value && match[0] === str && typeof value !== 'string') return value;
        if (typeof value !== 'string') value = makeString(value);

        if (!value) {
          this.logger.warn("missed to resolve ".concat(match[1], " for nesting ").concat(str));
          value = '';
        }

        if (doReduce) {
          value = formatters.reduce(function (v, f) {
            return _this2.format(v, f, options.lng, _objectSpread$3(_objectSpread$3({}, options), {}, {
              interpolationkey: match[1].trim()
            }));
          }, value.trim());
        }

        str = str.replace(match[0], value);
        this.regexp.lastIndex = 0;
      }

      return str;
    }
  }]);

  return Interpolator;
}();

function ownKeys$4(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread$4(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$4(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$4(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function parseFormatStr(formatStr) {
  var formatName = formatStr.toLowerCase().trim();
  var formatOptions = {};

  if (formatStr.indexOf('(') > -1) {
    var p = formatStr.split('(');
    formatName = p[0].toLowerCase().trim();
    var optStr = p[1].substring(0, p[1].length - 1);

    if (formatName === 'currency' && optStr.indexOf(':') < 0) {
      if (!formatOptions.currency) formatOptions.currency = optStr.trim();
    } else if (formatName === 'relativetime' && optStr.indexOf(':') < 0) {
      if (!formatOptions.range) formatOptions.range = optStr.trim();
    } else {
      var opts = optStr.split(';');
      opts.forEach(function (opt) {
        if (!opt) return;

        var _opt$split = opt.split(':'),
            _opt$split2 = _toArray(_opt$split),
            key = _opt$split2[0],
            rest = _opt$split2.slice(1);

        var val = rest.join(':').trim().replace(/^'+|'+$/g, '');
        if (!formatOptions[key.trim()]) formatOptions[key.trim()] = val;
        if (val === 'false') formatOptions[key.trim()] = false;
        if (val === 'true') formatOptions[key.trim()] = true;
        if (!isNaN(val)) formatOptions[key.trim()] = parseInt(val, 10);
      });
    }
  }

  return {
    formatName: formatName,
    formatOptions: formatOptions
  };
}

function createCachedFormatter(fn) {
  var cache = {};
  return function invokeFormatter(val, lng, options) {
    var key = lng + JSON.stringify(options);
    var formatter = cache[key];

    if (!formatter) {
      formatter = fn(lng, options);
      cache[key] = formatter;
    }

    return formatter(val);
  };
}

var i18next_Formatter = function () {
  function Formatter() {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    _classCallCheck(this, Formatter);

    this.logger = baseLogger.create('formatter');
    this.options = options;
    this.formats = {
      number: createCachedFormatter(function (lng, options) {
        var formatter = new Intl.NumberFormat(lng, options);
        return function (val) {
          return formatter.format(val);
        };
      }),
      currency: createCachedFormatter(function (lng, options) {
        var formatter = new Intl.NumberFormat(lng, _objectSpread$4(_objectSpread$4({}, options), {}, {
          style: 'currency'
        }));
        return function (val) {
          return formatter.format(val);
        };
      }),
      datetime: createCachedFormatter(function (lng, options) {
        var formatter = new Intl.DateTimeFormat(lng, _objectSpread$4({}, options));
        return function (val) {
          return formatter.format(val);
        };
      }),
      relativetime: createCachedFormatter(function (lng, options) {
        var formatter = new Intl.RelativeTimeFormat(lng, _objectSpread$4({}, options));
        return function (val) {
          return formatter.format(val, options.range || 'day');
        };
      }),
      list: createCachedFormatter(function (lng, options) {
        var formatter = new Intl.ListFormat(lng, _objectSpread$4({}, options));
        return function (val) {
          return formatter.format(val);
        };
      })
    };
    this.init(options);
  }

  _createClass(Formatter, [{
    key: "init",
    value: function init(services) {
      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
        interpolation: {}
      };
      var iOpts = options.interpolation;
      this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';
    }
  }, {
    key: "add",
    value: function add(name, fc) {
      this.formats[name.toLowerCase().trim()] = fc;
    }
  }, {
    key: "addCached",
    value: function addCached(name, fc) {
      this.formats[name.toLowerCase().trim()] = createCachedFormatter(fc);
    }
  }, {
    key: "format",
    value: function format(value, _format, lng, options) {
      var _this = this;

      var formats = _format.split(this.formatSeparator);

      var result = formats.reduce(function (mem, f) {
        var _parseFormatStr = parseFormatStr(f),
            formatName = _parseFormatStr.formatName,
            formatOptions = _parseFormatStr.formatOptions;

        if (_this.formats[formatName]) {
          var formatted = mem;

          try {
            var valOptions = options && options.formatParams && options.formatParams[options.interpolationkey] || {};
            var l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;
            formatted = _this.formats[formatName](mem, l, _objectSpread$4(_objectSpread$4(_objectSpread$4({}, formatOptions), options), valOptions));
          } catch (error) {
            _this.logger.warn(error);
          }

          return formatted;
        } else {
          _this.logger.warn("there was no format function for ".concat(formatName));
        }

        return mem;
      }, value);
      return result;
    }
  }]);

  return Formatter;
}();

function ownKeys$5(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread$5(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$5(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$5(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _createSuper$2(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$2(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _isNativeReflectConstruct$2() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function removePending(q, name) {
  if (q.pending[name] !== undefined) {
    delete q.pending[name];
    q.pendingCount--;
  }
}

var i18next_Connector = function (_EventEmitter) {
  _inherits(Connector, _EventEmitter);

  var _super = _createSuper$2(Connector);

  function Connector(backend, store, services) {
    var _this;

    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};

    _classCallCheck(this, Connector);

    _this = _super.call(this);

    if (isIE10) {
      i18next_EventEmitter.call(_assertThisInitialized(_this));
    }

    _this.backend = backend;
    _this.store = store;
    _this.services = services;
    _this.languageUtils = services.languageUtils;
    _this.options = options;
    _this.logger = baseLogger.create('backendConnector');
    _this.waitingReads = [];
    _this.maxParallelReads = options.maxParallelReads || 10;
    _this.readingCalls = 0;
    _this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;
    _this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;
    _this.state = {};
    _this.queue = [];

    if (_this.backend && _this.backend.init) {
      _this.backend.init(services, options.backend, options);
    }

    return _this;
  }

  _createClass(Connector, [{
    key: "queueLoad",
    value: function queueLoad(languages, namespaces, options, callback) {
      var _this2 = this;

      var toLoad = {};
      var pending = {};
      var toLoadLanguages = {};
      var toLoadNamespaces = {};
      languages.forEach(function (lng) {
        var hasAllNamespaces = true;
        namespaces.forEach(function (ns) {
          var name = "".concat(lng, "|").concat(ns);

          if (!options.reload && _this2.store.hasResourceBundle(lng, ns)) {
            _this2.state[name] = 2;
          } else if (_this2.state[name] < 0) ; else if (_this2.state[name] === 1) {
            if (pending[name] === undefined) pending[name] = true;
          } else {
            _this2.state[name] = 1;
            hasAllNamespaces = false;
            if (pending[name] === undefined) pending[name] = true;
            if (toLoad[name] === undefined) toLoad[name] = true;
            if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;
          }
        });
        if (!hasAllNamespaces) toLoadLanguages[lng] = true;
      });

      if (Object.keys(toLoad).length || Object.keys(pending).length) {
        this.queue.push({
          pending: pending,
          pendingCount: Object.keys(pending).length,
          loaded: {},
          errors: [],
          callback: callback
        });
      }

      return {
        toLoad: Object.keys(toLoad),
        pending: Object.keys(pending),
        toLoadLanguages: Object.keys(toLoadLanguages),
        toLoadNamespaces: Object.keys(toLoadNamespaces)
      };
    }
  }, {
    key: "loaded",
    value: function loaded(name, err, data) {
      var s = name.split('|');
      var lng = s[0];
      var ns = s[1];
      if (err) this.emit('failedLoading', lng, ns, err);

      if (data) {
        this.store.addResourceBundle(lng, ns, data);
      }

      this.state[name] = err ? -1 : 2;
      var loaded = {};
      this.queue.forEach(function (q) {
        pushPath(q.loaded, [lng], ns);
        removePending(q, name);
        if (err) q.errors.push(err);

        if (q.pendingCount === 0 && !q.done) {
          Object.keys(q.loaded).forEach(function (l) {
            if (!loaded[l]) loaded[l] = {};
            var loadedKeys = q.loaded[l];

            if (loadedKeys.length) {
              loadedKeys.forEach(function (ns) {
                if (loaded[l][ns] === undefined) loaded[l][ns] = true;
              });
            }
          });
          q.done = true;

          if (q.errors.length) {
            q.callback(q.errors);
          } else {
            q.callback();
          }
        }
      });
      this.emit('loaded', loaded);
      this.queue = this.queue.filter(function (q) {
        return !q.done;
      });
    }
  }, {
    key: "read",
    value: function read(lng, ns, fcName) {
      var _this3 = this;

      var tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
      var wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this.retryTimeout;
      var callback = arguments.length > 5 ? arguments[5] : undefined;
      if (!lng.length) return callback(null, {});

      if (this.readingCalls >= this.maxParallelReads) {
        this.waitingReads.push({
          lng: lng,
          ns: ns,
          fcName: fcName,
          tried: tried,
          wait: wait,
          callback: callback
        });
        return;
      }

      this.readingCalls++;
      return this.backend[fcName](lng, ns, function (err, data) {
        _this3.readingCalls--;

        if (_this3.waitingReads.length > 0) {
          var next = _this3.waitingReads.shift();

          _this3.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);
        }

        if (err && data && tried < _this3.maxRetries) {
          setTimeout(function () {
            _this3.read.call(_this3, lng, ns, fcName, tried + 1, wait * 2, callback);
          }, wait);
          return;
        }

        callback(err, data);
      });
    }
  }, {
    key: "prepareLoading",
    value: function prepareLoading(languages, namespaces) {
      var _this4 = this;

      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      var callback = arguments.length > 3 ? arguments[3] : undefined;

      if (!this.backend) {
        this.logger.warn('No backend was added via i18next.use. Will not load resources.');
        return callback && callback();
      }

      if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);
      if (typeof namespaces === 'string') namespaces = [namespaces];
      var toLoad = this.queueLoad(languages, namespaces, options, callback);

      if (!toLoad.toLoad.length) {
        if (!toLoad.pending.length) callback();
        return null;
      }

      toLoad.toLoad.forEach(function (name) {
        _this4.loadOne(name);
      });
    }
  }, {
    key: "load",
    value: function load(languages, namespaces, callback) {
      this.prepareLoading(languages, namespaces, {}, callback);
    }
  }, {
    key: "reload",
    value: function reload(languages, namespaces, callback) {
      this.prepareLoading(languages, namespaces, {
        reload: true
      }, callback);
    }
  }, {
    key: "loadOne",
    value: function loadOne(name) {
      var _this5 = this;

      var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
      var s = name.split('|');
      var lng = s[0];
      var ns = s[1];
      this.read(lng, ns, 'read', undefined, undefined, function (err, data) {
        if (err) _this5.logger.warn("".concat(prefix, "loading namespace ").concat(ns, " for language ").concat(lng, " failed"), err);
        if (!err && data) _this5.logger.log("".concat(prefix, "loaded namespace ").concat(ns, " for language ").concat(lng), data);

        _this5.loaded(name, err, data);
      });
    }
  }, {
    key: "saveMissing",
    value: function saveMissing(languages, namespace, key, fallbackValue, isUpdate) {
      var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};

      if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {
        this.logger.warn("did not save key \"".concat(key, "\" as the namespace \"").concat(namespace, "\" was not yet loaded"), 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');
        return;
      }

      if (key === undefined || key === null || key === '') return;

      if (this.backend && this.backend.create) {
        this.backend.create(languages, namespace, key, fallbackValue, null, _objectSpread$5(_objectSpread$5({}, options), {}, {
          isUpdate: isUpdate
        }));
      }

      if (!languages || !languages[0]) return;
      this.store.addResource(languages[0], namespace, key, fallbackValue);
    }
  }]);

  return Connector;
}(i18next_EventEmitter);

function get() {
  return {
    debug: false,
    initImmediate: true,
    ns: ['translation'],
    defaultNS: ['translation'],
    fallbackLng: ['dev'],
    fallbackNS: false,
    supportedLngs: false,
    nonExplicitSupportedLngs: false,
    load: 'all',
    preload: false,
    simplifyPluralSuffix: true,
    keySeparator: '.',
    nsSeparator: ':',
    pluralSeparator: '_',
    contextSeparator: '_',
    partialBundledLanguages: false,
    saveMissing: false,
    updateMissing: false,
    saveMissingTo: 'fallback',
    saveMissingPlurals: true,
    missingKeyHandler: false,
    missingInterpolationHandler: false,
    postProcess: false,
    postProcessPassResolved: false,
    returnNull: true,
    returnEmptyString: true,
    returnObjects: false,
    joinArrays: false,
    returnedObjectHandler: false,
    parseMissingKeyHandler: false,
    appendNamespaceToMissingKey: false,
    appendNamespaceToCIMode: false,
    overloadTranslationOptionHandler: function handle(args) {
      var ret = {};
      if (_typeof(args[1]) === 'object') ret = args[1];
      if (typeof args[1] === 'string') ret.defaultValue = args[1];
      if (typeof args[2] === 'string') ret.tDescription = args[2];

      if (_typeof(args[2]) === 'object' || _typeof(args[3]) === 'object') {
        var options = args[3] || args[2];
        Object.keys(options).forEach(function (key) {
          ret[key] = options[key];
        });
      }

      return ret;
    },
    interpolation: {
      escapeValue: true,
      format: function format(value, _format, lng, options) {
        return value;
      },
      prefix: '{{',
      suffix: '}}',
      formatSeparator: ',',
      unescapePrefix: '-',
      nestingPrefix: '$t(',
      nestingSuffix: ')',
      nestingOptionsSeparator: ',',
      maxReplaces: 1000,
      skipOnVariables: true
    }
  };
}
function transformOptions(options) {
  if (typeof options.ns === 'string') options.ns = [options.ns];
  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];
  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS];

  if (options.supportedLngs && options.supportedLngs.indexOf('cimode') < 0) {
    options.supportedLngs = options.supportedLngs.concat(['cimode']);
  }

  return options;
}

function ownKeys$6(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread$6(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$6(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$6(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _createSuper$3(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$3(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _isNativeReflectConstruct$3() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

function noop() {}

function bindMemberFunctions(inst) {
  var mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst));
  mems.forEach(function (mem) {
    if (typeof inst[mem] === 'function') {
      inst[mem] = inst[mem].bind(inst);
    }
  });
}

var i18next_I18n = function (_EventEmitter) {
  _inherits(I18n, _EventEmitter);

  var _super = _createSuper$3(I18n);

  function I18n() {
    var _this;

    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    var callback = arguments.length > 1 ? arguments[1] : undefined;

    _classCallCheck(this, I18n);

    _this = _super.call(this);

    if (isIE10) {
      i18next_EventEmitter.call(_assertThisInitialized(_this));
    }

    _this.options = transformOptions(options);
    _this.services = {};
    _this.logger = baseLogger;
    _this.modules = {
      external: []
    };
    bindMemberFunctions(_assertThisInitialized(_this));

    if (callback && !_this.isInitialized && !options.isClone) {
      if (!_this.options.initImmediate) {
        _this.init(options, callback);

        return _possibleConstructorReturn(_this, _assertThisInitialized(_this));
      }

      setTimeout(function () {
        _this.init(options, callback);
      }, 0);
    }

    return _this;
  }

  _createClass(I18n, [{
    key: "init",
    value: function init() {
      var _this2 = this;

      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      var callback = arguments.length > 1 ? arguments[1] : undefined;

      if (typeof options === 'function') {
        callback = options;
        options = {};
      }

      if (!options.defaultNS && options.defaultNS !== false && options.ns) {
        if (typeof options.ns === 'string') {
          options.defaultNS = options.ns;
        } else if (options.ns.indexOf('translation') < 0) {
          options.defaultNS = options.ns[0];
        }
      }

      var defOpts = get();
      this.options = _objectSpread$6(_objectSpread$6(_objectSpread$6({}, defOpts), this.options), transformOptions(options));

      if (this.options.compatibilityAPI !== 'v1') {
        this.options.interpolation = _objectSpread$6(_objectSpread$6({}, defOpts.interpolation), this.options.interpolation);
      }

      if (options.keySeparator !== undefined) {
        this.options.userDefinedKeySeparator = options.keySeparator;
      }

      if (options.nsSeparator !== undefined) {
        this.options.userDefinedNsSeparator = options.nsSeparator;
      }

      function createClassOnDemand(ClassOrObject) {
        if (!ClassOrObject) return null;
        if (typeof ClassOrObject === 'function') return new ClassOrObject();
        return ClassOrObject;
      }

      if (!this.options.isClone) {
        if (this.modules.logger) {
          baseLogger.init(createClassOnDemand(this.modules.logger), this.options);
        } else {
          baseLogger.init(null, this.options);
        }

        var formatter;

        if (this.modules.formatter) {
          formatter = this.modules.formatter;
        } else if (typeof Intl !== 'undefined') {
          formatter = i18next_Formatter;
        }

        var lu = new i18next_LanguageUtil(this.options);
        this.store = new i18next_ResourceStore(this.options.resources, this.options);
        var s = this.services;
        s.logger = baseLogger;
        s.resourceStore = this.store;
        s.languageUtils = lu;
        s.pluralResolver = new i18next_PluralResolver(lu, {
          prepend: this.options.pluralSeparator,
          compatibilityJSON: this.options.compatibilityJSON,
          simplifyPluralSuffix: this.options.simplifyPluralSuffix
        });

        if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {
          s.formatter = createClassOnDemand(formatter);
          s.formatter.init(s, this.options);
          this.options.interpolation.format = s.formatter.format.bind(s.formatter);
        }

        s.interpolator = new i18next_Interpolator(this.options);
        s.utils = {
          hasLoadedNamespace: this.hasLoadedNamespace.bind(this)
        };
        s.backendConnector = new i18next_Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);
        s.backendConnector.on('*', function (event) {
          for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
            args[_key - 1] = arguments[_key];
          }

          _this2.emit.apply(_this2, [event].concat(args));
        });

        if (this.modules.languageDetector) {
          s.languageDetector = createClassOnDemand(this.modules.languageDetector);
          s.languageDetector.init(s, this.options.detection, this.options);
        }

        if (this.modules.i18nFormat) {
          s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);
          if (s.i18nFormat.init) s.i18nFormat.init(this);
        }

        this.translator = new i18next_Translator(this.services, this.options);
        this.translator.on('*', function (event) {
          for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
            args[_key2 - 1] = arguments[_key2];
          }

          _this2.emit.apply(_this2, [event].concat(args));
        });
        this.modules.external.forEach(function (m) {
          if (m.init) m.init(_this2);
        });
      }

      this.format = this.options.interpolation.format;
      if (!callback) callback = noop;

      if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {
        var codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);
        if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0];
      }

      if (!this.services.languageDetector && !this.options.lng) {
        this.logger.warn('init: no languageDetector is used and no lng is defined');
      }

      var storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];
      storeApi.forEach(function (fcName) {
        _this2[fcName] = function () {
          var _this2$store;

          return (_this2$store = _this2.store)[fcName].apply(_this2$store, arguments);
        };
      });
      var storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];
      storeApiChained.forEach(function (fcName) {
        _this2[fcName] = function () {
          var _this2$store2;

          (_this2$store2 = _this2.store)[fcName].apply(_this2$store2, arguments);

          return _this2;
        };
      });
      var deferred = defer();

      var load = function load() {
        var finish = function finish(err, t) {
          if (_this2.isInitialized && !_this2.initializedStoreOnce) _this2.logger.warn('init: i18next is already initialized. You should call init just once!');
          _this2.isInitialized = true;
          if (!_this2.options.isClone) _this2.logger.log('initialized', _this2.options);

          _this2.emit('initialized', _this2.options);

          deferred.resolve(t);
          callback(err, t);
        };

        if (_this2.languages && _this2.options.compatibilityAPI !== 'v1' && !_this2.isInitialized) return finish(null, _this2.t.bind(_this2));

        _this2.changeLanguage(_this2.options.lng, finish);
      };

      if (this.options.resources || !this.options.initImmediate) {
        load();
      } else {
        setTimeout(load, 0);
      }

      return deferred;
    }
  }, {
    key: "loadResources",
    value: function loadResources(language) {
      var _this3 = this;

      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;
      var usedCallback = callback;
      var usedLng = typeof language === 'string' ? language : this.language;
      if (typeof language === 'function') usedCallback = language;

      if (!this.options.resources || this.options.partialBundledLanguages) {
        if (usedLng && usedLng.toLowerCase() === 'cimode') return usedCallback();
        var toLoad = [];

        var append = function append(lng) {
          if (!lng) return;

          var lngs = _this3.services.languageUtils.toResolveHierarchy(lng);

          lngs.forEach(function (l) {
            if (toLoad.indexOf(l) < 0) toLoad.push(l);
          });
        };

        if (!usedLng) {
          var fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);
          fallbacks.forEach(function (l) {
            return append(l);
          });
        } else {
          append(usedLng);
        }

        if (this.options.preload) {
          this.options.preload.forEach(function (l) {
            return append(l);
          });
        }

        this.services.backendConnector.load(toLoad, this.options.ns, function (e) {
          if (!e && !_this3.resolvedLanguage && _this3.language) _this3.setResolvedLanguage(_this3.language);
          usedCallback(e);
        });
      } else {
        usedCallback(null);
      }
    }
  }, {
    key: "reloadResources",
    value: function reloadResources(lngs, ns, callback) {
      var deferred = defer();
      if (!lngs) lngs = this.languages;
      if (!ns) ns = this.options.ns;
      if (!callback) callback = noop;
      this.services.backendConnector.reload(lngs, ns, function (err) {
        deferred.resolve();
        callback(err);
      });
      return deferred;
    }
  }, {
    key: "use",
    value: function use(module) {
      if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');
      if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');

      if (module.type === 'backend') {
        this.modules.backend = module;
      }

      if (module.type === 'logger' || module.log && module.warn && module.error) {
        this.modules.logger = module;
      }

      if (module.type === 'languageDetector') {
        this.modules.languageDetector = module;
      }

      if (module.type === 'i18nFormat') {
        this.modules.i18nFormat = module;
      }

      if (module.type === 'postProcessor') {
        postProcessor.addPostProcessor(module);
      }

      if (module.type === 'formatter') {
        this.modules.formatter = module;
      }

      if (module.type === '3rdParty') {
        this.modules.external.push(module);
      }

      return this;
    }
  }, {
    key: "setResolvedLanguage",
    value: function setResolvedLanguage(l) {
      if (!l || !this.languages) return;
      if (['cimode', 'dev'].indexOf(l) > -1) return;

      for (var li = 0; li < this.languages.length; li++) {
        var lngInLngs = this.languages[li];
        if (['cimode', 'dev'].indexOf(lngInLngs) > -1) continue;

        if (this.store.hasLanguageSomeTranslations(lngInLngs)) {
          this.resolvedLanguage = lngInLngs;
          break;
        }
      }
    }
  }, {
    key: "changeLanguage",
    value: function changeLanguage(lng, callback) {
      var _this4 = this;

      this.isLanguageChangingTo = lng;
      var deferred = defer();
      this.emit('languageChanging', lng);

      var setLngProps = function setLngProps(l) {
        _this4.language = l;
        _this4.languages = _this4.services.languageUtils.toResolveHierarchy(l);
        _this4.resolvedLanguage = undefined;

        _this4.setResolvedLanguage(l);
      };

      var done = function done(err, l) {
        if (l) {
          setLngProps(l);

          _this4.translator.changeLanguage(l);

          _this4.isLanguageChangingTo = undefined;

          _this4.emit('languageChanged', l);

          _this4.logger.log('languageChanged', l);
        } else {
          _this4.isLanguageChangingTo = undefined;
        }

        deferred.resolve(function () {
          return _this4.t.apply(_this4, arguments);
        });
        if (callback) callback(err, function () {
          return _this4.t.apply(_this4, arguments);
        });
      };

      var setLng = function setLng(lngs) {
        if (!lng && !lngs && _this4.services.languageDetector) lngs = [];
        var l = typeof lngs === 'string' ? lngs : _this4.services.languageUtils.getBestMatchFromCodes(lngs);

        if (l) {
          if (!_this4.language) {
            setLngProps(l);
          }

          if (!_this4.translator.language) _this4.translator.changeLanguage(l);
          if (_this4.services.languageDetector) _this4.services.languageDetector.cacheUserLanguage(l);
        }

        _this4.loadResources(l, function (err) {
          done(err, l);
        });
      };

      if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {
        setLng(this.services.languageDetector.detect());
      } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {
        this.services.languageDetector.detect(setLng);
      } else {
        setLng(lng);
      }

      return deferred;
    }
  }, {
    key: "getFixedT",
    value: function getFixedT(lng, ns, keyPrefix) {
      var _this5 = this;

      var fixedT = function fixedT(key, opts) {
        var options;

        if (_typeof(opts) !== 'object') {
          for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {
            rest[_key3 - 2] = arguments[_key3];
          }

          options = _this5.options.overloadTranslationOptionHandler([key, opts].concat(rest));
        } else {
          options = _objectSpread$6({}, opts);
        }

        options.lng = options.lng || fixedT.lng;
        options.lngs = options.lngs || fixedT.lngs;
        options.ns = options.ns || fixedT.ns;
        options.keyPrefix = options.keyPrefix || keyPrefix || fixedT.keyPrefix;
        var keySeparator = _this5.options.keySeparator || '.';
        var resultKey = options.keyPrefix ? "".concat(options.keyPrefix).concat(keySeparator).concat(key) : key;
        return _this5.t(resultKey, options);
      };

      if (typeof lng === 'string') {
        fixedT.lng = lng;
      } else {
        fixedT.lngs = lng;
      }

      fixedT.ns = ns;
      fixedT.keyPrefix = keyPrefix;
      return fixedT;
    }
  }, {
    key: "t",
    value: function t() {
      var _this$translator;

      return this.translator && (_this$translator = this.translator).translate.apply(_this$translator, arguments);
    }
  }, {
    key: "exists",
    value: function exists() {
      var _this$translator2;

      return this.translator && (_this$translator2 = this.translator).exists.apply(_this$translator2, arguments);
    }
  }, {
    key: "setDefaultNamespace",
    value: function setDefaultNamespace(ns) {
      this.options.defaultNS = ns;
    }
  }, {
    key: "hasLoadedNamespace",
    value: function hasLoadedNamespace(ns) {
      var _this6 = this;

      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

      if (!this.isInitialized) {
        this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);
        return false;
      }

      if (!this.languages || !this.languages.length) {
        this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);
        return false;
      }

      var lng = this.resolvedLanguage || this.languages[0];
      var fallbackLng = this.options ? this.options.fallbackLng : false;
      var lastLng = this.languages[this.languages.length - 1];
      if (lng.toLowerCase() === 'cimode') return true;

      var loadNotPending = function loadNotPending(l, n) {
        var loadState = _this6.services.backendConnector.state["".concat(l, "|").concat(n)];

        return loadState === -1 || loadState === 2;
      };

      if (options.precheck) {
        var preResult = options.precheck(this, loadNotPending);
        if (preResult !== undefined) return preResult;
      }

      if (this.hasResourceBundle(lng, ns)) return true;
      if (!this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages) return true;
      if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;
      return false;
    }
  }, {
    key: "loadNamespaces",
    value: function loadNamespaces(ns, callback) {
      var _this7 = this;

      var deferred = defer();

      if (!this.options.ns) {
        callback && callback();
        return Promise.resolve();
      }

      if (typeof ns === 'string') ns = [ns];
      ns.forEach(function (n) {
        if (_this7.options.ns.indexOf(n) < 0) _this7.options.ns.push(n);
      });
      this.loadResources(function (err) {
        deferred.resolve();
        if (callback) callback(err);
      });
      return deferred;
    }
  }, {
    key: "loadLanguages",
    value: function loadLanguages(lngs, callback) {
      var deferred = defer();
      if (typeof lngs === 'string') lngs = [lngs];
      var preloaded = this.options.preload || [];
      var newLngs = lngs.filter(function (lng) {
        return preloaded.indexOf(lng) < 0;
      });

      if (!newLngs.length) {
        if (callback) callback();
        return Promise.resolve();
      }

      this.options.preload = preloaded.concat(newLngs);
      this.loadResources(function (err) {
        deferred.resolve();
        if (callback) callback(err);
      });
      return deferred;
    }
  }, {
    key: "dir",
    value: function dir(lng) {
      if (!lng) lng = this.resolvedLanguage || (this.languages && this.languages.length > 0 ? this.languages[0] : this.language);
      if (!lng) return 'rtl';
      var rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam', 'ckb'];
      return rtlLngs.indexOf(this.services.languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf('-arab') > 1 ? 'rtl' : 'ltr';
    }
  }, {
    key: "cloneInstance",
    value: function cloneInstance() {
      var _this8 = this;

      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;

      var mergedOptions = _objectSpread$6(_objectSpread$6(_objectSpread$6({}, this.options), options), {
        isClone: true
      });

      var clone = new I18n(mergedOptions);

      if (options.debug !== undefined || options.prefix !== undefined) {
        clone.logger = clone.logger.clone(options);
      }

      var membersToCopy = ['store', 'services', 'language'];
      membersToCopy.forEach(function (m) {
        clone[m] = _this8[m];
      });
      clone.services = _objectSpread$6({}, this.services);
      clone.services.utils = {
        hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)
      };
      clone.translator = new i18next_Translator(clone.services, clone.options);
      clone.translator.on('*', function (event) {
        for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {
          args[_key4 - 1] = arguments[_key4];
        }

        clone.emit.apply(clone, [event].concat(args));
      });
      clone.init(mergedOptions, callback);
      clone.translator.options = clone.options;
      clone.translator.backendConnector.services.utils = {
        hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)
      };
      return clone;
    }
  }, {
    key: "toJSON",
    value: function toJSON() {
      return {
        options: this.options,
        store: this.store,
        language: this.language,
        languages: this.languages,
        resolvedLanguage: this.resolvedLanguage
      };
    }
  }]);

  return I18n;
}(i18next_EventEmitter);

_defineProperty(i18next_I18n, "createInstance", function () {
  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var callback = arguments.length > 1 ? arguments[1] : undefined;
  return new i18next_I18n(options, callback);
});

var instance = i18next_I18n.createInstance();
instance.createInstance = i18next_I18n.createInstance;

var createInstance = instance.createInstance;
var init = instance.init;
var loadResources = instance.loadResources;
var reloadResources = instance.reloadResources;
var use = instance.use;
var changeLanguage = instance.changeLanguage;
var i18next_getFixedT = instance.getFixedT;
var i18next_t = instance.t;
var exists = instance.exists;
var setDefaultNamespace = instance.setDefaultNamespace;
var hasLoadedNamespace = instance.hasLoadedNamespace;
var loadNamespaces = instance.loadNamespaces;
var loadLanguages = instance.loadLanguages;

/* harmony default export */ var i18next = __webpack_exports__["default"] = (instance);



/***/ }),
/* 144 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/@babel/runtime/helpers/objectWithoutProperties.js
var objectWithoutProperties = __webpack_require__(11);
var objectWithoutProperties_default = /*#__PURE__*/__webpack_require__.n(objectWithoutProperties);

// EXTERNAL MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/@babel/runtime/helpers/typeof.js
var helpers_typeof = __webpack_require__(4);
var typeof_default = /*#__PURE__*/__webpack_require__.n(helpers_typeof);

// EXTERNAL MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/@babel/runtime/helpers/defineProperty.js
var defineProperty = __webpack_require__(5);
var defineProperty_default = /*#__PURE__*/__webpack_require__.n(defineProperty);

// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(0);

// EXTERNAL MODULE: ./node_modules/void-elements/index.js
var void_elements = __webpack_require__(79);
var void_elements_default = /*#__PURE__*/__webpack_require__.n(void_elements);

// CONCATENATED MODULE: ./node_modules/html-parse-stringify/dist/html-parse-stringify.module.js
var html_parse_stringify_module_t=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function html_parse_stringify_module_n(n){var r={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},i=n.match(/<\/?([^\s]+?)[/\s>]/);if(i&&(r.name=i[1],(void_elements_default.a[i[1]]||"/"===n.charAt(n.length-2))&&(r.voidElement=!0),r.name.startsWith("!--"))){var s=n.indexOf("--\x3e");return{type:"comment",comment:-1!==s?n.slice(4,s):""}}for(var a=new RegExp(html_parse_stringify_module_t),c=null;null!==(c=a.exec(n));)if(c[0].trim())if(c[1]){var o=c[1].trim(),l=[o,""];o.indexOf("=")>-1&&(l=o.split("=")),r.attrs[l[0]]=l[1],a.lastIndex--}else c[2]&&(r.attrs[c[2]]=c[3].trim().substring(1,c[3].length-1));return r}var html_parse_stringify_module_r=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,html_parse_stringify_module_i=/^\s*$/,html_parse_stringify_module_s=Object.create(null);function html_parse_stringify_module_a(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.length?" "+t.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(html_parse_stringify_module_a,"")+"</"+t.name+">";case"comment":return e+"\x3c!--"+t.comment+"--\x3e"}}var html_parse_stringify_module_c={parse:function(e,t){t||(t={}),t.components||(t.components=html_parse_stringify_module_s);var a,c=[],o=[],l=-1,m=!1;if(0!==e.indexOf("<")){var u=e.indexOf("<");c.push({type:"text",content:-1===u?e:e.substring(0,u)})}return e.replace(html_parse_stringify_module_r,function(r,s){if(m){if(r!=="</"+a.name+">")return;m=!1}var u,f="/"!==r.charAt(1),h=r.startsWith("\x3c!--"),p=s+r.length,d=e.charAt(p);if(h){var v=html_parse_stringify_module_n(r);return l<0?(c.push(v),c):((u=o[l]).children.push(v),c)}if(f&&(l++,"tag"===(a=html_parse_stringify_module_n(r)).type&&t.components[a.name]&&(a.type="component",m=!0),a.voidElement||m||!d||"<"===d||a.children.push({type:"text",content:e.slice(p,e.indexOf("<",p))}),0===l&&c.push(a),(u=o[l-1])&&u.children.push(a),o[l]=a),(!f||a.voidElement)&&(l>-1&&(a.voidElement||a.name===r.slice(2,-1))&&(l--,a=-1===l?c:o[l]),!m&&"<"!==d&&d)){u=-1===l?c:o[l].children;var x=e.indexOf("<",p),g=e.slice(p,-1===x?void 0:x);html_parse_stringify_module_i.test(g)&&(g=" "),(x>-1&&l+u.length>=0||" "!==g)&&u.push({type:"text",content:g})}}),c},stringify:function(e){return e.reduce(function(e,t){return e+html_parse_stringify_module_a("",t)},"")}};/* harmony default export */ var html_parse_stringify_module = (html_parse_stringify_module_c);
//# sourceMappingURL=html-parse-stringify.module.js.map

// EXTERNAL MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/@babel/runtime/helpers/classCallCheck.js
var classCallCheck = __webpack_require__(39);
var classCallCheck_default = /*#__PURE__*/__webpack_require__.n(classCallCheck);

// EXTERNAL MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/@babel/runtime/helpers/createClass.js
var createClass = __webpack_require__(40);
var createClass_default = /*#__PURE__*/__webpack_require__.n(createClass);

// CONCATENATED MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/react-i18next/dist/es/unescape.js
var matchHtmlEntity = /&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g;
var htmlEntities = {
  '&amp;': '&',
  '&#38;': '&',
  '&lt;': '<',
  '&#60;': '<',
  '&gt;': '>',
  '&#62;': '>',
  '&apos;': "'",
  '&#39;': "'",
  '&quot;': '"',
  '&#34;': '"',
  '&nbsp;': ' ',
  '&#160;': ' ',
  '&copy;': '©',
  '&#169;': '©',
  '&reg;': '®',
  '&#174;': '®',
  '&hellip;': '…',
  '&#8230;': '…',
  '&#x2F;': '/',
  '&#47;': '/'
};

var unescapeHtmlEntity = function unescapeHtmlEntity(m) {
  return htmlEntities[m];
};

var unescape_unescape = function unescape(text) {
  return text.replace(matchHtmlEntity, unescapeHtmlEntity);
};
// CONCATENATED MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/react-i18next/dist/es/context.js




function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { defineProperty_default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }



var defaultOptions = {
  bindI18n: 'languageChanged',
  bindI18nStore: '',
  transEmptyNodeValue: '',
  transSupportBasicHtmlNodes: true,
  transWrapTextNodes: '',
  transKeepBasicHtmlNodesFor: ['br', 'strong', 'i', 'p'],
  useSuspense: true,
  unescape: unescape_unescape
};
var i18nInstance;
var I18nContext = Object(react["createContext"])();
function setDefaults() {
  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  defaultOptions = _objectSpread(_objectSpread({}, defaultOptions), options);
}
function getDefaults() {
  return defaultOptions;
}
var context_ReportNamespaces = function () {
  function ReportNamespaces() {
    classCallCheck_default()(this, ReportNamespaces);

    this.usedNamespaces = {};
  }

  createClass_default()(ReportNamespaces, [{
    key: "addUsedNamespaces",
    value: function addUsedNamespaces(namespaces) {
      var _this = this;

      namespaces.forEach(function (ns) {
        if (!_this.usedNamespaces[ns]) _this.usedNamespaces[ns] = true;
      });
    }
  }, {
    key: "getUsedNamespaces",
    value: function getUsedNamespaces() {
      return Object.keys(this.usedNamespaces);
    }
  }]);

  return ReportNamespaces;
}();
function setI18n(instance) {
  i18nInstance = instance;
}
function getI18n() {
  return i18nInstance;
}
var initReactI18next = {
  type: '3rdParty',
  init: function init(instance) {
    setDefaults(instance.options.react);
    setI18n(instance);
  }
};
function composeInitialProps(ForComponent) {
  return function (ctx) {
    return new Promise(function (resolve) {
      var i18nInitialProps = getInitialProps();

      if (ForComponent.getInitialProps) {
        ForComponent.getInitialProps(ctx).then(function (componentsInitialProps) {
          resolve(_objectSpread(_objectSpread({}, componentsInitialProps), i18nInitialProps));
        });
      } else {
        resolve(i18nInitialProps);
      }
    });
  };
}
function getInitialProps() {
  var i18n = getI18n();
  var namespaces = i18n.reportNamespaces ? i18n.reportNamespaces.getUsedNamespaces() : [];
  var ret = {};
  var initialI18nStore = {};
  i18n.languages.forEach(function (l) {
    initialI18nStore[l] = {};
    namespaces.forEach(function (ns) {
      initialI18nStore[l][ns] = i18n.getResourceBundle(l, ns) || {};
    });
  });
  ret.initialI18nStore = initialI18nStore;
  ret.initialLanguage = i18n.language;
  return ret;
}
// CONCATENATED MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/react-i18next/dist/es/utils.js
function warn() {
  if (console && console.warn) {
    var _console;

    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    if (typeof args[0] === 'string') args[0] = "react-i18next:: ".concat(args[0]);

    (_console = console).warn.apply(_console, args);
  }
}
var alreadyWarned = {};
function warnOnce() {
  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
    args[_key2] = arguments[_key2];
  }

  if (typeof args[0] === 'string' && alreadyWarned[args[0]]) return;
  if (typeof args[0] === 'string') alreadyWarned[args[0]] = new Date();
  warn.apply(void 0, args);
}
function loadNamespaces(i18n, ns, cb) {
  i18n.loadNamespaces(ns, function () {
    if (i18n.isInitialized) {
      cb();
    } else {
      var initialized = function initialized() {
        setTimeout(function () {
          i18n.off('initialized', initialized);
        }, 0);
        cb();
      };

      i18n.on('initialized', initialized);
    }
  });
}

function oldI18nextHasLoadedNamespace(ns, i18n) {
  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  var lng = i18n.languages[0];
  var fallbackLng = i18n.options ? i18n.options.fallbackLng : false;
  var lastLng = i18n.languages[i18n.languages.length - 1];
  if (lng.toLowerCase() === 'cimode') return true;

  var loadNotPending = function loadNotPending(l, n) {
    var loadState = i18n.services.backendConnector.state["".concat(l, "|").concat(n)];
    return loadState === -1 || loadState === 2;
  };

  if (options.bindI18n && options.bindI18n.indexOf('languageChanging') > -1 && i18n.services.backendConnector.backend && i18n.isLanguageChangingTo && !loadNotPending(i18n.isLanguageChangingTo, ns)) return false;
  if (i18n.hasResourceBundle(lng, ns)) return true;
  if (!i18n.services.backendConnector.backend || i18n.options.resources && !i18n.options.partialBundledLanguages) return true;
  if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;
  return false;
}

function hasLoadedNamespace(ns, i18n) {
  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

  if (!i18n.languages || !i18n.languages.length) {
    warnOnce('i18n.languages were undefined or empty', i18n.languages);
    return true;
  }

  var isNewerI18next = i18n.options.ignoreJSONStructure !== undefined;

  if (!isNewerI18next) {
    return oldI18nextHasLoadedNamespace(ns, i18n, options);
  }

  return i18n.hasLoadedNamespace(ns, {
    precheck: function precheck(i18nInstance, loadNotPending) {
      if (options.bindI18n && options.bindI18n.indexOf('languageChanging') > -1 && i18nInstance.services.backendConnector.backend && i18nInstance.isLanguageChangingTo && !loadNotPending(i18nInstance.isLanguageChangingTo, ns)) return false;
    }
  });
}
function getDisplayName(Component) {
  return Component.displayName || Component.name || (typeof Component === 'string' && Component.length > 0 ? Component : 'Unknown');
}
// CONCATENATED MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/react-i18next/dist/es/Trans.js



var _excluded = ["format"],
    _excluded2 = ["children", "count", "parent", "i18nKey", "context", "tOptions", "values", "defaults", "components", "ns", "i18n", "t", "shouldUnescape"];

function Trans_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function Trans_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { Trans_ownKeys(Object(source), true).forEach(function (key) { defineProperty_default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { Trans_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }






function hasChildren(node, checkLength) {
  if (!node) return false;
  var base = node.props ? node.props.children : node.children;
  if (checkLength) return base.length > 0;
  return !!base;
}

function getChildren(node) {
  if (!node) return [];
  return node.props ? node.props.children : node.children;
}

function hasValidReactChildren(children) {
  if (Object.prototype.toString.call(children) !== '[object Array]') return false;
  return children.every(function (child) {
    return Object(react["isValidElement"])(child);
  });
}

function getAsArray(data) {
  return Array.isArray(data) ? data : [data];
}

function mergeProps(source, target) {
  var newTarget = Trans_objectSpread({}, target);

  newTarget.props = Object.assign(source.props, target.props);
  return newTarget;
}

function nodesToString(children, i18nOptions) {
  if (!children) return '';
  var stringNode = '';
  var childrenArray = getAsArray(children);
  var keepArray = i18nOptions.transSupportBasicHtmlNodes && i18nOptions.transKeepBasicHtmlNodesFor ? i18nOptions.transKeepBasicHtmlNodesFor : [];
  childrenArray.forEach(function (child, childIndex) {
    if (typeof child === 'string') {
      stringNode += "".concat(child);
    } else if (Object(react["isValidElement"])(child)) {
      var childPropsCount = Object.keys(child.props).length;
      var shouldKeepChild = keepArray.indexOf(child.type) > -1;
      var childChildren = child.props.children;

      if (!childChildren && shouldKeepChild && childPropsCount === 0) {
        stringNode += "<".concat(child.type, "/>");
      } else if (!childChildren && (!shouldKeepChild || childPropsCount !== 0)) {
        stringNode += "<".concat(childIndex, "></").concat(childIndex, ">");
      } else if (child.props.i18nIsDynamicList) {
        stringNode += "<".concat(childIndex, "></").concat(childIndex, ">");
      } else if (shouldKeepChild && childPropsCount === 1 && typeof childChildren === 'string') {
        stringNode += "<".concat(child.type, ">").concat(childChildren, "</").concat(child.type, ">");
      } else {
        var content = nodesToString(childChildren, i18nOptions);
        stringNode += "<".concat(childIndex, ">").concat(content, "</").concat(childIndex, ">");
      }
    } else if (child === null) {
      warn("Trans: the passed in value is invalid - seems you passed in a null child.");
    } else if (typeof_default()(child) === 'object') {
      var format = child.format,
          clone = objectWithoutProperties_default()(child, _excluded);

      var keys = Object.keys(clone);

      if (keys.length === 1) {
        var value = format ? "".concat(keys[0], ", ").concat(format) : keys[0];
        stringNode += "{{".concat(value, "}}");
      } else {
        warn("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.", child);
      }
    } else {
      warn("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.", child);
    }
  });
  return stringNode;
}

function renderNodes(children, targetString, i18n, i18nOptions, combinedTOpts, shouldUnescape) {
  if (targetString === '') return [];
  var keepArray = i18nOptions.transKeepBasicHtmlNodesFor || [];
  var emptyChildrenButNeedsHandling = targetString && new RegExp(keepArray.join('|')).test(targetString);
  if (!children && !emptyChildrenButNeedsHandling) return [targetString];
  var data = {};

  function getData(childs) {
    var childrenArray = getAsArray(childs);
    childrenArray.forEach(function (child) {
      if (typeof child === 'string') return;
      if (hasChildren(child)) getData(getChildren(child));else if (typeof_default()(child) === 'object' && !Object(react["isValidElement"])(child)) Object.assign(data, child);
    });
  }

  getData(children);
  var ast = html_parse_stringify_module.parse("<0>".concat(targetString, "</0>"));

  var opts = Trans_objectSpread(Trans_objectSpread({}, data), combinedTOpts);

  function renderInner(child, node, rootReactNode) {
    var childs = getChildren(child);
    var mappedChildren = mapAST(childs, node.children, rootReactNode);
    return hasValidReactChildren(childs) && mappedChildren.length === 0 ? childs : mappedChildren;
  }

  function pushTranslatedJSX(child, inner, mem, i, isVoid) {
    if (child.dummy) child.children = inner;
    mem.push(Object(react["cloneElement"])(child, Trans_objectSpread(Trans_objectSpread({}, child.props), {}, {
      key: i
    }), isVoid ? undefined : inner));
  }

  function mapAST(reactNode, astNode, rootReactNode) {
    var reactNodes = getAsArray(reactNode);
    var astNodes = getAsArray(astNode);
    return astNodes.reduce(function (mem, node, i) {
      var translationContent = node.children && node.children[0] && node.children[0].content && i18n.services.interpolator.interpolate(node.children[0].content, opts, i18n.language);

      if (node.type === 'tag') {
        var tmp = reactNodes[parseInt(node.name, 10)];
        if (!tmp && rootReactNode.length === 1 && rootReactNode[0][node.name]) tmp = rootReactNode[0][node.name];
        if (!tmp) tmp = {};
        var child = Object.keys(node.attrs).length !== 0 ? mergeProps({
          props: node.attrs
        }, tmp) : tmp;
        var isElement = Object(react["isValidElement"])(child);
        var isValidTranslationWithChildren = isElement && hasChildren(node, true) && !node.voidElement;
        var isEmptyTransWithHTML = emptyChildrenButNeedsHandling && typeof_default()(child) === 'object' && child.dummy && !isElement;
        var isKnownComponent = typeof_default()(children) === 'object' && children !== null && Object.hasOwnProperty.call(children, node.name);

        if (typeof child === 'string') {
          var value = i18n.services.interpolator.interpolate(child, opts, i18n.language);
          mem.push(value);
        } else if (hasChildren(child) || isValidTranslationWithChildren) {
            var inner = renderInner(child, node, rootReactNode);
            pushTranslatedJSX(child, inner, mem, i);
          } else if (isEmptyTransWithHTML) {
          var _inner = mapAST(reactNodes, node.children, rootReactNode);

          mem.push(Object(react["cloneElement"])(child, Trans_objectSpread(Trans_objectSpread({}, child.props), {}, {
            key: i
          }), _inner));
        } else if (Number.isNaN(parseFloat(node.name))) {
          if (isKnownComponent) {
            var _inner2 = renderInner(child, node, rootReactNode);

            pushTranslatedJSX(child, _inner2, mem, i, node.voidElement);
          } else if (i18nOptions.transSupportBasicHtmlNodes && keepArray.indexOf(node.name) > -1) {
            if (node.voidElement) {
              mem.push(Object(react["createElement"])(node.name, {
                key: "".concat(node.name, "-").concat(i)
              }));
            } else {
              var _inner3 = mapAST(reactNodes, node.children, rootReactNode);

              mem.push(Object(react["createElement"])(node.name, {
                key: "".concat(node.name, "-").concat(i)
              }, _inner3));
            }
          } else if (node.voidElement) {
            mem.push("<".concat(node.name, " />"));
          } else {
            var _inner4 = mapAST(reactNodes, node.children, rootReactNode);

            mem.push("<".concat(node.name, ">").concat(_inner4, "</").concat(node.name, ">"));
          }
        } else if (typeof_default()(child) === 'object' && !isElement) {
          var content = node.children[0] ? translationContent : null;
          if (content) mem.push(content);
        } else if (node.children.length === 1 && translationContent) {
          mem.push(Object(react["cloneElement"])(child, Trans_objectSpread(Trans_objectSpread({}, child.props), {}, {
            key: i
          }), translationContent));
        } else {
          mem.push(Object(react["cloneElement"])(child, Trans_objectSpread(Trans_objectSpread({}, child.props), {}, {
            key: i
          })));
        }
      } else if (node.type === 'text') {
        var wrapTextNodes = i18nOptions.transWrapTextNodes;

        var _content = shouldUnescape ? i18nOptions.unescape(i18n.services.interpolator.interpolate(node.content, opts, i18n.language)) : i18n.services.interpolator.interpolate(node.content, opts, i18n.language);

        if (wrapTextNodes) {
          mem.push(Object(react["createElement"])(wrapTextNodes, {
            key: "".concat(node.name, "-").concat(i)
          }, _content));
        } else {
          mem.push(_content);
        }
      }

      return mem;
    }, []);
  }

  var result = mapAST([{
    dummy: true,
    children: children || []
  }], ast, getAsArray(children || []));
  return getChildren(result[0]);
}

function Trans(_ref) {
  var children = _ref.children,
      count = _ref.count,
      parent = _ref.parent,
      i18nKey = _ref.i18nKey,
      context = _ref.context,
      _ref$tOptions = _ref.tOptions,
      tOptions = _ref$tOptions === void 0 ? {} : _ref$tOptions,
      values = _ref.values,
      defaults = _ref.defaults,
      components = _ref.components,
      ns = _ref.ns,
      i18nFromProps = _ref.i18n,
      tFromProps = _ref.t,
      shouldUnescape = _ref.shouldUnescape,
      additionalProps = objectWithoutProperties_default()(_ref, _excluded2);

  var _ref2 = Object(react["useContext"])(I18nContext) || {},
      i18nFromContext = _ref2.i18n,
      defaultNSFromContext = _ref2.defaultNS;

  var i18n = i18nFromProps || i18nFromContext || getI18n();

  if (!i18n) {
    warnOnce('You will need to pass in an i18next instance by using i18nextReactModule');
    return children;
  }

  var t = tFromProps || i18n.t.bind(i18n) || function (k) {
    return k;
  };

  if (context) tOptions.context = context;

  var reactI18nextOptions = Trans_objectSpread(Trans_objectSpread({}, getDefaults()), i18n.options && i18n.options.react);

  var namespaces = ns || t.ns || defaultNSFromContext || i18n.options && i18n.options.defaultNS;
  namespaces = typeof namespaces === 'string' ? [namespaces] : namespaces || ['translation'];
  var defaultValue = defaults || nodesToString(children, reactI18nextOptions) || reactI18nextOptions.transEmptyNodeValue || i18nKey;
  var hashTransKey = reactI18nextOptions.hashTransKey;
  var key = i18nKey || (hashTransKey ? hashTransKey(defaultValue) : defaultValue);
  var interpolationOverride = values ? tOptions.interpolation : {
    interpolation: Trans_objectSpread(Trans_objectSpread({}, tOptions.interpolation), {}, {
      prefix: '#$?',
      suffix: '?$#'
    })
  };

  var combinedTOpts = Trans_objectSpread(Trans_objectSpread(Trans_objectSpread(Trans_objectSpread({}, tOptions), {}, {
    count: count
  }, values), interpolationOverride), {}, {
    defaultValue: defaultValue,
    ns: namespaces
  });

  var translation = key ? t(key, combinedTOpts) : defaultValue;
  var content = renderNodes(components || children, translation, i18n, reactI18nextOptions, combinedTOpts, shouldUnescape);
  var useAsParent = parent !== undefined ? parent : reactI18nextOptions.defaultTransParent;
  return useAsParent ? Object(react["createElement"])(useAsParent, additionalProps, content) : content;
}
// EXTERNAL MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/@babel/runtime/helpers/slicedToArray.js
var slicedToArray = __webpack_require__(18);
var slicedToArray_default = /*#__PURE__*/__webpack_require__.n(slicedToArray);

// CONCATENATED MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/react-i18next/dist/es/useTranslation.js



function useTranslation_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function useTranslation_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { useTranslation_ownKeys(Object(source), true).forEach(function (key) { defineProperty_default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { useTranslation_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }





var useTranslation_usePrevious = function usePrevious(value, ignore) {
  var ref = Object(react["useRef"])();
  Object(react["useEffect"])(function () {
    ref.current = ignore ? ref.current : value;
  }, [value, ignore]);
  return ref.current;
};

function useTranslation(ns) {
  var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var i18nFromProps = props.i18n;

  var _ref = Object(react["useContext"])(I18nContext) || {},
      i18nFromContext = _ref.i18n,
      defaultNSFromContext = _ref.defaultNS;

  var i18n = i18nFromProps || i18nFromContext || getI18n();
  if (i18n && !i18n.reportNamespaces) i18n.reportNamespaces = new context_ReportNamespaces();

  if (!i18n) {
    warnOnce('You will need to pass in an i18next instance by using initReactI18next');

    var notReadyT = function notReadyT(k) {
      return Array.isArray(k) ? k[k.length - 1] : k;
    };

    var retNotReady = [notReadyT, {}, false];
    retNotReady.t = notReadyT;
    retNotReady.i18n = {};
    retNotReady.ready = false;
    return retNotReady;
  }

  if (i18n.options.react && i18n.options.react.wait !== undefined) warnOnce('It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.');

  var i18nOptions = useTranslation_objectSpread(useTranslation_objectSpread(useTranslation_objectSpread({}, getDefaults()), i18n.options.react), props);

  var useSuspense = i18nOptions.useSuspense,
      keyPrefix = i18nOptions.keyPrefix;
  var namespaces = ns || defaultNSFromContext || i18n.options && i18n.options.defaultNS;
  namespaces = typeof namespaces === 'string' ? [namespaces] : namespaces || ['translation'];
  if (i18n.reportNamespaces.addUsedNamespaces) i18n.reportNamespaces.addUsedNamespaces(namespaces);
  var ready = (i18n.isInitialized || i18n.initializedStoreOnce) && namespaces.every(function (n) {
    return hasLoadedNamespace(n, i18n, i18nOptions);
  });

  function getT() {
    return i18n.getFixedT(null, i18nOptions.nsMode === 'fallback' ? namespaces : namespaces[0], keyPrefix);
  }

  var _useState = Object(react["useState"])(getT),
      _useState2 = slicedToArray_default()(_useState, 2),
      t = _useState2[0],
      setT = _useState2[1];

  var joinedNS = namespaces.join();
  var previousJoinedNS = useTranslation_usePrevious(joinedNS);
  var isMounted = Object(react["useRef"])(true);
  Object(react["useEffect"])(function () {
    var bindI18n = i18nOptions.bindI18n,
        bindI18nStore = i18nOptions.bindI18nStore;
    isMounted.current = true;

    if (!ready && !useSuspense) {
      loadNamespaces(i18n, namespaces, function () {
        if (isMounted.current) setT(getT);
      });
    }

    if (ready && previousJoinedNS && previousJoinedNS !== joinedNS && isMounted.current) {
      setT(getT);
    }

    function boundReset() {
      if (isMounted.current) setT(getT);
    }

    if (bindI18n && i18n) i18n.on(bindI18n, boundReset);
    if (bindI18nStore && i18n) i18n.store.on(bindI18nStore, boundReset);
    return function () {
      isMounted.current = false;
      if (bindI18n && i18n) bindI18n.split(' ').forEach(function (e) {
        return i18n.off(e, boundReset);
      });
      if (bindI18nStore && i18n) bindI18nStore.split(' ').forEach(function (e) {
        return i18n.store.off(e, boundReset);
      });
    };
  }, [i18n, joinedNS]);
  var isInitial = Object(react["useRef"])(true);
  Object(react["useEffect"])(function () {
    if (isMounted.current && !isInitial.current) {
      setT(getT);
    }

    isInitial.current = false;
  }, [i18n, keyPrefix]);
  var ret = [t, i18n, ready];
  ret.t = t;
  ret.i18n = i18n;
  ret.ready = ready;
  if (ready) return ret;
  if (!ready && !useSuspense) return ret;
  throw new Promise(function (resolve) {
    loadNamespaces(i18n, namespaces, function () {
      resolve();
    });
  });
}
// CONCATENATED MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/react-i18next/dist/es/withTranslation.js



var withTranslation_excluded = ["forwardedRef"];

function withTranslation_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function withTranslation_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { withTranslation_ownKeys(Object(source), true).forEach(function (key) { defineProperty_default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { withTranslation_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }




function withTranslation(ns) {
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  return function Extend(WrappedComponent) {
    function I18nextWithTranslation(_ref) {
      var forwardedRef = _ref.forwardedRef,
          rest = objectWithoutProperties_default()(_ref, withTranslation_excluded);

      var _useTranslation = useTranslation(ns, withTranslation_objectSpread(withTranslation_objectSpread({}, rest), {}, {
        keyPrefix: options.keyPrefix
      })),
          _useTranslation2 = slicedToArray_default()(_useTranslation, 3),
          t = _useTranslation2[0],
          i18n = _useTranslation2[1],
          ready = _useTranslation2[2];

      var passDownProps = withTranslation_objectSpread(withTranslation_objectSpread({}, rest), {}, {
        t: t,
        i18n: i18n,
        tReady: ready
      });

      if (options.withRef && forwardedRef) {
        passDownProps.ref = forwardedRef;
      } else if (!options.withRef && forwardedRef) {
        passDownProps.forwardedRef = forwardedRef;
      }

      return Object(react["createElement"])(WrappedComponent, passDownProps);
    }

    I18nextWithTranslation.displayName = "withI18nextTranslation(".concat(getDisplayName(WrappedComponent), ")");
    I18nextWithTranslation.WrappedComponent = WrappedComponent;

    var forwardRef = function forwardRef(props, ref) {
      return Object(react["createElement"])(I18nextWithTranslation, Object.assign({}, props, {
        forwardedRef: ref
      }));
    };

    return options.withRef ? Object(react["forwardRef"])(forwardRef) : I18nextWithTranslation;
  };
}
// CONCATENATED MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/react-i18next/dist/es/Translation.js


var Translation_excluded = ["ns", "children"];

function Translation(props) {
  var ns = props.ns,
      children = props.children,
      options = objectWithoutProperties_default()(props, Translation_excluded);

  var _useTranslation = useTranslation(ns, options),
      _useTranslation2 = slicedToArray_default()(_useTranslation, 3),
      t = _useTranslation2[0],
      i18n = _useTranslation2[1],
      ready = _useTranslation2[2];

  return children(t, {
    i18n: i18n,
    lng: i18n.language
  }, ready);
}
// CONCATENATED MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/react-i18next/dist/es/I18nextProvider.js


function I18nextProvider(_ref) {
  var i18n = _ref.i18n,
      defaultNS = _ref.defaultNS,
      children = _ref.children;
  var value = Object(react["useMemo"])(function () {
    return {
      i18n: i18n,
      defaultNS: defaultNS
    };
  }, [i18n, defaultNS]);
  return Object(react["createElement"])(I18nContext.Provider, {
    value: value
  }, children);
}
// CONCATENATED MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/react-i18next/dist/es/useSSR.js


function useSSR(initialI18nStore, initialLanguage) {
  var props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  var i18nFromProps = props.i18n;

  var _ref = Object(react["useContext"])(I18nContext) || {},
      i18nFromContext = _ref.i18n;

  var i18n = i18nFromProps || i18nFromContext || getI18n();
  if (i18n.options && i18n.options.isClone) return;

  if (initialI18nStore && !i18n.initializedStoreOnce) {
    i18n.services.resourceStore.data = initialI18nStore;
    i18n.options.ns = Object.values(initialI18nStore).reduce(function (mem, lngResources) {
      Object.keys(lngResources).forEach(function (ns) {
        if (mem.indexOf(ns) < 0) mem.push(ns);
      });
      return mem;
    }, i18n.options.ns);
    i18n.initializedStoreOnce = true;
    i18n.isInitialized = true;
  }

  if (initialLanguage && !i18n.initializedLanguageOnce) {
    i18n.changeLanguage(initialLanguage);
    i18n.initializedLanguageOnce = true;
  }
}
// CONCATENATED MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/react-i18next/dist/es/withSSR.js


var withSSR_excluded = ["initialI18nStore", "initialLanguage"];

function withSSR_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }

function withSSR_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { withSSR_ownKeys(Object(source), true).forEach(function (key) { defineProperty_default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { withSSR_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }





function withSSR() {
  return function Extend(WrappedComponent) {
    function I18nextWithSSR(_ref) {
      var initialI18nStore = _ref.initialI18nStore,
          initialLanguage = _ref.initialLanguage,
          rest = objectWithoutProperties_default()(_ref, withSSR_excluded);

      useSSR(initialI18nStore, initialLanguage);
      return Object(react["createElement"])(WrappedComponent, withSSR_objectSpread({}, rest));
    }

    I18nextWithSSR.getInitialProps = composeInitialProps(WrappedComponent);
    I18nextWithSSR.displayName = "withI18nextSSR(".concat(getDisplayName(WrappedComponent), ")");
    I18nextWithSSR.WrappedComponent = WrappedComponent;
    return I18nextWithSSR;
  };
}
// CONCATENATED MODULE: ./node_modules/@rcf/universal-library-rcf-player/node_modules/react-i18next/dist/es/index.js
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "date", function() { return date; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "time", function() { return time; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "number", function() { return number; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "select", function() { return es_select; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "plural", function() { return plural; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectOrdinal", function() { return selectOrdinal; });
/* concated harmony reexport Trans */__webpack_require__.d(__webpack_exports__, "Trans", function() { return Trans; });
/* concated harmony reexport useTranslation */__webpack_require__.d(__webpack_exports__, "useTranslation", function() { return useTranslation; });
/* concated harmony reexport withTranslation */__webpack_require__.d(__webpack_exports__, "withTranslation", function() { return withTranslation; });
/* concated harmony reexport Translation */__webpack_require__.d(__webpack_exports__, "Translation", function() { return Translation; });
/* concated harmony reexport I18nextProvider */__webpack_require__.d(__webpack_exports__, "I18nextProvider", function() { return I18nextProvider; });
/* concated harmony reexport withSSR */__webpack_require__.d(__webpack_exports__, "withSSR", function() { return withSSR; });
/* concated harmony reexport useSSR */__webpack_require__.d(__webpack_exports__, "useSSR", function() { return useSSR; });
/* concated harmony reexport I18nContext */__webpack_require__.d(__webpack_exports__, "I18nContext", function() { return I18nContext; });
/* concated harmony reexport initReactI18next */__webpack_require__.d(__webpack_exports__, "initReactI18next", function() { return initReactI18next; });
/* concated harmony reexport setDefaults */__webpack_require__.d(__webpack_exports__, "setDefaults", function() { return setDefaults; });
/* concated harmony reexport getDefaults */__webpack_require__.d(__webpack_exports__, "getDefaults", function() { return getDefaults; });
/* concated harmony reexport setI18n */__webpack_require__.d(__webpack_exports__, "setI18n", function() { return setI18n; });
/* concated harmony reexport getI18n */__webpack_require__.d(__webpack_exports__, "getI18n", function() { return getI18n; });
/* concated harmony reexport composeInitialProps */__webpack_require__.d(__webpack_exports__, "composeInitialProps", function() { return composeInitialProps; });
/* concated harmony reexport getInitialProps */__webpack_require__.d(__webpack_exports__, "getInitialProps", function() { return getInitialProps; });








var date = function date() {
  return '';
};
var time = function time() {
  return '';
};
var number = function number() {
  return '';
};
var es_select = function select() {
  return '';
};
var plural = function plural() {
  return '';
};
var selectOrdinal = function selectOrdinal() {
  return '';
};

/***/ })
/******/ ]);
//# sourceMappingURL=viewer.js.map