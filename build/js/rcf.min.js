var rcf_24113=function(e){function t(t){for(var n,r,a=t[0],s=t[1],o=0,l=[];o<a.length;o++)r=a[o],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&l.push(i[r][0]),i[r]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(c&&c(t);l.length;)l.shift()()}var n={},i={rcf:0,"utils/pixi/pixi.js-legacy":0};function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,r){n=i[e]=[t,r]}));t.push(n[2]=a);var s,o=document.createElement("script");o.charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.src=function(e){return r.p+""+({"interactions/marked/rcfColouring":"interactions/marked/rcfColouring","interactions/marked/rcfCompositeScene":"interactions/marked/rcfCompositeScene","interactions/marked/rcfStory":"interactions/marked/rcfStory","interactions/marked/rcfWordSnake":"interactions/marked/rcfWordSnake","interactions/unmarked/rcfAnswerKey":"interactions/unmarked/rcfAnswerKey","interactions/unmarked/rcfCanDo":"interactions/unmarked/rcfCanDo","interactions/unmarked/rcfCarousel":"interactions/unmarked/rcfCarousel","interactions/unmarked/rcfChase":"interactions/unmarked/rcfChase","interactions/unmarked/rcfFlashCard":"interactions/unmarked/rcfFlashCard","interactions/unmarked/rcfHangman":"interactions/unmarked/rcfHangman","interactions/unmarked/rcfHighlightingTextBlock":"interactions/unmarked/rcfHighlightingTextBlock","interactions/unmarked/rcfImageAudio":"interactions/unmarked/rcfImageAudio","interactions/unmarked/rcfInteractiveImageSets":"interactions/unmarked/rcfInteractiveImageSets","interactions/unmarked/rcfInteractiveImages":"interactions/unmarked/rcfInteractiveImages","interactions/unmarked/rcfInteractiveText":"interactions/unmarked/rcfInteractiveText","interactions/unmarked/rcfOverallScore":"interactions/unmarked/rcfOverallScore","interactions/unmarked/rcfPanzoom":"interactions/unmarked/rcfPanzoom","interactions/unmarked/rcfSmallAudioRecorder":"interactions/unmarked/rcfSmallAudioRecorder","interactions/unmarked/rcfSplitBlock":"interactions/unmarked/rcfSplitBlock","interactions/unmarked/rcfTimedBlock":"interactions/unmarked/rcfTimedBlock","interactions/unmarked/rcfToggleElements":"interactions/unmarked/rcfToggleElements","interactions/unmarked/rcfTriggerElements":"interactions/unmarked/rcfTriggerElements","interactions/utils/rcfInteractionUtils":"interactions/utils/rcfInteractionUtils","interactions/itemBased/rcfItemBasedSelectableText":"interactions/itemBased/rcfItemBasedSelectableText","interactions/itemBased/rcfItemBasedTypein":"interactions/itemBased/rcfItemBasedTypein","interactions/itemBased/rcfItemBasedTypeinGroup":"interactions/itemBased/rcfItemBasedTypeinGroup","interactions/marked/rcfBalloons":"interactions/marked/rcfBalloons","interactions/marked/rcfCategoriseCheckboxList":"interactions/marked/rcfCategoriseCheckboxList","interactions/marked/rcfCategoriseCheckboxTable":"interactions/marked/rcfCategoriseCheckboxTable","interactions/marked/rcfCategoriseDropdown":"interactions/marked/rcfCategoriseDropdown","interactions/marked/rcfCategoriseItemSelectList":"interactions/marked/rcfCategoriseItemSelectList","interactions/marked/rcfCategoriseRadioList":"interactions/marked/rcfCategoriseRadioList","interactions/marked/rcfCategoriseRadioTable":"interactions/marked/rcfCategoriseRadioTable","interactions/marked/rcfMatching":"interactions/marked/rcfMatching","interactions/marked/rcfMovingTargets":"interactions/marked/rcfMovingTargets","interactions/marked/rcfPelmanism":"interactions/marked/rcfPelmanism","interactions/marked/rcfRotatingMatching":"interactions/marked/rcfRotatingMatching","interactions/marked/rcfSelectable":"interactions/marked/rcfSelectable","interactions/marked/rcfTypein":"interactions/marked/rcfTypein","interactions/marked/rcfTypeinGroup":"interactions/marked/rcfTypeinGroup","interactions/marked/rcfWordSearch":"interactions/marked/rcfWordSearch","interactions/openGradable/rcfOpenGradableFreeDrawing":"interactions/openGradable/rcfOpenGradableFreeDrawing","interactions/openGradable/rcfOpenGradableRecording":"interactions/openGradable/rcfOpenGradableRecording","interactions/openGradable/rcfOpenGradableTeacherGradedTask":"interactions/openGradable/rcfOpenGradableTeacherGradedTask","interactions/unmarked/rcfAudioPlayer":"interactions/unmarked/rcfAudioPlayer","interactions/unmarked/rcfUnmarkedText":"interactions/unmarked/rcfUnmarkedText","interactions/unmarked/rcfVideoPlayer":"interactions/unmarked/rcfVideoPlayer","interactions/utils/rcfMathsUtils":"interactions/utils/rcfMathsUtils","interactions/marked/maths/rcfAddition":"interactions/marked/maths/rcfAddition","interactions/marked/maths/rcfDivision":"interactions/marked/maths/rcfDivision","interactions/marked/maths/rcfMultiplication":"interactions/marked/maths/rcfMultiplication","interactions/marked/maths/rcfSubtraction":"interactions/marked/maths/rcfSubtraction","utils/rcfUtils":"utils/rcfUtils","interactions/itemBased/rcfItemBasedCheckbox":"interactions/itemBased/rcfItemBasedCheckbox","interactions/itemBased/rcfItemBasedCheckboxItemSelect":"interactions/itemBased/rcfItemBasedCheckboxItemSelect","interactions/itemBased/rcfItemBasedComplexDroppableBlock":"interactions/itemBased/rcfItemBasedComplexDroppableBlock","interactions/itemBased/rcfItemBasedDropdown":"interactions/itemBased/rcfItemBasedDropdown","interactions/itemBased/rcfItemBasedRadioList":"interactions/itemBased/rcfItemBasedRadioList","interactions/itemBased/rcfItemBasedSentenceBuilder":"interactions/itemBased/rcfItemBasedSentenceBuilder","interactions/itemBased/rcfItemBasedWordInsert":"interactions/itemBased/rcfItemBasedWordInsert","interactions/itemBased/rcfItemRadioItemSelect":"interactions/itemBased/rcfItemRadioItemSelect","interactions/marked/rcfCategoriseHybrid":"interactions/marked/rcfCategoriseHybrid","interactions/marked/rcfCategoriseSelectable":"interactions/marked/rcfCategoriseSelectable","interactions/marked/rcfCheckboxItemSelect":"interactions/marked/rcfCheckboxItemSelect","interactions/marked/rcfCheckboxList":"interactions/marked/rcfCheckboxList","interactions/marked/rcfCrossword":"interactions/marked/rcfCrossword","interactions/marked/rcfDropdown":"interactions/marked/rcfDropdown","interactions/marked/rcfDroppables":"interactions/marked/rcfDroppables","interactions/marked/rcfFindInImage":"interactions/marked/rcfFindInImage","interactions/marked/rcfFixedCrossword":"interactions/marked/rcfFixedCrossword","interactions/marked/rcfListenAndColour":"interactions/marked/rcfListenAndColour","interactions/marked/rcfLocating":"interactions/marked/rcfLocating","interactions/marked/rcfRadioList":"interactions/marked/rcfRadioList","interactions/marked/rcfRadioListItemSelectable":"interactions/marked/rcfRadioListItemSelectable","interactions/marked/rcfSentenceBuilder":"interactions/marked/rcfSentenceBuilder","interactions/marked/rcfVendorGamesShared":"interactions/marked/rcfVendorGamesShared","interactions/marked/rcfBarrelsGame":"interactions/marked/rcfBarrelsGame","interactions/marked/rcfBubblesGame":"interactions/marked/rcfBubblesGame","interactions/marked/rcfCogsGame":"interactions/marked/rcfCogsGame","interactions/marked/rcfLaneChangerGame":"interactions/marked/rcfLaneChangerGame","interactions/marked/rcfQuizGame":"interactions/marked/rcfQuizGame","interactions/marked/rcfSnapGame":"interactions/marked/rcfSnapGame","interactions/marked/rcfSpellingBee":"interactions/marked/rcfSpellingBee","interactions/marked/rcfSpinnerGame":"interactions/marked/rcfSpinnerGame","interactions/marked/rcfStoryDice":"interactions/marked/rcfStoryDice","interactions/marked/rcfWhackaMoleGame":"interactions/marked/rcfWhackaMoleGame","interactions/marked/rcfVerticalCrossword":"interactions/marked/rcfVerticalCrossword","interactions/marked/rcfWordInsert":"interactions/marked/rcfWordInsert","interactions/openGradable/rcfOpenGradableWriting":"interactions/openGradable/rcfOpenGradableWriting","interactions/utils/ordering/rcfOrderableInteractions":"interactions/utils/ordering/rcfOrderableInteractions","interactions/utils/ordering/rcfOrderableInteractionCommonUtils":"interactions/utils/ordering/rcfOrderableInteractionCommonUtils","interactions/marked/rcfComplexOrdering":"interactions/marked/rcfComplexOrdering","interactions/marked/rcfInlineOrdering":"interactions/marked/rcfInlineOrdering","interactions/marked/rcfOrdering":"interactions/marked/rcfOrdering","interactions/marked/rcfPositioning":"interactions/marked/rcfPositioning","utils/pixi/pixi.js-legacy-rcf":"utils/pixi/pixi.js-legacy-rcf","interactions/utils/tileMaze/rcfTileMazeSharedUtils":"interactions/utils/tileMaze/rcfTileMazeSharedUtils","utils/createJs/createJs-rcf":"utils/createJs/createJs-rcf","utils/pixi/pixi-sound-rcf":"utils/pixi/pixi-sound-rcf","utils/pixi/pixi-viewport-rcf":"utils/pixi/pixi-viewport-rcf","interactions/marked/rcfCategoriseTileMaze":"interactions/marked/rcfCategoriseTileMaze","interactions/marked/rcfSequenceTileMaze":"interactions/marked/rcfSequenceTileMaze","interactions/unmarked/rcfBlendedFlashcards":"interactions/unmarked/rcfBlendedFlashcards","interactions/unmarked/rcfCollapsibleBlock":"interactions/unmarked/rcfCollapsibleBlock","interactions/unmarked/rcfCollapsibleList":"interactions/unmarked/rcfCollapsibleList","interactions/unmarked/rcfSlidingBlock":"interactions/unmarked/rcfSlidingBlock"}[e]||e)+".min.js"}(e);var c=new Error;s=function(t){o.onerror=o.onload=null,clearTimeout(l);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",c.name="ChunkLoadError",c.type=r,c.request=a,n[1](c)}i[e]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:o})}),12e4);o.onerror=o.onload=s,document.head.appendChild(o)}return Promise.all(t)},r.m=e,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="./js",r.oe=function(e){throw console.error(e),e};var a=window.rcfRunTime_24113=window.rcfRunTime_24113||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var o=0;o<a.length;o++)t(a[o]);var c=s;return r(r.s=333)}([,,,,function(e,t,n){"use strict";n(32),n(246),n(153),n(106),n(31),n(170),n(171),n(59),n(100),n(102),n(48),n(33);var i=n(5),r=n.n(i),a=n(37),s=n(51);function o(){return s.a.innerWidth||(a.a.documentElement?a.a.documentElement.clientWidth:0)||(a.a.body?a.a.body.clientWidth:0)}var c=n(52);const l={platform:c.a.platform,maxTouchPoints:c.a.maxTouchPoints,userAgent:c.a.userAgent};n(261),n(6),n(13);var u=n(14);n(172),n(173);var d=()=>{r.a.widget&&r.a.widget("custom.rcfSelectMenu",r.a.ui.selectmenu,{open:function(){this._super(),this._position()}})};var h=()=>[{domSelector:"div.activity",libraries:[{url:Object(u.b)("jquery-ui/jquery-ui.min.js"),isLoaded:()=>!!r.a.ui,onLoaded:()=>{d()}},{url:Object(u.b)("jquery-ui/jquery.ui.touch-punch.min.js"),isLoaded:()=>"loaded"===r.a.touchPunch}]}];n(11);var f=e=>{const t=e.match(/(?:\$|\\\(|\\\[|\\begin\{.*?})/);return!!t&&t.length>0};const p=()=>{r()("body").addClass("mathJaxLoaded")},m=()=>{r()('mjx-container.MathJax[tabindex="1"]').attr("tabindex","0")};var g=()=>{const e={startup:{ready:()=>{var e;null!==(e=window.MathJax.startup)&&void 0!==e&&e.defaultReady&&(window.MathJax.startup.defaultReady(),window.MathJax.startup.promise.then(()=>{window.MathJax.typeset(),m(),p()}))}},chtml:{fontURL:Object(u.b)("mathjax/output/chtml/fonts/woff-v2")},loader:{load:["input/tex","output/chtml","a11y/semantic-enrich","a11y/explorer"],tex:{inlineMath:[["$","$"],["\\(","\\)"]]}}};return[{domSelector:e=>{const t=e.find('.activity[data-enableMathjax="y"]').length>0;if(!t)return!1;const n=f(document.body.textContent);return!t||n||r()("body").hasClass("mathJaxLoaded")||p(),n},libraries:[{url:Object(u.b)("mathjax/rcf-mathjax-build.js"),isLoaded:async()=>window.MathJax?(window.MathJax.startup.document&&(await window.MathJax.typeset(),m(),p()),!0):(window.MathJax=e,!1),onLoaded:async()=>{}}]}]};var b=()=>[{domSelector:".interactiveImageSet",libraries:[{url:Object(u.b)("magnificPopup/jquery.magnificpopup.min.js"),isLoaded:()=>!!r.a.magnificPopup}]}];var y=()=>[{domSelector:'[data-rcfinteraction*="arousel"]',libraries:[{url:Object(u.b)("carousel/owl.carousel.min.js"),isLoaded:()=>!!r()("body").owlCarousel}]}];var v=()=>[{domSelector:'[data-rcfinteraction="movingTargets"]',libraries:[{url:Object(u.b)("phaser/phaser.min.js"),isLoaded:()=>!!window.Phaser}]},{domSelector:'[data-rcfinteraction="balloons"]',libraries:[{url:Object(u.b)("phaser/phaser.min.js"),isLoaded:()=>!!window.Phaser}]}];var w=()=>[{domSelector:"img.dev-inline-svg",libraries:[{url:Object(u.b)("svg-inject/svg-inject.min.js"),isLoaded:()=>!!window.SVGInject}]}];var k=()=>[{domSelector:'[data-rcfinteraction="rotatingMatching"]',libraries:[{url:Object(u.b)("flickity/flickity.pkgd.min.js"),isLoaded:()=>!!window.Flickity}]}];var x=()=>[{domSelector:'[data-rcfinteraction="bubblesGame"]',libraries:[{url:Object(u.b)("fiab/bubbles/fiab-bubbles-main.js"),isLoaded:()=>!!window.createBubblesGame}]}];var S=()=>[{domSelector:'[data-rcfinteraction="barrelsGame"]',libraries:[{url:Object(u.b)("fiab/bubbles/fiab-bubbles-main.js"),isLoaded:()=>!!window.createBubblesGame}]}];var O=()=>[{domSelector:'[data-rcfinteraction="snapGame"]',libraries:[{url:Object(u.b)("fiab/snapGame/fiab-snap-main.js"),isLoaded:()=>!!window.createSnapGame}]}];var C=()=>[{domSelector:'[data-rcfinteraction="whackaMoleGame"]',libraries:[{url:Object(u.b)("fiab/bubbles/fiab-bubbles-main.js"),isLoaded:()=>!!window.createBubblesGame}]}];var T=()=>[{domSelector:'[data-rcfinteraction="quizGame"]',libraries:[{url:Object(u.b)("fiab/quiz/quiz-game.js"),isLoaded:()=>!!window.createQuizGame}]}];var P=()=>[{domSelector:'[data-rcfinteraction="laneChangerGame"]',libraries:[{url:Object(u.b)("fiab/laneChanger/lane-changer-main.js"),isLoaded:()=>!!window.createLaneChangerGame}]}];var A=()=>[{domSelector:'[data-rcfinteraction="cogsGame"]',libraries:[{url:Object(u.b)("fiab/cogsGame/fiab-cogs-main.js"),isLoaded:()=>!!window.createCogsGame}]}];var I=()=>[{domSelector:'[data-rcfinteraction="storyDice"]',libraries:[{url:Object(u.b)("fiab/storyDice/fiab-storycubes-main.js"),isLoaded:()=>!!window.createStoryCubesGame}]}];var j=()=>[{domSelector:'[data-rcfinteraction="spinnerGame"]',libraries:[{url:Object(u.b)("fiab/spinnerGame/fiab-spinner-main.js"),isLoaded:()=>!!window.createSpinnerGame}]}];var E=()=>[{domSelector:'[data-rcfinteraction="spellingBee"]',libraries:[{url:Object(u.b)("fiab/spellingBee/fiab-spelling-bee-main.js"),isLoaded:()=>!!window.createSpellingBeeGame}]}];var L=()=>[h(),g(),b(),y(),v(),w(),k(),x(),S(),O(),C(),T(),P(),A(),I(),j(),E()].flat();var R=(e,t)=>"function"==typeof t.domSelector?t.domSelector(e):e.find(t.domSelector).length>0;var M=async e=>{const t=r()(e),n=L().filter(e=>R(t,e));if(n.length>0)return Promise.allSettled(n.map(e=>(async e=>{for(const t of e.libraries){await t.isLoaded()||await Object(u.c)(t)}})(e))).then(()=>Promise.resolve())},N=n(17),D=n(119);n(176);var F=e=>{const t=r()(e);return"border-box"===t.css("box-sizing")?e.clientHeight:t.height()};n.d(t,"z",(function(){return $})),n.d(t,"y",(function(){return B})),n.d(t,"B",(function(){return z})),n.d(t,"A",(function(){return V})),n.d(t,"g",(function(){return q})),n.d(t,"c",(function(){return H})),n.d(t,"f",(function(){return W})),n.d(t,"M",(function(){return K})),n.d(t,"K",(function(){return J})),n.d(t,"s",(function(){return Y})),n.d(t,"N",(function(){return Q})),n.d(t,"v",(function(){return X})),n.d(t,"h",(function(){return Z})),n.d(t,"i",(function(){return ee})),n.d(t,"O",(function(){return re})),n.d(t,"x",(function(){return ne})),n.d(t,"w",(function(){return te})),n.d(t,"q",(function(){return ae})),n.d(t,"H",(function(){return se})),n.d(t,"b",(function(){return oe})),n.d(t,"u",(function(){return ce})),n.d(t,"E",(function(){return le})),n.d(t,"n",(function(){return ue})),n.d(t,"o",(function(){return de})),n.d(t,"F",(function(){return he})),n.d(t,"j",(function(){return fe})),n.d(t,"k",(function(){return pe})),n.d(t,"l",(function(){return me})),n.d(t,"r",(function(){return ge})),n.d(t,"J",(function(){return be})),n.d(t,"m",(function(){return ye})),n.d(t,"t",(function(){return ve})),n.d(t,"I",(function(){return we})),n.d(t,"d",(function(){return ke})),n.d(t,"p",(function(){return xe})),n.d(t,"e",(function(){return Se})),n.d(t,"D",(function(){return Oe})),n.d(t,"L",(function(){return Ce})),n.d(t,"a",(function(){return Te})),n.d(t,"C",(function(){return M})),n.d(t,"G",(function(){return D.a}));function B(e){return"boolean"!=typeof e&&(void 0===e||(null===(e||null)||e.length<1))}const U=new RegExp("[`´‘’‚‛]","g"),_=new RegExp("[“”„‟]","g"),G=new RegExp("[-­֊־᠆‐‑‒–—―−⸺⸻﹘﹣－]","g");function $(){return!!l.userAgent.match(/iPhone/i)}function z(){const e=l.userAgent,t=o();return!!e.match(/iPad/i)||("MacIntel"===l.platform&&l.maxTouchPoints>1||!!(t>=768&&(e.match(/Android/i)||e.match(/\bTouch\b/))))}function V(){const e=l.userAgent,t=o();return!!e.match(/iPhone/i)||(!!e.match(/iPod/i)||!!(t<768&&(e.match(/Android/i)||e.match(/\bTouch\b/))))}function q(e,t){return-1!==e.indexOf(t,e.length-t.length)}function H(e,t,n){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(t))||null==t)){if(n=r.a.extend({},n),null==t&&(n.expires=-1),"number"==typeof n.expires){const e=n.expires,t=n.expires=new Date;t.setDate(t.getDate()+e)}return t=String(t),a.a.cookie=[encodeURIComponent(e),"=",n.raw?t:encodeURIComponent(t),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}const i=(n=t||{}).raw?e=>e:decodeURIComponent,s=a.a.cookie.split("; ");for(let t,n=0;t=s[n]&&s[n].split("=");n++)if(i(t[0])===e)return i(t[1]||"");return null}function W(e){return[...new Set(e)]}function K(e){return e.replace(U,"'").replace(_,'"').replace(G,"-")}function J(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[n],e[n]=i}return e}function Y(e,t,n){t.show();const i=parseInt(n.css("lineHeight")),a=parseInt(n.height()),s=parseInt(e.pageX),o=parseInt(n.offset().left),c=o+n.width(),l=s-o;let u="left+"+l+" top",d="left bottom";if(a>i){s<o+(c-o)/2?d="left bottom":(u="left bottom",d="left+"+l+" top")}return{my:u,at:d,of:r()(n),collision:"fit flip",within:n.closest(".activity")}}function Q(e){return e in(a.a.body?a.a.body.style:[])}function X(e){return N.a(e,"data-rcfid")}function Z(e){return e.replace(/[<>]/g,e=>({"<":"&lt;",">":"&gt;"}[e]))}function ee(e){return e.closest(".dev-rcf-content")}function te(e){const t=ie(Math.floor(e/3600)%24),n=ie(Math.floor(e/60)%60),i=ie(Math.floor(e)%60);return"".concat(t,":").concat(n,":").concat(i)}function ne(e){return ie(Math.floor(e/60))+":"+ie(Math.floor(e)%60)}function ie(e){return("0"+e).substr(-2)}function re(e){return e.trim().replace(/\s+/g," ")}function ae(e){return N.a(e,"data-markType")||"item"}function se(e){return e.replace(/[. `’\\'[\](){}⟨⟩:,،、‒–—―…!.‹›«»‐\-?‘’“”'";/⁄·&*@•^†‡°”¡¿※#№÷×ºª%‰+−=‱¶′″‴§~_|‖¦©℗®℠™¤₳฿₵¢₡₢$₫₯֏₠€ƒ₣₲₴₭₺₾ℳ₥₦₧₱₰£៛₽₹₨₪৳₸₮₩¥]/g,"")}function oe(e){return e.charAt(0).toUpperCase()+e.slice(1)}function ce(e){let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}function le(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise(t=>{setTimeout(()=>t(),e)})}function ue(e){return Math.max(...e.map((e,t)=>parseInt(F(t))||1).get())}function de(e){return Math.max(...e.map((e,t)=>parseInt(r()(t).width())||1).get())}function he(e){e.stopImmediatePropagation(),e.preventDefault()}function fe(e){return N.a(e,"data-audiolink")||""}function pe(e){return e.replace(/(\.mp3|\.ogg|\.webma)/g,"")}function me(e){return e.replace(/(\.mp4|\.ogv|\.webm)/g,"")}function ge(){return new Date-(new Date).setHours(0,0,0,0)}function be(e){const t=e.slice();return t.sort(()=>Math.random()>=.5?-1:1),t}function ye(e){const t=parseFloat(e),n=e.match(/m?s/);let i="";switch(n&&(i=n[0]),i){case"s":return 1e3*t;case"ms":default:return t}}function ve(e,t){return Math.floor(Math.random()*Math.floor(t))+e}function we(e){return e.split("").reverse().join("")}function ke(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];clearTimeout(t),t=setTimeout(()=>e.apply(this,r),n)}}function xe(e){const t=ee(e).attr("data-levelassetsurl")||"";return t&&t.endsWith("/")?t.substring(0,t.length-1):t}function Se(e){return JSON.parse(JSON.stringify(e))}function Oe(){return Math.random()}function Ce(e){if(e.length<=1)return e;let t=be(e);if(2===e.length)return t;for(;t[0]===e[e.length-1];)t=be(e);return t}function Te(e){return[...Array.from({length:e},(e,t)=>t)]}},function(e,t){e.exports=jQuery},function(e,t,n){"use strict";var i=n(19),r=n(23),a=n(150),s=n(24),o=n(44),c=n(21),l=n(41),u=n(28),d=n(112).IteratorPrototype,h=n(46),f=u("toStringTag"),p=r.Iterator,m=h||!s(p)||p.prototype!==d||!c((function(){p({})})),g=function(){a(this,d)};l(d,f)||o(d,f,"Iterator"),!m&&l(d,"constructor")&&d.constructor!==Object||o(d,"constructor",g),g.prototype=d,i({global:!0,constructor:!0,forced:m},{Iterator:g})},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s}));const i=Object.freeze({composite:"composite",list:"list",simple:"simple",choice:"choice",sequence:"sequence",complexOrdering:"complexordering",answerKey:"answerKey",openGradableRecording:"openGradable_recording",openGradableWriting:"openGradable_writing",openGradableTeacherGradedTask:"openGradable_teacherGradedTask",openGradableFreeDrawing:"openGradable_freeDrawing",gameSequenceTileMaze:"game_sequenceTileMaze",gameCategoriseTileMaze:"game_categoriseTileMaze",gameBalloons:"game_balloonsGame",gamePelmanism:"game_pelmanism",gameVendor:"vendorGame"}),r=Object.freeze({byItem:"item",byList:"list",byFeedback:"feedback",unmarked:"unmarked",distractor:"distractor"}),a={engine:"engine",teacher:"teacher",nobody:"nobody"},s=Object.freeze({won:"won",lost:"lost",inProgress:"in-progress",notStarted:"not-started"})},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return s}));const i={categoriseCheckboxList:"rcfCategoriseCheckboxList",categoriseCheckboxTable:"rcfCategoriseCheckboxTable",categoriseDraggable:"rcfCategoriseDraggable",categoriseDropDown:"rcfCategoriseDropDown",categoriseItemSelectList:"rcfCategoriseItemSelectList",categoriseRadioList:"rcfCategoriseRadioList",categoriseRadioTable:"rcfCategoriseRadioTable",categoriseSelectable:"rcfCategoriseSelectable",categoriseTouchable:"rcfCategoriseTouchable",checkboxItemSelect:"rcfCheckboxItemSelect",checkboxList:"rcfCheckbox",colouring:"rcfColouring",complexOrdering:"rcfComplexOrdering",compositeScene:"rcfCompositeScene",crossword:"rcfCrossword",fixedCrossword:"rcfFixedCrossword",droppable:"rcfDroppable",dropDown:"rcfDropDown",inlineOrdering:"rcfInlineOrdering",locating:"rcfLocating",listenAndColour:"rcfListenAndColour",matching:"rcfMatching",movingTargets:"rcfMovingTargets",ordering:"rcfOrdering",pelmanism:"rcfPelmanism",positioning:"rcfPositioning",radioList:"rcfRadio",radioItemSelect:"rcfRadioItemSelect",rotatingMatching:"rcfRotatingMatching",selectable:"rcfSelectableElements",categoriseTileMaze:"rcfCategoriseTileMaze",sequenceTileMaze:"rcfSequenceTileMaze",story:"rcfStory",typein:"rcfTypein",typeinGroup:"rcfTypeinGroup",verticalCrossword:"rcfVerticalCrossword",wordSearch:"rcfWordSearch",wordSnake:"rcfWordSnake",sentenceBuilder:"rcfSentenceBuilder",wordInsert:"rcfWordInsert",findInImage:"rcfFindInImage",balloons:"rcfBalloonsGame",spellingBee:"rcfSpellingBee",bubblesGame:"rcfBubblesGame",barrelsGame:"rcfBarrelsGame",snapGame:"rcfSnapGame",whackaMoleGame:"rcfWhackaMoleGame",quizGame:"rcfQuizGame",laneChangerGame:"rcfLaneChangerGame",cogsGame:"rcfCogsGame",storyDice:"rcfStoryDice",spinnerGame:"rcfSpinnerGame",mathsAddition:"rcfMathsAddition",mathsSubtraction:"rcfMathsSubtraction",mathsMultiplication:"rcfMathsMultiplication",mathsDivision:"rcfMathsDivision"},r={checkbox:"rcfItemCheckbox",checkboxItemSelect:"rcfItemCheckboxItemSelect",dropDown:"rcfItemBasedDropDown",typein:"rcfItemBasedTypein",typeinGroup:"rcfItemBasedTypeinGroup",radio:"rcfItemBasedRadio",radioItemSelect:"rcfItemBasedRadioItemSelect",selectableText:"rcfItemBasedSelectableText",complexDroppableBlock:"rcfItemBasedComplexDroppableBlock",sentenceBuilder:"rcfItemBasedSentenceBuilder",wordInsert:"rcfItemBasedWordInsert"},a={recording:"rcfRecording",writing:"rcfWriting",teacherGradedTask:"rcfTeacherGradedTask",freeDrawing:"rcfFreeDrawing",legacyTextInput:"rcfOpenGradableTextInput",legacyMultiLineTextInput:"rcfOpenGradableMultiLineTextInput"},s=[i.movingTargets,i.compositeScene,i.colouring,i.balloons,i.categoriseTileMaze,i.sequenceTileMaze,i.findInImage,i.barrelsGame,i.bubblesGame,i.cogsGame,i.laneChangerGame,i.quizGame,i.snapGame,i.whackaMoleGame,i.storyDice,i.spinnerGame,i.spellingBee]},function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a}));var i=n(5);let r=n.n(i)()({});const a=Object.freeze({getUserAnswers:"get.user.answers",deliverUserAnswers:"deliver.user.answers",hideMarkedAnswers:"hide.marked.answers",setAnswers:"set.answers",showCorrectAnswers:"show.correct.answers",showMarkedAnswers:"show.marked.answers",showNextAnswer:"show.next.answer",showUserAnswers:"show.user.answers",tryAgain:"try.again",resetAnswers:"reset.answers",newCarouselPage:"rcf.new.carousel.page",resetTriggers:"rcf.reset.triggers",stopNonPipVideo:"rcf.stop.non.pip.video",updateCategoriesSize:"update.categories.size",categoriseAnswerChanged:"rcf.categorise.answer.changed",wordBoxContentsChanged:"wordbox.contents.changed",wordBoxInitialSize:"wordbox.initial.size"});function s(){r.on.apply(r,arguments)}function o(){r.off.apply(r,arguments)}function c(){r.trigger.apply(r,arguments)}},function(e,t,n){"use strict";var i=n(19),r=n(66),a=n(35),s=n(26);i({target:"Iterator",proto:!0,real:!0,forced:!0},{find:function(e){return s(this),a(e),r(this,(function(t,n){if(e(t))return n(t)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},,function(e,t,n){"use strict";var i=n(19),r=n(78),a=n(35),s=n(26),o=n(190),c=n(167),l=o((function(e){for(var t,n,i=this.iterator,a=this.filterer,o=this.next;;){if(t=s(r(o,i,e)),this.done=!!t.done)return;if(n=t.value,c(i,a,n))return n}}));i({target:"Iterator",proto:!0,real:!0,forced:!0},{filter:function(e){return new l({iterator:s(this),filterer:a(e)})}})},function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c}));n(32),n(31),n(33);var i=n(37);let r=void 0;const a={},s=async e=>{const t=e.url,n=e.onLoaded?e.onLoaded:()=>{};if(a[t]&&a[t].isLoaded)return Promise.resolve();if(a[t]&&!a[t].isLoaded){const e=a[t];return new Promise(t=>{e.callers.push({onLibraryLoaded:n,resolve:t})})}const r={isLoaded:!1,callers:[]};return new Promise(e=>{r.callers.push({onLibraryLoaded:n,resolve:e}),a[t]=r,function(e,t){const n=i.a.createElement("script");n.src=t,n.async=!0,n.defer=!0,n.addEventListener("load",async()=>{e.isLoaded=!0;for(const t of e.callers)await t.onLibraryLoaded(),t.resolve();e.callers=[]},!1),n.addEventListener("error",()=>{n.remove(),Promise.reject("error loading script [".concat(t,"]"))}),i.a.body.appendChild(n)}(r,t)})};function o(e){return"".concat(c(),"vendor/").concat(e)}function c(){if(!r){const e=n.p;r="".concat(e.substring(0,e.lastIndexOf("/")+1),"../")}return r}},function(e,t,n){"use strict";var i=n(19),r=n(66),a=n(26);i({target:"Iterator",proto:!0,real:!0,forced:!0},{forEach:function(e){r(a(this),e,{IS_ITERATOR:!0})}})},function(e,t,n){var i=n(23),r=n(191),a=n(192),s=n(271),o=n(44),c=function(e){if(e&&e.forEach!==s)try{o(e,"forEach",s)}catch(t){e.forEach=s}};for(var l in r)r[l]&&c(i[l]&&i[l].prototype);c(a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s}));var i=n(4);function r(e,t){if(!Object(i.y)(e))return e.attr(t)}function a(e,t,n){Object(i.y)(e)||e.attr(t,n)}function s(e,t){Object(i.y)(e)||e.removeAttr(t)}},,function(e,t,n){var i=n(23),r=n(129).f,a=n(44),s=n(54),o=n(136),c=n(166),l=n(140);e.exports=function(e,t){var n,u,d,h,f,p=e.target,m=e.global,g=e.stat;if(n=m?i:g?i[p]||o(p,{}):(i[p]||{}).prototype)for(u in t){if(h=t[u],d=e.dontCallGetSet?(f=r(n,u))&&f.value:n[u],!l(m?u:p+(g?".":"#")+u,e.forced)&&void 0!==d){if(typeof h==typeof d)continue;c(h,d)}(e.sham||d&&d.sham)&&a(h,"sham",!0),s(n,u,h,e)}}},function(e,t,n){var i=n(109),r=Function.prototype,a=r.bind,s=r.call,o=i&&a.bind(s,s);e.exports=i?function(e){return e&&o(e)}:function(e){return e&&function(){return s.apply(e,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},,function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n(56))},function(e,t){e.exports=function(e){return"function"==typeof e}},function(e,t,n){var i=n(19),r=n(23),a=n(78),s=n(275),o=r.WebAssembly,c=7!==Error("e",{cause:7}).cause,l=function(e,t){var n={};n[e]=s(e,t,c),i({global:!0,constructor:!0,arity:1,forced:c},n)},u=function(e,t){if(o&&o[e]){var n={};n[e]=s("WebAssembly."+e,t,c),i({target:"WebAssembly",stat:!0,constructor:!0,arity:1,forced:c},n)}};l("Error",(function(e){return function(t){return a(e,this,arguments)}})),l("EvalError",(function(e){return function(t){return a(e,this,arguments)}})),l("RangeError",(function(e){return function(t){return a(e,this,arguments)}})),l("ReferenceError",(function(e){return function(t){return a(e,this,arguments)}})),l("SyntaxError",(function(e){return function(t){return a(e,this,arguments)}})),l("TypeError",(function(e){return function(t){return a(e,this,arguments)}})),l("URIError",(function(e){return function(t){return a(e,this,arguments)}})),u("CompileError",(function(e){return function(t){return a(e,this,arguments)}})),u("LinkError",(function(e){return function(t){return a(e,this,arguments)}})),u("RuntimeError",(function(e){return function(t){return a(e,this,arguments)}}))},function(e,t,n){var i=n(43),r=String,a=TypeError;e.exports=function(e){if(i(e))return e;throw a(r(e)+" is not an object")}},,function(e,t,n){var i=n(23),r=n(134),a=n(41),s=n(165),o=n(133),c=n(182),l=r("wks"),u=i.Symbol,d=u&&u.for,h=c?u:u&&u.withoutSetter||s;e.exports=function(e){if(!a(l,e)||!o&&"string"!=typeof l[e]){var t="Symbol."+e;o&&a(u,e)?l[e]=u[e]:l[e]=c&&d?d(t):h(t)}return l[e]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d}));n(25),n(6),n(11);var i=n(5),r=n.n(i),a=n(120),s=n(45);let o,c;function l(){return o}function u(e,t){o=e;const n=a.a(t);o.feedbackOptions="open-non-gradable"===n||"non-gradable"===n?void 0:r.a.extend(c.feedbackOptions,e.feedbackOptions),function(e){switch(e){case null:case void 0:case"Review":case"playing":case"challenge":case"challenge2":return!0}throw new Error("Invalid item based mode passed into RCF [".concat(e,"]"))}(o.itemMode),function(e){switch(e){case null:case void 0:case"reading":case"comprehension":return!0}throw new Error("Invalid reading mode passed into RCF [".concat(e,'] - valid modes are "reading", "comprehension"'))}(o.storyPlayingMode),o.randomizeAnswersOnScreen&&o.randomizeAnswersOnScreen!==s.a.NONE&&t.find(".activity").attr("data-randomizedAnswers",o.randomizeAnswersOnScreen),window.RCF.options=o}function d(e){c=e,o=Object.assign({},c),window.RCF.options=o}},,function(e,t,n){n(283),n(290),n(291),n(292),n(293),n(294)},function(e,t,n){"use strict";var i=n(93),r=n(144),a=n(94),s=n(63),o=n(49).f,c=n(252),l=n(46),u=n(42),d=s.set,h=s.getterFor("Array Iterator");e.exports=c(Array,"Array",(function(e,t){d(this,{type:"Array Iterator",target:i(e),index:0,kind:t})}),(function(){var e=h(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values");var f=a.Arguments=a.Array;if(r("keys"),r("values"),r("entries"),!l&&u&&"values"!==f.name)try{o(f,"name",{value:"values"})}catch(e){}},function(e,t,n){var i=n(23),r=n(191),a=n(192),s=n(32),o=n(44),c=n(28),l=c("iterator"),u=c("toStringTag"),d=s.values,h=function(e,t){if(e){if(e[l]!==d)try{o(e,l,d)}catch(t){e[l]=d}if(e[u]||o(e,u,t),r[t])for(var n in s)if(e[n]!==s[n])try{o(e,n,s[n])}catch(t){e[n]=s[n]}}};for(var f in r)h(i[f]&&i[f].prototype,f);h(a,"DOMTokenList")},function(e,t,n){var i=n(109),r=Function.prototype.call;e.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},function(e,t,n){var i=n(24),r=n(91),a=TypeError;e.exports=function(e){if(i(e))return e;throw a(r(e)+" is not a function")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"f",(function(){return h}));var i=n(47),r=n(37);let a=i.a.desktop,s=i.a.desktop;const o=()=>a,c=e=>{s=e},l=()=>{a=s},u=()=>a===i.a.mobile,d=()=>a===i.a.desktop,h=()=>"ontouchstart"in(r.a.documentElement?r.a.documentElement:[])},function(e,t,n){"use strict";t.a=document},,,,function(e,t,n){var i=n(20),r=n(68),a=i({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(r(e),t)}},function(e,t,n){var i=n(21);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){var i=n(24);e.exports=function(e){return"object"==typeof e?null!==e:i(e)}},function(e,t,n){var i=n(42),r=n(49),a=n(88);e.exports=i?function(e,t,n){return r.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i={NONE:"none",ALWAYS:"always",FIXED:"fixed"}},function(e,t){e.exports=!1},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=Object.freeze({mobile:"mobile",tablet:"tablet",desktop:"desktop"})},function(e,t,n){"use strict";var i=n(19),r=n(78),a=n(35),s=n(26),o=n(190),c=n(167),l=o((function(e){var t=this.iterator,n=s(r(this.next,t,e));if(!(this.done=!!n.done))return c(t,this.mapper,n.value)}));i({target:"Iterator",proto:!0,real:!0,forced:!0},{map:function(e){return new l({iterator:s(this),mapper:a(e)})}})},function(e,t,n){var i=n(42),r=n(183),a=n(184),s=n(26),o=n(130),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor;t.f=i?a?function(e,t,n){if(s(e),t=o(t),s(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var i=u(e,t);i&&i.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:i.configurable,enumerable:"enumerable"in n?n.enumerable:i.enumerable,writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(s(e),t=o(t),s(n),r)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(23),r=n(24),a=function(e){return r(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(i[e]):i[e]&&i[e][t]}},function(e,t,n){"use strict";t.a=window},function(e,t,n){"use strict";t.a=navigator},function(e,t,n){"use strict";n(6),n(11);var i=(e,t)=>e.find(".itemBasedQuestion[data-rcfid='".concat(t,"']"));var r=e=>e.find(".itemBasedQuestion");var a=n(5),s=n.n(a),o=n(162);var c=(e,t)=>{Object(o.a)(e,!0).attr("tabindex",t?"0":"-1")};var l=e=>{const t=r(e);t.removeClass("active"),t.each((e,t)=>{const n=s()(t);n.attr("aria-hidden","true"),c(n,!1)})},u=n(4),d=n(10);var h=(e,t)=>{const n=i(e,t),r=n.find(".wordBox");Object(u.y)(r)||setTimeout(()=>{d.b(d.a.wordBoxInitialSize,r)}),l(e),n.addClass("active"),n.attr("aria-hidden","false"),c(n,!0)};var f=e=>e.find(".prompt");var p=e=>{let t=e.find("*[data-audiolink]").first();return Object(u.y)(t)?(t=e.find(".audio.large").first(),t):t};var m=(e,t)=>{const n=i(e,t),r=f(n),a=p(r);if(e.trigger("rcf.stop.audio",[!0]),Object(u.y)(a))return;if(a.hasClass("large")||a.hasClass("inlinePlayerContainer"))return void a.find(".audioPlayButton").click();const s=a.attr("data-audiolink");a.trigger("rcf.play.audio",[s])};var g=e=>e.closest(".itemBasedQuestion").length>0;var b=e=>e.closest(".itemBasedQuestion.active").length>0;var y=e=>e.find(".itemBasedQuestion.active .fixedWordBox").length>0;n.d(t,"d",(function(){return i})),n.d(t,"f",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return y}))},function(e,t,n){var i=n(24),r=n(44),a=n(185),s=n(136);e.exports=function(e,t,n,o){o||(o={});var c=o.enumerable,l=void 0!==o.name?o.name:t;return i(n)&&a(n,l,o),o.global?c?e[t]=n:s(t,n):(o.unsafe?e[t]&&(c=!0):delete e[t],c?e[t]=n:r(e,t,n)),e}},function(e,t,n){"use strict";n(32),n(6),n(11),n(15),n(16),n(33);var i=n(4),r=(n(25),n(13),n(123)),a=n.n(r),s=n(51),o=n(14);var c=()=>({controls:[],loadSprite:!0,iconUrl:"".concat(Object(o.a)(),"images/plyr/plyr.svg"),autopause:!0,blankVideo:"".concat(Object(o.a)(),"video/plyr/blank.mp4"),disableContextMenu:!0});var l=e=>new Proxy(e,{set(e,t,n){if("source"===t){const i=e.id;e.eventListeners=[...e.eventListeners.filter(e=>e.element===document||e.element===document.body)];const r=Reflect.set(e,t,n);return i&&e.id&&X(i,e.id),r}return Reflect.set(e,t,n)}});function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s.a.localStorage.removeItem("plyr");const n=c(),i=new a.a(e,d(d(d({},n),t),{},{storage:{enabled:!1}})),r=e.closest(".audioContainer");return r.attr("data-plyr-id",i.id),l(i)};var p=()=>["play-large","play","restart","progress","current-time","mute","volume","captions","settings","pip","fullscreen"];var m=()=>({debug:!1,loadSprite:!0,disableContextMenu:!0,invertTime:!1,fullscreen:{enabled:!0,fallback:!0,iosNative:!1},controls:p(),captions:{active:!0,language:"auto",update:!0}}),g=n(60),b=n(17);var y=e=>e.find(".videoTitle").text()||"";function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=e=>{const t=Object(b.a)(e,"data-rcfA11yTitle")||"",n=y(e),i={iconUrl:"".concat(Object(o.a)(),"images/plyr/plyr.svg"),blankVideo:"".concat(Object(o.a)(),"video/plyr/blank.mp4"),title:n,captions:{active:!1}};return i.i18n=g.a.t("interactions.videoPlayer",{returnObjects:!0}),t&&(i.i18n=w(w({},i.i18n),{},{play:" ".concat(t)})),i},S=n(177),O=n(72),C=n(208);var T=e=>{e.on("loadstart",()=>{Object(O.a)(e)}),e.on("canplay",()=>{Object(C.a)(e)}),e.on("ended",()=>{Object(O.a)(e)})},P=n(81);var A=(e,t)=>{const n=()=>{if(!t||!t[0])return;const e=t[0].querySelectorAll('.plyr__control[data-plyr="play"]');e&&e.length&&e.forEach(e=>{e.removeAttribute("aria-label")})};n();const i=new MutationObserver(e=>{e.forEach(e=>{("childList"===e.type||"attributes"===e.type&&"aria-label"===e.attributeName)&&n()})});return i.observe(t[0],{attributes:!0,childList:!0,subtree:!0,attributeFilter:["aria-label"]}),i};var I=(e,t)=>{const n=g.a.language;e.on("ready",()=>{t.find(".plyr__controls").attr("lang",n)})};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.find("video"),r=Object(i.i)(e),o=m(),c=x(e),l=E(E(E(E({},o),c),t),{},{listeners:{play(){return Object(S.a)(this),J(this),r.trigger("rcf.stop.audio"),!0},restart(){return Object(O.a)(this),Object(P.a)(this),this.stop(),!1}}});s.a.localStorage.removeItem("plyr");const u=new a.a(n,l);return T(u),A(u,e),I(u,e),u};var M=e=>{e.forEach(e=>{Object(P.a)(e),e.stop()})};var N=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.filter(e=>{var t;return e.playing||(null===(t=e.audioDescriptions)||void 0===t||null===(t=t.speechSynthesis)||void 0===t?void 0:t.speaking)}).forEach(e=>{t&&(e.rcfDevPaused=!0),Object(P.a)(e),e.pause()})};var D=e=>{e.filter(e=>e.rcfDevPaused).forEach(e=>{e.play(),e.rcfDevPaused=void 0})};var F=(e,t)=>{e.filter(e=>e.id!==t.id).forEach(e=>{e.pause()})};var B=(e,t)=>{e.filter(e=>e.id!==t.id).forEach(e=>{e.stop()})};var U=e=>{e.filter(e=>!e.pip).forEach(e=>{Object(O.a)(e),e.stop()})};var _=e=>{e.forEach(e=>{if(e.off("canplay"),e.off("loadstart"),e.pip=!1,e.rcfDevPaused=!1,e.stop(),e.destroy(),e.hlsInstance){const t=e.hlsInstance;try{t.destroy()}catch(e){console.error("error destroying hls instance",e)}}})};n.d(t,"b",(function(){return $})),n.d(t,"a",(function(){return z})),n.d(t,"d",(function(){return Z})),n.d(t,"j",(function(){return V})),n.d(t,"k",(function(){return q})),n.d(t,"i",(function(){return K})),n.d(t,"h",(function(){return Y})),n.d(t,"l",(function(){return X})),n.d(t,"f",(function(){return H})),n.d(t,"e",(function(){return J})),n.d(t,"g",(function(){return W})),n.d(t,"c",(function(){return Q}));const G=new Map,$=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=ee(e),i=G.get(n)||[],r=R(e,t);return i.push(r),G.set(n,i),r},z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=f(e,t),i=ee(e),r=G.get(i)||[];return r.push(n),G.set(i,r),n},V=()=>{G.forEach(e=>{M(e)})},q=e=>{const t=e.attr("id"),n=G.get(t);n&&M(n)},H=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];G.forEach(t=>{N(t,e)})},W=()=>{G.forEach(e=>{D(e)})},K=e=>{G.forEach(t=>{B(t,e)})},J=e=>{G.forEach(t=>{F(t,e)})},Y=()=>{G.forEach(e=>{U(e)})},Q=e=>{const t=e.attr("id")||"";let n=G.get(t)||[];_(n),n=[],G.delete(t)},X=(e,t)=>{const n=document.querySelector('[data-plyr-id="'.concat(e,'"]'));n&&n.setAttribute("data-plyr-id",t)},Z=e=>{const t=e.attr("data-plyr-id")||"";if(t.length<1)return;const n=ee(e);return(G.get(n)||[]).find(e=>e.id==t)},ee=e=>Object(i.i)(e).attr("id")||""},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},,,function(e,t,n){"use strict";var i=n(19),r=n(142);i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},function(e,t,n){"use strict";n(6),n(11);var i=n(98),r=n(228),a=n(229);n(13),n(15),n(16),n(59);var s=e=>e.getAttributeNames().filter(t=>(t.startsWith("aria")||"title"===t)&&(e.getAttribute(t)||"").match(/\[.*?\]/));n(102),n(25),n(32),n(64),n(170),n(171),n(259),n(100),n(65),n(33);function o(){o=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,i,r){var a=RegExp(e,i);return t.set(a,r||t.get(e)),l(a,n.prototype)}function i(e,n){var i=t.get(n);return Object.keys(i).reduce((function(t,n){var r=i[n];if("number"==typeof r)t[n]=e[r];else{for(var a=0;void 0===e[r[a]]&&a+1<r.length;)a++;t[n]=e[r[a]]}return t}),Object.create(null))}return c(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);if(n){n.groups=i(n,this);var r=n.indices;r&&(r.groups=i(r,this))}return n},n.prototype[Symbol.replace]=function(n,r){if("string"==typeof r){var a=t.get(this);return e[Symbol.replace].call(this,n,r.replace(/\$<([^>]+)(>|$)/g,(function(e,t,n){if(""===n)return e;var i=a[t];return Array.isArray(i)?"$"+i.join("$"):"number"==typeof i?"$"+i:""})))}if("function"==typeof r){var s=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(i(e,s)),r.apply(this,e)}))}return e[Symbol.replace].call(this,n,r)},o.apply(this,arguments)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var u=e=>{const t=o(/\[(.*?)\]/g,{translationKey:1});let n=e;for(const r of e.matchAll(t)){const e=r[0],t=r[1].trim(),a=i.a.t(t);n=n.replace(e,a)}return n};var d=(e,t)=>{const n=e.getAttribute(t)||"";if(n.length<1)return;const i=u(n);e.setAttribute(t,i.trim())};var h=e=>{const t=s(e);0!==t.length&&t.filter(t=>e.hasAttribute(t)).forEach(t=>{d(e,t)})};var f=e=>{if(e.childElementCount>0)return;const t=e.textContent;if(t.match(/\[.*?\]/)){const n=u(t);e.textContent=n}};var p=e=>{h(e),f(e)};n.d(t,"b",(function(){return m})),i.a.init({fallbackLng:"en",resources:{en:r,es:a}});const m=e=>{const t=e.find("[data-rcfTranslate]");t.each((e,t)=>{p(t)}),t.removeAttr("data-rcfTranslate")};t.a=i.a},function(e,t,n){var i=n(126),r=String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return r(e)}},function(e,t,n){var i=n(125);e.exports=function(e){return i(e.length)}},function(e,t,n){var i,r,a,s=n(265),o=n(23),c=n(20),l=n(43),u=n(44),d=n(41),h=n(135),f=n(137),p=n(138),m=o.TypeError,g=o.WeakMap;if(s||h.state){var b=h.state||(h.state=new g),y=c(b.get),v=c(b.has),w=c(b.set);i=function(e,t){if(v(b,e))throw new m("Object already initialized");return t.facade=e,w(b,e,t),t},r=function(e){return y(b,e)||{}},a=function(e){return v(b,e)}}else{var k=f("state");p[k]=!0,i=function(e,t){if(d(e,k))throw new m("Object already initialized");return t.facade=e,u(e,k,t),t},r=function(e){return d(e,k)?e[k]:{}},a=function(e){return d(e,k)}}e.exports={set:i,get:r,has:a,enforce:function(e){return a(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=r(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){"use strict";var i=n(19),r=n(279).left,a=n(141),s=n(107),o=n(108);i({target:"Array",proto:!0,forced:!a("reduce")||!o&&s>79&&s<83},{reduce:function(e){var t=arguments.length;return r(this,e,t,t>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var i=n(19),r=n(66),a=n(35),s=n(26),o=TypeError;i({target:"Iterator",proto:!0,real:!0,forced:!0},{reduce:function(e){s(this),a(e);var t=arguments.length<2,n=t?void 0:arguments[1];if(r(this,(function(i){t?(t=!1,n=i):n=e(n,i)}),{IS_ITERATOR:!0}),t)throw o("Reduce of empty iterator with no initial value");return n}})},function(e,t,n){var i=n(87),r=n(34),a=n(26),s=n(91),o=n(238),c=n(62),l=n(75),u=n(236),d=n(155),h=n(189),f=TypeError,p=function(e,t){this.stopped=e,this.result=t},m=p.prototype;e.exports=function(e,t,n){var g,b,y,v,w,k,x,S=n&&n.that,O=!(!n||!n.AS_ENTRIES),C=!(!n||!n.IS_ITERATOR),T=!(!n||!n.INTERRUPTED),P=i(t,S),A=function(e){return g&&h(g,"normal",e),new p(!0,e)},I=function(e){return O?(a(e),T?P(e[0],e[1],A):P(e[0],e[1])):T?P(e,A):P(e)};if(C)g=e;else{if(!(b=d(e)))throw f(s(e)+" is not iterable");if(o(b)){for(y=0,v=c(e);v>y;y++)if((w=I(e[y]))&&l(m,w))return w;return new p(!1)}g=u(e,b)}for(k=g.next;!(x=r(k,g)).done;){try{w=I(x.value)}catch(e){h(g,"throw",e)}if("object"==typeof w&&w&&l(m,w))return w}return new p(!1)}},function(e,t,n){var i=n(20),r=i({}.toString),a=i("".slice);e.exports=function(e){return a(r(e),8,-1)}},function(e,t,n){var i=n(74),r=Object;e.exports=function(e){return r(i(e))}},function(e,t,n){var i=n(50);e.exports=i("navigator","userAgent")||""},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=Object.freeze({default:"default",leaveTeacherFeedback:"leaveTeacherFeedback",reviewTeacherFeedback:"reviewTeacherFeedback",answerKeyMode:"answerKeyMode"})},function(e,t,n){"use strict";function i(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.toggleClass("dragged",t)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";t.a=e=>{e.elements.buttons.restart&&(e.elements.buttons.restart.disabled=!0)}},function(e,t,n){"use strict";var i=n(4),r=n(207),a=n(121),s=n(122),o=n(53);var c=(e,t)=>{const n=t.css("height");!Object(o.c)(t)||Object(o.b)(t)?Object(a.a)(e,n):Object(o.a)(e)||Object(s.a)(e)};t.a=e=>{const t=Object(i.i)(e);Object(r.a)(t)&&c(t,e)}},function(e,t){var n=TypeError;e.exports=function(e){if(null==e)throw n("Can't call method on "+e);return e}},function(e,t,n){var i=n(20);e.exports=i({}.isPrototypeOf)},function(e,t,n){"use strict";(function(e){var i;!function(r,a){void 0===(i=function(){return a}.call(t,n,t,e))||(e.exports=i)}(window,function(e){function t(e,t){for(var n,i=e.length,r=i;r--;)t(e[n=i-r-1],n);return e}function n(e,t,n){for(var i in t)(n||e[i]===r)&&(e[i]=t[i]);return e}function i(e,t,n){return d.push({prepare:e,sort:t,sortBy:n})}var r=void 0,a=null,s=window,o=s.document,c=parseFloat,l=/(-?\d+\.?\d*)\s*$/g,u=/(\d+\.?\d*)\s*$/g,d=[],h=function(e){return Array.from([,,,],(function(t,n){return function(e){return String.fromCharCode(e)}(e+n)}))},f=h(0),p=h(4095),m={selector:a,order:"asc",attr:a,data:a,useVal:!1,place:"org",returns:!1,cases:!1,natural:!1,forceStrings:!1,ignoreDashes:!1,sortFunction:a,useFlex:!1,emptyEnd:!1,console:console},g=0,b=0;return s.Element&&function(e){e.matches=e.matches||e.msMatchesSelector}(Element.prototype),n(i,{loop:t}),n((function(e){for(var i=arguments.length,s=Array(1<i?i-1:0),h=1;h<i;h++)s[h-1]=arguments[h];function y(e){var t=!!e.selector,i=t&&":"===e.selector[0],r=n(e||{},m);return F.push(n({hasSelector:t,hasAttr:r.attr!==a&&""!==r.attr,hasData:r.data!==a,hasFilter:i,sortReturnNumber:"asc"===r.order?1:-1},r))}function v(){t(e,(function(e,t){B?B!==e.parentNode&&(U=!1):B=e.parentNode;var n=F[0],i=n.hasFilter,r=n.selector,a=!r||i&&e.matches(r)||r&&e.querySelector(r)?M:N,s={elm:e,pos:t,posn:a.length};R.push(s),a.push(s)})),D.splice.apply(D,[0,Number.MAX_SAFE_INTEGER].concat(M))}function w(e,t,n){for(var i=n(e.toString()),r=n(t.toString()),a=0;i[a]&&r[a];a++)if(i[a]!==r[a]){var s=+i[a],o=+r[a];return s==i[a]&&o==r[a]?s-o:i[a]>r[a]?1:-1}return i.length-r.length}function k(e){for(var t,n=[],i=0,r=-1,a=0,s=void 0,o=void 0;s=(o=e.charAt(i++)).charCodeAt(0);)(t=46===s||48<=s&&57>=s)!==a&&(n[++r]="",a=t),n[r]+=o;return n}function x(e,n){var i=0;0!==b&&(b=0);for(var r=function(){var r=F[b],a=r.ignoreDashes?u:l;t(d,(function(e){return e.prepare&&e.prepare(r)}));var s=!1,o=P(e,r),h=P(n,r);if(r.sortFunction)i=r.sortFunction(e,n);else if("rand"===r.order)i=.5>Math.random()?1:-1;else if(o===h)i=0;else{if(!r.forceStrings){var f=!!A(o)&&o&&o.match(a),p=!!A(h)&&h&&h.match(a);if(f&&p)o.substr(0,o.length-f[0].length)==h.substr(0,h.length-p[0].length)&&(s=!0,o=c(f[0]),h=c(p[0]))}i=r.natural&&(isNaN(o)||isNaN(h))?w(o,h,k):o<h?-1:o>h?1:0}t(d,(function(e){var t=e.sort;return t&&(i=t(r,s,o,h,i))})),0===(i*=r.sortReturnNumber)&&b++};0===i&&b<g;)r();return 0===i&&(i=e.pos>n.pos?1:-1),i}function S(){var e=M.length,t=e===R.length,n=e===B.children.length,i=F[0],r=i.place,a=i.console;if(U&&t&&n)$?M.forEach((function(e,t){return e.elm.style.order=t})):B?B.appendChild(O()):a&&a.warn&&a.warn("parentNode has been removed");else{var s="start"===r,o="end"===r,c="first"===r;if("org"===r)M.forEach(C),M.forEach((function(e,t){return T(D[t],e.elm)}));else if(s||o){var l=D[s?0:D.length-1],u=l&&l.elm.parentNode,d=u&&(s&&u.firstChild||u.lastChild);d&&(d!==l.elm&&(l={elm:d}),C(l),o&&u.appendChild(l.ghost),T(l,O()))}else if(c||"last"===r){T(C(D[c?0:D.length-1]),O())}}}function O(){return M.forEach((function(e){return L.appendChild(e.elm)})),L}function C(e){var t=e.elm,n=o.createElement("div");return e.ghost=n,t.parentNode.insertBefore(n,t),e}function T(e,t){var n=e.ghost,i=n.parentNode;i.insertBefore(t,n),i.removeChild(n),delete e.ghost}function P(e,t){var n,i=e.elm,s=t.selector;s&&(t.hasFilter?!i.matches(s)&&(i=a):i=i.querySelector(s)),t.hasAttr?n=i.getAttribute(t.attr):t.useVal?n=i.value||i.getAttribute("value"):t.hasData?n=i.getAttribute("data-"+t.data):i&&(n=i.textContent),A(n)&&(!t.cases&&(n=n.toLowerCase()),n=n.replace(/\s+/g," "));var o=[r,a,""].indexOf(n);return-1!==o&&(n=(t.emptyEnd?p:f)[o]),n}function A(e){return"string"==typeof e}var I=s[0]||{};A(e)&&(e=o.querySelectorAll(e));var j=Object.assign({},m,I||{}),E=j.console;0===e.length&&E&&E.warn&&E.warn("No elements to sort");var L=o.createDocumentFragment(),R=[],M=[],N=[],D=[],F=[],B=void 0,U=!0,_=e.length&&e[0].parentNode,G=_.rootNode!==document,$=e.length&&(I===r||!1!==I.useFlex)&&!G&&-1!==getComputedStyle(_,null).display.indexOf("flex");return g=function(e){return 0===e.length&&y({})||t(e,(function(e){return y(A(e)?{selector:e}:e)})).length}(s),v(),M.sort(I.sortFunction||x),S(),M.map((function(e){return e.elm}))}),{plugin:i,defaults:m})}())}).call(this,n(145)(e))},function(e,t,n){var i=n(35);e.exports=function(e,t){var n=e[t];return null==n?void 0:i(n)}},function(e,t,n){var i=n(109),r=Function.prototype,a=r.apply,s=r.call;e.exports="object"==typeof Reflect&&Reflect.apply||(i?s.bind(a):function(){return s.apply(a,arguments)})},function(e,t,n){"use strict";var i=n(35),r=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i})),this.resolve=i(t),this.reject=i(n)};e.exports.f=function(e){return new r(e)}},,function(e,t,n){"use strict";t.a=e=>{e.audioDescriptions&&e.audioDescriptions.speechSynthesis&&e.audioDescriptions.speechSynthesis.speaking&&e.audioDescriptions.speechSynthesis.cancel()}},,,,function(e,t,n){var i=n(267);e.exports=function(e){var t=+e;return t!=t||0===t?0:i(t)}},function(e,t,n){"use strict";var i=n(19),r=n(66),a=n(35),s=n(26);i({target:"Iterator",proto:!0,real:!0,forced:!0},{some:function(e){return s(this),a(e),r(this,(function(t,n){if(e(t))return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},function(e,t,n){var i=n(20),r=n(35),a=n(109),s=i(i.bind);e.exports=function(e,t){return r(e),void 0===t?e:a?s(e,t):function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i,r=n(26),a=n(268),s=n(139),o=n(138),c=n(188),l=n(110),u=n(137),d=u("IE_PROTO"),h=function(){},f=function(e){return"<script>"+e+"<\/script>"},p=function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){try{i=new ActiveXObject("htmlfile")}catch(e){}var e,t;m="undefined"!=typeof document?document.domain&&i?p(i):((t=l("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F):p(i);for(var n=s.length;n--;)delete m.prototype[s[n]];return m()};o[d]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(h.prototype=r(e),n=new h,h.prototype=null,n[d]=e):n=m(),void 0===t?n:a.f(n,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(25);const i={navio:"navio",capePreview:"capePreview",default:"default"},r=new Proxy(i,{set(e,t,n){throw new Error("Cannot set runtime environments on constant RUNTIME_ENVIRONMENTS - trying to set property '".concat(t,"' to '").concat(n,"'"))},get(e,t,n){if(t in e)return Reflect.get(e,t,n);if("toJSON"===t)return i;throw new Error("Invalid runtime environment specified [ ".concat(t," ]"))}})},function(e,t){var n=String;e.exports=function(e){try{return n(e)}catch(e){return"Object"}}},function(e,t,n){var i=n(23);e.exports=i.Promise},function(e,t,n){var i=n(128),r=n(74);e.exports=function(e){return i(r(e))}},function(e,t){e.exports={}},function(e,t,n){var i=n(23),r=n(92),a=n(24),s=n(140),o=n(111),c=n(28),l=n(289),u=n(46),d=n(107),h=r&&r.prototype,f=c("species"),p=!1,m=a(i.PromiseRejectionEvent),g=s("Promise",(function(){var e=o(r),t=e!==String(r);if(!t&&66===d)return!0;if(u&&(!h.catch||!h.finally))return!0;if(d>=51&&/native code/.test(e))return!1;var n=new r((function(e){e(1)})),i=function(e){e((function(){}),(function(){}))};return(n.constructor={})[f]=i,!(p=n.then((function(){}))instanceof i)||!t&&l&&!m}));e.exports={CONSTRUCTOR:g,REJECTION_EVENT:m,SUBCLASSING:p}},function(e,t,n){"use strict";n(32),n(33);const i=e=>((RCF||{}).Version||{}).isDevelopment&&console&&console[e],r={};["error","warn","log","info","debug","trace","table"].forEach(e=>{r[e]=function(){i(e)&&console[e](...arguments)}}),t.a=r},,function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));const i={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class r{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||i,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,i){return i&&!this.debug?null:("string"==typeof e[0]&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new r(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new r(this.logger,e)}}var a=new r;class s{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]=this.observers[e]||[],this.observers[e].push(t)}),this}off(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter(e=>e!==t):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(this.observers[e]){[].concat(this.observers[e]).forEach(e=>{e(...n)})}if(this.observers["*"]){[].concat(this.observers["*"]).forEach(t=>{t.apply(t,[e,...n])})}}}function o(){let e,t;const n=new Promise((n,i)=>{e=n,t=i});return n.resolve=e,n.reject=t,n}function c(e){return null==e?"":""+e}function l(e,t,n){function i(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function r(){return!e||"string"==typeof e}const a="string"!=typeof t?[].concat(t):t.split(".");for(;a.length>1;){if(r())return{};const t=i(a.shift());!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{}}return r()?{}:{obj:e,k:i(a.shift())}}function u(e,t,n){const{obj:i,k:r}=l(e,t,Object);i[r]=n}function d(e,t){const{obj:n,k:i}=l(e,t);if(n)return n[i]}function h(e,t,n){const i=d(e,n);return void 0!==i?i:d(t,n)}function f(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function m(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,e=>p[e]):e}const g=[" ",",","?","!",";"];function b(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];const i=t.split(n);let r=e;for(let e=0;e<i.length;++e){if(!r)return;if("string"==typeof r[i[e]]&&e+1<i.length)return;if(void 0===r[i[e]]){let a=2,s=i.slice(e,e+a).join(n),o=r[s];for(;void 0===o&&i.length>e+a;)a++,s=i.slice(e,e+a).join(n),o=r[s];if(void 0===o)return;if(null===o)return null;if(t.endsWith(s)){if("string"==typeof o)return o;if(s&&"string"==typeof o[s])return o[s]}const c=i.slice(e+a).join(n);return c?b(o,c,n):void 0}r=r[i[e]]}return r}function y(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}class v extends s{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,a=void 0!==i.ignoreJSONStructure?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let s=[e,t];n&&"string"!=typeof n&&(s=s.concat(n)),n&&"string"==typeof n&&(s=s.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(s=e.split("."));const o=d(this.data,s);return o||!a||"string"!=typeof n?o:b(this.data&&this.data[e]&&this.data[e][t],n,r)}addResource(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const a=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator;let s=[e,t];n&&(s=s.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(s=e.split("."),i=t,t=s[1]),this.addNamespaces(t),u(this.data,s,i),r.silent||this.emit("added",e,t,n,i)}addResources(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const i in n)"string"!=typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(e,t,i,n[i],{silent:!0});i.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,i,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[e,t];e.indexOf(".")>-1&&(s=e.split("."),i=n,n=t,t=s[1]),this.addNamespaces(t);let o=d(this.data,s)||{};i?function e(t,n,i){for(const r in n)"__proto__"!==r&&"constructor"!==r&&(r in t?"string"==typeof t[r]||t[r]instanceof String||"string"==typeof n[r]||n[r]instanceof String?i&&(t[r]=n[r]):e(t[r],n[r],i):t[r]=n[r]);return t}(o,n,r):o={...o,...n},u(this.data,s,o),a.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var w={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,i,r){return e.forEach(e=>{this.processors[e]&&(t=this.processors[e].process(t,n,i,r))}),t}};const k={};class x extends s{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),function(e,t,n){e.forEach(e=>{t[e]&&(n[e]=t[e])})}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=a.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;const n=this.resolve(e,t);return n&&void 0!==n.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let r=t.ns||this.options.defaultNS||[];const a=n&&e.indexOf(n)>-1,s=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";const i=g.filter(e=>t.indexOf(e)<0&&n.indexOf(e)<0);if(0===i.length)return!0;const r=new RegExp(`(${i.map(e=>"?"===e?"\\?":e).join("|")})`);let a=!r.test(e);if(!a){const t=e.indexOf(n);t>0&&!r.test(e.substring(0,t))&&(a=!0)}return a}(e,n,i));if(a&&!s){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:r};const a=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(a[0])>-1)&&(r=a.shift()),e=a.join(i)}return"string"==typeof r&&(r=[r]),{key:e,namespaces:r}}translate(e,t,n){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const i=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:a,namespaces:s}=this.extractFromKey(e[e.length-1],t),o=s[s.length-1],c=t.lng||this.language,l=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&"cimode"===c.toLowerCase()){if(l){const e=t.nsSeparator||this.options.nsSeparator;return i?{res:`${o}${e}${a}`,usedKey:a,exactUsedKey:a,usedLng:c,usedNS:o}:`${o}${e}${a}`}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:c,usedNS:o}:a}const u=this.resolve(e,t);let d=u&&u.res;const h=u&&u.usedKey||a,f=u&&u.exactUsedKey||a,p=Object.prototype.toString.apply(d),m=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject;if(g&&d&&("string"!=typeof d&&"boolean"!=typeof d&&"number"!=typeof d)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(p)<0&&("string"!=typeof m||"[object Array]"!==p)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,d,{...t,ns:s}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(u.res=e,u):e}if(r){const e="[object Array]"===p,n=e?[]:{},i=e?f:h;for(const e in d)if(Object.prototype.hasOwnProperty.call(d,e)){const a=`${i}${r}${e}`;n[e]=this.translate(a,{...t,joinArrays:!1,ns:s}),n[e]===a&&(n[e]=d[e])}d=n}}else if(g&&"string"==typeof m&&"[object Array]"===p)d=d.join(m),d&&(d=this.extendTranslation(d,e,t,n));else{let i=!1,s=!1;const l=void 0!==t.count&&"string"!=typeof t.count,h=x.hasDefaultValue(t),f=l?this.pluralResolver.getSuffix(c,t.count,t):"",p=t.ordinal&&l?this.pluralResolver.getSuffix(c,t.count,{ordinal:!1}):"",m=t["defaultValue"+f]||t["defaultValue"+p]||t.defaultValue;!this.isValidLookup(d)&&h&&(i=!0,d=m),this.isValidLookup(d)||(s=!0,d=a);const g=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&s?void 0:d,b=h&&m!==d&&this.options.updateMissing;if(s||i||b){if(this.logger.log(b?"updateKey":"missingKey",c,o,a,b?m:d),r){const e=this.resolve(a,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const i=(e,n,i)=>{const r=h&&i!==d?i:g;this.options.missingKeyHandler?this.options.missingKeyHandler(e,o,n,r,b,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,o,n,r,b,t),this.emit("missingKey",e,o,n,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&l?e.forEach(e=>{this.pluralResolver.getSuffixes(e,t).forEach(n=>{i([e],a+n,t["defaultValue"+n]||m)})}):i(e,a,m))}d=this.extendTranslation(d,e,t,u,n),s&&d===a&&this.options.appendNamespaceToMissingKey&&(d=`${o}:${a}`),(s||i)&&this.options.parseMissingKeyHandler&&(d="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${o}:${a}`:a,i?d:void 0):this.options.parseMissingKeyHandler(d))}return i?(u.res=d,u):d}extendTranslation(e,t,n,i,r){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const s="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let o;if(s){const t=e.match(this.interpolator.nestingRegexp);o=t&&t.length}let c=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),e=this.interpolator.interpolate(e,c,n.lng||this.language,n),s){const t=e.match(this.interpolator.nestingRegexp);o<(t&&t.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&i&&i.res&&(n.lng=i.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return r&&r[0]===i[0]&&!n.context?(a.logger.warn(`It seems you are nesting recursively key: ${i[0]} in key: ${t[0]}`),null):a.translate(...i,t)}),n)),n.interpolation&&this.interpolator.reset()}const s=n.postProcess||this.options.postProcess,o="string"==typeof s?[s]:s;return null!=e&&o&&o.length&&!1!==n.applyPostProcessor&&(e=w.handle(o,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:i,...n}:n,this)),e}resolve(e){let t,n,i,r,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(t))return;const o=this.extractFromKey(e,s),c=o.key;n=c;let l=o.namespaces;this.options.fallbackNS&&(l=l.concat(this.options.fallbackNS));const u=void 0!==s.count&&"string"!=typeof s.count,d=u&&!s.ordinal&&0===s.count&&this.pluralResolver.shouldUseIntlApi(),h=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,f=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);l.forEach(e=>{this.isValidLookup(t)||(a=e,!k[`${f[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(k[`${f[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${f.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach(n=>{if(this.isValidLookup(t))return;r=n;const a=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(a,c,n,e,s);else{let e;u&&(e=this.pluralResolver.getSuffix(n,s.count,s));const t=this.options.pluralSeparator+"zero",i=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(a.push(c+e),s.ordinal&&0===e.indexOf(i)&&a.push(c+e.replace(i,this.options.pluralSeparator)),d&&a.push(c+t)),h){const n=`${c}${this.options.contextSeparator}${s.context}`;a.push(n),u&&(a.push(n+e),s.ordinal&&0===e.indexOf(i)&&a.push(n+e.replace(i,this.options.pluralSeparator)),d&&a.push(n+t))}}let o;for(;o=a.pop();)this.isValidLookup(t)||(i=o,t=this.getResource(n,e,o,s))}))})}),{res:t,usedKey:n,exactUsedKey:i,usedLng:r,usedNS:a}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}static hasDefaultValue(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&"defaultValue"===t.substring(0,"defaultValue".length)&&void 0!==e[t])return!0;return!1}}function S(e){return e.charAt(0).toUpperCase()+e.slice(1)}class O{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=a.create("languageUtils")}getScriptPartFromCode(e){if(!(e=y(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=y(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if("string"==typeof e&&e.indexOf("-")>-1){const t=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map(e=>e.toLowerCase()):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=S(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=S(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=S(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;const n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find(e=>e===n?e:e.indexOf("-")<0&&n.indexOf("-")<0?void 0:0===e.indexOf(n)?e:void 0)}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],r=e=>{e&&(this.isSupportedCode(e)?i.push(e):this.logger.warn("rejecting language code not found in supportedLngs: "+e))};return"string"==typeof e&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(e))):"string"==typeof e&&r(this.formatLanguageCode(e)),n.forEach(e=>{i.indexOf(e)<0&&r(this.formatLanguageCode(e))}),i}}let C=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],T={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}};const P=["v1","v2","v3"],A=["v4"],I={zero:0,one:1,two:2,few:3,many:4,other:5};class j{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=a.create("pluralResolver"),this.options.compatibilityJSON&&!A.includes(this.options.compatibilityJSON)||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=function(){const e={};return C.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:T[t.fc]}})}),e}()}addRule(e,t){this.rules[e]=t}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(y(e),{type:t.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map(e=>`${t}${e}`)}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((e,t)=>I[e]-I[t]).map(e=>`${this.options.prepend}${t.ordinal?"ordinal"+this.options.prepend:""}${e}`):n.numbers.map(n=>this.getSuffix(e,n,t)):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?"ordinal"+this.options.prepend:""}${i.select(t)}`:this.getSuffixRetroCompatible(i,t):(this.logger.warn("no plural rule found for: "+e),"")}getSuffixRetroCompatible(e,t){const n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let i=e.numbers[n];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));const r=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?"_plural_"+i.toString():r():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?r():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!P.includes(this.options.compatibilityJSON)}}function E(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=h(e,t,n);return!a&&r&&"string"==typeof n&&(a=b(e,n,i),void 0===a&&(a=b(t,n,i))),a}class L{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=a.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const t=e.interpolation;this.escape=void 0!==t.escape?t.escape:m,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?f(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?f(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?f(t.nestingPrefix):t.nestingPrefixEscaped||f("$t("),this.nestingSuffix=t.nestingSuffix?f(t.nestingSuffix):t.nestingSuffixEscaped||f(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=`${this.prefix}(.+?)${this.suffix}`;this.regexp=new RegExp(e,"g");const t=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=new RegExp(t,"g");const n=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=new RegExp(n,"g")}interpolate(e,t,n,i){let r,a,s;const o=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(e){return e.replace(/\$/g,"$$$$")}const u=e=>{if(e.indexOf(this.formatSeparator)<0){const r=E(t,o,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(r,void 0,n,{...i,...t,interpolationkey:e}):r}const r=e.split(this.formatSeparator),a=r.shift().trim(),s=r.join(this.formatSeparator).trim();return this.format(E(t,o,a,this.options.keySeparator,this.options.ignoreJSONStructure),s,n,{...i,...t,interpolationkey:a})};this.resetRegExp();const d=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,h=i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>l(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?l(this.escape(e)):l(e)}].forEach(t=>{for(s=0;r=t.regex.exec(e);){const n=r[1].trim();if(a=u(n),void 0===a)if("function"==typeof d){const t=d(e,r,i);a="string"==typeof t?t:""}else if(i&&Object.prototype.hasOwnProperty.call(i,n))a="";else{if(h){a=r[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),a=""}else"string"==typeof a||this.useRawValueToEscape||(a=c(a));const o=t.safeValue(a);if(e=e.replace(r[0],o),h?(t.regex.lastIndex+=a.length,t.regex.lastIndex-=r[0].length):t.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),e}nest(e,t){let n,i,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function s(e,t){const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const i=e.split(new RegExp(n+"[ ]*{"));let a="{"+i[1];e=i[0],a=this.interpolate(a,r);const s=a.match(/'/g),o=a.match(/"/g);(s&&s.length%2==0&&!o||o.length%2!=0)&&(a=a.replace(/'/g,'"'));try{r=JSON.parse(a),t&&(r={...t,...r})}catch(t){return this.logger.warn("failed parsing options string in nesting for key "+e,t),`${e}${n}${a}`}return delete r.defaultValue,e}for(;n=this.nestingRegexp.exec(e);){let o=[];r={...a},r=r.replace&&"string"!=typeof r.replace?r.replace:r,r.applyPostProcessor=!1,delete r.defaultValue;let l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){const e=n[1].split(this.formatSeparator).map(e=>e.trim());n[1]=e.shift(),o=e,l=!0}if(i=t(s.call(this,n[1].trim(),r),r),i&&n[0]===e&&"string"!=typeof i)return i;"string"!=typeof i&&(i=c(i)),i||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),i=""),l&&(i=o.reduce((e,t)=>this.format(e,t,a.lng,{...a,interpolationkey:n[1].trim()}),i.trim())),e=e.replace(n[0],i),this.regexp.lastIndex=0}return e}}function R(e){const t={};return function(n,i,r){const a=i+JSON.stringify(r);let s=t[a];return s||(s=e(y(i),r),t[a]=s),s(n)}}class M{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=a.create("formatter"),this.options=e,this.formats={number:R((e,t)=>{const n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)}),currency:R((e,t)=>{const n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)}),datetime:R((e,t)=>{const n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)}),relativetime:R((e,t)=>{const n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")}),list:R((e,t)=>{const n=new Intl.ListFormat(e,{...t});return e=>n.format(e)})},this.init(e)}init(e){const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=R(t)}format(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t.split(this.formatSeparator).reduce((e,t)=>{const{formatName:r,formatOptions:a}=function(e){let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const i=e.split("(");t=i[0].toLowerCase().trim();const r=i[1].substring(0,i[1].length-1);if("currency"===t&&r.indexOf(":")<0)n.currency||(n.currency=r.trim());else if("relativetime"===t&&r.indexOf(":")<0)n.range||(n.range=r.trim());else{r.split(";").forEach(e=>{if(!e)return;const[t,...i]=e.split(":"),r=i.join(":").trim().replace(/^'+|'+$/g,"");n[t.trim()]||(n[t.trim()]=r),"false"===r&&(n[t.trim()]=!1),"true"===r&&(n[t.trim()]=!0),isNaN(r)||(n[t.trim()]=parseInt(r,10))})}}return{formatName:t,formatOptions:n}}(t);if(this.formats[r]){let t=e;try{const s=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},o=s.locale||s.lng||i.locale||i.lng||n;t=this.formats[r](e,o,{...a,...i,...s})}catch(e){this.logger.warn(e)}return t}return this.logger.warn("there was no format function for "+r),e},e)}}class N extends s{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=a.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(e,t,n,i){const r={},a={},s={},o={};return e.forEach(e=>{let i=!0;t.forEach(t=>{const s=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[s]=2:this.state[s]<0||(1===this.state[s]?void 0===a[s]&&(a[s]=!0):(this.state[s]=1,i=!1,void 0===a[s]&&(a[s]=!0),void 0===r[s]&&(r[s]=!0),void 0===o[t]&&(o[t]=!0)))}),i||(s[e]=!0)}),(Object.keys(r).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(r),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(o)}}loaded(e,t,n){const i=e.split("|"),r=i[0],a=i[1];t&&this.emit("failedLoading",r,a,t),n&&this.store.addResourceBundle(r,a,n),this.state[e]=t?-1:2;const s={};this.queue.forEach(n=>{!function(e,t,n,i){const{obj:r,k:a}=l(e,t,Object);r[a]=r[a]||[],i&&(r[a]=r[a].concat(n)),i||r[a].push(n)}(n.loaded,[r],a),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach(e=>{s[e]||(s[e]={});const t=n.loaded[e];t.length&&t.forEach(t=>{void 0===s[e][t]&&(s[e][t]=!0)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(e=>!e.done)}read(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:r,callback:a});this.readingCalls++;const s=(s,o)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}s&&o&&i<this.maxRetries?setTimeout(()=>{this.read.call(this,e,t,n,i+1,2*r,a)},r):a(s,o)},o=this.backend[n].bind(this.backend);if(2!==o.length)return o(e,t,s);try{const n=o(e,t);n&&"function"==typeof n.then?n.then(e=>s(null,e)).catch(s):s(null,n)}catch(e){s(e)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);const r=this.queueLoad(e,t,n,i);if(!r.toLoad.length)return r.pending.length||i(),null;r.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),i=n[0],r=n[1];this.read(i,r,"read",void 0,void 0,(n,a)=>{n&&this.logger.warn(`${t}loading namespace ${r} for language ${i} failed`,n),!n&&a&&this.logger.log(`${t}loaded namespace ${r} for language ${i}`,a),this.loaded(e,n,a)})}saveMissing(e,t,n,i,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){const o={...a,isUpdate:r},c=this.backend.create.bind(this.backend);if(c.length<6)try{let r;r=5===c.length?c(e,t,n,i,o):c(e,t,n,i),r&&"function"==typeof r.then?r.then(e=>s(null,e)).catch(s):s(null,r)}catch(e){s(e)}else c(e,t,n,i,s,o)}e&&e[0]&&this.store.addResource(e[0],t,n,i)}}}function D(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let t={};if("object"==typeof e[1]&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach(e=>{t[e]=n[e]})}return t},interpolation:{escapeValue:!0,format:(e,t,n,i)=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function F(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function B(){}class U extends s{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=F(e),this.services={},this.logger=a,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(e=>{"function"==typeof n[e]&&(n[e]=n[e].bind(n))}),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const i=D();function r(e){return e?"function"==typeof e?new e:e:null}if(this.options={...i,...this.options,...F(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){let t;this.modules.logger?a.init(r(this.modules.logger),this.options):a.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=M);const n=new O(this.options);this.store=new v(this.options.resources,this.options);const s=this.services;s.logger=a,s.resourceStore=this.store,s.languageUtils=n,s.pluralResolver=new j(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format||(s.formatter=r(t),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new L(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new N(r(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit(t,...i)})),this.modules.languageDetector&&(s.languageDetector=r(this.modules.languageDetector),s.languageDetector.init&&s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=r(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new x(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit(t,...i)})),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,n||(n=B),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(t=>{this[t]=function(){return e.store[t](...arguments)}});["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(t=>{this[t]=function(){return e.store[t](...arguments),e}});const s=o(),c=()=>{const e=(e,t)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),s.resolve(t),n(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),s}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B;const n="string"==typeof e?e:this.language;if("function"==typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase())return t();const e=[],i=t=>{if(!t)return;this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{e.indexOf(t)<0&&e.push(t)})};if(n)i(n);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>i(e))}this.options.preload&&this.options.preload.forEach(e=>i(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)})}else t(null)}reloadResources(e,t,n){const i=o();return e||(e=this.languages),t||(t=this.options.ns),n||(n=B),this.services.backendConnector.reload(e,t,e=>{i.resolve(),n(e)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&w.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const i=o();this.emit("languageChanging",e);const r=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},a=(e,a)=>{a?(r(a),this.translator.changeLanguage(a),this.isLanguageChangingTo=void 0,this.emit("languageChanged",a),this.logger.log("languageChanged",a)):this.isLanguageChangingTo=void 0,i.resolve((function(){return n.t(...arguments)})),t&&t(e,(function(){return n.t(...arguments)}))},s=t=>{e||t||!this.services.languageDetector||(t=[]);const n="string"==typeof t?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||r(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(n)),this.loadResources(n,e=>{a(e,n)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e):s(this.services.languageDetector.detect()),i}getFixedT(e,t,n){var i=this;const r=function(e,t){let a;if("object"!=typeof t){for(var s=arguments.length,o=new Array(s>2?s-2:0),c=2;c<s;c++)o[c-2]=arguments[c];a=i.options.overloadTranslationOptionHandler([e,t].concat(o))}else a={...t};a.lng=a.lng||r.lng,a.lngs=a.lngs||r.lngs,a.ns=a.ns||r.ns,a.keyPrefix=a.keyPrefix||n||r.keyPrefix;const l=i.options.keySeparator||".";let u;return u=a.keyPrefix&&Array.isArray(e)?e.map(e=>`${a.keyPrefix}${l}${e}`):a.keyPrefix?`${a.keyPrefix}${l}${e}`:e,i.t(u,a)};return"string"==typeof e?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=n,r}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,r=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const a=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||2===n};if(t.precheck){const e=t.precheck(this,a);if(void 0!==e)return e}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!a(n,e)||i&&!a(r,e)))}loadNamespaces(e,t){const n=o();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach(e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=o();"string"==typeof e&&(e=[e]);const i=this.options.preload||[],r=e.filter(e=>i.indexOf(e)<0);return r.length?(this.options.preload=i.concat(r),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services&&this.services.languageUtils||new O(D());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new U(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},r=new U(i);void 0===e.debug&&void 0===e.prefix||(r.logger=r.logger.clone(e));return["store","services","language"].forEach(e=>{r[e]=this[e]}),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},n&&(r.store=new v(this.store.data,i),r.services.resourceStore=r.store),r.translator=new x(r.services,i),r.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r.emit(e,...n)})),r.init(i,t),r.translator.options=i,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const _=U.createInstance();_.createInstance=U.createInstance;_.createInstance,_.dir,_.init,_.loadResources,_.reloadResources,_.use,_.changeLanguage,_.getFixedT,_.t,_.exists,_.setDefaultNamespace,_.hasLoadedNamespace,_.loadNamespaces,_.loadLanguages},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s}));var i=n(4);function r(e,t){if(!Object(i.y)(e))return e.data(t)}function a(e,t,n){Object(i.y)(e)||e.data(t,n)}function s(e,t){Object(i.y)(e)||e.removeData(t)}},function(e,t,n){"use strict";var i=n(78),r=n(34),a=n(20),s=n(280),o=n(21),c=n(26),l=n(24),u=n(85),d=n(125),h=n(61),f=n(74),p=n(201),m=n(77),g=n(281),b=n(202),y=n(28)("replace"),v=Math.max,w=Math.min,k=a([].concat),x=a([].push),S=a("".indexOf),O=a("".slice),C="$0"==="a".replace(/./,"$0"),T=!!/./[y]&&""===/./[y]("a","$0");s("replace",(function(e,t,n){var a=T?"$":"$0";return[function(e,n){var i=f(this),a=null==e?void 0:m(e,y);return a?r(a,e,i,n):r(t,h(i),e,n)},function(e,r){var s=c(this),o=h(e);if("string"==typeof r&&-1===S(r,a)&&-1===S(r,"$<")){var f=n(t,s,o,r);if(f.done)return f.value}var m=l(r);m||(r=h(r));var y=s.global;if(y){var C=s.unicode;s.lastIndex=0}for(var T=[];;){var P=b(s,o);if(null===P)break;if(x(T,P),!y)break;""===h(P[0])&&(s.lastIndex=p(o,d(s.lastIndex),C))}for(var A,I="",j=0,E=0;E<T.length;E++){for(var L=h((P=T[E])[0]),R=v(w(u(P.index),o.length),0),M=[],N=1;N<P.length;N++)x(M,void 0===(A=P[N])?A:String(A));var D=P.groups;if(m){var F=k([L],M,R,o);void 0!==D&&x(F,D);var B=h(i(r,void 0,F))}else B=g(L,o,R,M,D,r);R>=j&&(I+=O(o,j,R)+B,j=R+L.length)}return I+O(o,j)}]}),!!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!C||T)},function(e,t,n){"use strict";var i=n(19),r=n(187).includes,a=n(21),s=n(144);i({target:"Array",proto:!0,forced:a((function(){return!Array(1).includes()}))},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},function(e,t,n){"use strict";var i=n(19),r=n(273).trim;i({target:"String",proto:!0,forced:n(274)("trim")},{trim:function(){return r(this)}})},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));const i=12e4,r=Object.freeze({inline:"inline",full:"full"}),a=Object.freeze({startRecording:"rcf.audio.recorder.startRecording",startPlayback:"rcf.audio.recorder.startPlayback",stopRecording:"rcf.audio.recorder.stopRecording",stopAllRecording:"rcf.audio.recorder.stopAllRecording",stopPlayback:"rcf.audio.recorder.stopPlayback",stopAllPlayback:"rcf.audio.recorder.stopPlayback",changePlaybackUrl:"rcf.audio.recorder.changePlaybackUrl"})},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));const i={isStartScreen:"IS_START_SCREEN",isPlaying:"IS_PLAYING",isResuming:"IS_RESUMING",isGameOverScreen:"IS_GAME_OVER_SCREEN",isGameWonScreen:"IS_GAME_WON_SCREEN",isPaused:"IS_PAUSED",isQuestionCompleteScreen:"IS_QUESTION_COMPLETE_SCREEN"},r="rcf.game.change.screen"},function(e,t,n){var i=n(20),r=n(26),a=n(276);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return r(n),a(i),t?e(n,i):n.__proto__=i,n}}():void 0)},function(e,t,n){var i=n(19),r=n(50),a=n(78),s=n(34),o=n(20),c=n(21),l=n(113),u=n(24),d=n(43),h=n(131),f=n(203),p=n(133),m=r("JSON","stringify"),g=o(/./.exec),b=o("".charAt),y=o("".charCodeAt),v=o("".replace),w=o(1..toString),k=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,O=!p||c((function(){var e=r("Symbol")();return"[null]"!=m([e])||"{}"!=m({a:e})||"{}"!=m(Object(e))})),C=c((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),T=function(e,t){var n=f(arguments),i=t;if((d(t)||void 0!==e)&&!h(e))return l(t)||(t=function(e,t){if(u(i)&&(t=s(i,this,e,t)),!h(t))return t}),n[1]=t,a(m,null,n)},P=function(e,t,n){var i=b(n,t-1),r=b(n,t+1);return g(x,e)&&!g(S,r)||g(S,e)&&!g(x,i)?"\\u"+w(y(e,0),16):e};m&&i({target:"JSON",stat:!0,arity:3,forced:O||C},{stringify:function(e,t,n){var i=f(arguments),r=a(O?T:m,null,i);return C&&"string"==typeof r?v(r,k,P):r}})},function(e,t,n){var i,r,a=n(23),s=n(69),o=a.process,c=a.Deno,l=o&&o.versions||c&&c.version,u=l&&l.v8;u&&(r=(i=u.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&s&&(!(i=s.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/))&&(r=+i[1]),e.exports=r},function(e,t,n){var i=n(67),r=n(23);e.exports="process"==i(r.process)},function(e,t,n){var i=n(21);e.exports=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},function(e,t,n){var i=n(23),r=n(43),a=i.document,s=r(a)&&r(a.createElement);e.exports=function(e){return s?a.createElement(e):{}}},function(e,t,n){var i=n(20),r=n(24),a=n(135),s=i(Function.toString);r(a.inspectSource)||(a.inspectSource=function(e){return s(e)}),e.exports=a.inspectSource},function(e,t,n){"use strict";var i,r,a,s=n(21),o=n(24),c=n(89),l=n(159),u=n(54),d=n(28),h=n(46),f=d("iterator"),p=!1;[].keys&&("next"in(a=[].keys())?(r=l(l(a)))!==Object.prototype&&(i=r):p=!0),null==i||s((function(){var e={};return i[f].call(e)!==e}))?i={}:h&&(i=c(i)),o(i[f])||u(i,f,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:p}},function(e,t,n){var i=n(67);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){"use strict";n(6),n(11);t.a=e=>{e.find(".inlinePlayer.playing").removeClass("playing")}},,,,function(e,t,n){"use strict";n(6),n(13),n(11);var i=n(5),r=n.n(i),a=n(4),s=(n(106),n(76)),o=n.n(s);var c=e=>{if(e.length<1)return;const t=Object(a.a)(e.length);let n=Object(a.J)(t);if(t.length>2)for(;JSON.stringify(n)===JSON.stringify(t);)n=Object(a.J)(t);e.attr("data-sortindex",e=>n[e]),o()(e,{attr:"data-sortindex",order:"asc"})},l=n(227);var u=(e,t)=>{let n=e.find(t);Object(l.a)(n),o()(n,{attr:"data-rank",order:"asc"}),n=e.find(t),n.attr("data-sortindex",e=>e)},d=n(29),h=n(45);var f=e=>{const t=Object(d.a)(),n=e.attr("id")+(e.attr("data-seed")||"")||"",i=e.attr("data-randomizeItems")||"",r=t?t.randomizeAnswersOnScreen:h.a.NONE;switch(i||r){case h.a.NONE:case h.a.FIXED:return n;case h.a.ALWAYS:return"".concat((new Date).getMilliseconds());default:return""}};t.a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const i=Object(a.i)(e),s=f(i)+n;e.each((e,n)=>{const i=r()(n),a=i.attr("data-rcfid")||"",o=i.find(t),l=o.filter("[data-rank]"),d="".concat(s,"-").concat(e,"-").concat(a);Math.seedrandom(d),o.attr("data-origindex",e=>e),l.length<1?c(o):u(i,t)})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(17);function r(e){return i.a(e,"data-gradableType")}},function(e,t,n){"use strict";t.a=(e,t)=>{e.css("margin-bottom",t)}},function(e,t,n){"use strict";var i=n(121);t.a=e=>{Object(i.a)(e,"")}},function(e,t,n){(function(t,n,i){"object"==typeof navigator&&(e.exports=function(){"use strict";function e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={addCSS:!0,thumbWidth:15,watch:!0},l=function(e){return null!=e?e.constructor:null},u=function(e,t){return!!(e&&t&&e instanceof t)},d=function(e){return l(e)===String},h=function(e){return Array.isArray(e)},f=function(e){return u(e,NodeList)},p=d,m=h,g=f,b=function(e){return u(e,Element)},y=function(e){return u(e,Event)},v=function(e){return function(e){return null==e}(e)||(d(e)||h(e)||f(e))&&!e.length||function(e){return l(e)===Object}(e)&&!Object.keys(e).length},w=function(){function e(t,n){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),b(t)?this.element=t:p(t)&&(this.element=document.querySelector(t)),b(this.element)&&v(this.element.rangeTouch)&&(this.config=o({},c,{},n),this.init())}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,n=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((function(e){t.element[n](e,(function(e){return t.set(e)}),!1)}))}},{key:"get",value:function(t){if(!e.enabled||!y(t))return null;var n,i=t.target,r=t.changedTouches[0],a=parseFloat(i.getAttribute("min"))||0,s=parseFloat(i.getAttribute("max"))||100,o=parseFloat(i.getAttribute("step"))||1,c=i.getBoundingClientRect(),l=100/c.width*(this.config.thumbWidth/2)/100;return 0>(n=100/c.width*(r.clientX-c.left))?n=0:100<n&&(n=100),50>n?n-=(100-2*n)*l:50<n&&(n+=2*(n-50)*l),a+function(e,t){if(1>t){var n=function(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}(t);return parseFloat(e.toFixed(n))}return Math.round(e/t)*t}(n/100*(s-a),o)}},{key:"set",value:function(t){e.enabled&&y(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),function(e,t){if(e&&t){var n=new Event(t,{bubbles:!0});e.dispatchEvent(n)}}(t.target,"touchend"===t.type?"change":"input"))}}],[{key:"setup",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=null;if(v(t)||p(t)?i=Array.from(document.querySelectorAll(p(t)?t:'input[type="range"]')):b(t)?i=[t]:g(t)?i=Array.from(t):m(t)&&(i=t.filter(b)),v(i))return null;var r=o({},c,{},n);if(p(t)&&r.watch){var a=new MutationObserver((function(n){Array.from(n).forEach((function(n){Array.from(n.addedNodes).forEach((function(n){b(n)&&function(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)}(n,t)&&new e(n,r)}))}))}));a.observe(document.body,{childList:!0,subtree:!0})}return i.map((function(t){return new e(t,n)}))}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e}();const k=e=>null!=e?e.constructor:null,x=(e,t)=>Boolean(e&&t&&e instanceof t),S=e=>null==e,O=e=>k(e)===Object,C=e=>k(e)===String,T=e=>"function"==typeof e,P=e=>Array.isArray(e),A=e=>x(e,NodeList),I=e=>S(e)||(C(e)||P(e)||A(e))&&!e.length||O(e)&&!Object.keys(e).length;var j=S,E=O,L=e=>k(e)===Number&&!Number.isNaN(e),R=C,M=e=>k(e)===Boolean,N=T,D=P,F=A,B=e=>null!==e&&"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument,U=e=>x(e,Event),_=e=>x(e,KeyboardEvent),G=e=>x(e,TextTrack)||!S(e)&&C(e.kind),$=e=>{if(x(e,window.URL))return!0;if(!C(e))return!1;let t=e;e.startsWith("http://")&&e.startsWith("https://")||(t="http://"+e);try{return!I(new URL(t).hostname)}catch(e){return!1}},z=I;const V=(()=>{const e=document.createElement("span"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n=Object.keys(t).find(t=>void 0!==e.style[t]);return!!R(n)&&t[n]})();function q(e,t){setTimeout(()=>{try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch(e){}},t)}var H={isIE:Boolean(window.document.documentMode),isEdge:/Edge/g.test(navigator.userAgent),isWebKit:"WebkitAppearance"in document.documentElement.style&&!/Edge/g.test(navigator.userAgent),isIPhone:/iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1,isIPadOS:"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,isIos:/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1};function W(e,t){return t.split(".").reduce((e,t)=>e&&e[t],e)}function K(e={},...t){if(!t.length)return e;const n=t.shift();return E(n)?(Object.keys(n).forEach(t=>{E(n[t])?(Object.keys(e).includes(t)||Object.assign(e,{[t]:{}}),K(e[t],n[t])):Object.assign(e,{[t]:n[t]})}),K(e,...t)):e}function J(e,t){const n=e.length?e:[e];Array.from(n).reverse().forEach((e,n)=>{const i=n>0?t.cloneNode(!0):t,r=e.parentNode,a=e.nextSibling;i.appendChild(e),a?r.insertBefore(i,a):r.appendChild(i)})}function Y(e,t){B(e)&&!z(t)&&Object.entries(t).filter(([,e])=>!j(e)).forEach(([t,n])=>e.setAttribute(t,n))}function Q(e,t,n){const i=document.createElement(e);return E(t)&&Y(i,t),R(n)&&(i.innerText=n),i}function X(e,t,n,i){B(t)&&t.appendChild(Q(e,n,i))}function Z(e){F(e)||D(e)?Array.from(e).forEach(Z):B(e)&&B(e.parentNode)&&e.parentNode.removeChild(e)}function ee(e){if(!B(e))return;let{length:t}=e.childNodes;for(;t>0;)e.removeChild(e.lastChild),t-=1}function te(e,t){return B(t)&&B(t.parentNode)&&B(e)?(t.parentNode.replaceChild(e,t),e):null}function ne(e,t){if(!R(e)||z(e))return{};const n={},i=K({},t);return e.split(",").forEach(e=>{const t=e.trim(),r=t.replace(".",""),a=t.replace(/[[\]]/g,"").split("="),[s]=a,o=a.length>1?a[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":R(i.class)?n.class=`${i.class} ${r}`:n.class=r;break;case"#":n.id=t.replace("#","");break;case"[":n[s]=o}}),K(i,n)}function ie(e,t){if(!B(e))return;let n=t;M(n)||(n=!e.hidden),e.hidden=n}function re(e,t,n){if(F(e))return Array.from(e).map(e=>re(e,t,n));if(B(e)){let i="toggle";return void 0!==n&&(i=n?"add":"remove"),e.classList[i](t),e.classList.contains(t)}return!1}function ae(e,t){return B(e)&&e.classList.contains(t)}function se(e,t){const{prototype:n}=Element;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function oe(e){return this.elements.container.querySelectorAll(e)}function ce(e){return this.elements.container.querySelector(e)}function le(e=null,t=!1){B(e)&&e.focus({preventScroll:!0,focusVisible:t})}const ue={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},de={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(e,t){const n=de[e]||"html5"!==t;return{api:n,ui:n&&de.rangeInput}},pip:!(H.isIPhone||!N(Q("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||Q("video").disablePictureInPicture)),airplay:N(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(e){if(z(e))return!1;const[t]=e.split("/");let n=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(ue).includes(n)&&(n+=`; codecs="${ue[e]}"`);try{return Boolean(n&&this.media.canPlayType(n).replace(/no/,""))}catch(e){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const e=document.createElement("input");return e.type="range","range"===e.type})(),touch:"ontouchstart"in document.documentElement,transitions:!1!==V,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},he=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>(e=!0,null)});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e})();function fe(e,t,n,i=!1,r=!0,a=!1){if(!e||!("addEventListener"in e)||z(t)||!N(n))return;const s=t.split(" ");let o=a;he&&(o={passive:r,capture:a}),s.forEach(t=>{this&&this.eventListeners&&i&&this.eventListeners.push({element:e,type:t,callback:n,options:o}),e[i?"addEventListener":"removeEventListener"](t,n,o)})}function pe(e,t="",n,i=!0,r=!1){fe.call(this,e,t,n,!0,i,r)}function me(e,t="",n,i=!0,r=!1){fe.call(this,e,t,n,!1,i,r)}function ge(e,t="",n,i=!0,r=!1){const a=(...s)=>{me(e,t,a,i,r),n.apply(this,s)};fe.call(this,e,t,a,!0,i,r)}function be(e,t="",n=!1,i={}){if(!B(e)||z(t))return;const r=new CustomEvent(t,{bubbles:n,detail:{...i,plyr:this}});e.dispatchEvent(r)}function ye(){this&&this.eventListeners&&(this.eventListeners.forEach(e=>{const{element:t,type:n,callback:i,options:r}=e;t.removeEventListener(n,i,r)}),this.eventListeners=[])}function ve(){return new Promise(e=>this.ready?setTimeout(e,0):pe.call(this,this.elements.container,"ready",e)).then(()=>{})}function we(e){(e=>x(e,Promise)&&T(e.then))(e)&&e.then(null,()=>{})}function ke(e){return D(e)?e.filter((t,n)=>e.indexOf(t)===n):e}function xe(e,t){return D(e)&&e.length?e.reduce((e,n)=>Math.abs(n-t)<Math.abs(e-t)?n:e):null}function Se(e){return!(!window||!window.CSS)&&window.CSS.supports(e)}const Oe=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce((e,[t,n])=>({...e,[t/n]:[t,n]}),{});function Ce(e){return!!(D(e)||R(e)&&e.includes(":"))&&(D(e)?e:e.split(":")).map(Number).every(L)}function Te(e){if(!D(e)||!e.every(L))return null;const[t,n]=e,i=(e,t)=>0===t?e:i(t,e%t),r=i(t,n);return[t/r,n/r]}function Pe(e){const t=e=>Ce(e)?e.split(":").map(Number):null;let n=t(e);if(null===n&&(n=t(this.config.ratio)),null===n&&!z(this.embed)&&D(this.embed.ratio)&&({ratio:n}=this.embed),null===n&&this.isHTML5){const{videoWidth:e,videoHeight:t}=this.media;n=[e,t]}return Te(n)}function Ae(e){if(!this.isVideo)return{};const{wrapper:t}=this.elements,n=Pe.call(this,e);if(!D(n))return{};const[i,r]=Te(n),a=100/i*r;if(Se(`aspect-ratio: ${i}/${r}`)?t.style.aspectRatio=`${i}/${r}`:t.style.paddingBottom=a+"%",this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const e=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),n=(e-a)/(e/50);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform=`translateY(-${n}%)`}else this.isHTML5&&t.classList.add(this.config.classNames.videoFixedRatio);return{padding:a,ratio:n}}function Ie(e,t,n=.05){const i=e/t,r=xe(Object.keys(Oe),i);return Math.abs(r-i)<=n?Oe[r]:[e,t]}const je={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(e=>{const t=e.getAttribute("type");return!!z(t)||de.mime.call(this,t)}):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:je.getSources.call(this).map(e=>Number(e.getAttribute("size"))).filter(Boolean)},setup(){if(!this.isHTML5)return;const e=this;e.options.speed=e.config.speed.options,z(this.config.ratio)||Ae.call(e),Object.defineProperty(e.media,"quality",{get(){const t=je.getSources.call(e).find(t=>t.getAttribute("src")===e.source);return t&&Number(t.getAttribute("size"))},set(t){if(e.quality!==t){if(e.config.quality.forced&&N(e.config.quality.onChange))e.config.quality.onChange(t);else{const n=je.getSources.call(e).find(e=>Number(e.getAttribute("size"))===t);if(!n)return;const{currentTime:i,paused:r,preload:a,readyState:s,playbackRate:o}=e.media;e.media.src=n.getAttribute("src"),("none"!==a||s)&&(e.once("loadedmetadata",()=>{e.speed=o,e.currentTime=i,r||we(e.play())}),e.media.load())}be.call(e,e.media,"qualitychange",!1,{quality:t})}}})},cancelRequests(){this.isHTML5&&(Z(je.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function Ee(e,...t){return z(e)?e:e.toString().replace(/{(\d+)}/g,(e,n)=>t[n].toString())}const Le=(e="",t="",n="")=>e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),n.toString()),Re=(e="")=>e.toString().replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase());function Me(e){const t=document.createElement("div");return t.appendChild(e),t.innerHTML}const Ne={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},De={get(e="",t={}){if(z(e)||z(t))return"";let n=W(t.i18n,e);if(z(n))return Object.keys(Ne).includes(e)?Ne[e]:"";const i={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(i).forEach(([e,t])=>{n=Le(n,e,t)}),n}};class Fe{constructor(t){e(this,"get",e=>{if(!Fe.supported||!this.enabled)return null;const t=window.localStorage.getItem(this.key);if(z(t))return null;const n=JSON.parse(t);return R(e)&&e.length?n[e]:n}),e(this,"set",e=>{if(!Fe.supported||!this.enabled)return;if(!E(e))return;let t=this.get();z(t)&&(t={}),K(t,e);try{window.localStorage.setItem(this.key,JSON.stringify(t))}catch(e){}}),this.enabled=t.config.storage.enabled,this.key=t.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}}}function Be(e,t="text"){return new Promise((n,i)=>{try{const i=new XMLHttpRequest;if(!("withCredentials"in i))return;i.addEventListener("load",()=>{if("text"===t)try{n(JSON.parse(i.responseText))}catch(e){n(i.responseText)}else n(i.response)}),i.addEventListener("error",()=>{throw new Error(i.status)}),i.open("GET",e,!0),i.responseType=t,i.send()}catch(e){i(e)}})}function Ue(e,t){if(!R(e))return;const n=R(t);let i=!1;const r=()=>null!==document.getElementById(t),a=(e,t)=>{e.innerHTML=t,n&&r()||document.body.insertAdjacentElement("afterbegin",e)};if(!n||!r()){const r=Fe.supported,s=document.createElement("div");if(s.setAttribute("hidden",""),n&&s.setAttribute("id",t),r){const e=window.localStorage.getItem("cache-"+t);if(i=null!==e,i){const t=JSON.parse(e);a(s,t.content)}}Be(e).then(e=>{if(!z(e)){if(r)try{window.localStorage.setItem("cache-"+t,JSON.stringify({content:e}))}catch(e){}a(s,e)}}).catch(()=>{})}}const _e=e=>Math.trunc(e/60/60%60,10);function Ge(e=0,t=!1,n=!1){if(!L(e))return Ge(void 0,t,n);const i=e=>("0"+e).slice(-2);let r=_e(e);const a=(s=e,Math.trunc(s/60%60,10));var s;const o=(e=>Math.trunc(e%60,10))(e);return r=t||r>0?r+":":"",`${n&&e>0?"-":""}${r}${i(a)}:${i(o)}`}const $e={getIconUrl(){const e=new URL(this.config.iconUrl,window.location),t=window.location.host?window.location.host:window.top.location.host,n=e.host!==t||H.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:n}},findElements(){try{return this.elements.controls=ce.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:oe.call(this,this.config.selectors.buttons.play),pause:ce.call(this,this.config.selectors.buttons.pause),restart:ce.call(this,this.config.selectors.buttons.restart),rewind:ce.call(this,this.config.selectors.buttons.rewind),fastForward:ce.call(this,this.config.selectors.buttons.fastForward),mute:ce.call(this,this.config.selectors.buttons.mute),pip:ce.call(this,this.config.selectors.buttons.pip),airplay:ce.call(this,this.config.selectors.buttons.airplay),settings:ce.call(this,this.config.selectors.buttons.settings),captions:ce.call(this,this.config.selectors.buttons.captions),fullscreen:ce.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=ce.call(this,this.config.selectors.progress),this.elements.inputs={seek:ce.call(this,this.config.selectors.inputs.seek),volume:ce.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:ce.call(this,this.config.selectors.display.buffer),currentTime:ce.call(this,this.config.selectors.display.currentTime),duration:ce.call(this,this.config.selectors.display.duration)},B(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector("."+this.config.classNames.tooltip)),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon(e,t){const n="http://www.w3.org/2000/svg",i=$e.getIconUrl.call(this),r=`${i.cors?"":i.url}#${this.config.iconPrefix}`,a=document.createElementNS(n,"svg");Y(a,K(t,{"aria-hidden":"true",focusable:"false"}));const s=document.createElementNS(n,"use"),o=`${r}-${e}`;return"href"in s&&s.setAttributeNS("http://www.w3.org/1999/xlink","href",o),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o),a.appendChild(s),a},createLabel(e,t={}){const n=De.get(e,this.config);return Q("span",{...t,class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")},n)},createBadge(e){if(z(e))return null;const t=Q("span",{class:this.config.classNames.menu.value});return t.appendChild(Q("span",{class:this.config.classNames.menu.badge},e)),t},createButton(e,t){const n=K({},t);let i=function(e=""){let t=e.toString();return t=function(e=""){let t=e.toString();return t=Le(t,"-"," "),t=Le(t,"_"," "),t=Re(t),Le(t," ","")}(t),t.charAt(0).toLowerCase()+t.slice(1)}(e);const r={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(e=>{Object.keys(n).includes(e)&&(r[e]=n[e],delete n[e])}),"button"!==r.element||Object.keys(n).includes("type")||(n.type="button"),Object.keys(n).includes("class")?n.class.split(" ").some(e=>e===this.config.classNames.control)||K(n,{class:`${n.class} ${this.config.classNames.control}`}):n.class=this.config.classNames.control,e){case"play":r.toggle=!0,r.label="play",r.labelPressed="pause",r.icon="play",r.iconPressed="pause";break;case"mute":r.toggle=!0,r.label="mute",r.labelPressed="unmute",r.icon="volume",r.iconPressed="muted";break;case"captions":r.toggle=!0,r.label="enableCaptions",r.labelPressed="disableCaptions",r.icon="captions-off",r.iconPressed="captions-on";break;case"fullscreen":r.toggle=!0,r.label="enterFullscreen",r.labelPressed="exitFullscreen",r.icon="enter-fullscreen",r.iconPressed="exit-fullscreen";break;case"play-large":n.class+=` ${this.config.classNames.control}--overlaid`,i="play",r.label="play",r.icon="play";break;default:z(r.label)&&(r.label=i),z(r.icon)&&(r.icon=e)}const a=Q(r.element);return r.toggle?(a.appendChild($e.createIcon.call(this,r.iconPressed,{class:"icon--pressed"})),a.appendChild($e.createIcon.call(this,r.icon,{class:"icon--not-pressed"})),a.appendChild($e.createLabel.call(this,r.labelPressed,{class:"label--pressed"})),a.appendChild($e.createLabel.call(this,r.label,{class:"label--not-pressed"}))):(a.appendChild($e.createIcon.call(this,r.icon)),a.appendChild($e.createLabel.call(this,r.label))),K(n,ne(this.config.selectors.buttons[i],n)),Y(a,n),"play"===i?(D(this.elements.buttons[i])||(this.elements.buttons[i]=[]),this.elements.buttons[i].push(a)):this.elements.buttons[i]=a,a},createRange(e,t){const n=Q("input",K(ne(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":De.get(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=n,$e.updateRangeFill.call(this,n),w.setup(n),n},createProgress(e,t){const n=Q("progress",K(ne(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if("volume"!==e){n.appendChild(Q("span",null,"0"));const t={played:"played",buffer:"buffered"}[e],i=t?De.get(t,this.config):"";n.innerText="% "+i.toLowerCase()}return this.elements.display[e]=n,n},createTime(e,t){const n=ne(this.config.selectors.display[e],t),i=Q("div",K(n,{class:`${n.class?n.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":De.get(e,this.config),role:"timer"}),"00:00");return this.elements.display[e]=i,i},bindMenuItemShortcuts(e,t){pe.call(this,e,"keydown keyup",n=>{if(![" ","ArrowUp","ArrowDown","ArrowRight"].includes(n.key))return;if(n.preventDefault(),n.stopPropagation(),"keydown"===n.type)return;const i=se(e,'[role="menuitemradio"]');if(!i&&[" ","ArrowRight"].includes(n.key))$e.showMenuPanel.call(this,t,!0);else{let t;" "!==n.key&&("ArrowDown"===n.key||i&&"ArrowRight"===n.key?(t=e.nextElementSibling,B(t)||(t=e.parentNode.firstElementChild)):(t=e.previousElementSibling,B(t)||(t=e.parentNode.lastElementChild)),le.call(this,t,!0))}},!1),pe.call(this,e,"keyup",e=>{"Return"===e.key&&$e.focusFirstMenuItem.call(this,null,!0)})},createMenuItem({value:e,list:t,type:n,title:i,badge:r=null,checked:a=!1}){const s=ne(this.config.selectors.inputs[n]),o=Q("button",K(s,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${s.class?s.class:""}`.trim(),"aria-checked":a,value:e})),c=Q("span");c.innerHTML=i,B(r)&&c.appendChild(r),o.appendChild(c),Object.defineProperty(o,"checked",{enumerable:!0,get:()=>"true"===o.getAttribute("aria-checked"),set(e){e&&Array.from(o.parentNode.children).filter(e=>se(e,'[role="menuitemradio"]')).forEach(e=>e.setAttribute("aria-checked","false")),o.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(o,"click keyup",t=>{if(!_(t)||" "===t.key){switch(t.preventDefault(),t.stopPropagation(),o.checked=!0,n){case"language":this.currentTrack=Number(e);break;case"quality":this.quality=e;break;case"speed":this.speed=parseFloat(e)}$e.showMenuPanel.call(this,"home",_(t))}},n,!1),$e.bindMenuItemShortcuts.call(this,o,n),t.appendChild(o)},formatTime(e=0,t=!1){return L(e)?Ge(e,_e(this.duration)>0,t):e},updateTimeDisplay(e=null,t=0,n=!1){B(e)&&L(t)&&(e.innerText=$e.formatTime(t,n))},updateVolume(){this.supported.ui&&(B(this.elements.inputs.volume)&&$e.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),B(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange(e,t=0){B(e)&&(e.value=t,$e.updateRangeFill.call(this,e))},updateProgress(e){if(!this.supported.ui||!U(e))return;let t=0;const n=(e,t)=>{const n=L(t)?t:0,i=B(e)?e:this.elements.display.buffer;if(B(i)){i.value=n;const e=i.getElementsByTagName("span")[0];B(e)&&(e.childNodes[0].nodeValue=n)}};if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":i=this.currentTime,r=this.duration,t=0===i||0===r||Number.isNaN(i)||Number.isNaN(r)?0:(i/r*100).toFixed(2),"timeupdate"===e.type&&$e.setRange.call(this,this.elements.inputs.seek,t);break;case"playing":case"progress":n(this.elements.display.buffer,100*this.buffered)}var i,r},updateRangeFill(e){const t=U(e)?e.target:e;if(B(t)&&"range"===t.getAttribute("type")){if(se(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);const e=$e.formatTime(this.currentTime),n=$e.formatTime(this.duration),i=De.get("seekLabel",this.config);t.setAttribute("aria-valuetext",i.replace("{currentTime}",e).replace("{duration}",n))}else if(se(t,this.config.selectors.inputs.volume)){const e=100*t.value;t.setAttribute("aria-valuenow",e),t.setAttribute("aria-valuetext",e.toFixed(1)+"%")}else t.setAttribute("aria-valuenow",t.value);(H.isWebKit||H.isIPadOS)&&t.style.setProperty("--value",t.value/t.max*100+"%")}},updateSeekTooltip(e){var t,n;if(!this.config.tooltips.seek||!B(this.elements.inputs.seek)||!B(this.elements.display.seekTooltip)||0===this.duration)return;const i=this.elements.display.seekTooltip,r=this.config.classNames.tooltip+"--visible",a=e=>re(i,r,e);if(this.touch)return void a(!1);let s=0;const o=this.elements.progress.getBoundingClientRect();if(U(e))s=100/o.width*(e.pageX-o.left);else{if(!ae(i,r))return;s=parseFloat(i.style.left,10)}s<0?s=0:s>100&&(s=100);const c=this.duration/100*s;i.innerText=$e.formatTime(c);const l=null===(t=this.config.markers)||void 0===t||null===(n=t.points)||void 0===n?void 0:n.find(({time:e})=>e===Math.round(c));l&&i.insertAdjacentHTML("afterbegin",l.label+"<br>"),i.style.left=s+"%",U(e)&&["mouseenter","mouseleave"].includes(e.type)&&a("mouseenter"===e.type)},timeUpdate(e){const t=!B(this.elements.display.duration)&&this.config.invertTime;$e.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||$e.updateProgress.call(this,e)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return ie(this.elements.display.currentTime,!0),void ie(this.elements.progress,!0);B(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const e=B(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&$e.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&$e.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&$e.setMarkers.call(this),$e.updateSeekTooltip.call(this)},toggleMenuButton(e,t){ie(this.elements.settings.buttons[e],!t)},updateSetting(e,t,n){const i=this.elements.settings.panels[e];let r=null,a=t;if("captions"===e)r=this.currentTrack;else{if(r=z(n)?this[e]:n,z(r)&&(r=this.config[e].default),!z(this.options[e])&&!this.options[e].includes(r))return void this.debug.warn(`Unsupported value of '${r}' for ${e}`);if(!this.config[e].options.includes(r))return void this.debug.warn(`Disabled value of '${r}' for ${e}`)}if(B(a)||(a=i&&i.querySelector('[role="menu"]')),!B(a))return;this.elements.settings.buttons[e].querySelector("."+this.config.classNames.menu.value).innerHTML=$e.getLabel.call(this,e,r);const s=a&&a.querySelector(`[value="${r}"]`);B(s)&&(s.checked=!0)},getLabel(e,t){switch(e){case"speed":return 1===t?De.get("normal",this.config):t+"&times;";case"quality":if(L(t)){const e=De.get("qualityLabel."+t,this.config);return e.length?e:t+"p"}return Re(t);case"captions":return qe.getLabel.call(this);default:return null}},setQualityMenu(e){if(!B(this.elements.settings.panels.quality))return;const t="quality",n=this.elements.settings.panels.quality.querySelector('[role="menu"]');D(e)&&(this.options.quality=ke(e).filter(e=>this.config.quality.options.includes(e)));const i=!z(this.options.quality)&&this.options.quality.length>1;if($e.toggleMenuButton.call(this,t,i),ee(n),$e.checkMenu.call(this),!i)return;const r=e=>{const t=De.get("qualityBadge."+e,this.config);return t.length?$e.createBadge.call(this,t):null};this.options.quality.sort((e,t)=>{const n=this.config.quality.options;return n.indexOf(e)>n.indexOf(t)?1:-1}).forEach(e=>{$e.createMenuItem.call(this,{value:e,list:n,type:t,title:$e.getLabel.call(this,"quality",e),badge:r(e)})}),$e.updateSetting.call(this,t,n)},setCaptionsMenu(){if(!B(this.elements.settings.panels.captions))return;const e="captions",t=this.elements.settings.panels.captions.querySelector('[role="menu"]'),n=qe.getTracks.call(this),i=Boolean(n.length);if($e.toggleMenuButton.call(this,e,i),ee(t),$e.checkMenu.call(this),!i)return;const r=n.map((e,n)=>({value:n,checked:this.captions.toggled&&this.currentTrack===n,title:qe.getLabel.call(this,e),badge:e.language&&$e.createBadge.call(this,e.language.toUpperCase()),list:t,type:"language"}));r.unshift({value:-1,checked:!this.captions.toggled,title:De.get("disabled",this.config),list:t,type:"language"}),r.forEach($e.createMenuItem.bind(this)),$e.updateSetting.call(this,e,t)},setSpeedMenu(){if(!B(this.elements.settings.panels.speed))return;const e="speed",t=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter(e=>e>=this.minimumSpeed&&e<=this.maximumSpeed);const n=!z(this.options.speed)&&this.options.speed.length>1;$e.toggleMenuButton.call(this,e,n),ee(t),$e.checkMenu.call(this),n&&(this.options.speed.forEach(n=>{$e.createMenuItem.call(this,{value:n,list:t,type:e,title:$e.getLabel.call(this,"speed",n)})}),$e.updateSetting.call(this,e,t))},checkMenu(){const{buttons:e}=this.elements.settings,t=!z(e)&&Object.values(e).some(e=>!e.hidden);ie(this.elements.settings.menu,!t)},focusFirstMenuItem(e,t=!1){if(this.elements.settings.popup.hidden)return;let n=e;B(n)||(n=Object.values(this.elements.settings.panels).find(e=>!e.hidden));const i=n.querySelector('[role^="menuitem"]');le.call(this,i,t)},toggleMenu(e){const{popup:t}=this.elements.settings,n=this.elements.buttons.settings;if(!B(t)||!B(n))return;const{hidden:i}=t;let r=i;if(M(e))r=e;else if(_(e)&&"Escape"===e.key)r=!1;else if(U(e)){const i=N(e.composedPath)?e.composedPath()[0]:e.target,a=t.contains(i);if(a||!a&&e.target!==n&&r)return}n.setAttribute("aria-expanded",r),ie(t,!r),re(this.elements.container,this.config.classNames.menu.open,r),r&&_(e)?$e.focusFirstMenuItem.call(this,null,!0):r||i||le.call(this,n,_(e))},getMenuSize(e){const t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);const n=t.scrollWidth,i=t.scrollHeight;return Z(t),{width:n,height:i}},showMenuPanel(e="",t=!1){const n=this.elements.container.querySelector(`#plyr-settings-${this.id}-${e}`);if(!B(n))return;const i=n.parentNode,r=Array.from(i.children).find(e=>!e.hidden);if(de.transitions&&!de.reducedMotion){i.style.width=r.scrollWidth+"px",i.style.height=r.scrollHeight+"px";const e=$e.getMenuSize.call(this,n),t=e=>{e.target===i&&["width","height"].includes(e.propertyName)&&(i.style.width="",i.style.height="",me.call(this,i,V,t))};pe.call(this,i,V,t),i.style.width=e.width+"px",i.style.height=e.height+"px"}ie(r,!0),ie(n,!1),$e.focusFirstMenuItem.call(this,n,t)},setDownloadUrl(){const e=this.elements.buttons.download;B(e)&&e.setAttribute("href",this.download)},create(e){const{bindMenuItemShortcuts:t,createButton:n,createProgress:i,createRange:r,createTime:a,setQualityMenu:s,setSpeedMenu:o,showMenuPanel:c}=$e;this.elements.controls=null,D(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(n.call(this,"play-large"));const l=Q("div",ne(this.config.selectors.controls.wrapper));this.elements.controls=l;const u={class:"plyr__controls__item"};return ke(D(this.config.controls)?this.config.controls:[]).forEach(s=>{if("restart"===s&&l.appendChild(n.call(this,"restart",u)),"rewind"===s&&l.appendChild(n.call(this,"rewind",u)),"play"===s&&l.appendChild(n.call(this,"play",u)),"fast-forward"===s&&l.appendChild(n.call(this,"fast-forward",u)),"progress"===s){const t=Q("div",{class:u.class+" plyr__progress__container"}),n=Q("div",ne(this.config.selectors.progress));if(n.appendChild(r.call(this,"seek",{id:"plyr-seek-"+e.id})),n.appendChild(i.call(this,"buffer")),this.config.tooltips.seek){const e=Q("span",{class:this.config.classNames.tooltip},"00:00");n.appendChild(e),this.elements.display.seekTooltip=e}this.elements.progress=n,t.appendChild(this.elements.progress),l.appendChild(t)}if("current-time"===s&&l.appendChild(a.call(this,"currentTime",u)),"duration"===s&&l.appendChild(a.call(this,"duration",u)),"mute"===s||"volume"===s){let{volume:t}=this.elements;if(B(t)&&l.contains(t)||(t=Q("div",K({},u,{class:(u.class+" plyr__volume").trim()})),this.elements.volume=t,l.appendChild(t)),"mute"===s&&t.appendChild(n.call(this,"mute")),"volume"===s&&!H.isIos&&!H.isIPadOS){const n={max:1,step:.05,value:this.config.volume};t.appendChild(r.call(this,"volume",K(n,{id:"plyr-volume-"+e.id})))}}if("captions"===s&&l.appendChild(n.call(this,"captions",u)),"settings"===s&&!z(this.config.settings)){const i=Q("div",K({},u,{class:(u.class+" plyr__menu").trim(),hidden:""}));i.appendChild(n.call(this,"settings",{"aria-haspopup":!0,"aria-controls":"plyr-settings-"+e.id,"aria-expanded":!1}));const r=Q("div",{class:"plyr__menu__container",id:"plyr-settings-"+e.id,hidden:""}),a=Q("div"),s=Q("div",{id:`plyr-settings-${e.id}-home`}),o=Q("div",{role:"menu"});s.appendChild(o),a.appendChild(s),this.elements.settings.panels.home=s,this.config.settings.forEach(n=>{const i=Q("button",K(ne(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));t.call(this,i,n),pe.call(this,i,"click",()=>{c.call(this,n,!1)});const r=Q("span",null,De.get(n,this.config)),s=Q("span",{class:this.config.classNames.menu.value});s.innerHTML=e[n],r.appendChild(s),i.appendChild(r),o.appendChild(i);const l=Q("div",{id:`plyr-settings-${e.id}-${n}`,hidden:""}),u=Q("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});u.appendChild(Q("span",{"aria-hidden":!0},De.get(n,this.config))),u.appendChild(Q("span",{class:this.config.classNames.hidden},De.get("menuBack",this.config))),pe.call(this,l,"keydown",e=>{"ArrowLeft"===e.key&&(e.preventDefault(),e.stopPropagation(),c.call(this,"home",!0))},!1),pe.call(this,u,"click",()=>{c.call(this,"home",!1)}),l.appendChild(u),l.appendChild(Q("div",{role:"menu"})),a.appendChild(l),this.elements.settings.buttons[n]=i,this.elements.settings.panels[n]=l}),r.appendChild(a),i.appendChild(r),l.appendChild(i),this.elements.settings.popup=r,this.elements.settings.menu=i}if("pip"===s&&de.pip&&l.appendChild(n.call(this,"pip",u)),"airplay"===s&&de.airplay&&l.appendChild(n.call(this,"airplay",u)),"download"===s){const e=K({},u,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(e.download="");const{download:t}=this.config.urls;!$(t)&&this.isEmbed&&K(e,{icon:"logo-"+this.provider,label:this.provider}),l.appendChild(n.call(this,"download",e))}"fullscreen"===s&&l.appendChild(n.call(this,"fullscreen",u))}),this.isHTML5&&s.call(this,je.getQualityOptions.call(this)),o.call(this),l},inject(){if(this.config.loadSprite){const e=$e.getIconUrl.call(this);e.cors&&Ue(e.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let e=null;this.elements.controls=null;const t={id:this.id,seektime:this.config.seekTime,title:this.config.title};let n,i=!0;if(N(this.config.controls)&&(this.config.controls=this.config.controls.call(this,t)),this.config.controls||(this.config.controls=[]),B(this.config.controls)||R(this.config.controls)?e=this.config.controls:(e=$e.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:qe.getLabel.call(this)}),i=!1),i&&R(this.config.controls)&&(e=(e=>{let n=e;return Object.entries(t).forEach(([e,t])=>{n=Le(n,`{${e}}`,t)}),n})(e)),R(this.config.selectors.controls.container)&&(n=document.querySelector(this.config.selectors.controls.container)),B(n)||(n=this.elements.container),n[B(e)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",e),B(this.elements.controls)||$e.findElements.call(this),!z(this.elements.buttons)){const e=e=>{const t=this.config.classNames.controlPressed;e.setAttribute("aria-pressed","false"),Object.defineProperty(e,"pressed",{configurable:!0,enumerable:!0,get:()=>ae(e,t),set(n=!1){re(e,t,n),e.setAttribute("aria-pressed",n?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach(t=>{D(t)||F(t)?Array.from(t).filter(Boolean).forEach(e):e(t)})}if(H.isEdge&&q(n),this.config.tooltips.controls){const{classNames:e,selectors:t}=this.config,n=`${t.controls.wrapper} ${t.labels} .${e.hidden}`,i=oe.call(this,n);Array.from(i).forEach(e=>{re(e,this.config.classNames.hidden,!1),re(e,this.config.classNames.tooltip,!0)})}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch(e){}},setMarkers(){var e,t;if(!this.duration||this.elements.markers)return;const n=null===(e=this.config.markers)||void 0===e||null===(t=e.points)||void 0===t?void 0:t.filter(({time:e})=>e>0&&e<this.duration);if(null==n||!n.length)return;const i=document.createDocumentFragment(),r=document.createDocumentFragment();let a=null;const s=this.config.classNames.tooltip+"--visible",o=e=>re(a,s,e);n.forEach(e=>{const t=Q("span",{class:this.config.classNames.marker},""),n=e.time/this.duration*100+"%";a&&(t.addEventListener("mouseenter",()=>{e.label||(a.style.left=n,a.innerHTML=e.label,o(!0))}),t.addEventListener("mouseleave",()=>{o(!1)})),t.addEventListener("click",()=>{this.currentTime=e.time}),t.style.left=n,r.appendChild(t)}),i.appendChild(r),this.config.tooltips.seek||(a=Q("span",{class:this.config.classNames.tooltip},""),i.appendChild(a)),this.elements.markers={points:r,tip:a},this.elements.progress.appendChild(i)}};function ze(e,t=!0){let n=e;if(t){const e=document.createElement("a");e.href=n,n=e.href}try{return new URL(n)}catch(e){return null}}function Ve(e){const t=new URLSearchParams;return E(e)&&Object.entries(e).forEach(([e,n])=>{t.set(e,n)}),t}const qe={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!de.textTracks)return void(D(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&$e.setCaptionsMenu.call(this));var e,t;if(B(this.elements.captions)||(this.elements.captions=Q("div",ne(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),e=this.elements.captions,t=this.elements.wrapper,B(e)&&B(t)&&t.parentNode.insertBefore(e,t.nextSibling)),H.isIE&&window.URL){const e=this.media.querySelectorAll("track");Array.from(e).forEach(e=>{const t=e.getAttribute("src"),n=ze(t);null!==n&&n.hostname!==window.location.href.hostname&&["http:","https:"].includes(n.protocol)&&Be(t,"blob").then(t=>{e.setAttribute("src",window.URL.createObjectURL(t))}).catch(()=>{Z(e)})})}const n=ke((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(e=>e.split("-")[0]));let i=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===i&&([i]=n);let r=this.storage.get("captions");if(M(r)||({active:r}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:r,language:i,languages:n}),this.isHTML5){const e=this.config.captions.update?"addtrack removetrack":"removetrack";pe.call(this,this.media.textTracks,e,qe.update.bind(this))}setTimeout(qe.update.bind(this),0)},update(){const e=qe.getTracks.call(this,!0),{active:t,language:n,meta:i,currentTrackNode:r}=this.captions,a=Boolean(e.find(e=>e.language===n));this.isHTML5&&this.isVideo&&e.filter(e=>!i.get(e)).forEach(e=>{this.debug.log("Track added",e),i.set(e,{default:"showing"===e.mode}),"showing"===e.mode&&(e.mode="hidden"),pe.call(this,e,"cuechange",()=>qe.updateCues.call(this))}),(a&&this.language!==n||!e.includes(r))&&(qe.setLanguage.call(this,n),qe.toggle.call(this,t&&a)),this.elements&&re(this.elements.container,this.config.classNames.captions.enabled,!z(e)),D(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&$e.setCaptionsMenu.call(this)},toggle(e,t=!0){if(!this.supported.ui)return;const{toggled:n}=this.captions,i=this.config.classNames.captions.active,r=j(e)?!n:e;if(r!==n){if(t||(this.captions.active=r,this.storage.set({captions:r})),!this.language&&r&&!t){const e=qe.getTracks.call(this),t=qe.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=t.language,void qe.set.call(this,e.indexOf(t))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=r),re(this.elements.container,i,r),this.captions.toggled=r,$e.updateSetting.call(this,"captions"),be.call(this,this.media,r?"captionsenabled":"captionsdisabled")}setTimeout(()=>{r&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")})},set(e,t=!0){const n=qe.getTracks.call(this);if(-1!==e)if(L(e))if(e in n){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;const i=n[e],{language:r}=i||{};this.captions.currentTrackNode=i,$e.updateSetting.call(this,"captions"),t||(this.captions.language=r,this.storage.set({language:r})),this.isVimeo&&this.embed.enableTextTrack(r),be.call(this,this.media,"languagechange")}qe.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&qe.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else qe.toggle.call(this,!1,t)},setLanguage(e,t=!0){if(!R(e))return void this.debug.warn("Invalid language argument",e);const n=e.toLowerCase();this.captions.language=n;const i=qe.getTracks.call(this),r=qe.findTrack.call(this,[n]);qe.set.call(this,i.indexOf(r),t)},getTracks(e=!1){return Array.from((this.media||{}).textTracks||[]).filter(t=>!this.isHTML5||e||this.captions.meta.has(t)).filter(e=>["captions","subtitles"].includes(e.kind))},findTrack(e,t=!1){const n=qe.getTracks.call(this),i=e=>Number((this.captions.meta.get(e)||{}).default),r=Array.from(n).sort((e,t)=>i(t)-i(e));let a;return e.every(e=>(a=r.find(t=>t.language===e),!a)),a||(t?r[0]:void 0)},getCurrentTrack(){return qe.getTracks.call(this)[this.currentTrack]},getLabel(e){let t=e;return!G(t)&&de.textTracks&&this.captions.toggled&&(t=qe.getCurrentTrack.call(this)),G(t)?z(t.label)?z(t.language)?De.get("enabled",this.config):e.language.toUpperCase():t.label:De.get("disabled",this.config)},updateCues(e){if(!this.supported.ui)return;if(!B(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!j(e)&&!Array.isArray(e))return void this.debug.warn("updateCues: Invalid input",e);let t=e;if(!t){const e=qe.getCurrentTrack.call(this);t=Array.from((e||{}).activeCues||[]).map(e=>e.getCueAsHTML()).map(Me)}const n=t.map(e=>e.trim()).join("\n");if(n!==this.elements.captions.innerHTML){ee(this.elements.captions);const e=Q("span",ne(this.config.selectors.caption));e.innerHTML=n,this.elements.captions.appendChild(e),be.call(this,this.media,"cuechange")}}},He={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.8/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},We="picture-in-picture",Ke={html5:"html5",youtube:"youtube",vimeo:"vimeo"},Je=()=>{};class Ye{constructor(e=!1){this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):Je}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):Je}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):Je}}class Qe{constructor(t){e(this,"onChange",()=>{if(!this.supported)return;const e=this.player.elements.buttons.fullscreen;B(e)&&(e.pressed=this.active);const t=this.target===this.player.media?this.target:this.player.elements.container;be.call(this.player,t,this.active?"enterfullscreen":"exitfullscreen",!0)}),e(this,"toggleFallback",(e=!1)=>{if(e?this.scrollPosition={x:null!==window.scrollX&&void 0!==window.scrollX?window.scrollX:0,y:null!==window.scrollY&&void 0!==window.scrollY?window.scrollY:0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=e?"hidden":"",re(this.target,this.player.config.classNames.fullscreen.fallback,e),H.isIos){let t=document.head.querySelector('meta[name="viewport"]');const n="viewport-fit=cover";t||(t=document.createElement("meta"),t.setAttribute("name","viewport"));const i=R(t.content)&&t.content.includes(n);e?(this.cleanupViewport=!i,i||(t.content+=","+n)):this.cleanupViewport&&(t.content=t.content.split(",").filter(e=>e.trim()!==n).join(","))}this.onChange()}),e(this,"trapFocus",e=>{if(H.isIos||H.isIPadOS||!this.active||"Tab"!==e.key)return;const t=document.activeElement,n=oe.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[i]=n,r=n[n.length-1];t!==r||e.shiftKey?t===i&&e.shiftKey&&(r.focus(),e.preventDefault()):(i.focus(),e.preventDefault())}),e(this,"update",()=>{if(this.supported){let e;e=this.forceFallback?"Fallback (forced)":Qe.nativeSupported?"Native":"Fallback",this.player.debug.log(e+" fullscreen enabled")}else this.player.debug.log("Fullscreen not supported and fallback disabled");re(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.supported)}),e(this,"enter",()=>{this.supported&&(H.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!Qe.nativeSupported||this.forceFallback?this.toggleFallback(!0):this.prefix?z(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))}),e(this,"exit",()=>{if(this.supported)if(H.isIos&&this.player.config.fullscreen.iosNative)this.player.isVimeo?this.player.embed.exitFullscreen():this.target.webkitEnterFullscreen(),we(this.player.play());else if(!Qe.nativeSupported||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!z(this.prefix)){const e="moz"===this.prefix?"Cancel":"Exit";document[`${this.prefix}${e}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}),e(this,"toggle",()=>{this.active?this.exit():this.enter()}),this.player=t,this.prefix=Qe.prefix,this.property=Qe.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===t.config.fullscreen.fallback,this.player.elements.fullscreen=t.config.fullscreen.container&&function(e,t){const{prototype:n}=Element;return(n.closest||function(){let e=this;do{if(se.matches(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}).call(e,t)}(this.player.elements.container,t.config.fullscreen.container),pe.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":this.prefix+"fullscreenchange",()=>{this.onChange()}),pe.call(this.player,this.player.elements.container,"dblclick",e=>{B(this.player.elements.controls)&&this.player.elements.controls.contains(e.target)||this.player.listeners.proxy(e,this.toggle,"fullscreen")}),pe.call(this,this.player.elements.container,"keydown",e=>this.trapFocus(e)),this.update()}static get nativeSupported(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get useNative(){return Qe.nativeSupported&&!this.forceFallback}static get prefix(){if(N(document.exitFullscreen))return"";let e="";return["webkit","moz","ms"].some(t=>!(!N(document[t+"ExitFullscreen"])&&!N(document[t+"CancelFullScreen"])||(e=t,0))),e}static get property(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}get supported(){return[this.player.config.fullscreen.enabled,this.player.isVideo,Qe.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||Qe.nativeSupported||!H.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}get active(){if(!this.supported)return!1;if(!Qe.nativeSupported||this.forceFallback)return ae(this.target,this.player.config.classNames.fullscreen.fallback);const e=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return e&&e.shadowRoot?e===this.target.getRootNode().host:e===this.target}get target(){return H.isIos&&this.player.config.fullscreen.iosNative?this.player.media:null!==this.player.elements.fullscreen&&void 0!==this.player.elements.fullscreen?this.player.elements.fullscreen:this.player.elements.container}}function Xe(e,t=1){return new Promise((n,i)=>{const r=new Image,a=()=>{delete r.onload,delete r.onerror,(r.naturalWidth>=t?n:i)(r)};Object.assign(r,{onload:a,onerror:a,src:e})})}const Ze={addStyleHook(){re(this.elements.container,this.config.selectors.container.replace(".",""),!0),re(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(e=!1){e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void Ze.toggleNativeControls.call(this,!0);B(this.elements.controls)||($e.inject.call(this),this.listeners.controls()),Ze.toggleNativeControls.call(this),this.isHTML5&&qe.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,$e.updateVolume.call(this),$e.timeUpdate.call(this),$e.durationUpdate.call(this),Ze.checkPlaying.call(this),re(this.elements.container,this.config.classNames.pip.supported,de.pip&&this.isHTML5&&this.isVideo),re(this.elements.container,this.config.classNames.airplay.supported,de.airplay&&this.isHTML5),re(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(()=>{be.call(this,this.media,"ready")},0),Ze.setTitle.call(this),this.poster&&Ze.setPoster.call(this,this.poster,!1).catch(()=>{}),this.config.duration&&$e.durationUpdate.call(this),this.config.mediaMetadata&&$e.setMediaMetadata.call(this)},setTitle(){let e=De.get("play",this.config);if(R(this.config.title)&&!z(this.config.title)&&(e+=", "+this.config.title),Array.from(this.elements.buttons.play||[]).forEach(t=>{t.setAttribute("aria-label",e)}),this.isEmbed){const e=ce.call(this,"iframe");if(!B(e))return;const t=z(this.config.title)?"video":this.config.title,n=De.get("frameTitle",this.config);e.setAttribute("title",n.replace("{title}",t))}},togglePoster(e){re(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster(e,t=!0){return t&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",e),this.elements.poster.removeAttribute("hidden"),ve.call(this).then(()=>Xe(e)).catch(t=>{throw e===this.poster&&Ze.togglePoster.call(this,!1),t}).then(()=>{if(e!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${e}')`,backgroundSize:""}),Ze.togglePoster.call(this,!0),e)))},checkPlaying(e){re(this.elements.container,this.config.classNames.playing,this.playing),re(this.elements.container,this.config.classNames.paused,this.paused),re(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(e=>{Object.assign(e,{pressed:this.playing}),e.setAttribute("aria-label",De.get(this.playing?"pause":"play",this.config))}),U(e)&&"timeupdate"===e.type||Ze.toggleControls.call(this)},checkLoading(e){this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(()=>{this&&this.elements&&this.elements.container&&(re(this.elements.container,this.config.classNames.loading,this.loading),Ze.toggleControls.call(this))},this.loading?250:0)},toggleControls(e){const{controls:t}=this.elements;if(t&&this.config.hideControls){const n=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(e||this.loading||this.paused||t.pressed||t.hover||n))}},migrateStyles(){Object.values({...this.media.style}).filter(e=>!z(e)&&R(e)&&e.startsWith("--plyr")).forEach(e=>{this.elements.container.style.setProperty(e,this.media.style.getPropertyValue(e)),this.media.style.removeProperty(e)}),z(this.media.style)&&this.media.removeAttribute("style")}};class et{constructor(t){e(this,"firstTouch",()=>{const{player:e}=this,{elements:t}=e;e.touch=!0,re(t.container,e.config.classNames.isTouch,!0)}),e(this,"global",(e=!0)=>{const{player:t}=this;t.config.keyboard.global&&fe.call(t,window,"keydown keyup",this.handleKey,e,!1),fe.call(t,document.body,"click",this.toggleMenu,e),ge.call(t,document.body,"touchstart",this.firstTouch)}),e(this,"container",()=>{const{player:e}=this,{config:t,elements:n,timers:i}=e;!t.keyboard.global&&t.keyboard.focused&&pe.call(e,n.container,"keydown keyup",this.handleKey,!1),pe.call(e,n.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",t=>{const{controls:r}=n;r&&"enterfullscreen"===t.type&&(r.pressed=!1,r.hover=!1);let a=0;["touchstart","touchmove","mousemove"].includes(t.type)&&(Ze.toggleControls.call(e,!0),a=e.touch?3e3:2e3),clearTimeout(i.controls),i.controls=setTimeout(()=>Ze.toggleControls.call(e,!1),a)});const r=()=>{if(!e.isVimeo||e.config.vimeo.premium)return;const t=n.wrapper,{active:i}=e.fullscreen,[r,a]=Pe.call(e),s=Se(`aspect-ratio: ${r} / ${a}`);if(!i)return void(s?(t.style.width=null,t.style.height=null):(t.style.maxWidth=null,t.style.margin=null));const[o,c]=[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)],l=o/c>r/a;s?(t.style.width=l?"auto":"100%",t.style.height=l?"100%":"auto"):(t.style.maxWidth=l?c/a*r+"px":null,t.style.margin=l?"0 auto":null)},a=()=>{clearTimeout(i.resized),i.resized=setTimeout(r,50)};pe.call(e,n.container,"enterfullscreen exitfullscreen",t=>{const{target:i}=e.fullscreen;i===n.container&&(!e.isEmbed&&z(e.config.ratio)||(r(),("enterfullscreen"===t.type?pe:me).call(e,window,"resize",a)))})}),e(this,"media",()=>{const{player:e}=this,{elements:t}=e;if(pe.call(e,e.media,"timeupdate seeking seeked",t=>$e.timeUpdate.call(e,t)),pe.call(e,e.media,"durationchange loadeddata loadedmetadata",t=>$e.durationUpdate.call(e,t)),pe.call(e,e.media,"ended",()=>{e.isHTML5&&e.isVideo&&e.config.resetOnEnd&&(e.restart(),e.pause())}),pe.call(e,e.media,"progress playing seeking seeked",t=>$e.updateProgress.call(e,t)),pe.call(e,e.media,"volumechange",t=>$e.updateVolume.call(e,t)),pe.call(e,e.media,"playing play pause ended emptied timeupdate",t=>Ze.checkPlaying.call(e,t)),pe.call(e,e.media,"waiting canplay seeked playing",t=>Ze.checkLoading.call(e,t)),e.supported.ui&&e.config.clickToPlay&&!e.isAudio){const n=ce.call(e,"."+e.config.classNames.video);if(!B(n))return;pe.call(e,t.container,"click",i=>{([t.container,n].includes(i.target)||n.contains(i.target))&&(e.touch&&e.config.hideControls||(e.ended?(this.proxy(i,e.restart,"restart"),this.proxy(i,()=>{we(e.play())},"play")):this.proxy(i,()=>{we(e.togglePlay())},"play")))})}e.supported.ui&&e.config.disableContextMenu&&pe.call(e,t.wrapper,"contextmenu",e=>{e.preventDefault()},!1),pe.call(e,e.media,"volumechange",()=>{e.storage.set({volume:e.volume,muted:e.muted})}),pe.call(e,e.media,"ratechange",()=>{$e.updateSetting.call(e,"speed"),e.storage.set({speed:e.speed})}),pe.call(e,e.media,"qualitychange",t=>{$e.updateSetting.call(e,"quality",null,t.detail.quality)}),pe.call(e,e.media,"ready qualitychange",()=>{$e.setDownloadUrl.call(e)});const n=e.config.events.concat(["keyup","keydown"]).join(" ");pe.call(e,e.media,n,n=>{let{detail:i={}}=n;"error"===n.type&&(i=e.media.error),be.call(e,t.container,n.type,!0,i)})}),e(this,"proxy",(e,t,n)=>{const{player:i}=this,r=i.config.listeners[n];let a=!0;N(r)&&(a=r.call(i,e)),!1!==a&&N(t)&&t.call(i,e)}),e(this,"bind",(e,t,n,i,r=!0)=>{const{player:a}=this,s=a.config.listeners[i],o=N(s);pe.call(a,e,t,e=>this.proxy(e,n,i),r&&!o)}),e(this,"controls",()=>{const{player:e}=this,{elements:t}=e,n=H.isIE?"change":"input";if(t.buttons.play&&Array.from(t.buttons.play).forEach(t=>{this.bind(t,"click",()=>{we(e.togglePlay())},"play")}),this.bind(t.buttons.restart,"click",e.restart,"restart"),this.bind(t.buttons.rewind,"click",()=>{e.lastSeekTime=Date.now(),e.rewind()},"rewind"),this.bind(t.buttons.fastForward,"click",()=>{e.lastSeekTime=Date.now(),e.forward()},"fastForward"),this.bind(t.buttons.mute,"click",()=>{e.muted=!e.muted},"mute"),this.bind(t.buttons.captions,"click",()=>e.toggleCaptions()),this.bind(t.buttons.download,"click",()=>{be.call(e,e.media,"download")},"download"),this.bind(t.buttons.fullscreen,"click",()=>{e.fullscreen.toggle()},"fullscreen"),this.bind(t.buttons.pip,"click",()=>{e.pip="toggle"},"pip"),this.bind(t.buttons.airplay,"click",e.airplay,"airplay"),this.bind(t.buttons.settings,"click",t=>{t.stopPropagation(),t.preventDefault(),$e.toggleMenu.call(e,t)},null,!1),this.bind(t.buttons.settings,"keyup",t=>{[" ","Enter"].includes(t.key)&&("Enter"!==t.key?(t.preventDefault(),t.stopPropagation(),$e.toggleMenu.call(e,t)):$e.focusFirstMenuItem.call(e,null,!0))},null,!1),this.bind(t.settings.menu,"keydown",t=>{"Escape"===t.key&&$e.toggleMenu.call(e,t)}),this.bind(t.inputs.seek,"mousedown mousemove",e=>{const n=t.progress.getBoundingClientRect(),i=100/n.width*(e.pageX-n.left);e.currentTarget.setAttribute("seek-value",i)}),this.bind(t.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",t=>{const n=t.currentTarget,i="play-on-seeked";if(_(t)&&!["ArrowLeft","ArrowRight"].includes(t.key))return;e.lastSeekTime=Date.now();const r=n.hasAttribute(i),a=["mouseup","touchend","keyup"].includes(t.type);r&&a?(n.removeAttribute(i),we(e.play())):!a&&e.playing&&(n.setAttribute(i,""),e.pause())}),H.isIos){const t=oe.call(e,'input[type="range"]');Array.from(t).forEach(e=>this.bind(e,n,e=>q(e.target)))}this.bind(t.inputs.seek,n,t=>{const n=t.currentTarget;let i=n.getAttribute("seek-value");z(i)&&(i=n.value),n.removeAttribute("seek-value"),e.currentTime=i/n.max*e.duration},"seek"),this.bind(t.progress,"mouseenter mouseleave mousemove",t=>$e.updateSeekTooltip.call(e,t)),this.bind(t.progress,"mousemove touchmove",t=>{const{previewThumbnails:n}=e;n&&n.loaded&&n.startMove(t)}),this.bind(t.progress,"mouseleave touchend click",()=>{const{previewThumbnails:t}=e;t&&t.loaded&&t.endMove(!1,!0)}),this.bind(t.progress,"mousedown touchstart",t=>{const{previewThumbnails:n}=e;n&&n.loaded&&n.startScrubbing(t)}),this.bind(t.progress,"mouseup touchend",t=>{const{previewThumbnails:n}=e;n&&n.loaded&&n.endScrubbing(t)}),H.isWebKit&&Array.from(oe.call(e,'input[type="range"]')).forEach(t=>{this.bind(t,"input",t=>$e.updateRangeFill.call(e,t.target))}),e.config.toggleInvert&&!B(t.display.duration)&&this.bind(t.display.currentTime,"click",()=>{0!==e.currentTime&&(e.config.invertTime=!e.config.invertTime,$e.timeUpdate.call(e))}),this.bind(t.inputs.volume,n,t=>{e.volume=t.target.value},"volume"),this.bind(t.controls,"mouseenter mouseleave",n=>{t.controls.hover=!e.touch&&"mouseenter"===n.type}),t.fullscreen&&Array.from(t.fullscreen.children).filter(e=>!e.contains(t.container)).forEach(n=>{this.bind(n,"mouseenter mouseleave",n=>{t.controls&&(t.controls.hover=!e.touch&&"mouseenter"===n.type)})}),this.bind(t.controls,"mousedown mouseup touchstart touchend touchcancel",e=>{t.controls.pressed=["mousedown","touchstart"].includes(e.type)}),this.bind(t.controls,"focusin",()=>{const{config:n,timers:i}=e;re(t.controls,n.classNames.noTransition,!0),Ze.toggleControls.call(e,!0),setTimeout(()=>{re(t.controls,n.classNames.noTransition,!1)},0);const r=this.touch?3e3:4e3;clearTimeout(i.controls),i.controls=setTimeout(()=>Ze.toggleControls.call(e,!1),r)}),this.bind(t.inputs.volume,"wheel",t=>{const n=t.webkitDirectionInvertedFromDevice,[i,r]=[t.deltaX,-t.deltaY].map(e=>n?-e:e),a=Math.sign(Math.abs(i)>Math.abs(r)?i:r);e.increaseVolume(a/50);const{volume:s}=e.media;(1===a&&s<1||-1===a&&s>0)&&t.preventDefault()},"volume",!1)}),this.player=t,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(e){const{player:t}=this,{elements:n}=t,{key:i,type:r,altKey:a,ctrlKey:s,metaKey:o,shiftKey:c}=e,l="keydown"===r,u=l&&i===this.lastKey;var d;if(!(a||s||o||c)&&i)if(l){const r=document.activeElement;if(B(r)){const{editable:i}=t.config.selectors,{seek:a}=n.inputs;if(r!==a&&se(r,i))return;if(" "===e.key&&se(r,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(i)&&(e.preventDefault(),e.stopPropagation()),i){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":u||(d=parseInt(i,10),t.currentTime=t.duration/10*d);break;case" ":case"k":u||we(t.togglePlay());break;case"ArrowUp":t.increaseVolume(.1);break;case"ArrowDown":t.decreaseVolume(.1);break;case"m":u||(t.muted=!t.muted);break;case"ArrowRight":t.forward();break;case"ArrowLeft":t.rewind();break;case"f":t.fullscreen.toggle();break;case"c":u||t.toggleCaptions();break;case"l":t.loop=!t.loop}"Escape"===i&&!t.fullscreen.usingNative&&t.fullscreen.active&&t.fullscreen.toggle(),this.lastKey=i}else this.lastKey=null}toggleMenu(e){$e.toggleMenu.call(this.player,e)}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;var tt=function(e,t){return function(e,t){e.exports=function(){var e=function(){},t={},n={},i={};function r(e,t){if(e){var r=i[e];if(n[e]=t,r)for(;r.length;)r[0](e,t),r.splice(0,1)}}function a(t,n){t.call&&(t={success:t}),n.length?(t.error||e)(n):(t.success||e)(t)}function s(t,n,i,r){var a,o,c,l=document,u=i.async,d=(i.numRetries||0)+1,h=i.before||e,f=t.replace(/[\?|#].*$/,""),p=t.replace(/^(css|img|module|nomodule)!/,"");if(r=r||0,/(^css!|\.css$)/.test(f))(c=l.createElement("link")).rel="stylesheet",c.href=p,(a="hideFocus"in c)&&c.relList&&(a=0,c.rel="preload",c.as="style");else if(/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(f))(c=l.createElement("img")).src=p;else if((c=l.createElement("script")).src=p,c.async=void 0===u||u,o="noModule"in c,/^module!/.test(f)){if(!o)return n(t,"l");c.type="module"}else if(/^nomodule!/.test(f)&&o)return n(t,"l");c.onload=c.onerror=c.onbeforeload=function(e){var o=e.type[0];if(a)try{c.sheet.cssText.length||(o="e")}catch(e){18!=e.code&&(o="e")}if("e"==o){if((r+=1)<d)return s(t,n,i,r)}else if("preload"==c.rel&&"style"==c.as)return c.rel="stylesheet";n(t,o,e.defaultPrevented)},!1!==h(t,c)&&l.head.appendChild(c)}function o(e,t,n){var i,r,a=(e=e.push?e:[e]).length,o=a,c=[];for(i=function(e,n,i){if("e"==n&&c.push(e),"b"==n){if(!i)return;c.push(e)}--a||t(c)},r=0;r<o;r++)s(e[r],i,n)}function c(e,n,i){var s,c;if(n&&n.trim&&(s=n),c=(s?i:n)||{},s){if(s in t)throw"LoadJS";t[s]=!0}function l(t,n){o(e,(function(e){a(c,e),t&&a({success:t,error:n},e),r(s,e)}),c)}if(c.returnPromise)return new Promise(l);l()}return c.ready=function(e,t){return function(e,t){e=e.push?e:[e];var r,a,s,o=[],c=e.length,l=c;for(r=function(e,n){n.length&&o.push(e),--l||t(o)};c--;)a=e[c],(s=n[a])?r(a,s):(i[a]=i[a]||[]).push(r)}(e,(function(e){a(t,e)})),c},c.done=function(e){r(e,[])},c.reset=function(){t={},n={},i={}},c.isDefined=function(e){return e in t},c}()}(t={exports:{}}),t.exports}();function nt(e){return new Promise((t,n)=>{tt(e,{success:t,error:n})})}function it(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,be.call(this,this.media,e?"play":"pause"))}const rt={setup(){const e=this;re(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,Ae.call(e),E(window.Vimeo)?rt.ready.call(e):nt(e.config.urls.vimeo.sdk).then(()=>{rt.ready.call(e)}).catch(t=>{e.debug.warn("Vimeo SDK (player.js) failed to load",t)})},ready(){const e=this,t=e.config.vimeo,{premium:n,referrerPolicy:i,...r}=t;let a=e.media.getAttribute("src"),s="";z(a)?(a=e.media.getAttribute(e.config.attributes.embed.id),s=e.media.getAttribute(e.config.attributes.embed.hash)):s=function(e){const t=e.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return t&&5===t.length?t[4]:null}(a);const o=s?{h:s}:{};n&&Object.assign(r,{controls:!1,sidedock:!1});const c=Ve({loop:e.config.loop.active,autoplay:e.autoplay,muted:e.muted,gesture:"media",playsinline:e.config.playsinline,...o,...r}),l=z(u=a)?null:L(Number(u))?u:u.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:u;var u;const d=Q("iframe"),h=Ee(e.config.urls.vimeo.iframe,l,c);if(d.setAttribute("src",h),d.setAttribute("allowfullscreen",""),d.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),z(i)||d.setAttribute("referrerPolicy",i),n||!t.customControls)d.setAttribute("data-poster",e.poster),e.media=te(d,e.media);else{const t=Q("div",{class:e.config.classNames.embedContainer,"data-poster":e.poster});t.appendChild(d),e.media=te(t,e.media)}t.customControls||Be(Ee(e.config.urls.vimeo.api,h)).then(t=>{!z(t)&&t.thumbnail_url&&Ze.setPoster.call(e,t.thumbnail_url).catch(()=>{})}),e.embed=new window.Vimeo.Player(d,{autopause:e.config.autopause,muted:e.muted}),e.media.paused=!0,e.media.currentTime=0,e.supported.ui&&e.embed.disableTextTrack(),e.media.play=()=>(it.call(e,!0),e.embed.play()),e.media.pause=()=>(it.call(e,!1),e.embed.pause()),e.media.stop=()=>{e.pause(),e.currentTime=0};let{currentTime:f}=e.media;Object.defineProperty(e.media,"currentTime",{get:()=>f,set(t){const{embed:n,media:i,paused:r,volume:a}=e,s=r&&!n.hasPlayed;i.seeking=!0,be.call(e,i,"seeking"),Promise.resolve(s&&n.setVolume(0)).then(()=>n.setCurrentTime(t)).then(()=>s&&n.pause()).then(()=>s&&n.setVolume(a)).catch(()=>{})}});let p=e.config.speed.selected;Object.defineProperty(e.media,"playbackRate",{get:()=>p,set(t){e.embed.setPlaybackRate(t).then(()=>{p=t,be.call(e,e.media,"ratechange")}).catch(()=>{e.options.speed=[1]})}});let{volume:m}=e.config;Object.defineProperty(e.media,"volume",{get:()=>m,set(t){e.embed.setVolume(t).then(()=>{m=t,be.call(e,e.media,"volumechange")})}});let{muted:g}=e.config;Object.defineProperty(e.media,"muted",{get:()=>g,set(t){const n=!!M(t)&&t;e.embed.setMuted(!!n||e.config.muted).then(()=>{g=n,be.call(e,e.media,"volumechange")})}});let b,{loop:y}=e.config;Object.defineProperty(e.media,"loop",{get:()=>y,set(t){const n=M(t)?t:e.config.loop.active;e.embed.setLoop(n).then(()=>{y=n})}}),e.embed.getVideoUrl().then(t=>{b=t,$e.setDownloadUrl.call(e)}).catch(e=>{this.debug.warn(e)}),Object.defineProperty(e.media,"currentSrc",{get:()=>b}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration}),Promise.all([e.embed.getVideoWidth(),e.embed.getVideoHeight()]).then(t=>{const[n,i]=t;e.embed.ratio=Ie(n,i),Ae.call(this)}),e.embed.setAutopause(e.config.autopause).then(t=>{e.config.autopause=t}),e.embed.getVideoTitle().then(t=>{e.config.title=t,Ze.setTitle.call(this)}),e.embed.getCurrentTime().then(t=>{f=t,be.call(e,e.media,"timeupdate")}),e.embed.getDuration().then(t=>{e.media.duration=t,be.call(e,e.media,"durationchange")}),e.embed.getTextTracks().then(t=>{e.media.textTracks=t,qe.setup.call(e)}),e.embed.on("cuechange",({cues:t=[]})=>{const n=t.map(e=>function(e){const t=document.createDocumentFragment(),n=document.createElement("div");return t.appendChild(n),n.innerHTML=e,t.firstChild.innerText}(e.text));qe.updateCues.call(e,n)}),e.embed.on("loaded",()=>{e.embed.getPaused().then(t=>{it.call(e,!t),t||be.call(e,e.media,"playing")}),B(e.embed.element)&&e.supported.ui&&e.embed.element.setAttribute("tabindex",-1)}),e.embed.on("bufferstart",()=>{be.call(e,e.media,"waiting")}),e.embed.on("bufferend",()=>{be.call(e,e.media,"playing")}),e.embed.on("play",()=>{it.call(e,!0),be.call(e,e.media,"playing")}),e.embed.on("pause",()=>{it.call(e,!1)}),e.embed.on("timeupdate",t=>{e.media.seeking=!1,f=t.seconds,be.call(e,e.media,"timeupdate")}),e.embed.on("progress",t=>{e.media.buffered=t.percent,be.call(e,e.media,"progress"),1===parseInt(t.percent,10)&&be.call(e,e.media,"canplaythrough"),e.embed.getDuration().then(t=>{t!==e.media.duration&&(e.media.duration=t,be.call(e,e.media,"durationchange"))})}),e.embed.on("seeked",()=>{e.media.seeking=!1,be.call(e,e.media,"seeked")}),e.embed.on("ended",()=>{e.media.paused=!0,be.call(e,e.media,"ended")}),e.embed.on("error",t=>{e.media.error=t,be.call(e,e.media,"error")}),t.customControls&&setTimeout(()=>Ze.build.call(e),0)}};function at(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,be.call(this,this.media,e?"play":"pause"))}function st(e){return e.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0}const ot={setup(){if(re(this.elements.wrapper,this.config.classNames.embed,!0),E(window.YT)&&N(window.YT.Player))ot.ready.call(this);else{const e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{N(e)&&e(),ot.ready.call(this)},nt(this.config.urls.youtube.sdk).catch(e=>{this.debug.warn("YouTube API failed to load",e)})}},getTitle(e){Be(Ee(this.config.urls.youtube.api,e)).then(e=>{if(E(e)){const{title:t,height:n,width:i}=e;this.config.title=t,Ze.setTitle.call(this),this.embed.ratio=Ie(i,n)}Ae.call(this)}).catch(()=>{Ae.call(this)})},ready(){const e=this,t=e.config.youtube,n=e.media&&e.media.getAttribute("id");if(!z(n)&&n.startsWith("youtube-"))return;let i=e.media.getAttribute("src");z(i)&&(i=e.media.getAttribute(this.config.attributes.embed.id));const r=z(a=i)?null:a.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:a;var a;const s=Q("div",{id:`${e.provider}-${Math.floor(1e4*Math.random())}`,"data-poster":t.customControls?e.poster:void 0});if(e.media=te(s,e.media),t.customControls){const t=e=>`https://i.ytimg.com/vi/${r}/${e}default.jpg`;Xe(t("maxres"),121).catch(()=>Xe(t("sd"),121)).catch(()=>Xe(t("hq"))).then(t=>Ze.setPoster.call(e,t.src)).then(t=>{t.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")}).catch(()=>{})}e.embed=new window.YT.Player(e.media,{videoId:r,host:st(t),playerVars:K({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui&&t.customControls?0:1,disablekb:1,playsinline:e.config.playsinline&&!e.config.fullscreen.iosNative?1:0,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},t),events:{onError(t){if(!e.media.error){const n=t.data,i={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[n]||"An unknown error occurred";e.media.error={code:n,message:i},be.call(e,e.media,"error")}},onPlaybackRateChange(t){const n=t.target;e.media.playbackRate=n.getPlaybackRate(),be.call(e,e.media,"ratechange")},onReady(n){if(N(e.media.play))return;const i=n.target;ot.getTitle.call(e,r),e.media.play=()=>{at.call(e,!0),i.playVideo()},e.media.pause=()=>{at.call(e,!1),i.pauseVideo()},e.media.stop=()=>{i.stopVideo()},e.media.duration=i.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:()=>Number(i.getCurrentTime()),set(t){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,be.call(e,e.media,"seeking"),i.seekTo(t)}}),Object.defineProperty(e.media,"playbackRate",{get:()=>i.getPlaybackRate(),set(e){i.setPlaybackRate(e)}});let{volume:a}=e.config;Object.defineProperty(e.media,"volume",{get:()=>a,set(t){a=t,i.setVolume(100*a),be.call(e,e.media,"volumechange")}});let{muted:s}=e.config;Object.defineProperty(e.media,"muted",{get:()=>s,set(t){const n=M(t)?t:s;s=n,i[n?"mute":"unMute"](),i.setVolume(100*a),be.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:()=>i.getVideoUrl()}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration});const o=i.getAvailablePlaybackRates();e.options.speed=o.filter(t=>e.config.speed.options.includes(t)),e.supported.ui&&t.customControls&&e.media.setAttribute("tabindex",-1),be.call(e,e.media,"timeupdate"),be.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval(()=>{e.media.buffered=i.getVideoLoadedFraction(),(null===e.media.lastBuffered||e.media.lastBuffered<e.media.buffered)&&be.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,1===e.media.buffered&&(clearInterval(e.timers.buffering),be.call(e,e.media,"canplaythrough"))},200),t.customControls&&setTimeout(()=>Ze.build.call(e),50)},onStateChange(n){const i=n.target;switch(clearInterval(e.timers.playing),e.media.seeking&&[1,2].includes(n.data)&&(e.media.seeking=!1,be.call(e,e.media,"seeked")),n.data){case-1:be.call(e,e.media,"timeupdate"),e.media.buffered=i.getVideoLoadedFraction(),be.call(e,e.media,"progress");break;case 0:at.call(e,!1),e.media.loop?(i.stopVideo(),i.playVideo()):be.call(e,e.media,"ended");break;case 1:t.customControls&&!e.config.autoplay&&e.media.paused&&!e.embed.hasPlayed?e.media.pause():(at.call(e,!0),be.call(e,e.media,"playing"),e.timers.playing=setInterval(()=>{be.call(e,e.media,"timeupdate")},50),e.media.duration!==i.getDuration()&&(e.media.duration=i.getDuration(),be.call(e,e.media,"durationchange")));break;case 2:e.muted||e.embed.unMute(),at.call(e,!1);break;case 3:be.call(e,e.media,"waiting")}be.call(e,e.elements.container,"statechange",!1,{code:n.data})}}})}},ct={setup(){this.media?(re(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),re(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&re(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=Q("div",{class:this.config.classNames.video}),J(this.media,this.elements.wrapper),this.elements.poster=Q("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?je.setup.call(this):this.isYouTube?ot.setup.call(this):this.isVimeo&&rt.setup.call(this)):this.debug.warn("No media element found!")}};class lt{constructor(t){e(this,"load",()=>{this.enabled&&(E(window.google)&&E(window.google.ima)?this.ready():nt(this.player.config.urls.googleIMA.sdk).then(()=>{this.ready()}).catch(()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))}))}),e(this,"ready",()=>{var e;this.enabled||((e=this).manager&&e.manager.destroy(),e.elements.displayContainer&&e.elements.displayContainer.destroy(),e.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(()=>{this.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}),e(this,"setupIMA",()=>{this.elements.container=Q("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,e=>this.onAdsManagerLoaded(e),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e=>this.onAdError(e),!1),this.requestAds()}),e(this,"requestAds",()=>{const{container:e}=this.player.elements;try{const t=new google.ima.AdsRequest;t.adTagUrl=this.tagUrl,t.linearAdSlotWidth=e.offsetWidth,t.linearAdSlotHeight=e.offsetHeight,t.nonLinearAdSlotWidth=e.offsetWidth,t.nonLinearAdSlotHeight=e.offsetHeight,t.forceNonLinearFullSlot=!1,t.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(t)}catch(e){this.onAdError(e)}}),e(this,"pollCountdown",(e=!1)=>{if(!e)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(()=>{const e=Ge(Math.max(this.manager.getRemainingTime(),0)),t=`${De.get("advertisement",this.player.config)} - ${e}`;this.elements.container.setAttribute("data-badge-text",t)},100)}),e(this,"onAdsManagerLoaded",e=>{if(!this.enabled)return;const t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,t.enablePreloading=!0,this.manager=e.getAdsManager(this.player,t),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e=>this.onAdError(e)),Object.keys(google.ima.AdEvent.Type).forEach(e=>{this.manager.addEventListener(google.ima.AdEvent.Type[e],e=>this.onAdEvent(e))}),this.trigger("loaded")}),e(this,"addCuePoints",()=>{z(this.cuePoints)||this.cuePoints.forEach(e=>{if(0!==e&&-1!==e&&e<this.player.duration){const t=this.player.elements.progress;if(B(t)){const n=100/this.player.duration*e,i=Q("span",{class:this.player.config.classNames.cues});i.style.left=n.toString()+"%",t.appendChild(i)}}})}),e(this,"onAdEvent",e=>{const{container:t}=this.player.elements,n=e.getAd(),i=e.getAdData();switch((e=>{be.call(this.player,this.player.media,"ads"+e.replace(/_/g,"").toLowerCase())})(e.type),e.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),n.isLinear()||(n.width=t.offsetWidth,n.height=t.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:i.adError&&this.player.debug.warn("Non-fatal ad error: "+i.adError.getMessage())}}),e(this,"onAdError",e=>{this.cancel(),this.player.debug.warn("Ads error",e)}),e(this,"listeners",()=>{const{container:e}=this.player.elements;let t;this.player.on("canplay",()=>{this.addCuePoints()}),this.player.on("ended",()=>{this.loader.contentComplete()}),this.player.on("timeupdate",()=>{t=this.player.currentTime}),this.player.on("seeked",()=>{const e=this.player.currentTime;z(this.cuePoints)||this.cuePoints.forEach((n,i)=>{t<n&&n<e&&(this.manager.discardAdBreak(),this.cuePoints.splice(i,1))})}),window.addEventListener("resize",()=>{this.manager&&this.manager.resize(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL)})}),e(this,"play",()=>{const{container:e}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then(()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(e){this.onAdError(e)}}).catch(()=>{})}),e(this,"resumeContent",()=>{this.elements.container.style.zIndex="",this.playing=!1,we(this.player.media.play())}),e(this,"pauseContent",()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}),e(this,"cancel",()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}),e(this,"loadAds",()=>{this.managerPromise.then(()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise(e=>{this.on("loaded",e),this.player.debug.log(this.manager)}),this.initialized=!1,this.requestAds()}).catch(()=>{})}),e(this,"trigger",(e,...t)=>{const n=this.events[e];D(n)&&n.forEach(e=>{N(e)&&e.apply(this,t)})}),e(this,"on",(e,t)=>(D(this.events[e])||(this.events[e]=[]),this.events[e].push(t),this)),e(this,"startSafetyTimer",(e,t)=>{this.player.debug.log("Safety timer invoked from: "+t),this.safetyTimer=setTimeout(()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")},e)}),e(this,"clearSafetyTimer",e=>{j(this.safetyTimer)||(this.player.debug.log("Safety timer cleared from: "+e),clearTimeout(this.safetyTimer),this.safetyTimer=null)}),this.player=t,this.config=t.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((e,t)=>{this.on("loaded",e),this.on("error",t)}),this.load()}get enabled(){const{config:e}=this;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!z(e.publisherId)||$(e.tagUrl))}get tagUrl(){const{config:e}=this;return $(e.tagUrl)?e.tagUrl:"https://go.aniview.com/api/adserver6/vast/?"+Ve({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId})}}function ut(e=0,t=0,n=255){return Math.min(Math.max(e,t),n)}const dt=e=>{const t=[];return e.split(/\r\n\r\n|\n\n|\r\r/).forEach(e=>{const n={};e.split(/\r\n|\n|\r/).forEach(e=>{if(L(n.startTime)){if(!z(e.trim())&&z(n.text)){const t=e.trim().split("#xywh=");[n.text]=t,t[1]&&([n.x,n.y,n.w,n.h]=t[1].split(","))}}else{const t=e.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);t&&(n.startTime=60*Number(t[1]||0)*60+60*Number(t[2])+Number(t[3])+Number("0."+t[4]),n.endTime=60*Number(t[6]||0)*60+60*Number(t[7])+Number(t[8])+Number("0."+t[9]))}}),n.text&&t.push(n)}),t},ht=(e,t)=>{const n={};return e>t.width/t.height?(n.width=t.width,n.height=1/e*t.width):(n.height=t.height,n.width=e*t.height),n};class ft{constructor(t){e(this,"load",()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.listeners(),this.loaded=!0)})}),e(this,"getThumbnails",()=>new Promise(e=>{const{src:t}=this.player.config.previewThumbnails;if(z(t))throw new Error("Missing previewThumbnails.src config attribute");const n=()=>{this.thumbnails.sort((e,t)=>e.height-t.height),this.player.debug.log("Preview thumbnails",this.thumbnails),e()};if(N(t))t(e=>{this.thumbnails=e,n()});else{const e=(R(t)?[t]:t).map(e=>this.getThumbnail(e));Promise.all(e).then(n)}})),e(this,"getThumbnail",e=>new Promise(t=>{Be(e).then(n=>{const i={frames:dt(n),height:null,urlPrefix:""};i.frames[0].text.startsWith("/")||i.frames[0].text.startsWith("http://")||i.frames[0].text.startsWith("https://")||(i.urlPrefix=e.substring(0,e.lastIndexOf("/")+1));const r=new Image;r.onload=()=>{i.height=r.naturalHeight,i.width=r.naturalWidth,this.thumbnails.push(i),t()},r.src=i.urlPrefix+i.frames[0].text})})),e(this,"startMove",e=>{if(this.loaded&&U(e)&&["touchmove","mousemove"].includes(e.type)&&this.player.media.duration){if("touchmove"===e.type)this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var t,n;const i=this.player.elements.progress.getBoundingClientRect(),r=100/i.width*(e.pageX-i.left);this.seekTime=this.player.media.duration*(r/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=e.pageX,this.elements.thumb.time.innerText=Ge(this.seekTime);const a=null===(t=this.player.config.markers)||void 0===t||null===(n=t.points)||void 0===n?void 0:n.find(({time:e})=>e===Math.round(this.seekTime));a&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",a.label+"<br>")}this.showImageAtCurrentTime()}}),e(this,"endMove",()=>{this.toggleThumbContainer(!1,!0)}),e(this,"startScrubbing",e=>{(j(e.button)||!1===e.button||0===e.button)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}),e(this,"endScrubbing",()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):ge.call(this.player,this.player.media,"timeupdate",()=>{this.mouseDown||this.toggleScrubbingContainer(!1)})}),e(this,"listeners",()=>{this.player.on("play",()=>{this.toggleThumbContainer(!1,!0)}),this.player.on("seeked",()=>{this.toggleThumbContainer(!1)}),this.player.on("timeupdate",()=>{this.lastTime=this.player.media.currentTime})}),e(this,"render",()=>{this.elements.thumb.container=Q("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=Q("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const e=Q("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=Q("span",{},"00:00"),e.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(e),B(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=Q("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}),e(this,"destroy",()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}),e(this,"showImageAtCurrentTime",()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const e=this.thumbnails[0].frames.findIndex(e=>this.seekTime>=e.startTime&&this.seekTime<=e.endTime),t=e>=0;let n=0;this.mouseDown||this.toggleThumbContainer(t),t&&(this.thumbnails.forEach((t,i)=>{this.loadedImages.includes(t.frames[e].text)&&(n=i)}),e!==this.showingThumb&&(this.showingThumb=e,this.loadImage(n)))}),e(this,"loadImage",(e=0)=>{const t=this.showingThumb,n=this.thumbnails[e],{urlPrefix:i}=n,r=n.frames[t],a=n.frames[t].text,s=i+a;if(this.currentImageElement&&this.currentImageElement.dataset.filename===a)this.showImage(this.currentImageElement,r,e,t,a,!1),this.currentImageElement.dataset.index=t,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const n=new Image;n.src=s,n.dataset.index=t,n.dataset.filename=a,this.showingThumbFilename=a,this.player.debug.log("Loading image: "+s),n.onload=()=>this.showImage(n,r,e,t,a,!0),this.loadingImage=n,this.removeOldImages(n)}}),e(this,"showImage",(e,t,n,i,r,a=!0)=>{this.player.debug.log(`Showing thumb: ${r}. num: ${i}. qual: ${n}. newimg: ${a}`),this.setImageSizeAndOffset(e,t),a&&(this.currentImageContainer.appendChild(e),this.currentImageElement=e,this.loadedImages.includes(r)||this.loadedImages.push(r)),this.preloadNearby(i,!0).then(this.preloadNearby(i,!1)).then(this.getHigherQuality(n,e,t,r))}),e(this,"removeOldImages",e=>{Array.from(this.currentImageContainer.children).forEach(t=>{if("img"!==t.tagName.toLowerCase())return;const n=this.usingSprites?500:1e3;if(t.dataset.index!==e.dataset.index&&!t.dataset.deleting){t.dataset.deleting=!0;const{currentImageContainer:e}=this;setTimeout(()=>{e.removeChild(t),this.player.debug.log("Removing thumb: "+t.dataset.filename)},n)}})}),e(this,"preloadNearby",(e,t=!0)=>new Promise(n=>{setTimeout(()=>{const i=this.thumbnails[0].frames[e].text;if(this.showingThumbFilename===i){let r;r=t?this.thumbnails[0].frames.slice(e):this.thumbnails[0].frames.slice(0,e).reverse();let a=!1;r.forEach(e=>{const t=e.text;if(t!==i&&!this.loadedImages.includes(t)){a=!0,this.player.debug.log("Preloading thumb filename: "+t);const{urlPrefix:e}=this.thumbnails[0],i=e+t,r=new Image;r.src=i,r.onload=()=>{this.player.debug.log("Preloaded thumb filename: "+t),this.loadedImages.includes(t)||this.loadedImages.push(t),n()}}}),a||n()}},300)})),e(this,"getHigherQuality",(e,t,n,i)=>{if(e<this.thumbnails.length-1){let r=t.naturalHeight;this.usingSprites&&(r=n.h),r<this.thumbContainerHeight&&setTimeout(()=>{this.showingThumbFilename===i&&(this.player.debug.log("Showing higher quality thumb for: "+i),this.loadImage(e+1))},300)}}),e(this,"toggleThumbContainer",(e=!1,t=!1)=>{const n=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(n,e),!e&&t&&(this.showingThumb=null,this.showingThumbFilename=null)}),e(this,"toggleScrubbingContainer",(e=!1)=>{const t=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(t,e),e||(this.showingThumb=null,this.showingThumbFilename=null)}),e(this,"determineContainerAutoSizing",()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}),e(this,"setThumbContainerSizeAndPos",()=>{const{imageContainer:e}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(e.clientHeight>20&&e.clientWidth<20){const t=Math.floor(e.clientHeight*this.thumbAspectRatio);e.style.width=t+"px"}else if(e.clientHeight<20&&e.clientWidth>20){const t=Math.floor(e.clientWidth/this.thumbAspectRatio);e.style.height=t+"px"}}else{const t=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);e.style.height=this.thumbContainerHeight+"px",e.style.width=t+"px"}this.setThumbContainerPos()}),e(this,"setThumbContainerPos",()=>{const e=this.player.elements.progress.getBoundingClientRect(),t=this.player.elements.container.getBoundingClientRect(),{container:n}=this.elements.thumb,i=t.left-e.left+10,r=t.right-e.left-n.clientWidth-10,a=this.mousePosX-e.left-n.clientWidth/2,s=ut(a,i,r);n.style.left=s+"px",n.style.setProperty("--preview-arrow-offset",a-s+"px")}),e(this,"setScrubbingContainerSize",()=>{const{width:e,height:t}=ht(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=e+"px",this.elements.scrubbing.container.style.height=t+"px"}),e(this,"setImageSizeAndOffset",(e,t)=>{if(!this.usingSprites)return;const n=this.thumbContainerHeight/t.h;e.style.height=e.naturalHeight*n+"px",e.style.width=e.naturalWidth*n+"px",e.style.left=`-${t.x*n}px`,e.style.top=`-${t.y*n}px`}),this.player=t,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:e}=ht(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return e}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}const pt={insertElements(e,t){R(t)?X(e,this.media,{src:t}):D(t)&&t.forEach(t=>{X(e,this.media,t)})},change(e){W(e,"sources.length")?(je.cancelRequests.call(this),this.destroy.call(this,()=>{this.options.quality=[],Z(this.media),this.media=null,B(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:t,type:n}=e,[{provider:i=Ke.html5,src:r}]=t,a="html5"===i?n:"div",s="html5"===i?{}:{src:r};Object.assign(this,{provider:i,type:n,supported:de.check(n,i,this.config.playsinline),media:Q(a,s)}),this.elements.container.appendChild(this.media),M(e.autoplay)&&(this.config.autoplay=e.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),z(e.poster)||(this.poster=e.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),Ze.addStyleHook.call(this),this.isHTML5&&pt.insertElements.call(this,"source",t),this.config.title=e.title,ct.setup.call(this),this.isHTML5&&Object.keys(e).includes("tracks")&&pt.insertElements.call(this,"track",e.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Ze.build.call(this),this.isHTML5&&this.media.load(),z(e.previewThumbnails)||(Object.assign(this.config.previewThumbnails,e.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new ft(this))),this.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};class mt{constructor(t,r){if(e(this,"play",()=>N(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(()=>this.ads.play()).catch(()=>we(this.media.play())),this.media.play()):null),e(this,"pause",()=>this.playing&&N(this.media.pause)?this.media.pause():null),e(this,"togglePlay",e=>(M(e)?e:!this.playing)?this.play():this.pause()),e(this,"stop",()=>{this.isHTML5?(this.pause(),this.restart()):N(this.media.stop)&&this.media.stop()}),e(this,"restart",()=>{this.currentTime=0}),e(this,"rewind",e=>{this.currentTime-=L(e)?e:this.config.seekTime}),e(this,"forward",e=>{this.currentTime+=L(e)?e:this.config.seekTime}),e(this,"increaseVolume",e=>{const t=this.media.muted?0:this.volume;this.volume=t+(L(e)?e:0)}),e(this,"decreaseVolume",e=>{this.increaseVolume(-e)}),e(this,"airplay",()=>{de.airplay&&this.media.webkitShowPlaybackTargetPicker()}),e(this,"toggleControls",e=>{if(this.supported.ui&&!this.isAudio){const t=ae(this.elements.container,this.config.classNames.hideControls),n=void 0===e?void 0:!e,i=re(this.elements.container,this.config.classNames.hideControls,n);if(i&&D(this.config.controls)&&this.config.controls.includes("settings")&&!z(this.config.settings)&&$e.toggleMenu.call(this,!1),i!==t){const e=i?"controlshidden":"controlsshown";be.call(this,this.media,e)}return!i}return!1}),e(this,"on",(e,t)=>{pe.call(this,this.elements.container,e,t)}),e(this,"once",(e,t)=>{ge.call(this,this.elements.container,e,t)}),e(this,"off",(e,t)=>{me(this.elements.container,e,t)}),e(this,"destroy",(e,t=!1)=>{if(!this.ready)return;const n=()=>{document.body.style.overflow="",this.embed=null,t?(Object.keys(this.elements).length&&(Z(this.elements.buttons.play),Z(this.elements.captions),Z(this.elements.controls),Z(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),N(e)&&e()):(ye.call(this),je.cancelRequests.call(this),te(this.elements.original,this.elements.container),be.call(this,this.elements.original,"destroyed",!0),N(e)&&e.call(this.elements.original),this.ready=!1,setTimeout(()=>{this.elements=null,this.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(Ze.toggleNativeControls.call(this,!0),n()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&N(this.embed.destroy)&&this.embed.destroy(),n()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(n),setTimeout(n,200))}),e(this,"supports",e=>de.mime.call(this,e)),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=de.touch,this.media=t,R(this.media)&&(this.media=document.querySelectorAll(this.media)),(n&&this.media instanceof i||F(this.media)||D(this.media))&&(this.media=this.media[0]),this.config=K({},He,mt.defaults,r||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch(e){return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new Ye(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",de),j(this.media)||!B(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!de.check().api)return void this.debug.error("Setup failed: no support");const a=this.media.cloneNode(!0);a.autoplay=!1,this.elements.original=a;const s=this.media.tagName.toLowerCase();let o=null,c=null;switch(s){case"div":if(o=this.media.querySelector("iframe"),B(o)){if(c=ze(o.getAttribute("src")),this.provider=function(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?Ke.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?Ke.vimeo:null}(c.toString()),this.elements.container=this.media,this.media=o,this.elements.container.className="",c.search.length){const e=["1","true"];e.includes(c.searchParams.get("autoplay"))&&(this.config.autoplay=!0),e.includes(c.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=e.includes(c.searchParams.get("playsinline")),this.config.youtube.hl=c.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(z(this.provider)||!Object.values(Ke).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type="video";break;case"video":case"audio":this.type=s,this.provider=Ke.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=de.check(this.type,this.provider),this.supported.api?(this.eventListeners=[],this.listeners=new et(this),this.storage=new Fe(this),this.media.plyr=this,B(this.elements.container)||(this.elements.container=Q("div"),J(this.media,this.elements.container)),Ze.migrateStyles.call(this),Ze.addStyleHook.call(this),ct.setup.call(this),this.config.debug&&pe.call(this,this.elements.container,this.config.events.join(" "),e=>{this.debug.log("event: "+e.type)}),this.fullscreen=new Qe(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Ze.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new lt(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",()=>we(this.play())),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new ft(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===Ke.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===Ke.youtube}get isVimeo(){return this.provider===Ke.vimeo}get isVideo(){return"video"===this.type}get isAudio(){return"audio"===this.type}get playing(){return Boolean(this.ready&&!this.paused&&!this.ended)}get paused(){return Boolean(this.media.paused)}get stopped(){return Boolean(this.paused&&0===this.currentTime)}get ended(){return Boolean(this.media.ended)}set currentTime(e){if(!this.duration)return;const t=L(e)&&e>0;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:e}=this.media;return L(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}get seeking(){return Boolean(this.media.seeking)}get duration(){const e=parseFloat(this.config.duration),t=(this.media||{}).duration,n=L(t)&&t!==1/0?t:0;return e||n}set volume(e){let t=e;R(t)&&(t=Number(t)),L(t)||(t=this.storage.get("volume")),L(t)||({volume:t}=this.config),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!z(e)&&this.muted&&t>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(e){let t=e;M(t)||(t=this.storage.get("muted")),M(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t}get muted(){return Boolean(this.media.muted)}get hasAudio(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}set speed(e){let t=null;L(e)&&(t=e),L(t)||(t=this.storage.get("speed")),L(t)||(t=this.config.speed.selected);const{minimumSpeed:n,maximumSpeed:i}=this;t=ut(t,n,i),this.config.speed.selected=t,setTimeout(()=>{this.media&&(this.media.playbackRate=t)},0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(e){const t=this.config.quality,n=this.options.quality;if(!n.length)return;let i=[!z(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find(L),r=!0;if(!n.includes(i)){const e=xe(n,i);this.debug.warn(`Unsupported quality option: ${i}, using ${e} instead`),i=e,r=!1}t.selected=i,this.media.quality=i,r&&this.storage.set({quality:i})}get quality(){return this.media.quality}set loop(e){const t=M(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t}get loop(){return Boolean(this.media.loop)}set source(e){pt.change.call(this,e)}get source(){return this.media.currentSrc}get download(){const{download:e}=this.config.urls;return $(e)?e:this.source}set download(e){$(e)&&(this.config.urls.download=e,$e.setDownloadUrl.call(this))}set poster(e){this.isVideo?Ze.setPoster.call(this,e,!1).catch(()=>{}):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const e=Te(Pe.call(this));return D(e)?e.join(":"):e}set ratio(e){this.isVideo?R(e)&&Ce(e)?(this.config.ratio=Te(e),Ae.call(this)):this.debug.error(`Invalid aspect ratio specified (${e})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(e){this.config.autoplay=M(e)?e:this.config.autoplay}get autoplay(){return Boolean(this.config.autoplay)}toggleCaptions(e){qe.toggle.call(this,e,!1)}set currentTrack(e){qe.set.call(this,e,!1),qe.setup.call(this)}get currentTrack(){const{toggled:e,currentTrack:t}=this.captions;return e?t:-1}set language(e){qe.setLanguage.call(this,e,!1)}get language(){return(qe.getCurrentTrack.call(this)||{}).language}set pip(e){if(!de.pip)return;const t=M(e)?e:!this.pip;N(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?We:"inline"),N(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}get pip(){return de.pip?z(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===We:null}setPreviewThumbnails(e){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,e),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new ft(this))}static supported(e,t){return de.check(e,t)}static loadSprite(e,t){return Ue(e,t)}static setup(e,t={}){let n=null;return R(e)?n=Array.from(document.querySelectorAll(e)):F(e)?n=Array.from(e):D(e)&&(n=e.filter(B)),z(n)?null:n.map(e=>new mt(e,t))}}var gt;return mt.defaults=(gt=He,JSON.parse(JSON.stringify(gt))),mt}())}).call(this,n(56),n(5),n(5))},,function(e,t,n){var i=n(85),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t,n){var i=n(270),r=n(24),a=n(67),s=n(28)("toStringTag"),o=Object,c="Arguments"==a(function(){return arguments}());e.exports=i?a:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=o(e),s))?n:c?a(t):"Object"==(i=a(t))&&r(t.callee)?"Arguments":i}},function(e,t,n){var i=n(49).f,r=n(41),a=n(28)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!r(e,a)&&i(e,a,{configurable:!0,value:t})}},function(e,t,n){var i=n(20),r=n(21),a=n(67),s=Object,o=i("".split);e.exports=r((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?o(e,""):s(e)}:s},function(e,t,n){var i=n(42),r=n(34),a=n(247),s=n(88),o=n(93),c=n(130),l=n(41),u=n(183),d=Object.getOwnPropertyDescriptor;t.f=i?d:function(e,t){if(e=o(e),t=c(t),u)try{return d(e,t)}catch(e){}if(l(e,t))return s(!r(a.f,e,t),e[t])}},function(e,t,n){var i=n(248),r=n(131);e.exports=function(e){var t=i(e,"string");return r(t)?t:t+""}},function(e,t,n){var i=n(50),r=n(24),a=n(75),s=n(182),o=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return r(t)&&a(t.prototype,o(e))}},function(e,t,n){var i=n(42),r=n(41),a=Function.prototype,s=i&&Object.getOwnPropertyDescriptor,o=r(a,"name"),c=o&&"something"===function(){}.name,l=o&&(!i||i&&s(a,"name").configurable);e.exports={EXISTS:o,PROPER:c,CONFIGURABLE:l}},function(e,t,n){var i=n(107),r=n(21);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},function(e,t,n){var i=n(46),r=n(135);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.22.8",mode:i?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.8/LICENSE",source:"https://github.com/zloirock/core-js"})},function(e,t,n){var i=n(23),r=n(136),a=i["__core-js_shared__"]||r("__core-js_shared__",{});e.exports=a},function(e,t,n){var i=n(23),r=Object.defineProperty;e.exports=function(e,t){try{r(i,e,{value:t,configurable:!0,writable:!0})}catch(n){i[e]=t}return t}},function(e,t,n){var i=n(134),r=n(165),a=i("keys");e.exports=function(e){return a[e]||(a[e]=r(e))}},function(e,t){e.exports={}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var i=n(21),r=n(24),a=/#|\.prototype\./,s=function(e,t){var n=c[o(e)];return n==u||n!=l&&(r(t)?i(t):!!t)},o=s.normalize=function(e){return String(e).replace(a,".").toLowerCase()},c=s.data={},l=s.NATIVE="N",u=s.POLYFILL="P";e.exports=s},function(e,t,n){"use strict";var i=n(21);e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){return 1},1)}))}},function(e,t,n){"use strict";var i,r,a=n(34),s=n(20),o=n(61),c=n(194),l=n(195),u=n(134),d=n(89),h=n(63).get,f=n(143),p=n(196),m=u("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,b=g,y=s("".charAt),v=s("".indexOf),w=s("".replace),k=s("".slice),x=(r=/b*/g,a(g,i=/a/,"a"),a(g,r,"a"),0!==i.lastIndex||0!==r.lastIndex),S=l.BROKEN_CARET,O=void 0!==/()??/.exec("")[1];(x||O||S||f||p)&&(b=function(e){var t,n,i,r,s,l,u,f=this,p=h(f),C=o(e),T=p.raw;if(T)return T.lastIndex=f.lastIndex,t=a(b,T,C),f.lastIndex=T.lastIndex,t;var P=p.groups,A=S&&f.sticky,I=a(c,f),j=f.source,E=0,L=C;if(A&&(I=w(I,"y",""),-1===v(I,"g")&&(I+="g"),L=k(C,f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==y(C,f.lastIndex-1))&&(j="(?: "+j+")",L=" "+L,E++),n=new RegExp("^(?:"+j+")",I)),O&&(n=new RegExp("^"+j+"$(?!\\s)",I)),x&&(i=f.lastIndex),r=a(g,A?n:f,L),A?r?(r.input=k(r.input,E),r[0]=k(r[0],E),r.index=f.lastIndex,f.lastIndex+=r[0].length):f.lastIndex=0:x&&r&&(f.lastIndex=f.global?r.index+r[0].length:i),O&&r&&r.length>1&&a(m,r[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(r[s]=void 0)})),r&&P)for(r.groups=l=d(null),s=0;s<P.length;s++)l[(u=P[s])[0]]=r[u[1]];return r}),e.exports=b},function(e,t,n){var i=n(21),r=n(23).RegExp;e.exports=i((function(){var e=r(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},function(e,t,n){var i=n(28),r=n(89),a=n(49).f,s=i("unscopables"),o=Array.prototype;null==o[s]&&a(o,s,{configurable:!0,value:r(null)}),e.exports=function(e){o[s][e]=!0}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(6),n(11);var i=n(226);function r(e){const t=e.find("div.wordBox");return new i.a(t)}},function(e,t,n){var i=n(75),r=TypeError;e.exports=function(e,t){if(i(t,e))return e;throw r("Incorrect invocation")}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));n(25),n(6),n(13),n(15),n(16);var i=n(5),r=n.n(i),a=n(4);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let l={};const u=(e,t)=>{const n=r()(window);l=o(o({},l),{},{[e]:t}),n.off("resize.rcf"),n.on("resize.rcf",Object(a.d)(()=>{Object.keys(l).forEach(e=>{l[e]()})},250))},d=e=>{l[e]=null,delete l[e]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(17),r=n(90);function a(e){const t=Object(i.a)(e,"data-environment");return t?r.a[t]:r.a.default}},function(e,t,n){"use strict";var i=n(19),r=n(20),a=n(35),s=n(68),o=n(62),c=n(282),l=n(61),u=n(21),d=n(243),h=n(141),f=n(255),p=n(256),m=n(107),g=n(257),b=[],y=r(b.sort),v=r(b.push),w=u((function(){b.sort(void 0)})),k=u((function(){b.sort(null)})),x=h("sort"),S=!u((function(){if(m)return m<70;if(!(f&&f>3)){if(p)return!0;if(g)return g<603;var e,t,n,i,r="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)b.push({k:t+i,v:n})}for(b.sort((function(e,t){return t.v-e.v})),i=0;i<b.length;i++)t=b[i].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}}));i({target:"Array",proto:!0,forced:w||!k||!x||!S},{sort:function(e){void 0!==e&&a(e);var t=s(this);if(S)return void 0===e?y(t):y(t,e);var n,i,r=[],u=o(t);for(i=0;i<u;i++)i in t&&v(r,t[i]);for(d(r,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:l(t)>l(n)?1:-1}}(e)),n=r.length,i=0;i<n;)t[i]=r[i++];for(;i<u;)c(t,i++);return t}})},function(e,t,n){"use strict";n(6),n(13);t.a=e=>e.filter(":not(.example)")},function(e,t,n){var i=n(126),r=n(77),a=n(94),s=n(28)("iterator");e.exports=function(e){if(null!=e)return r(e,s)||r(e,"@@iterator")||a[i(e)]}},function(e,t,n){"use strict";var i=n(179);t.a=e=>{e.removeClass("selected"),Object(i.a)(e)}},function(e,t,n){var i=n(186),r=n(139).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},function(e,t,n){var i=n(85),r=Math.max,a=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):a(n,t)}},function(e,t,n){var i=n(41),r=n(24),a=n(68),s=n(137),o=n(269),c=s("IE_PROTO"),l=Object,u=l.prototype;e.exports=o?l.getPrototypeOf:function(e){var t=a(e);if(i(t,c))return t[c];var n=t.constructor;return r(n)&&t instanceof n?n.prototype:t instanceof l?u:null}},function(e,t,n){var i=n(24),r=n(43),a=n(105);e.exports=function(e,t,n){var s,o;return a&&i(s=t.constructor)&&s!==n&&r(o=s.prototype)&&o!==n.prototype&&a(e,o),e}},function(e,t,n){"use strict";var i=n(50),r=n(49),a=n(28),s=n(42),o=a("species");e.exports=function(e){var t=i(e),n=r.f;s&&t&&!t[o]&&n(t,o,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";n(6),n(13),n(11);t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.find("input,select,textarea,[tabindex],a[href],button").filter(":not(:disabled)");return t?n:n.filter(':not([tabindex="-1"])')}},function(e,t,n){"use strict";t.a=e=>e.closest(".collapsibleList")},function(e,t,n){var i=n(26),r=n(253),a=n(28)("species");e.exports=function(e,t){var n,s=i(e).constructor;return void 0===s||null==(n=i(s)[a])?t:r(n)}},function(e,t,n){var i=n(20),r=0,a=Math.random(),s=i(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++r+a,36)}},function(e,t,n){var i=n(41),r=n(266),a=n(129),s=n(49);e.exports=function(e,t,n){for(var o=r(t),c=s.f,l=a.f,u=0;u<o.length;u++){var d=o[u];i(e,d)||n&&i(n,d)||c(e,d,l(t,d))}}},function(e,t,n){var i=n(26),r=n(189);e.exports=function(e,t,n,a){try{return a?t(i(n)[0],n[1]):t(n)}catch(t){r(e,"throw",t)}}},function(e,t,n){var i=n(20),r=n(21),a=n(24),s=n(126),o=n(50),c=n(111),l=function(){},u=[],d=o("Reflect","construct"),h=/^\s*(?:class|function)\b/,f=i(h.exec),p=!h.exec(l),m=function(e){if(!a(e))return!1;try{return d(l,u,e),!0}catch(e){return!1}},g=function(e){if(!a(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(h,c(e))}catch(e){return!0}};g.sham=!0,e.exports=!d||r((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?g:m},function(e,t,n){"use strict";var i=n(112).IteratorPrototype,r=n(89),a=n(88),s=n(127),o=n(94),c=function(){return this};e.exports=function(e,t,n,l){var u=t+" Iterator";return e.prototype=r(i,{next:a(+!l,n)}),s(e,u,!1,!0),o[u]=c,e}},function(e,t,n){var i=n(42),r=n(23),a=n(20),s=n(140),o=n(160),c=n(44),l=n(157).f,u=n(75),d=n(199),h=n(61),f=n(200),p=n(195),m=n(198),g=n(54),b=n(21),y=n(41),v=n(63).enforce,w=n(161),k=n(28),x=n(143),S=n(196),O=k("match"),C=r.RegExp,T=C.prototype,P=r.SyntaxError,A=a(T.exec),I=a("".charAt),j=a("".replace),E=a("".indexOf),L=a("".slice),R=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,M=/a/g,N=/a/g,D=new C(M)!==M,F=p.MISSED_STICKY,B=p.UNSUPPORTED_Y,U=i&&(!D||F||x||S||b((function(){return N[O]=!1,C(M)!=M||C(N)==N||"/a/i"!=C(M,"i")})));if(s("RegExp",U)){for(var _=function(e,t){var n,i,r,a,s,l,p=u(T,this),m=d(e),g=void 0===t,b=[],w=e;if(!p&&m&&g&&e.constructor===_)return e;if((m||u(T,e))&&(e=e.source,g&&(t=f(w))),e=void 0===e?"":h(e),t=void 0===t?"":h(t),w=e,x&&"dotAll"in M&&(i=!!t&&E(t,"s")>-1)&&(t=j(t,/s/g,"")),n=t,F&&"sticky"in M&&(r=!!t&&E(t,"y")>-1)&&B&&(t=j(t,/y/g,"")),S&&(e=(a=function(e){for(var t,n=e.length,i=0,r="",a=[],s={},o=!1,c=!1,l=0,u="";i<=n;i++){if("\\"===(t=I(e,i)))t+=I(e,++i);else if("]"===t)o=!1;else if(!o)switch(!0){case"["===t:o=!0;break;case"("===t:A(R,L(e,i+1))&&(i+=2,c=!0),r+=t,l++;continue;case">"===t&&c:if(""===u||y(s,u))throw new P("Invalid capture group name");s[u]=!0,a[a.length]=[u,l],c=!1,u="";continue}c?u+=t:r+=t}return[r,a]}(e))[0],b=a[1]),s=o(C(e,t),p?this:T,_),(i||r||b.length)&&(l=v(s),i&&(l.dotAll=!0,l.raw=_(function(e){for(var t,n=e.length,i=0,r="",a=!1;i<=n;i++)"\\"!==(t=I(e,i))?a||"."!==t?("["===t?a=!0:"]"===t&&(a=!1),r+=t):r+="[\\s\\S]":r+=t+I(e,++i);return r}(e),n)),r&&(l.sticky=!0),b.length&&(l.groups=b)),e!==w)try{c(s,"source",""===w?"(?:)":w)}catch(e){}return s},G=l(C),$=0;G.length>$;)m(_,C,G[$++]);T.constructor=_,_.prototype=T,g(r,"RegExp",_,{constructor:!0})}w("RegExp")},function(e,t,n){var i=n(42),r=n(143),a=n(67),s=n(241),o=n(63).get,c=RegExp.prototype,l=TypeError;i&&r&&s(c,"dotAll",{configurable:!0,get:function(){if(this!==c){if("RegExp"===a(this))return!!o(this).dotAll;throw l("Incompatible receiver, RegExp required")}}})},function(e,t,n){"use strict";var i=n(19),r=n(295),a=n(68),s=n(62),o=n(85),c=n(193);i({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),n=s(t),i=c(t,0);return i.length=r(i,t,t,n,0,void 0===e?1:o(e)),i}})},function(e,t,n){n(144)("flat")},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(17);function r(e){return"y"===(Object(i.a)(e,"data-mobileDragDrop")||"n")}},function(e,t,n){"use strict";t.a=e=>e.hasClass("selected")},function(e,t,n){"use strict";var i=n(154),r=n(119);t.a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const a=Object(i.a)(e);Object(r.a)(a,t,n)}},function(e,t,n){"use strict";t.a=e=>{e.elements.buttons.restart.disabled=!1}},function(e,t,n){"use strict";t.a=e=>{e.removeClass("collapsed")}},function(e,t,n){"use strict";var i=n(174),r=n(175),a=n(4);t.a=e=>{const t=Object(a.i)(e);if(!Object(i.a)(t))return;const n=Object(r.a)(e);t.toggleClass("clickAndStickableItemSelected",n)}},function(e,t,n){"use strict";var i=n(19),r=n(66),a=n(35),s=n(26);i({target:"Iterator",proto:!0,real:!0,forced:!0},{every:function(e){return s(this),a(e),!r(this,(function(t,n){if(!e(t))return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},function(e,t,n){"use strict";var i=n(152),r=n(29),a=n(4),s=n(209);var o=e=>"".concat(e.attr("data-levelassetsurl")||"","/audio/"),c=n(90);t.a=(e,t,n)=>{const l=Object(i.a)(e),u=Object(r.a)();let d="",h="",f=t.audioQueue.length>0?t.audioQueue.shift():"";if(""===f)return{type:"audio",title:"no audio file"};l!==c.a.capePreview&&(d=o(e),h=u.mediaFormats.audio.format,f=Object(a.k)(f)+".");const p=Object(s.a)();return{type:"audio",title:"playing audio",sources:[{src:"".concat(n?d:"").concat(f).concat(h),type:p}]}}},function(e,t,n){var i=n(133);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var i=n(42),r=n(21),a=n(110);e.exports=!i&&!r((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var i=n(42),r=n(21);e.exports=i&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(e,t,n){var i=n(21),r=n(24),a=n(41),s=n(42),o=n(132).CONFIGURABLE,c=n(111),l=n(63),u=l.enforce,d=l.get,h=Object.defineProperty,f=s&&!i((function(){return 8!==h((function(){}),"length",{value:8}).length})),p=String(String).split("String"),m=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||o&&e.name!==t)&&h(e,"name",{value:t,configurable:!0}),f&&n&&a(n,"arity")&&e.length!==n.arity&&h(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var i=u(e);return a(i,"source")||(i.source=p.join("string"==typeof t?t:"")),e};Function.prototype.toString=m((function(){return r(this)&&d(this).source||c(this)}),"toString")},function(e,t,n){var i=n(20),r=n(41),a=n(93),s=n(187).indexOf,o=n(138),c=i([].push);e.exports=function(e,t){var n,i=a(e),l=0,u=[];for(n in i)!r(o,n)&&r(i,n)&&c(u,n);for(;t.length>l;)r(i,n=t[l++])&&(~s(u,n)||c(u,n));return u}},function(e,t,n){var i=n(93),r=n(158),a=n(62),s=function(e){return function(t,n,s){var o,c=i(t),l=a(c),u=r(s,l);if(e&&n!=n){for(;l>u;)if((o=c[u++])!=o)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},function(e,t,n){var i=n(50);e.exports=i("document","documentElement")},function(e,t,n){var i=n(34),r=n(26),a=n(77);e.exports=function(e,t,n){var s,o;r(e);try{if(!(s=a(e,"return"))){if("throw"===t)throw n;return n}s=i(s,e)}catch(e){o=!0,s=e}if("throw"===t)throw n;if(o)throw s;return r(s),n}},function(e,t,n){"use strict";var i=n(34),r=n(35),a=n(26),s=n(89),o=n(44),c=n(239),l=n(28),u=n(63),d=n(77),h=n(112).IteratorPrototype,f=u.set,p=u.getterFor("IteratorProxy"),m=l("toStringTag");e.exports=function(e,t){var n=function(e){e.type="IteratorProxy",e.next=r(e.iterator.next),e.done=!1,e.ignoreArg=!t,f(this,e)};return n.prototype=c(s(h),{next:function(n){var r=p(this),a=arguments.length?[r.ignoreArg?void 0:n]:t?[]:[void 0];r.ignoreArg=!1;var s=r.done?void 0:i(e,r,a);return{done:r.done,value:s}},return:function(e){var t=p(this),n=t.iterator;t.done=!0;var r=d(n,"return");return{done:!0,value:r?a(i(r,n,e)).value:e}},throw:function(e){var t=p(this),n=t.iterator;t.done=!0;var r=d(n,"throw");if(r)return i(r,n,e);throw e}}),t||o(n.prototype,m,"Generator"),n}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var i=n(110)("span").classList,r=i&&i.constructor&&i.constructor.prototype;e.exports=r===Object.prototype?void 0:r},function(e,t,n){var i=n(272);e.exports=function(e,t){return new(i(e))(0===t?0:t)}},function(e,t,n){"use strict";var i=n(26);e.exports=function(){var e=i(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var i=n(21),r=n(23).RegExp,a=i((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),s=a||i((function(){return!r("a","y").sticky})),o=a||i((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:o,MISSED_STICKY:s,UNSUPPORTED_Y:a}},function(e,t,n){var i=n(21),r=n(23).RegExp;e.exports=i((function(){var e=r("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(e,t,n){var i=n(49).f;e.exports=function(e,t,n){n in e||i(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},function(e,t,n){var i=n(43),r=n(67),a=n(28)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==r(e))}},function(e,t,n){var i=n(34),r=n(41),a=n(75),s=n(194),o=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in o||r(e,"flags")||!a(o,e)?t:i(s,e)}},function(e,t,n){"use strict";var i=n(242).charAt;e.exports=function(e,t,n){return t+(n?i(e,t).length:1)}},function(e,t,n){var i=n(34),r=n(26),a=n(24),s=n(67),o=n(142),c=TypeError;e.exports=function(e,t){var n=e.exec;if(a(n)){var l=i(n,e,t);return null!==l&&r(l),l}if("RegExp"===s(e))return i(o,e,t);throw c("RegExp#exec called on incompatible receiver")}},function(e,t,n){var i=n(20);e.exports=i([].slice)},function(e,t,n){var i,r,a,s,o=n(23),c=n(78),l=n(87),u=n(24),d=n(41),h=n(21),f=n(188),p=n(203),m=n(110),g=n(245),b=n(205),y=n(108),v=o.setImmediate,w=o.clearImmediate,k=o.process,x=o.Dispatch,S=o.Function,O=o.MessageChannel,C=o.String,T=0,P={};try{i=o.location}catch(e){}var A=function(e){if(d(P,e)){var t=P[e];delete P[e],t()}},I=function(e){return function(){A(e)}},j=function(e){A(e.data)},E=function(e){o.postMessage(C(e),i.protocol+"//"+i.host)};v&&w||(v=function(e){g(arguments.length,1);var t=u(e)?e:S(e),n=p(arguments,1);return P[++T]=function(){c(t,void 0,n)},r(T),T},w=function(e){delete P[e]},y?r=function(e){k.nextTick(I(e))}:x&&x.now?r=function(e){x.now(I(e))}:O&&!b?(s=(a=new O).port2,a.port1.onmessage=j,r=l(s.postMessage,s)):o.addEventListener&&u(o.postMessage)&&!o.importScripts&&i&&"file:"!==i.protocol&&!h(E)?(r=E,o.addEventListener("message",j,!1)):r="onreadystatechange"in m("script")?function(e){f.appendChild(m("script")).onreadystatechange=function(){f.removeChild(this),A(e)}}:function(e){setTimeout(I(e),0)}),e.exports={set:v,clear:w}},function(e,t,n){var i=n(69);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},function(e,t,n){var i=n(92),r=n(258),a=n(95).CONSTRUCTOR;e.exports=a||!r((function(e){i.all(e).then(void 0,(function(){}))}))},function(e,t,n){"use strict";var i=n(17);t.a=e=>"y"===Object(i.a)(e,"data-fixedWordPools")},function(e,t,n){"use strict";var i=n(36);t.a=e=>{e.elements.volume?e.elements.volume.hidden=Object(i.c)():e.elements.inputs.volume&&(e.elements.inputs.volume.hidden=Object(i.c)()),e.elements.buttons.mute.hidden=!1}},function(e,t,n){"use strict";var i=n(29);t.a=()=>{var e;const t=Object(i.a)(),n=t.mediaFormats.audio.format,r=null===(e=t.mediaMappings)||void 0===e?void 0:e[n];return n||t.mediaMappings?"mp3"===r?"audio/mp3":"audio/ogg":"audio/mp3"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(17);function r(e){return i.a(e,"data-pointsAvailable")}},function(e,t,n){"use strict";var i=n(45),r=n(29);t.a=e=>{const t=Object(r.a)(),n=t.randomizeAnswersOnScreen&&t.randomizeAnswersOnScreen!==i.a.NONE,a=e.attr("data-randomizeItems")||!1;return a!==i.a.NONE&&(!!n||!!a)}},function(e,t,n){"use strict";t.a=e=>"y"===e.attr("data-sortItemsAlphabetically")},function(e,t,n){"use strict";n(59),n(100);var i=n(76),r=n.n(i);t.a=e=>{r()(e,{sortFunction:(e,t)=>{const n=e.elm.textContent.replace(/\s/g,"").replace(/\\n/g,""),i=t.elm.textContent.replace(/\s/g,"").replace(/\\n/g,"");return n.toUpperCase()<i.toUpperCase()?-1:n.toUpperCase()>i.toUpperCase()?1:n<i?-1:0}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(17);function r(e){return i.a(e,"data-teacherPointsAvailable")}},,,,,,,,,,,,function(e,t,n){"use strict";n(25);var i=n(5),r=n.n(i);n(6),n(11);function a(e){return e.$wordBox.find("li")}var s=n(99),o=n(4);var c=n(10),l=n(73);var u=e=>{const t=e.find("button.toggle-collapsibleWordBox");t.off("click"),t.on("click",()=>{e.toggleClass("collapsed"),Object(l.a)(e)})};var d=e=>{let t=e.find("li.active:not(.ui-draggable-dragging)");return Object(o.y)(t)&&(t=e.find("li:not(.dragged,.example):first")),t};var h=e=>{const t=e.closest(".wordBox"),n=t.find("button.previousItem"),i=t.find("button.nextItem"),r=n.find("span"),a=i.find("span"),s=e.prevAll("li:not(.dragged)").length,o=e.nextAll("li:not(.dragged,.ui-draggable-dragging)").length;n.toggleClass("active",s>0),i.toggleClass("active",o>0),r.text(s),a.text(o)};var f=e=>{e.closest(".wordBox").find("li.active").removeClass("active"),e.addClass("active"),h(e)};var p=e=>{const t=e.find("button.nextItem");t.off("click"),t.on("click",()=>{const t=d(e).nextAll(":not(.dragged):first");f(t)})};var m=e=>{const t=e.find("button.previousItem");t.off("click"),t.on("click",()=>{const t=d(e).prevAll(":not(.dragged):first");f(t)})};var g=e=>{u(e),p(e),m(e)},b=n(17);var y=e=>"y"===Object(b.a)(e,"data-stickywordpools");var v=e=>"y"===Object(b.a)(e,"data-collapsibleWordPools"),w=n(36);function k(e,t,n){e.$wordBox=t,e.parentSelector=n;const i=Object(o.i)(t),l=v(i);if(y(i)&&t.addClass("stickyWordBox"),function(e){a(e).each((e,t)=>{const n=r()(t),i=Object(o.v)(n)||"";Object(s.c)(n,"wordItemID",i)})}(e),l){g(t);const e=!Object(w.b)();t.toggleClass("collapsed",e)}setTimeout(()=>{c.b(c.a.wordBoxInitialSize,t)})}var x=e=>{e.removeAttr("data-rank"),e.removeAttr("data-addedrank")},S=n(211),O=n(212),C=n(213);var T=e=>{const{$wordBox:t}=e,n=t.find("ul li");Object(C.a)(n)};var P=e=>{const t=Object(o.i)(e.$wordBox),n=e.$wordBox.closest(".itemBasedQuestion");let i="";Object(o.y)(n)||(i=Object(o.v)(n)||"");const r=e.$wordBox.find("ul"),a=r.find("li");Object(O.a)(t)?T(e):(Object(S.a)(t)&&x(a),Object(o.G)(r,"li",i));const s=d(e.$wordBox);s.addClass("active"),h(s)};function A(e){return!!e.attr("data-restrictcount")}function I(e){return e.hasClass("complex")}var j=n(71);function E(e){return parseInt(e.attr("data-restrictcount")||0)}function L(e,t){const n=E(e);t>n&&(t=n),e.attr("data-displaycount",t)}function R(e){const t=E(e);return parseInt(e.attr("data-displaycount")||t)}function M(e,t){Object(o.y)(t)||(Object(s.c)(t,"moved",""),setTimeout(()=>{c.b(c.a.wordBoxContentsChanged,e.$wordBox)}),A(t)?function(e){let t=R(e);t<1||(--t,Object(j.a)(e,t<1),L(e,t))}(t):I(t)||Object(j.a)(t))}var N=e=>e.hasClass("collapsibleWordBox");n(13);function D(e){a(e).each((function(){const t=r()(this);let n=0;const i=E(t),a=function(e,t){const n=function(e){return e.$wordBox.closest(e.parentSelector).find(".rcfDroppable .dragTarget:not(.example)")}(e).filter(".populated"),i=Object(o.v)(t)||"";let a=0;return n.each((function(){r()(this).data("wordItemID")===i&&a++})),a}(e,t);i>0?(n=i-a,L(t,n),Object(j.a)(t,n<1)):a>0&&Object(j.a)(t,!0)}))}var F=e=>{if(I(e)&&A(e)&&R(e)>0)return r()([]);e.removeClass("active");let t=e.nextAll("li:not(.dragged,.ui-draggable-dragging):first");return Object(o.y)(t)&&(t=e.prevAll(":not(.dragged):first")),t};var B=e=>{const t=F(e);Object(o.y)(t)||f(t)},U=n(156);var _=e=>{const t=e.closest(".wordBox").find("li.active");Object(o.y)(t)&&(e.addClass("active"),h(t))};function G(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return $}));class ${constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".activity";G(this,"$wordBox",void 0),G(this,"parentSelector",void 0);k(this,e,t)}randomizeItems(){P(this)}getWordItem(e){return function(e,t){return t?e.$wordBox.find('li[data-rcfid="'.concat(t,'"]')):r()([])}(this,e)}getWordItems(){return a(this)}removeWordItem(e){M(this,e)}addWordItem(e){!function(e,t){if(!t)return;const n=e.$wordBox;if(t.data("moved","N").removeClass("dragged"),N(n)){const e=d(n);h(e)}if(setTimeout(()=>{c.b(c.a.wordBoxContentsChanged,n)}),!A(t))return;const i=E(t);if(i<1)return;let r=R(t);r<i&&L(t,++r)}(this,e)}setNextWordItemActive(e){N(this.$wordBox)&&B(e)}makeItemActiveIfNoneAlreadyActive(e){_(e)}updateRestrictionCounts(){D(this)}reset(){!function(e){const t=a(e),n=e.$wordBox;if(Object(U.a)(t),t.removeClass("dragged active").data("moved","N").each((function(){const e=r()(this);L(e,E(e))})),N(n)){const e=d(n);e.addClass("active"),h(e)}}(this)}}},function(e,t,n){"use strict";n(32),n(106),n(6),n(11),n(48),n(33);var i=n(5),r=n.n(i);n(13);var a=e=>e.filter("[data-rank]");var s=e=>e.filter(":not([data-rank])"),o=n(4);t.a=e=>{const t=a(e);if(t.length===e.length)return;const n=[...Array.from({length:e.length},(e,t)=>t+1)],i=t.get().map(e=>Number(r()(e).attr("data-rank"))),c=n.filter(e=>!i.find(t=>t===e));let l=Object(o.J)(c);if(c.length>1)for(;JSON.stringify(l)===JSON.stringify(c);)l=Object(o.J)(c);const u=s(e);u.attr("data-addedrank","y"),u.attr("data-rank",e=>l[e])}},function(e){e.exports=JSON.parse('{"translation":{"interactions":{"audioplayer":{"mute":"mute","pause":"pause","play":"play","record":"record","recordingIndicator":"REC","stop":"stop","subtitles":"subtitles","unmute":"unmute","seek":"seek","currentTime":"Current time","duration":"Duration","volume":"Volume","enableCaptions":"Show captions","disableCaptions":"Hide captions"},"blendedFlashcards":{"audio":{"clickToPlay":"audio, click to play"},"flashcardOf":{"flashcard":"Flashcard","of":"of"},"full":{"activated":"Full layout activated","ariaLabel":"","caption":"Full"},"grid":{"activated":"Grid layout activated","ariaLabel":"","caption":"Grid"},"hideAll":{"activated":"Hide all content activated","ariaLabel":"","caption":"Hide all"},"image":{"activated":"Show image activated","ariaLabel":"","caption":"Image","hidden":"Image, hidden, click to reveal","revealed":"Image, revealed"},"pagination":{"selected":"selected","clickToSelect":"click to select","previousFlashcard":"previous Flashcard","nextFlashcard":"next Flashcard"},"showAll":{"activated":"Show all content activated","ariaLabel":"","caption":"Show all"},"shuffle":{"caption":"Shuffle","shuffled":"Flashcards shuffled"},"single":{"activated":"Single layout activated","ariaLabel":"","caption":"Single"},"text":{"activated":"Show text activated","ariaLabel":"","caption":"Text","hidden":"Text, hidden, click to reveal","revealed":"Text, revealed"}},"collapsibleBlock":{"whenOpened":"Close","whenClosed":"Open","show":"Show","hide":"Hide"},"collapsibleList":{"showOneByOne":"Show one by one","showAll":"Show all"},"colouring":{"playClue":"Play clue"},"compositeScene":{"playClue":"Play clue"},"crossword":{"across":"Across","down":"Down"},"dropDown":{"clearOption":"Clear option"},"droppable":{"dropTarget":{"title":"drag and drop gap","empty":"empty"},"dragItem":{"ariaRoleDescription":"draggable"},"exampleDropTarget":{"title":"Example drag and drop gap"},"screenReader":{"selectedItem":"\'answer {{itemText}}\', selected. Use the right arrow key to navigate between the available gaps and place this answer.","selectedEmptyTarget":"\'{{targetTitle}}\', selected. Use the down arrow key to navigate a list of possible answers","selectedPopulatedTarget":"\'{{targetTitle}}\' with answer \'{{itemText}}\', selected. Use the down arrow key to chose a different answer, or left and right arrows to move this answer to a different gap","deselectedItem":"\'answer {{itemText}}\', deselected","deselectedEmptyTarget":"\'{{targetTitle}}\', deselected ","deselectedPopulatedTarget":"\'{{targetTitle}}\' with answer \'{{itemText}}\', deselected","dropItemInEmptyTarget":"\'{{targetTitle}}\', place answer \'{{placeholderText}}\' in this gap","dropItemInPopulatedTarget":"\'{{targetTitle}}\', replace answer \'{{targetText}}\' with new answer \'{{placeholderText}}\'","droppedItemInEmptyTarget":"\'answer {{itemText}}\', placed  in  empty \'{{targetTitle}}\'","droppedItemInPopulatedTarget":"\'answer {{targetText}}\', replaced with answer \'{{itemText}}\' for \'{{targetTitle}}\'","clearedItemFromPopulatedTarget":"\'answer {{itemText}}\', removed from \'{{targetTitle}}\'"}},"fiabGames":{"wellDone":"Well done!","playerWins":"Player {PLAYER_NAME} wins!","youGotPoints":"You got {points} points!","youGot1Point":"You got 1 point.","gameNotCompatibleWithSR":"We\'re sorry, this game is not compatible with screen readers. It is optional and does not affect your grades.","gameOver":"Game over!","gamePaused":"Game paused","playerCountScreenPrompt":"How many players?","characterSelectionScreenSoloPlayer":"Choose your avatar.","characterSelectionScreenMultiPlayer":"Choose your avatars.","selectRoundsScreenPrompt":"How many rounds?","startingPlayerScreenPrompt":"Choose a player to go first.","activitySelectorScreenPrompt":"Spin the wheel, {PLAYER_NAME}.","activityResultNormalOutcome":"Activity completed by {PLAYER_NAME}.","activityResultSlimeOutcome":"Oh no! Slime added to {PLAYER_NAME}!","gameResultScreenPromptWinSolo":"You win! Congratulations!","gameResultScreenPromptLossSolo":"Oh no! Prepare to be slimed!","gameResultScreenPromptMultipleAllLosers":"Oh no! Prepare to be slimed!","winners":"You win! Congratulations {PLAYER_NAME}!","winner":"You win! Congratulations {PLAYER_NAME}!","player":"Player","playerName":"Player {PLAYER_NAME}","exitPrompt":"Are you sure you want to exit?","answerLabel1":"A","answerLabel2":"B","answerLabel3":"C","answerLabel4":"D","slimeFinished":"You were slimed!","slimeFinishedMulti":"You were all slimed!","slimeAddedTo":"Slime added to {PLAYER_NAME}!","readyPlayer":"Ready player {PLAYER_NAME}.","go":"Go!","allLivesLost":"You lost all your lives.","points":"points","1point":"1 point","howManyCubes":"Select the number of story cubes","howManySections":"How many sections do you want?","tie":"It\'s a tie!","timesUp":"Time\'s up!"},"flashcard":{"menu":"menu","off":"off","on":"on","settings":"Settings","showNext":"Show next"},"freeDrawing":{"clearDrawing":"Are you sure you want to clear your drawing?","brushSize":{"thin":"Thin","medium":"Medium","thick":"Thick"},"pen":"pen","highlighter":"highlighter","penSize":"pen size","clear":"clear drawing","undo":"undo","redo":"redo","color1":"colour 1","color2":"colour 2","color3":"colour 3","color4":"colour 4","color5":"colour 5","colorPicker":"free colour selector wheel","supplementaryAnswer":{"ariaLabel":" ","captionWhenClosed":"Supplementary text answer","captionWhenOpened":"Hide text answer"}},"hangman":{"triesRemaining":"Tries remaining"},"highlightingTextBlock":{"colorButton1Caption":"Colour 1","colorButton2Caption":"Colour 2","colorButton3Caption":"Colour 3","colorButton4Caption":"Colour 4","highlightedWith":"Highlighted with colour {{color}}","removeSelectionClick":"click to remove","removeSelectionTouch":"touch to remove","toolsButtonClosed":"Activate and show highlighting menu","toolsButtonOpen":"Deactivate and hide highlighting menu"},"hints":{"whenOpened":"Hide","whenClosed":"Hints"},"interactiveImage":{"flash":"Flash","reveal":"Reveal"},"maths":{"division":{"remainder":"Remainder"},"workingRow":"Working row"},"ordering":{"instructions":{"imageAudio":"Use the Arrow Keys to navigate the items. Press Enter to play the audio. Press Spacebar to select an item, use the Arrow Keys to move it, and press Spacebar again to place it.","regular":"Use the Arrow Keys to navigate the items. Press Spacebar to select an item, use the Arrow Keys to move it, and press Spacebar again to place it."},"screenReader":{"endOfList":"End of the list, deselect to drop item in position.","fixedItem":"is a fixed item and cannot be moved.","itemSelected":"selected. Use arrow keys to move this item in the sequence.","moveCancelled":"Move cancelled.","movedToPosition":"{{orderingItemText}} moved to position {{newPosition}} of {{totalItems}}, deselect to drop item in position","newOrder":"New order","orderingListLabel":"Ordering list","outOf":" out of "}},"panzoom":{"close":"Close fullscreen image view","closeDescription":"Close image\'s description","instruction":"Image with pan zoom interface:","openDescription":"Show image description","openPopup":"Open image in fullscreen popup with zoom features","reset":"Reset zoom to original size","zoomIn":"Zoom in","zoomOut":"Zoom out","zoomRangeSlider":"Adjust zoom level"},"pelmanism":{"attempts":"Attempts:","reshuffle":"Reshuffle"},"presentationWithReferenceContent":{"ariaLabel":"show/hide content","whenOpened":"Hide content","whenClosed":"Show content"},"rotatingMatching":{"connect":"connect","disconnect":"disconnect"},"slidingBlock":{"buttonCaption":"Read"},"slidingPanel":{"close":"Close"},"spellingBee":{"keyboard":{"hyphen":"hyphen","space":"space","backspace":"backspace","moreAccents":"more accents"}},"story":{"read":"Read","listen":"Listen","listenAndRead":"Listen and Read"},"teacherGradedTask":{"teacherComment":"Teacher comment"},"typein":{"hint":"hint","example":"example type-in answer","preset":"edit preset answer","standard":"type-in gap","empty":"empty answer"},"verticalCrossword":{"clue":"Clue","crossingWordContainer":"crossing word clue","blank":"blank"},"videoPlayer":{"restart":"Restart","rewind":"Rewind {seektime}s","play":"Play","pause":"Pause","fastForward":"Forward {seektime}s","seek":"Seek","seekLabel":"{currentTime} of {duration}","played":"Played","buffered":"Buffered","currentTime":"Current time","duration":"Duration","volume":"Volume","mute":"Mute","unmute":"Unmute","enableCaptions":"Enable captions","disableCaptions":"Disable captions","download":"Download","enterFullscreen":"Enter fullscreen","exitFullscreen":"Exit fullscreen","frameTitle":"Player for {title}","captions":"Captions","settings":"Settings","pip":"PIP","menuBack":"Go back to previous menu","speed":"Speed","normal":"Normal","quality":"Quality","loop":"Loop","start":"Start","end":"End","all":"All","reset":"Reset","disabled":"Disabled","enabled":"Enabled","advertisement":"Ad","qualityBadge":{"480":"SD","576":"SD","720":"HD","1080":"HD","1440":"HD","2160":"4K"},"audioDescriptionsDisabled":"Audio description not available or required.","enableAudioDescriptions":"Enable audio descriptions.","disableAudioDescriptions":"Disable audio descriptions.","audioDescriptionsTitle":"When enabled, audio descriptions are read by the browser’s synthetic voice.","audioDescriptionInfoBlock":"Audio descriptions are displayed as on-screen captions to allow editorial review in CAPE."},"openGradable":{"answerModelClosed":"Show answer model","answerModelOpened":"Hide answer model"},"writing":{"feedbackTitle":"Enter your feedback","teacherFeedbackTitle":"Teacher feedback"}},"components":{"button":{"back":"Back","cancel":"Cancel","next":"Next","previous":"Previous","ok":"Ok","replayGame":"Play again","reset":"Reset","reveal":"Reveal","start":"Start","startGame":"Start game","tryAgain":"Try again","resumeGame":"Resume game"},"feedback":{"label":"Feedback:"},"label":{"assignOnePoint":"Assign up to 1 point.","assignUpTo":"Assign up to","clear":"(Clear)","correct":"Correct!","feedback":"Feedback","gameOver":"Game Over","markingGuidance":"Marking guidance:","modelAnswer":"Model answer:","noMarks":"no marks","openGradableTeacherScoreInput":"Score","outOf":" out of ","points":"points","points_one":"point","points_other":"points","provideRecordedFeedback":"Provide recorded feedback for this recording. (Optional)","provideWrittenFeedback":"Provide written feedback for this recording. (Optional)","record":"Record","score":"Score","scoreTab":"Score","scoreThisRecording":"Score this recording","totalScore":"Total score:","wellDone":"Well Done!","youGot":"You got"},"list":{"listItemsNavigation":"List items navigation","nextItem":"Next item","previousItem":"Previous item"},"marking":{"correct":"Correct","incorrect":"Incorrect"},"markup":{"phons":{"label":"phonetic pronunciation"}},"userIcons":{"studentRecordedAnswer":"Student\'s recorded answer","studentRecordedAudio":"Student\'s recorded answer","teachersRecordedFeedback":"Teacher\'s recorded feedback","teachersWrittenFeedback":"Teacher\'s written feedback"}}}}')},function(e){e.exports=JSON.parse('{"translation":{"interactions":{"audioplayer":{"mute":"silenciar","pause":"pausar","play":"reproducir","record":"grabar","recordingIndicator":"REC","stop":"detener","subtitles":"subtítulos","unmute":"desilenciar","seek":"buscar","currentTime":"Tiempo actual","duration":"Duración","volume":"Volumen","enableCaptions":"Mostrar subtítulos","disableCaptions":"Ocultar subtítulos"},"blendedFlashcards":{"audio":{"clickToPlay":"audio, haz clic para reproducir"},"flashcardOf":{"flashcard":"Flashcard","of":"de"},"full":{"activated":"\\"Vista de tarjeta: completa\\" activada ","ariaLabel":"","caption":"1 a 1"},"grid":{"activated":"\\"Vista de tarjetas: en cuadrícula\\" activada","ariaLabel":"","caption":"Grilla"},"hideAll":{"activated":"Modo de tarjeta \\"ocultar todo\\" activado","ariaLabel":"","caption":"Ocultar todo"},"image":{"activated":"Modo de tarjeta \\"mostrar imágenes\\" activado","ariaLabel":"","caption":"Mostrar imágen","hidden":"Imagen, oculta, haz clic para mostrar","revealed":"imagen, mostrada"},"pagination":{"selected":"seleccionada","clickToSelect":"haz clic para seleccionar","previousFlashcard":"anterior Flashcard","nextFlashcard":"siguiente Flashcard"},"showAll":{"activated":"Modo de tarjeta \\"mostrar todo\\" activado","ariaLabel":"","caption":"Mostrar todo"},"shuffle":{"caption":"Mezclar","shuffled":"Barajar tarjetas"},"single":{"activated":"\\"Vista de tarjetas: una a una\\" activada ","ariaLabel":"","caption":"Mini"},"text":{"activated":"Modo de tarjeta \\"mostrar texto\\" activado","ariaLabel":"","caption":"Mostrar texto","hidden":"Texto, oculto, haz clic para mostrar","revealed":"texto, mostrado"}},"collapsibleBlock":{"whenOpened":"Cerrar","whenClosed":"Abrir","show":"Mostrar","hide":"Ocultar"},"collapsibleList":{"showOneByOne":"Mostrar una a una","showAll":"Mostrar todas"},"colouring":{"playClue":"Pista"},"compositeScene":{"playClue":"Pista"},"crossword":{"across":"Horizontal","down":"Vertical"},"dropDown":{"clearOption":"eliminar option"},"droppable":{"dropTarget":{"title":"espacio","empty":"vacio"},"dragItem":{"ariaRoleDescription":"arrastrable"},"exampleDropTarget":{"title":"ejemplo"},"screenReader":{"selectedItem":"\'respuesta {{itemText}}\', seleccionada. Usa la flecha derecha o izquierda para navegar entre los espacios disponibles y colocar esta respuesta.","selectedEmptyTarget":"\'{{targetTitle}}\', seleccionado. Usa la flecha hacia abajo del teclado para navegar la lista de posibles respuestas.","selectedPopulatedTarget":"\'{{targetTitle}}\' con la respuesta \'{{itemText}}\', seleccionado. Usa la flecha hacia abajo para elegir una respuesta diferente, o las flechas izquierda y derecha para mover esta respuesta a otro espacio.","deselectedItem":"\'respuesta {{itemText}}\', deseleccionada","deselectedEmptyTarget":"\'{{targetTitle}}\', deseleccionado","deselectedPopulatedTarget":"\'{{targetTitle}}\' con la respuesta \'{{itemText}}\', deseleccionado","dropItemInEmptyTarget":"\'{{targetTitle}}\', coloca la respuesta \'{{placeholderText}}\' en este espacio.","dropItemInPopulatedTarget":"\'{{targetTitle}}\', reemplaza la respuesta \'{{targetText}}\' con la nueva respuesta \'{{placeholderText}}\'.","droppedItemInEmptyTarget":"\'respuesta {{itemText}}\', colocada en el espacio vacío \'{{targetTitle}}\'.","droppedItemInPopulatedTarget":"\'respuesta {{targetText}}\', reemplazada por la respuesta \'{{itemText}}\' en \'{{targetTitle}}\'.","clearedItemFromPopulatedTarget":"\'respuesta {{itemText}}\', eliminada de \'{{targetTitle}}\'."}},"fiabGames":{"wellDone":"¡Felicitaciones!","playerWins":"Jugador {PLAYER_NAME} ¡ganaste!","youGotPoints":"Obtuviste {points} puntos","youGot1Point":"Obtuviste 1 punto","gameNotCompatibleWithSR":"Lo sentimos, este juego no es compatible con lectores de pantalla. Es opcional y no afecta tus calificaciones.","gameOver":"Fin","gamePaused":"Juego pausado","playerCountScreenPrompt":"¿Cuántos jugadores?","characterSelectionScreenSoloPlayer":"Elige tu avatar","characterSelectionScreenMultiPlayer":"Elegir avatares","selectRoundsScreenPrompt":"¿Cuántas rondas?","startingPlayerScreenPrompt":"¿Quién va primero?","activitySelectorScreenPrompt":"{PLAYER_NAME} gira la rueda del barro","activityResultNormalOutcome":"¡{PLAYER_NAME} completó la ronda!","activityResultSlimeOutcome":"¡No! ¡Barro para el {PLAYER_NAME}!","gameResultScreenPromptWinSolo":"Ganaste. ¡Felicitaciones!","gameResultScreenPromptLossSolo":"¡Ay! ¡Te van a embarrar!","gameResultScreenPromptMultipleAllLosers":"¡Ay! ¡Barro para todos!","winners":"{PLAYER_NAME} ganaron. ¡Felicitaciones!","winner":"{PLAYER_NAME} ganaste. ¡Felicitaciones!","player":"Jugador","playerName":"Jugador {PLAYER_NAME}","exitPrompt":"¿Seguro que quieres salir?","answerLabel1":"A","answerLabel2":"B","answerLabel3":"C","answerLabel4":"D","slimeFinished":"¡Te embarraron!","slimeFinishedMulti":"¡Todos embarrados!","slimeAddedTo":"{PLAYER_NAME} ¡Barro!","readyPlayer":"Jugador {PLAYER_NAME}","go":"¡YA!","allLivesLost":"Perdiste todas tus vidas","points":"puntos","1point":"1 punto","howManyCubes":"¿Con cuántos dados quieres jugar?","howManySections":"¿Elige cuántas secciones quieres?","tie":"¡Es un empate!","timesUp":"Se acabó el tiempo"},"flashcard":{"menu":"menú","off":"desactivado","on":"activado","settings":"Ajustes","showNext":"Mostrar siguiente"},"freeDrawing":{"clearDrawing":"¿Estás segura de que quieres borrar tu dibujo?","brushSize":{"thin":"Fino","medium":"Medio","thick":"Grueso"},"pen":"lápiz","highlighter":"resaltador","penSize":"tamaño del lápiz","clear":"borrar dibujo","undo":"deshacer","redo":"rehacer","color1":"color 1","color2":"color 2","color3":"color 3","color4":"color 4","color5":"color 5","colorPicker":"selector color libre","supplementaryAnswer":{"ariaLabel":" ","captionWhenClosed":"Respuesta escrita suplementaria","captionWhenOpened":"Ocultar respuesta escrita"}},"hangman":{"triesRemaining":"Intentos restantes"},"highlightingTextBlock":{"colorButton1Caption":"Color 1","colorButton2Caption":"Color 2","colorButton3Caption":"Color 3","colorButton4Caption":"Color 4","highlightedWith":"Resaltado con el color {{color}}","removeSelectionClick":"seleccione para eliminar","removeSelectionTouch":"seleccione para eliminar","toolsButtonClosed":"Activar menú del resaltador","toolsButtonOpen":"Desactivar menú del resaltador"},"hints":{"whenOpened":"Ocultar","whenClosed":"Pistas"},"interactiveImage":{"flash":"Flash","reveal":"Mostrar"},"maths":{"division":{"remainder":"resto"},"workingRow":"línea de solución"},"ordering":{"instructions":{"imageAudio":"Usa las teclas de flecha para navegar por los elementos. Presiona Enter para reproducir el audio. Presiona la barra espaciadora para seleccionar un elemento, usa las teclas de flecha para moverlo y presiona la barra espaciadora de nuevo para colocarlo.","regular":"Usa las teclas de flecha para navegar por los elementos. Presiona la barra espaciadora para seleccionar un elemento, usa las teclas de flecha para moverlo y presiona la barra espaciadora de nuevo para colocarlo."},"screenReader":{"endOfList":"Fin de la lista, deselecciona para posicionar el item en la sequencia.","fixedItem":"es un elemento fijo y no se puede mover.","itemSelected":"seleccionado. Usa las flecha derecha o izquierda para mover este item en la secuencia.","moveCancelled":"Movimiento cancelado.","movedToPosition":"{{orderingItemText}} movido a la posición {{newPosition}} de {{totalItems}}, deselecciona para posicionar el item en la sequencia.","newOrder":"Nuevo orden","orderingListLabel":"Lista de ordenamiento","outOf":" de "}},"panzoom":{"close":"Cerrar vista de imagen en pantalla completa","closeDescription":"Ocultar descripción de imagen","instruction":"Imagen con interfaz controls:","openDescription":"Mostrar descripción de la imagen","openPopup":"Ver imagen en pantalla completa con zoom","reset":"Restablecer zoom al tamaño original","zoomIn":"Acercar imagen","zoomOut":"Alejar imagen","zoomRangeSlider":"Nivel de zoom de la imagen"},"pelmanism":{"attempts":"Intentos:","reshuffle":"Barajar"},"presentationWithReferenceContent":{"ariaLabel":"mostrar/ocultar contenido","whenOpened":"Ocultar contenido","whenClosed":"Mostrar contenido"},"rotatingMatching":{"connect":"conectar","disconnect":"desconectar"},"slidingBlock":{"buttonCaption":"Leer"},"slidingPanel":{"close":"Cerrar"},"spellingBee":{"keyboard":{"hyphen":"guión","space":"espacio","backspace":"borrar","moreAccents":"letras acentuadas"}},"story":{"read":"Leer","listen":"Escuchar","listenAndRead":"Leer y escuchar"},"teacherGradedTask":{"teacherComment":"Comentarios del profesor"},"typein":{"hint":"pista","example":"ejemplo de respuesta escrita","preset":"respuesta editable","standard":"espacio para escribir","empty":"respuesta vacía"},"verticalCrossword":{"clue":"Pista","crossingWordContainer":"pista de palabra cruzada","blank":"blank"},"videoPlayer":{"restart":"Reanudar","rewind":"Rebobinar {seektime}s","play":"Reproducir","pause":"Pausar","fastForward":"Avanzar {seektime}s","seek":"Buscar","seekLabel":"{currentTime} de {duration}","played":"Reproducido","buffered":"Almacenado en búfer","currentTime":"Tiempo actual","duration":"Duración","volume":"Volumen","mute":"Silenciar","unmute":"Desilenciar","enableCaptions":"Mostrar subtítulos","disableCaptions":"Ocultar subtítulos","download":"Descargar","enterFullscreen":"Pantalla completa","exitFullscreen":"Salir de pantalla completa","frameTitle":"Reproducir {title}","captions":"Subtítulos","settings":"Ajustes","pip":"Pantalla en pantalla","menuBack":"Volver al menú anterior","speed":"Velocidad","normal":"Normal","quality":"Calidad","loop":"Bucle","start":"Empezar","end":"Fin","all":"Todas","reset":"Restablecer","disabled":"Desactivado","enabled":"Activado","advertisement":"Anuncio","qualityBadge":{"480":"SD","576":"SD","720":"HD","1080":"HD","1440":"HD","2160":"4K"},"audioDescriptionsDisabled":"Descripción de audio no disponible o requerida.","enableAudioDescriptions":"Activar descripción de audio.","disableAudioDescriptions":"Desactivadar descripciones de audio.","audioDescriptionsTitle":"Cuando están activadas, las descripciones de audio son leídas en voz alta por el navegador.","audioDescriptionInfoBlock":"Las descripciones de audio se muestran como subtítulos en pantalla solo para permitir la revisión editorial en CAPE."},"openGradable":{"answerModelClosed":"Mostrar respuesta modelo","answerModelOpened":"Ocultar respuesta modelo"},"writing":{"feedbackTitle":"Comentarios","teacherFeedbackTitle":"Comentarios del profesor"}},"components":{"button":{"back":"Volver","cancel":"Cancelar","next":"Siguiente","previous":"Anterior","ok":"Ok","replayGame":"Reintentar","reset":"Restablecer","reveal":"Mostrar","start":"Empezar","startGame":"Empezar el juego","tryAgain":"Repetir","resumeGame":"Reanudar el juego"},"feedback":{"label":"Comentarios:"},"label":{"assignOnePoint":"Asignar hasta 1 punto.","assignUpTo":"Asignar hasta","clear":"-","correct":"¡Correcto!","feedback":"Comentarios","gameOver":"Fin","markingGuidance":"Guía de calificación:","modelAnswer":"Respuesta modelo:","noMarks":"sin puntos","openGradableTeacherScoreInput":"Calificación","outOf":" de ","points":"puntos","points_one":"punto","points_other":"puntos","provideRecordedFeedback":"Grabe un audio con sus comentarios o correcciones para esta grabación. (Opcional).","provideWrittenFeedback":"Proporcione comentarios por escrito para esta grabación. (Opcional).","record":"Grabar","score":"Calificación","scoreTab":"Calificación","scoreThisRecording":"Califique esta grabación. (Obligatorio)","totalScore":"Calificación total:","wellDone":"¡Muy bien!","youGot":"Obtuviste"},"list":{"listItemsNavigation":"Navegación por los elementos de la lista","nextItem":"siguiente","previousItem":"anterior"},"marking":{"correct":"Correcto","incorrect":"Incorrecto"},"markup":{"phons":{"label":"pronunciación fonética"}},"userIcons":{"studentRecordedAnswer":"Respuesta grabada del estudiante","studentRecordedAudio":"Audio de respuesta grabada por el estudiante","teachersRecordedFeedback":"Comentarios grabados del profesor","teachersWrittenFeedback":"Comentarios escritos del profesor"}}}}')},function(e,t,n){var i;!function(r,a){var s=this,o=a.pow(256,6),c=a.pow(2,52),l=2*c;function u(e,t,n){var i=[],u=f(function e(t,n){var i,r=[],a=typeof t;if(n&&"object"==a)for(i in t)try{r.push(e(t[i],n-1))}catch(e){}return r.length?r:"string"==a?t:t+"\0"}((t=1==t?{entropy:!0}:t||{}).entropy?[e,p(r)]:null==e?function(){try{void 0;var e=new Uint8Array(256);return(s.crypto||s.msCrypto).getRandomValues(e),p(e)}catch(e){var t=s.navigator,n=t&&t.plugins;return[+new Date,s,n,s.screen,p(r)]}}():e,3),i),m=new d(i),g=function(){for(var e=m.g(6),t=o,n=0;e<c;)e=256*(e+n),t*=256,n=m.g(1);for(;e>=l;)e/=2,t/=2,n>>>=1;return(e+n)/t};return g.int32=function(){return 0|m.g(4)},g.quick=function(){return m.g(4)/(4*(1<<30))},g.double=g,f(p(m.S),r),(t.pass||n||function(e,t,n,i){return i&&(i.S&&h(i,m),e.state=function(){return h(m,{})}),n?(a.random=e,t):e})(g,u,"global"in t?t.global:this==a,t.state)}function d(e){var t,n=e.length,i=this,r=0,a=i.i=i.j=0,s=i.S=[];for(n||(e=[n++]);r<256;)s[r]=r++;for(r=0;r<256;r++)s[r]=s[a=255&a+e[r%n]+(t=s[r])],s[a]=t;(i.g=function(e){for(var t,n=0,r=i.i,a=i.j,s=i.S;e--;)t=s[r=255&r+1],n=256*n+s[255&(s[r]=s[a=255&a+t])+(s[a]=t)];return i.i=r,i.j=a,n})(256)}function h(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function f(e,t){for(var n,i=e+"",r=0;r<i.length;)t[255&r]=255&(n^=19*t[255&r])+i.charCodeAt(r++);return p(t)}function p(e){return String.fromCharCode.apply(0,e)}a.seedrandom=u,f(a.random(),r),e.exports?e.exports=u:void 0===(i=function(){return u}.call(t,n,t,e))||(e.exports=i)}([],Math)},,,,,,function(e,t,n){var i=n(34),r=n(35),a=n(26),s=n(91),o=n(155),c=TypeError;e.exports=function(e,t){var n=arguments.length<2?o(e):t;if(r(n))return a(i(n,e));throw c(s(e)+" is not iterable")}},function(e,t,n){var i=n(61);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:i(e)}},function(e,t,n){var i=n(28),r=n(94),a=i("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||s[a]===e)}},function(e,t,n){var i=n(54);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},function(e,t,n){var i=n(20),r=Error,a=i("".replace),s=String(r("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,c=o.test(s);e.exports=function(e,t){if(c&&"string"==typeof e&&!r.prepareStackTrace)for(;t--;)e=a(e,o,"");return e}},function(e,t,n){var i=n(185),r=n(49);e.exports=function(e,t,n){return n.get&&i(n.get,t,{getter:!0}),n.set&&i(n.set,t,{setter:!0}),r.f(e,t,n)}},function(e,t,n){var i=n(20),r=n(85),a=n(61),s=n(74),o=i("".charAt),c=i("".charCodeAt),l=i("".slice),u=function(e){return function(t,n){var i,u,d=a(s(t)),h=r(n),f=d.length;return h<0||h>=f?e?"":void 0:(i=c(d,h))<55296||i>56319||h+1===f||(u=c(d,h+1))<56320||u>57343?e?o(d,h):i:e?l(d,h,h+2):u-56320+(i-55296<<10)+65536}};e.exports={codeAt:u(!1),charAt:u(!0)}},function(e,t,n){var i=n(244),r=Math.floor,a=function(e,t){var n=e.length,c=r(n/2);return n<8?s(e,t):o(e,a(i(e,0,c),t),a(i(e,c),t),t)},s=function(e,t){for(var n,i,r=e.length,a=1;a<r;){for(i=a,n=e[a];i&&t(e[i-1],n)>0;)e[i]=e[--i];i!==a++&&(e[i]=n)}return e},o=function(e,t,n,i){for(var r=t.length,a=n.length,s=0,o=0;s<r||o<a;)e[s+o]=s<r&&o<a?i(t[s],n[o])<=0?t[s++]:n[o++]:s<r?t[s++]:n[o++];return e};e.exports=a},function(e,t,n){var i=n(158),r=n(62),a=n(254),s=Array,o=Math.max;e.exports=function(e,t,n){for(var c=r(e),l=i(t,c),u=i(void 0===n?c:n,c),d=s(o(u-l,0)),h=0;l<u;l++,h++)a(d,h,e[l]);return d.length=h,d}},function(e,t){var n=TypeError;e.exports=function(e,t){if(e<t)throw n("Not enough arguments");return e}},function(e,t,n){"use strict";var i=n(19),r=n(20),a=n(113),s=r([].reverse),o=[1,2];i({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return a(this)&&(this.length=this.length),s(this)}})},function(e,t,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,a=r&&!i.call({1:2},1);t.f=a?function(e){var t=r(this,e);return!!t&&t.enumerable}:i},function(e,t,n){var i=n(34),r=n(43),a=n(131),s=n(77),o=n(264),c=n(28),l=TypeError,u=c("toPrimitive");e.exports=function(e,t){if(!r(e)||a(e))return e;var n,c=s(e,u);if(c){if(void 0===t&&(t="default"),n=i(c,e,t),!r(n)||a(n))return n;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),o(e,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var i=n(186),r=n(139);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t,n){var i=n(87),r=n(20),a=n(128),s=n(68),o=n(62),c=n(193),l=r([].push),u=function(e){var t=1==e,n=2==e,r=3==e,u=4==e,d=6==e,h=7==e,f=5==e||d;return function(p,m,g,b){for(var y,v,w=s(p),k=a(w),x=i(m,g),S=o(k),O=0,C=b||c,T=t?C(p,S):n||h?C(p,0):void 0;S>O;O++)if((f||O in k)&&(v=x(y=k[O],O,w),e))if(t)T[O]=v;else if(v)switch(e){case 3:return!0;case 5:return y;case 6:return O;case 2:l(T,y)}else switch(e){case 4:return!1;case 7:l(T,y)}return d?-1:r||u?u:T}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},function(e,t,n){"use strict";var i=n(19),r=n(34),a=n(46),s=n(132),o=n(24),c=n(169),l=n(159),u=n(105),d=n(127),h=n(44),f=n(54),p=n(28),m=n(94),g=n(112),b=s.PROPER,y=s.CONFIGURABLE,v=g.IteratorPrototype,w=g.BUGGY_SAFARI_ITERATORS,k=p("iterator"),x=function(){return this};e.exports=function(e,t,n,s,p,g,S){c(n,t,s);var O,C,T,P=function(e){if(e===p&&L)return L;if(!w&&e in j)return j[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},A=t+" Iterator",I=!1,j=e.prototype,E=j[k]||j["@@iterator"]||p&&j[p],L=!w&&E||P(p),R="Array"==t&&j.entries||E;if(R&&(O=l(R.call(new e)))!==Object.prototype&&O.next&&(a||l(O)===v||(u?u(O,v):o(O[k])||f(O,k,x)),d(O,A,!0,!0),a&&(m[A]=x)),b&&"values"==p&&E&&"values"!==E.name&&(!a&&y?h(j,"name","values"):(I=!0,L=function(){return r(E,this)})),p)if(C={values:P("values"),keys:g?L:P("keys"),entries:P("entries")},S)for(T in C)(w||I||!(T in j))&&f(j,T,C[T]);else i({target:t,proto:!0,forced:w||I},C);return a&&!S||j[k]===L||f(j,k,L,{name:p}),m[t]=L,C}},function(e,t,n){var i=n(168),r=n(91),a=TypeError;e.exports=function(e){if(i(e))return e;throw a(r(e)+" is not a constructor")}},function(e,t,n){"use strict";var i=n(130),r=n(49),a=n(88);e.exports=function(e,t,n){var s=i(t);s in e?r.f(e,s,a(0,n)):e[s]=n}},function(e,t,n){var i=n(69).match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},function(e,t,n){var i=n(69);e.exports=/MSIE|Trident/.test(i)},function(e,t,n){var i=n(69).match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},function(e,t,n){var i=n(28)("iterator"),r=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){r=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var a={};a[i]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(e){}return n}},function(e,t,n){"use strict";var i=n(19),r=n(34),a=n(20),s=n(169),o=n(74),c=n(125),l=n(61),u=n(26),d=n(67),h=n(199),f=n(200),p=n(77),m=n(54),g=n(21),b=n(28),y=n(164),v=n(201),w=n(202),k=n(63),x=n(46),S=b("matchAll"),O=k.set,C=k.getterFor("RegExp String Iterator"),T=RegExp.prototype,P=TypeError,A=a("".indexOf),I=a("".matchAll),j=!!I&&!g((function(){I("a",/./)})),E=s((function(e,t,n,i){O(this,{type:"RegExp String Iterator",regexp:e,string:t,global:n,unicode:i,done:!1})}),"RegExp String",(function(){var e=C(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,n=e.string,i=w(t,n);return null===i?{value:void 0,done:e.done=!0}:e.global?(""===l(i[0])&&(t.lastIndex=v(n,c(t.lastIndex),e.unicode)),{value:i,done:!1}):(e.done=!0,{value:i,done:!1})})),L=function(e){var t,n,i,r=u(this),a=l(e),s=y(r,RegExp),o=l(f(r));return t=new s(s===RegExp?r.source:r,o),n=!!~A(o,"g"),i=!!~A(o,"u"),t.lastIndex=c(r.lastIndex),new E(t,a,n,i)};i({target:"String",proto:!0,forced:j},{matchAll:function(e){var t,n,i,a,s=o(this);if(null!=e){if(h(e)&&(t=l(o(f(e))),!~A(t,"g")))throw P("`.matchAll` does not allow non-global regexes");if(j)return I(s,e);if(void 0===(i=p(e,S))&&x&&"RegExp"==d(e)&&(i=L),i)return r(i,e,s)}else if(j)return I(s,e);return n=l(s),a=new RegExp(e,"g"),x?r(L,a,n):a[S](n)}}),x||S in T||m(T,S,L)},function(e,t,n){var i=n(26),r=n(43),a=n(79);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var i=n(19),r=n(34),a=n(35),s=n(79),o=n(114),c=n(66);i({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=s.f(t),i=n.resolve,l=n.reject,u=o((function(){var n=a(t.resolve),s=[],o=0,l=1;c(e,(function(e){var a=o++,c=!1;l++,r(n,t,e).then((function(e){c||(c=!0,s[a]={status:"fulfilled",value:e},--l||i(s))}),(function(e){c||(c=!0,s[a]={status:"rejected",reason:e},--l||i(s))}))})),--l||i(s)}));return u.error&&l(u.value),n.promise}})},function(e,t,n){const i=(document.currentScript||document.querySelector('script[src*="rcf.min.js"]')).src,r=i.substring(0,i.lastIndexOf("/")+1);n.p=r},function(e,t,n){(function(e){!function(e,t,n){var i={animationClass:"rippleAnimate",background:"#fff",animationDuration:1e3};function r(t,n){this.element=t,this.options=e.extend({},i,n),this._defaults=i,this._name="rcfRippleButton",this.init()}r.prototype.init=function(){var t=this.options,n=t.animationClass;e(this.element).on("click",(function(i){var r=e(this);if(!(r.find("."+n).length>1)){r.hasClass("singleButton")&&i.preventDefault();var a=r.height(),s=r.offset(),o=i.pageX-s.left,c=i.pageY-s.top,l=e("<div/>");l.addClass(t.animationClass).css({width:a,height:a,top:c-a/2,left:o-a/2}).appendTo(r),setTimeout((function(){l.remove()}),t.animationDuration)}}))},e.fn.rcfRippleButton=function(t){return this.each((function(){e.data(this,"plugin_rcfRippleButton")||e.data(this,"plugin_rcfRippleButton",new r(this,t))}))}}(e,window,document)}).call(this,n(5))},function(e,t,n){var i=n(34),r=n(24),a=n(43),s=TypeError;e.exports=function(e,t){var n,o;if("string"===t&&r(n=e.toString)&&!a(o=i(n,e)))return o;if(r(n=e.valueOf)&&!a(o=i(n,e)))return o;if("string"!==t&&r(n=e.toString)&&!a(o=i(n,e)))return o;throw s("Can't convert object to primitive value")}},function(e,t,n){var i=n(23),r=n(24),a=n(111),s=i.WeakMap;e.exports=r(s)&&/native code/.test(a(s))},function(e,t,n){var i=n(50),r=n(20),a=n(157),s=n(249),o=n(26),c=r([].concat);e.exports=i("Reflect","ownKeys")||function(e){var t=a.f(o(e)),n=s.f;return n?c(t,n(e)):t}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=Math.trunc||function(e){var t=+e;return(t>0?i:n)(t)}},function(e,t,n){var i=n(42),r=n(184),a=n(49),s=n(26),o=n(93),c=n(250);t.f=i&&!r?Object.defineProperties:function(e,t){s(e);for(var n,i=o(t),r=c(t),l=r.length,u=0;l>u;)a.f(e,n=r[u++],i[n]);return e}},function(e,t,n){var i=n(21);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var i={};i[n(28)("toStringTag")]="z",e.exports="[object z]"===String(i)},function(e,t,n){"use strict";var i=n(251).forEach,r=n(141)("forEach");e.exports=r?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,n){var i=n(113),r=n(168),a=n(43),s=n(28)("species"),o=Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,(r(t)&&(t===o||i(t.prototype))||a(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?o:t}},function(e,t,n){var i=n(20),r=n(74),a=n(61),s=n(197),o=i("".replace),c="["+s+"]",l=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),d=function(e){return function(t){var n=a(r(t));return 1&e&&(n=o(n,l,"")),2&e&&(n=o(n,u,"")),n}};e.exports={start:d(1),end:d(2),trim:d(3)}},function(e,t,n){var i=n(132).PROPER,r=n(21),a=n(197);e.exports=function(e){return r((function(){return!!a[e]()||"​᠎"!=="​᠎"[e]()||i&&a[e].name!==e}))}},function(e,t,n){"use strict";var i=n(50),r=n(41),a=n(44),s=n(75),o=n(105),c=n(166),l=n(198),u=n(160),d=n(237),h=n(277),f=n(240),p=n(278),m=n(42),g=n(46);e.exports=function(e,t,n,b){var y=b?2:1,v=e.split("."),w=v[v.length-1],k=i.apply(null,v);if(k){var x=k.prototype;if(!g&&r(x,"cause")&&delete x.cause,!n)return k;var S=i("Error"),O=t((function(e,t){var n=d(b?t:e,void 0),i=b?new k(e):new k;return void 0!==n&&a(i,"message",n),p&&a(i,"stack",f(i.stack,2)),this&&s(x,this)&&u(i,this,O),arguments.length>y&&h(i,arguments[y]),i}));if(O.prototype=x,"Error"!==w?o?o(O,S):c(O,S,{name:!0}):m&&"stackTraceLimit"in k&&(l(O,k,"stackTraceLimit"),l(O,k,"prepareStackTrace")),c(O,k),!g)try{x.name!==w&&a(x,"name",w),x.constructor=O}catch(e){}return O}}},function(e,t,n){var i=n(24),r=String,a=TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw a("Can't set "+r(e)+" as a prototype")}},function(e,t,n){var i=n(43),r=n(44);e.exports=function(e,t){i(t)&&"cause"in t&&r(e,"cause",t.cause)}},function(e,t,n){var i=n(21),r=n(88);e.exports=!i((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",r(1,7)),7!==e.stack)}))},function(e,t,n){var i=n(35),r=n(68),a=n(128),s=n(62),o=TypeError,c=function(e){return function(t,n,c,l){i(n);var u=r(t),d=a(u),h=s(u),f=e?h-1:0,p=e?-1:1;if(c<2)for(;;){if(f in d){l=d[f],f+=p;break}if(f+=p,e?f<0:h<=f)throw o("Reduce of empty array with no initial value")}for(;e?f>=0:h>f;f+=p)f in d&&(l=n(l,d[f],f,u));return l}};e.exports={left:c(!1),right:c(!0)}},function(e,t,n){"use strict";n(59);var i=n(20),r=n(54),a=n(142),s=n(21),o=n(28),c=n(44),l=o("species"),u=RegExp.prototype;e.exports=function(e,t,n,d){var h=o(e),f=!s((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),p=f&&!s((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return t=!0,null},n[h](""),!t}));if(!f||!p||n){var m=i(/./[h]),g=t(h,""[e],(function(e,t,n,r,s){var o=i(e),c=t.exec;return c===a||c===u.exec?f&&!s?{done:!0,value:m(t,n,r)}:{done:!0,value:o(n,t,r)}:{done:!1}}));r(String.prototype,e,g[0]),r(u,h,g[1])}d&&c(u[h],"sham",!0)}},function(e,t,n){var i=n(20),r=n(68),a=Math.floor,s=i("".charAt),o=i("".replace),c=i("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,i,d,h){var f=n+e.length,p=i.length,m=u;return void 0!==d&&(d=r(d),m=l),o(h,m,(function(r,o){var l;switch(s(o,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,n);case"'":return c(t,f);case"<":l=d[c(o,1,-1)];break;default:var u=+o;if(0===u)return r;if(u>p){var h=a(u/10);return 0===h?r:h<=p?void 0===i[h-1]?s(o,1):i[h-1]+s(o,1):r}l=i[u-1]}return void 0===l?"":l}))}},function(e,t,n){"use strict";var i=n(91),r=TypeError;e.exports=function(e,t){if(!delete e[t])throw r("Cannot delete property "+i(t)+" of "+i(e))}},function(e,t,n){"use strict";var i,r,a,s=n(19),o=n(46),c=n(108),l=n(23),u=n(34),d=n(54),h=n(105),f=n(127),p=n(161),m=n(35),g=n(24),b=n(43),y=n(150),v=n(164),w=n(204).set,k=n(284),x=n(287),S=n(114),O=n(288),C=n(63),T=n(92),P=n(95),A=n(79),I=P.CONSTRUCTOR,j=P.REJECTION_EVENT,E=P.SUBCLASSING,L=C.getterFor("Promise"),R=C.set,M=T&&T.prototype,N=T,D=M,F=l.TypeError,B=l.document,U=l.process,_=A.f,G=_,$=!!(B&&B.createEvent&&l.dispatchEvent),z=function(e){var t;return!(!b(e)||!g(t=e.then))&&t},V=function(e,t){var n,i,r,a=t.value,s=1==t.state,o=s?e.ok:e.fail,c=e.resolve,l=e.reject,d=e.domain;try{o?(s||(2===t.rejection&&J(t),t.rejection=1),!0===o?n=a:(d&&d.enter(),n=o(a),d&&(d.exit(),r=!0)),n===e.promise?l(F("Promise-chain cycle")):(i=z(n))?u(i,n,c,l):c(n)):l(a)}catch(e){d&&!r&&d.exit(),l(e)}},q=function(e,t){e.notified||(e.notified=!0,k((function(){for(var n,i=e.reactions;n=i.get();)V(n,e);e.notified=!1,t&&!e.rejection&&W(e)})))},H=function(e,t,n){var i,r;$?((i=B.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),l.dispatchEvent(i)):i={promise:t,reason:n},!j&&(r=l["on"+e])?r(i):"unhandledrejection"===e&&x("Unhandled promise rejection",n)},W=function(e){u(w,l,(function(){var t,n=e.facade,i=e.value;if(K(e)&&(t=S((function(){c?U.emit("unhandledRejection",i,n):H("unhandledrejection",n,i)})),e.rejection=c||K(e)?2:1,t.error))throw t.value}))},K=function(e){return 1!==e.rejection&&!e.parent},J=function(e){u(w,l,(function(){var t=e.facade;c?U.emit("rejectionHandled",t):H("rejectionhandled",t,e.value)}))},Y=function(e,t,n){return function(i){e(t,i,n)}},Q=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,q(e,!0))},X=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw F("Promise can't be resolved itself");var i=z(t);i?k((function(){var n={done:!1};try{u(i,t,Y(X,n,e),Y(Q,n,e))}catch(t){Q(n,t,e)}})):(e.value=t,e.state=1,q(e,!1))}catch(t){Q({done:!1},t,e)}}};if(I&&(D=(N=function(e){y(this,D),m(e),u(i,this);var t=L(this);try{e(Y(X,t),Y(Q,t))}catch(e){Q(t,e)}}).prototype,(i=function(e){R(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new O,rejection:!1,state:0,value:void 0})}).prototype=d(D,"then",(function(e,t){var n=L(this),i=_(v(this,N));return n.parent=!0,i.ok=!g(e)||e,i.fail=g(t)&&t,i.domain=c?U.domain:void 0,0==n.state?n.reactions.add(i):k((function(){V(i,n)})),i.promise})),r=function(){var e=new i,t=L(e);this.promise=e,this.resolve=Y(X,t),this.reject=Y(Q,t)},A.f=_=function(e){return e===N||void 0===e?new r(e):G(e)},!o&&g(T)&&M!==Object.prototype)){a=M.then,E||d(M,"then",(function(e,t){var n=this;return new N((function(e,t){u(a,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete M.constructor}catch(e){}h&&h(M,D)}s({global:!0,constructor:!0,wrap:!0,forced:I},{Promise:N}),f(N,"Promise",!1,!0),p("Promise")},function(e,t,n){var i,r,a,s,o,c,l,u,d=n(23),h=n(87),f=n(129).f,p=n(204).set,m=n(205),g=n(285),b=n(286),y=n(108),v=d.MutationObserver||d.WebKitMutationObserver,w=d.document,k=d.process,x=d.Promise,S=f(d,"queueMicrotask"),O=S&&S.value;O||(i=function(){var e,t;for(y&&(e=k.domain)&&e.exit();r;){t=r.fn,r=r.next;try{t()}catch(e){throw r?s():a=void 0,e}}a=void 0,e&&e.enter()},m||y||b||!v||!w?!g&&x&&x.resolve?((l=x.resolve(void 0)).constructor=x,u=h(l.then,l),s=function(){u(i)}):y?s=function(){k.nextTick(i)}:(p=h(p,d),s=function(){p(i)}):(o=!0,c=w.createTextNode(""),new v(i).observe(c,{characterData:!0}),s=function(){c.data=o=!o})),e.exports=O||function(e){var t={fn:e,next:void 0};a&&(a.next=t),r||(r=t,s()),a=t}},function(e,t,n){var i=n(69),r=n(23);e.exports=/ipad|iphone|ipod/i.test(i)&&void 0!==r.Pebble},function(e,t,n){var i=n(69);e.exports=/web0s(?!.*chrome)/i.test(i)},function(e,t,n){var i=n(23);e.exports=function(e,t){var n=i.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},function(e,t){var n=function(){this.head=null,this.tail=null};n.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=n},function(e,t){e.exports="object"==typeof window&&"object"!=typeof Deno},function(e,t,n){"use strict";var i=n(19),r=n(34),a=n(35),s=n(79),o=n(114),c=n(66);i({target:"Promise",stat:!0,forced:n(206)},{all:function(e){var t=this,n=s.f(t),i=n.resolve,l=n.reject,u=o((function(){var n=a(t.resolve),s=[],o=0,u=1;c(e,(function(e){var a=o++,c=!1;u++,r(n,t,e).then((function(e){c||(c=!0,s[a]=e,--u||i(s))}),l)})),--u||i(s)}));return u.error&&l(u.value),n.promise}})},function(e,t,n){"use strict";var i=n(19),r=n(46),a=n(95).CONSTRUCTOR,s=n(92),o=n(50),c=n(24),l=n(54),u=s&&s.prototype;if(i({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(e){return this.then(void 0,e)}}),!r&&c(s)){var d=o("Promise").prototype.catch;u.catch!==d&&l(u,"catch",d,{unsafe:!0})}},function(e,t,n){"use strict";var i=n(19),r=n(34),a=n(35),s=n(79),o=n(114),c=n(66);i({target:"Promise",stat:!0,forced:n(206)},{race:function(e){var t=this,n=s.f(t),i=n.reject,l=o((function(){var s=a(t.resolve);c(e,(function(e){r(s,t,e).then(n.resolve,i)}))}));return l.error&&i(l.value),n.promise}})},function(e,t,n){"use strict";var i=n(19),r=n(34),a=n(79);i({target:"Promise",stat:!0,forced:n(95).CONSTRUCTOR},{reject:function(e){var t=a.f(this);return r(t.reject,void 0,e),t.promise}})},function(e,t,n){"use strict";var i=n(19),r=n(50),a=n(46),s=n(92),o=n(95).CONSTRUCTOR,c=n(260),l=r("Promise"),u=a&&!o;i({target:"Promise",stat:!0,forced:a||o},{resolve:function(e){return c(u&&this===l?s:this,e)}})},function(e,t,n){"use strict";var i=n(113),r=n(62),a=n(296),s=n(87),o=function(e,t,n,c,l,u,d,h){for(var f,p,m=l,g=0,b=!!d&&s(d,h);g<c;)g in n&&(f=b?b(n[g],g,t):n[g],u>0&&i(f)?(p=r(f),m=o(e,t,f,p,m,u-1)-1):(a(m+1),e[m]=f),m++),g++;return m};e.exports=o},function(e,t){var n=TypeError;e.exports=function(e){if(e>9007199254740991)throw n("Maximum allowed index exceeded");return e}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"flashCard",(function(){return et})),n.d(i,"carousels",(function(){return tt})),n.d(i,"simpleCarousels",(function(){return nt})),n.d(i,"audioElements",(function(){return it})),n.d(i,"audioRecorders",(function(){return rt})),n.d(i,"videoElements",(function(){return at})),n.d(i,"interactiveText",(function(){return st})),n.d(i,"toggleElements",(function(){return ot})),n.d(i,"chaseElements",(function(){return ct})),n.d(i,"canDoElements",(function(){return lt})),n.d(i,"popupLinks",(function(){return ut})),n.d(i,"collapsibleBlocks",(function(){return dt})),n.d(i,"collapsibleLists",(function(){return ht})),n.d(i,"slidingBlocks",(function(){return ft})),n.d(i,"timedBlocks",(function(){return pt})),n.d(i,"unmarkedText",(function(){return mt})),n.d(i,"hangmanElements",(function(){return gt})),n.d(i,"panZoomImages",(function(){return bt})),n.d(i,"interactiveImages",(function(){return yt})),n.d(i,"interactiveImageSets",(function(){return vt})),n.d(i,"triggerElements",(function(){return wt})),n.d(i,"splitBlock",(function(){return kt})),n.d(i,"answerKeyInteractions",(function(){return xt})),n.d(i,"blendedFlashcardInteractions",(function(){return St})),n.d(i,"imageAudioElements",(function(){return Ot})),n.d(i,"overallScoreElements",(function(){return Ct})),n.d(i,"highlightingTextBlocks",(function(){return Tt}));var r={};n.r(r),n.d(r,"create",(function(){return jt}));var a={};n.r(a),n.d(a,"create",(function(){return Nt}));var s={};n.r(s),n.d(s,"create",(function(){return Bt}));var o={};n.r(o),n.d(o,"getAttemptedAnswerCount",(function(){return ni})),n.d(o,"getAnswerDetails",(function(){return Si})),n.d(o,"getMarkedAnswers",(function(){return tr})),n.d(o,"getNumberOfOneByOneAnswers",(function(){return sr}));n(262),n(263),n(6),n(11);var c=n(5),l=n.n(c);!function(e,t){t.RCF=t.RCF||{},RCF.Handlers=RCF.Handlers||{},RCF.Handlers.FeedbackHandler=function(){return{provideFeedback:function(e,n,i,r){var a=null;a=RCF.options.feedbackOptions&&RCF.options.feedbackOptions.onFeedbackComplete&&"function"==typeof RCF.options.feedbackOptions.onFeedbackComplete?RCF.options.feedbackOptions.onFeedbackComplete:function(){};var s=t(e,n,i,r),o=n.closest(".activity");o.addClass("rcfFeedbackPlaying"),s.then((function(){o.removeClass("rcfFeedbackPlaying"),a()})).fail((function(){o.removeClass("rcfFeedbackPlaying"),console.log("Feedback failed ! "),a()}))},giveFeedback:t};function t(t,n,i,r){var a=e.Deferred(),s=null,o=RCF.options.feedbackOptions?RCF.options.feedbackOptions.delayAfterFeedbackTimeInMilliseconds||1500:0,c=!!RCF.options.feedbackOptions&&RCF.options.feedbackOptions.resetAfterFeedback;n.find(".mark").removeClass("correct wrong").addClass(i?"correct":"wrong");var l;l=n.attr("data-correctfeedbackaudio")||"feedback_correct.mp3",s=i?l:"feedback_incorrect.mp3";try{n.closest(".activity").trigger("rcf.play.audio",{audio:[s],onComplete:function(){i?a.resolve():setTimeout((function(){c&&r&&"function"==typeof r&&r(t,n),a.resolve()}),o)}})}catch(e){a.reject("Error occurred while playing feedback audio\n"+e)}return a.promise()}}()}(l.a,window);var u=n(10),d=n(60),h=n(29),f=n(4);var p=e=>{const t=e.find(".category .dropTarget");if(t.length<1)return;const n=e.find(".categories h3");t.css("height","auto"),n.css("min-height","auto");const i=Object(f.n)(t),r=Object(f.n)(n);t.css("height","".concat(i,"px")),n.css("min-height","".concat(r,"px"))};var m=()=>{u.c(u.a.updateCategoriesSize,(e,t)=>{const n=Object(f.y)(t)?l()('*[data-rcfinteraction="categorise"]'):l()(t);Object(f.y)(n)||n.each((e,t)=>{const n=l()(t);p(n)})})},g=n(73);var b=()=>{u.c(u.a.wordBoxInitialSize,(e,t)=>{const n=l()(t);Object(g.a)(n)}),u.c(u.a.wordBoxContentsChanged,(e,t)=>{const n=l()(t);Object(g.a)(n)})};var y=()=>{m(),b()},v=n(151);var w=()=>{Object(v.b)("wordboxes",()=>{l()(".wordBox").each((e,t)=>{const n=l()(t);Object(g.a)(n)})})};const k={useRetinaImages:!1,disableTextSelection:!1,minWidth768:"1000px",videoSize:{desktop:{width:"480px",height:"272px"},mobile:{width:"240px",height:"135px"}},mediaFormats:{audio:{format:"mp3"},video:{format:"mp4"}},mediaMappings:{mp3:"mp3",mp4:"m4v",ogv:"ogv",ogg:"oga",webm:"webmv"},draggingScrollSensitivity:20,useStreamingVideos:!1,randomizeAnswersOnScreen:n(45).a.NONE,language:"en"};var x=e=>{let t=null;if(Object(f.y)(e))throw"Invalid options passed to RCF.Application";try{t=l.a.extend({},k,e)}catch(e){throw"Error setting Options for the RCF.Application ! \n\n".concat(e)}return t.feedbackOptions&&(t.feedbackOptions=l.a.extend({delayAfterFeedbackTimeInMilliseconds:0,resetAfterFeedback:!0,onFeedbackComplete:()=>{},onAnswerChanged:()=>{}},t.feedbackOptions)),t},S=n(47),O=n(36);const C=Object.values(S.a);var T=e=>{e&&-1!==C.indexOf(e)||(e=Object(f.A)()?S.a.mobile:Object(f.B)()?S.a.tablet:S.a.desktop),Object(O.e)(e)};n(86);var P=()=>{const e=l()("html"),t=[],n="transform WebkitTransform MozTransform OTransform msTransform".split(" "),i=Object(f.N)("-webkit-appearance"),r=n.some(e=>Object(f.N)(e));t.push(i?"webkit-appearance":"no-webkit-appearance"),r||t.push("no-csstransforms3d"),e.addClass(t.join(" "))};var A=e=>{const t=x(e),{rcfJsPath:i}=e;i&&(n.p=i),h.b(t),d.a.changeLanguage(t.language||"en"),T(),P(),y(),w()};var I=()=>{[u.a.getUserAnswers,u.a.hideMarkedAnswers,u.a.resetAnswers,u.a.setAnswers,u.a.showCorrectAnswers,u.a.showMarkedAnswers,u.a.showNextAnswer,u.a.showUserAnswers,u.a.tryAgain].forEach(e=>{u.d(e)})},j=n(96);function E(){return Object(h.a)().storyPlayingMode||"comprehension"}let L=null;function R(){return L}function M(e){L=e}function N(e){if(de(),L)return L.showNextAnswer(e)}function D(e,t){de(),L&&e&&L.showAnswers(e,!1,t)}function F(e){de(),L&&e&&L.showAnswers(e,!0)}function B(e){de(),L&&L.showUserAnswers(e)}function U(e,t){de(),L&&L.showMarkedAnswers(e,t)}function _(e){de(),L&&L.hideMarkedAnswers(e)}function G(){de(),L&&L.resetAnswers()}function $(e){if(de(),L)return L.getUserAnswers(e)}function z(){if(de(),L)return L.getTeacherFeedback()}function V(e){if(de(),L)return L.isComplete(e)}function q(){de(),L&&L.disable()}function H(){de(),L&&L.enable()}function W(e){de(),L&&L.provideFeedback(e)}function K(){if(de(),L)return L.hasActivityCompleteUI()}function J(){if(de(),L)return L.isAnswerKeyActivity()}function Y(){if(de(),L)return L.isItemBasedActivity()}function Q(e){de(),L&&L.playItem(e)}function X(){if(de(),L)return L.getGradableType()}function Z(){if(de(),L)return L.getPointsAvailable()}function ee(e){return de(),L?L.getItemPointsAvailable(e):0}function te(){if(de(),L)return L.getTeacherPointsAvailable()}function ne(){if(de(),L)return L.getOpenGradableMode()}function ie(e,t){de(),L&&L.setActivityMode(e,t)}function re(e,t){de(),L&&L.setOpenGradableMode(e,t)}function ae(){de(),L&&L.pause()}function se(){de(),L&&L.resume()}function oe(e){de(),L&&L.setStoryPlayingMode(e)}function ce(){return E()}function le(){de(),L&&L.showFeedback()}function ue(){de(),L&&L.hideFeedback()}function de(){L||(j.a.log("No activity loaded in RCF !"),j.a.trace&&"function"==typeof j.a.trace&&j.a.trace())}function he(){L&&"function"==typeof L.resize&&L.resize()}var fe=()=>{const e=R();e&&!e.isAttachedToDom()&&(e.closeView(),M(null))};const pe=()=>{I(),fe()};n(31),n(25);var me=function(e){var t,n;if(Object(f.y)(e))throw new Error("No activity container passed to applyAnswerKeyClasses");if(t=e.find(".activity"),Object(f.y)(t))throw new Error("No activity html found for this activity container");n="y"===(t.attr("data-isanswerkey")||"n"),t.closest("html").toggleClass("rcf_answerKeyContainer",n)};n(13),n(15),n(16);function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ye(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ve=function(){l()("html").addClass("keyboardOpen")};var we=function(){l()("html").removeClass("keyboardOpen")};var ke=e=>{const t=e.find("input[type=text], textArea");t.off("focus"),t.on("focus",ve),t.off("blur"),t.on("blur",we)};var xe=(e,t)=>{t.removeClass("desktop"),l()("[data-rcfTargetDisplay='desktop']").remove(),e.removeAttr("data-desktopinteractions")};var Se=(e,t)=>{t.removeClass("mobile"),l()("[data-rcfTargetDisplay='mobile']").remove(),e.removeAttr("data-mobileinteractions"),e.removeAttr("data-newmobileinteractions")};var Oe=e=>{if(Object(f.y)(e))throw new Error("Invalid Content Container supplied");const t=e.find(".dev-rcf-content[data-rcfxmlid]:first");if(Object(f.y)(t))throw new Error("No RCF Content found inside supplied Content Container");return t};var Ce=(e,t)=>{const n=l()(t),i=n.find(".collapsibleContainer"),r=i.find("div.block").first();n.append(r),i.remove()};var Te=e=>{e.find("section.presentation[data-rcfReferenceContentId]").each(Ce)},Pe=n(51),Ae=n(55),Ie=n(115);var je=e=>{e.find("span.imageAudio.playing").removeClass("playing")};var Ee=e=>{Object(Ie.a)(e),je(e)},Le=n(181);var Re=(e,t,n,i)=>{const r=Object(Le.a)(e,t,i);n.once("canplay",()=>{Object(Ae.i)(n),n.play()}),n.source=r};var Me=(e,t,n,i,r,a)=>{if(!Boolean(t))return void console.log("received audio play event for empty link");const s=l()(e.target),o=s.hasClass("imageAudio")?s:null;Ee(n),o&&o.addClass("playing"),o||s.find(".inlinePlayer").addClass("playing"),"string"==typeof t?r.audioQueue.push(t):"object"==typeof t&&(Array.isArray(t.audio)&&(r.audioQueue=r.audioQueue.concat(t.audio)),r.audioCallback=t.onComplete?t.onComplete:null),r.audioQueue&&r.audioQueue.length>0&&Re(n,r,i,a)},Ne=n(103);var De=e=>{const t=e.get(0),n=new CustomEvent(Ne.b.stopAllPlayback,{detail:{activityId:t.id},bubbles:!1});t.dispatchEvent(n)};var Fe=e=>{const t=e.get(0),n=new CustomEvent(Ne.b.stopAllRecording,{detail:{activityId:t.id},bubbles:!1});t.dispatchEvent(n)};var Be=(e,t,n)=>{n.audioQueue=[],Object(Ie.a)(e),t.stop(),je(e),Fe(e),De(e)};var Ue=e=>{const t=e.attr("data-audiolink");e.find(".inlinePlayer").hasClass("playing")?e.trigger("rcf.stop.audio"):t&&t.length>0&&e.trigger("rcf.play.audio",[t])};var _e=(e,t,n)=>{e.on("rcf.play.audio",(i,r)=>{Be(e,t,n),Me(i,r,e,t,n,!0)}),e.on("rcf.play.coreAudio",(i,r)=>{Me(i,r,e,t,n,!1)}),e.on("rcf.stop.audio",()=>{Be(e,t,n)}),e.on("click","[data-audiolink]",(function(e){const t=l()(this),n=t.hasClass("inlinePlayerContainer")||t.hasClass("imageAudio");Ue(t),n&&Object(f.F)(e)}))};var Ge=e=>{null!=e&&e.audioCallback&&"function"==typeof(null==e?void 0:e.audioCallback)&&e.audioCallback.apply(),e.audioCallback=null};var $e=(e,t,n)=>{Ee(e),n.audioQueue.length>0?Re(e,n,t,!0):Ge(n)};var ze=(e,t,n)=>{t.on("ended",()=>{$e(e,t,n)}),t.on("error",()=>{Ge(n)})};var Ve=n(230),qe=n.n(Ve);var He=e=>{if(Object(O.c)())return;const t=e.find('[data-equaliseheight="y"]');f.y(t)||t.each((function(){const e=l()(this).children("div.block"),t=f.n(e);e.css("min-height","".concat(t,"px"))}))};var We=e=>{const t=e.find("*[data-lang]");Object(f.y)(t)||e.on("click",".toggleLanguageButton",(function(){!function(e){const t=e.closest("[data-languages]");if(f.y(t))return;const n=e.attr("data-switchToLanguage");t.find(".current").removeClass("current"),t.find('[data-lang="'+n+'"]').addClass("current")}(l()(this))}))};var Ke=e=>{e.find("div.rubric > *:not(.clear):last").addClass("lastChild"),e.find("> div:not(.clear)").last().addClass("lastChild"),e.find("div.main > div:not(.clear)").last().addClass("lastChild"),e.find("div.backgroundArea > div:last-child").addClass("lastChild"),e.find("div.interactiveText > *:not(.clear):last-child").addClass("lastChild"),e.find("div.blockSet > div.block:last-child").addClass("lastChild"),e.find("div.block > *:not(.clear):last-child").addClass("lastChild"),e.find("div.locating_popup > span:last-child").addClass("lastChild"),e.find("td > p:last-child").addClass("lastChild"),e.find("th > p:last-child").addClass("lastChild"),e.find(".hintBlock p:last-child").addClass("lastChild")};var Je=e=>{Object(O.c)()||"n"==e.attr("data-desktopdraggable")?e.find("[data-rcfinteraction='ordering']").each((function(){l()(this).find(".horizontal.mobile-vertical").removeClass("horizontal").addClass("vertical"),l()(this).find(".vertical.mobile-horizontal").removeClass("vertical").addClass("horizontal")})):e.find(".mobile-vertical,.mobile-horizontal").removeClass("mobile-vertical mobile-horizontal")};var Ye=e=>{e.find(".rcfRippleButton").each((function(){l()(this).rcfRippleButton()}))};var Qe=e=>{He(e),Je(e),We(e),Ye(e),Ke(e)};n(32),n(33);var Xe=n(17);function Ze(e){if(e)return"y"===Xe.a(e,"data-isitembased")}n(153);async function et(e){if(e.find("[data-rcfinteraction='flashcard']").length>0){return new((await n.e("interactions/unmarked/rcfFlashCard").then(n.bind(null,728))).default)(e)}}async function tt(e){const t=e.find("[data-rcfinteraction='carousel']");if(t.length>0){return new((await n.e("interactions/unmarked/rcfCarousel").then(n.bind(null,700))).default)(t)}}async function nt(e){const t=e.find("[data-rcfinteraction='simpleCarousel']");if(t.length>0){return new((await n.e("interactions/unmarked/rcfCarousel").then(n.bind(null,700))).default)(t)}}async function it(e){const t=e.find("[data-rcfinteraction='audioElement']");if(t.length>0){const e=new((await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("interactions/unmarked/rcfAudioPlayer")]).then(n.bind(null,678))).default)(t);return e.initialise&&"AsyncFunction"===e.initialise.constructor.name&&await e.initialise(),e}}async function rt(e){const t=e.find("[data-rcfinteraction='audioRecorder']:not([data-rcfinteraction='recording'] [data-rcfinteraction='audioRecorder'])");if(t.length>0){const e=new((await n.e("interactions/unmarked/rcfSmallAudioRecorder").then(n.bind(null,600))).default)(t);return await e.initialise(),e}}async function at(e){const t=e.find("[data-rcfinteraction='videoElement']");if(t.length>0){const i=new((await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("interactions/unmarked/rcfVideoPlayer")]).then(n.bind(null,677))).default)(t);return i.initialise&&"AsyncFunction"===i.initialise.constructor.name&&await i.initialise(e),i}}async function st(e){const t=e.find("[data-rcfinteraction='interactiveText']").not('[data-interactivetexttype^="selectable"]');if(t.length>0){let e=[];const i=await n.e("interactions/unmarked/rcfInteractiveText").then(n.bind(null,729));return t.each((t,n)=>{e.push(new i.default(l()(n)))}),e}}async function ot(e){const t=e.find("span.toggle");if(t.length>0){return new((await n.e("interactions/unmarked/rcfToggleElements").then(n.bind(null,730))).default)(t)}}async function ct(e){const t=e.find("[data-rcfinteraction='chase']");if(t.length>0){let e=[];const i=await n.e("interactions/unmarked/rcfChase").then(n.bind(null,731));return t.each((t,n)=>{e.push(new i.default(l()(n)))}),e}}async function lt(e){if(e.find("[data-rcfinteraction='canDo']").length>0){return new((await n.e("interactions/unmarked/rcfCanDo").then(n.bind(null,732))).default)(e)}}async function ut(e){if(e.find(".popupLink").length>0){return new((await n.e("interactions/unmarked/rcfCanDo").then(n.bind(null,733))).default)(e)}}async function dt(e){const t=e.find("[data-rcfinteraction='collapsibleBlock']");if(t.length>0){return new((await Promise.all([n.e("utils/rcfUtils"),n.e("interactions/unmarked/rcfCollapsibleBlock")]).then(n.bind(null,713))).default)(t)}}async function ht(e){if(e.find("[data-rcfinteraction='collapsibleList']").length>0){return new((await Promise.all([n.e("utils/rcfUtils"),n.e("interactions/unmarked/rcfCollapsibleList")]).then(n.bind(null,690))).default)(e)}}async function ft(e){const t=e.find("[data-rcfinteraction='slidingBlock']");if(t.length>0){return new((await Promise.all([n.e("utils/rcfUtils"),n.e("interactions/unmarked/rcfSlidingBlock")]).then(n.bind(null,717))).default)(t)}}async function pt(e){const t=e.find("[data-rcfinteraction='timedMarkupBlock']");if(t.length>0){return new((await n.e("interactions/unmarked/rcfTimedBlock").then(n.bind(null,721))).default)(t)}}async function mt(e){if(e.find("[data-rcfinteraction='unmarkedTextInput']:not([data-maxscore])").length>0){return new((await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("interactions/unmarked/rcfUnmarkedText")]).then(n.bind(null,649))).default)(e)}}async function gt(e){const t=e.find("[data-rcfinteraction='hangman']");if(t.length>0){return new((await n.e("interactions/unmarked/rcfHangman").then(n.bind(null,684))).default)(t)}}async function bt(e){const t=e.find("[data-rcfinteraction='panZoomImage']");if(t.length>0){return new((await n.e("interactions/unmarked/rcfPanzoom").then(n.bind(null,692))).default)(t)}}async function yt(e){const t=e.find("[data-rcfinteraction='interactiveImage']");if(t.length>0){return new((await n.e("interactions/unmarked/rcfInteractiveImages").then(n.bind(null,705))).default)(t)}}async function vt(e){const t=e.find("[data-rcfinteraction='interactiveImageSet']");if(t.length>0){return new((await n.e("interactions/unmarked/rcfInteractiveImageSets").then(n.bind(null,726))).default)(t)}}async function wt(e){const t=e.find("[data-rcfinteraction='triggerableElement']");if(t.length>0){return new((await n.e("interactions/unmarked/rcfTriggerElements").then(n.bind(null,734))).default)(t)}}async function kt(e){const t=e.find("[data-rcfinteraction='splitBlock']");if(t.length>0){return new((await n.e("interactions/unmarked/rcfSplitBlock").then(n.bind(null,723))).default)(t)}}async function xt(e){const t=e.find("[data-rcfinteraction='answerKey']");if(t.length>0){return new((await n.e("interactions/unmarked/rcfAnswerKey").then(n.bind(null,719))).default)(e,t)}}async function St(e){if(e.find("[data-rcfinteraction='blendedFlashcards']").length>0){return new((await Promise.all([n.e("utils/rcfUtils"),n.e("interactions/unmarked/rcfBlendedFlashcards")]).then(n.bind(null,688))).default)(e)}}async function Ot(e){if(e.find("[data-rcfinteraction='imageAudio']").length>0){return new((await n.e("interactions/unmarked/rcfImageAudio").then(n.bind(null,720))).default)(e)}}async function Ct(e){const t=e.find('[data-rcfinteraction="rcfOverallScore"]');if(t.length>0){return new((await n.e("interactions/unmarked/rcfOverallScore").then(n.bind(null,722))).default)(e,t)}}async function Tt(e){const t=e.find('[data-rcfinteraction="highlightingTextBlock"]');if(t.length>0){return new((await n.e("interactions/unmarked/rcfHighlightingTextBlock").then(n.bind(null,695))).default)(e,t)}}et.initPriority=1,tt.initPriority=1,nt.initPriority=1,wt.initPriority=-1,kt.initPriority=-1;function Pt(e,t){return e.initPriority<t.initPriority?-1:e.initPriority>t.initPriority?1:0}var At=async e=>{const t=Object.keys(i).sort(Pt),n=[];for(const r of t){const t=await i[r](e);t&&n.push(t)}return n},It=n(9);async function jt(e,t){let i,r;switch(t){case It.c.categoriseCheckboxList:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("interactions/marked/rcfCategoriseCheckboxList")]).then(n.bind(null,702));break;case It.c.categoriseCheckboxTable:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("interactions/marked/rcfCategoriseCheckboxTable")]).then(n.bind(null,701));break;case It.c.categoriseDraggable:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/marked/rcfCategoriseHybrid")]).then(n.bind(null,685));break;case It.c.categoriseDropDown:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("interactions/marked/rcfCategoriseDropdown")]).then(n.bind(null,706));break;case It.c.categoriseItemSelectList:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("interactions/marked/rcfCategoriseItemSelectList")]).then(n.bind(null,697));break;case It.c.categoriseRadioList:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("interactions/marked/rcfCategoriseRadioList")]).then(n.bind(null,696));break;case It.c.categoriseRadioTable:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("interactions/marked/rcfCategoriseRadioTable")]).then(n.bind(null,699));break;case It.c.categoriseSelectable:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/marked/rcfCategoriseSelectable")]).then(n.bind(null,689));break;case It.c.categoriseTouchable:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/marked/rcfCategoriseHybrid")]).then(n.bind(null,685));break;case It.c.checkboxItemSelect:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/marked/rcfCheckboxItemSelect")]).then(n.bind(null,603));break;case It.c.checkboxList:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/marked/rcfCheckboxList")]).then(n.bind(null,606));break;case It.c.colouring:i=await n.e("interactions/marked/rcfColouring").then(n.bind(null,718));break;case It.c.complexOrdering:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/utils/ordering/rcfOrderableInteractions"),n.e("interactions/utils/ordering/rcfOrderableInteractionCommonUtils"),n.e("interactions/marked/rcfComplexOrdering")]).then(n.bind(null,650));break;case It.c.compositeScene:i=await n.e("interactions/marked/rcfCompositeScene").then(n.bind(null,711));break;case It.c.crossword:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/marked/rcfCrossword")]).then(n.bind(null,709));break;case It.c.fixedCrossword:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/marked/rcfFixedCrossword")]).then(n.bind(null,710));break;case It.c.droppable:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/marked/rcfDroppables")]).then(n.bind(null,703));break;case It.c.dropDown:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/marked/rcfDropdown")]).then(n.bind(null,609));break;case It.c.inlineOrdering:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/utils/ordering/rcfOrderableInteractions"),n.e("interactions/utils/ordering/rcfOrderableInteractionCommonUtils"),n.e("interactions/marked/rcfInlineOrdering")]).then(n.bind(null,651));break;case It.c.locating:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/marked/rcfLocating")]).then(n.bind(null,683));break;case It.c.listenAndColour:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/marked/rcfListenAndColour")]).then(n.bind(null,694));break;case It.c.matching:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("interactions/marked/rcfMatching")]).then(n.bind(null,680));break;case It.c.movingTargets:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("interactions/marked/rcfMovingTargets")]).then(n.bind(null,707));break;case It.c.ordering:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/utils/ordering/rcfOrderableInteractions"),n.e("interactions/utils/ordering/rcfOrderableInteractionCommonUtils"),n.e("interactions/marked/rcfOrdering")]).then(n.bind(null,652));break;case It.c.pelmanism:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("interactions/marked/rcfPelmanism")]).then(n.bind(null,675));break;case It.c.positioning:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/utils/ordering/rcfOrderableInteractions"),n.e("interactions/utils/ordering/rcfOrderableInteractionCommonUtils"),n.e("interactions/marked/rcfPositioning")]).then(n.bind(null,714));break;case It.c.radioItemSelect:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/marked/rcfRadioListItemSelectable")]).then(n.bind(null,604));break;case It.c.radioList:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/marked/rcfRadioList")]).then(n.bind(null,610));break;case It.c.rotatingMatching:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("interactions/marked/rcfRotatingMatching")]).then(n.bind(null,674));break;case It.c.selectable:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("interactions/marked/rcfSelectable")]).then(n.bind(null,611));break;case It.c.sequenceTileMaze:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("utils/pixi/pixi.js-legacy-rcf"),n.e("interactions/utils/tileMaze/rcfTileMazeSharedUtils"),n.e("utils/createJs/createJs-rcf"),n.e("utils/pixi/pixi-sound-rcf"),n.e("utils/pixi/pixi-viewport-rcf"),n.e("interactions/marked/rcfSequenceTileMaze")]).then(n.bind(null,698));break;case It.c.categoriseTileMaze:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("utils/pixi/pixi.js-legacy-rcf"),n.e("interactions/utils/tileMaze/rcfTileMazeSharedUtils"),n.e("utils/createJs/createJs-rcf"),n.e("utils/pixi/pixi-sound-rcf"),n.e("utils/pixi/pixi-viewport-rcf"),n.e("interactions/marked/rcfCategoriseTileMaze")]).then(n.bind(null,712));break;case It.c.story:i=await n.e("interactions/marked/rcfStory").then(n.bind(null,676));break;case It.c.typein:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("interactions/marked/rcfTypein")]).then(n.bind(null,605));break;case It.c.typeinGroup:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("interactions/marked/rcfTypeinGroup")]).then(n.bind(null,607));break;case It.c.verticalCrossword:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/marked/rcfVerticalCrossword")]).then(n.bind(null,679));break;case It.c.wordSearch:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("interactions/marked/rcfWordSearch")]).then(n.bind(null,682));break;case It.c.wordSnake:i=await n.e("interactions/marked/rcfWordSnake").then(n.bind(null,727));break;case It.c.sentenceBuilder:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/marked/rcfSentenceBuilder")]).then(n.bind(null,406));break;case It.c.wordInsert:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/marked/rcfWordInsert")]).then(n.bind(null,653));break;case It.c.findInImage:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/marked/rcfFindInImage")]).then(n.bind(null,687));break;case It.c.balloons:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("interactions/marked/rcfBalloons")]).then(n.bind(null,681));break;case It.c.spellingBee:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/marked/rcfVendorGamesShared"),n.e("interactions/marked/rcfSpellingBee")]).then(n.bind(null,735));break;case It.c.bubblesGame:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/marked/rcfVendorGamesShared"),n.e("interactions/marked/rcfBubblesGame")]).then(n.bind(null,654));break;case It.c.barrelsGame:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/marked/rcfVendorGamesShared"),n.e("interactions/marked/rcfBarrelsGame")]).then(n.bind(null,655));break;case It.c.snapGame:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/marked/rcfVendorGamesShared"),n.e("interactions/marked/rcfSnapGame")]).then(n.bind(null,656));break;case It.c.whackaMoleGame:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/marked/rcfVendorGamesShared"),n.e("interactions/marked/rcfWhackaMoleGame")]).then(n.bind(null,657));break;case It.c.quizGame:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/marked/rcfVendorGamesShared"),n.e("interactions/marked/rcfQuizGame")]).then(n.bind(null,658));break;case It.c.laneChangerGame:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/marked/rcfVendorGamesShared"),n.e("interactions/marked/rcfLaneChangerGame")]).then(n.bind(null,659));break;case It.c.cogsGame:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/marked/rcfVendorGamesShared"),n.e("interactions/marked/rcfCogsGame")]).then(n.bind(null,660));break;case It.c.storyDice:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/marked/rcfVendorGamesShared"),n.e("interactions/marked/rcfStoryDice")]).then(n.bind(null,661));break;case It.c.spinnerGame:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/marked/rcfVendorGamesShared"),n.e("interactions/marked/rcfSpinnerGame")]).then(n.bind(null,662));break;case It.c.mathsAddition:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("interactions/utils/rcfMathsUtils"),n.e("interactions/marked/maths/rcfAddition")]).then(n.bind(null,724));break;case It.c.mathsSubtraction:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("interactions/utils/rcfMathsUtils"),n.e("interactions/marked/maths/rcfSubtraction")]).then(n.bind(null,725));break;case It.c.mathsMultiplication:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("interactions/utils/rcfMathsUtils"),n.e("interactions/marked/maths/rcfMultiplication")]).then(n.bind(null,716));break;case It.c.mathsDivision:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("interactions/utils/rcfMathsUtils"),n.e("interactions/marked/maths/rcfDivision")]).then(n.bind(null,704));break;default:throw"Unknown marked interaction : [".concat(t,"]")}return r=new i.default(e),r.initialise&&"AsyncFunction"===r.initialise.constructor.name&&await r.initialise(),r}n(172),n(64),n(173),n(59),n(100),n(102),n(65);var Et=(e,t)=>{if(Object(f.y)(e))return[];const n=t.reduce((t,n)=>{const i=e.attr(n)||"";return i&&t.push(...i.replace(/\s+/g," ").trim().split(" ")),t},[]);return Object(f.f)(n.flat())};var Lt=e=>Et(e,["data-interactions","data-mobileinteractions","data-desktopinteractions"]);var Rt=async(e,t,n)=>{const i=[];for(const r of t){const t=await n.create(e,r);t&&i.push(t)}return i};var Mt=async e=>{const t=Lt(e);return await Rt(e,t,r)};async function Nt(e,t){let i,r;switch(t){case It.b.checkbox:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/itemBased/rcfItemBasedCheckbox")]).then(n.bind(null,663));break;case It.b.checkboxItemSelect:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/itemBased/rcfItemBasedCheckboxItemSelect")]).then(n.bind(null,664));break;case It.b.dropDown:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/itemBased/rcfItemBasedDropdown")]).then(n.bind(null,665));break;case It.b.typein:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("interactions/itemBased/rcfItemBasedTypein")]).then(n.bind(null,666));break;case It.b.typeinGroup:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("interactions/itemBased/rcfItemBasedTypeinGroup")]).then(n.bind(null,667));break;case It.b.radio:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/itemBased/rcfItemBasedRadioList")]).then(n.bind(null,668));break;case It.b.radioItemSelect:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/itemBased/rcfItemRadioItemSelect")]).then(n.bind(null,669));break;case It.b.selectableText:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("interactions/itemBased/rcfItemBasedSelectableText")]).then(n.bind(null,670));break;case It.b.complexDroppableBlock:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/itemBased/rcfItemBasedComplexDroppableBlock")]).then(n.bind(null,708));break;case It.b.sentenceBuilder:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/itemBased/rcfItemBasedSentenceBuilder")]).then(n.bind(null,671));break;case It.b.wordInsert:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/itemBased/rcfItemBasedWordInsert")]).then(n.bind(null,672));break;default:return Promise.reject("Unknown itemBased interaction [ ".concat(t," ]"))}return r=new i.default(e),r.initialise&&"AsyncFunction"===r.initialise.constructor.name&&await r.initialise(),r}var Dt=e=>Et(e,["data-itemBasedInteractions"]);var Ft=async e=>{const t=Dt(e);return await Rt(e,t,a)};const Bt=async(e,t)=>{let i,r;switch(t){case It.d.recording:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("interactions/openGradable/rcfOpenGradableRecording")]).then(n.bind(null,693));break;case It.d.writing:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("utils/rcfUtils"),n.e("interactions/openGradable/rcfOpenGradableWriting")]).then(n.bind(null,686));break;case It.d.legacyTextInput:case It.d.legacyMultiLineTextInput:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("interactions/unmarked/rcfUnmarkedText")]).then(n.bind(null,673));break;case It.d.teacherGradedTask:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("interactions/openGradable/rcfOpenGradableTeacherGradedTask")]).then(n.bind(null,715));break;case It.d.freeDrawing:i=await Promise.all([n.e("interactions/utils/rcfInteractionUtils"),n.e("interactions/openGradable/rcfOpenGradableFreeDrawing")]).then(n.bind(null,691));break;default:throw"Unknown open gradable interaction : [".concat(t,"]")}return r=new i.default(e),r.initialise&&"AsyncFunction"===r.initialise.constructor.name&&await r.initialise(),r};var Ut=e=>Et(e,["data-openGradableInteractions"]);var _t=async e=>{const t=Ut(e);return await Rt(e,t,s)};var Gt=async e=>{const t=Ze(e),n=await At(e);return[...await Mt(e)||[],...n||[],...await _t(e)||[],...(t?await Ft(e):[])||[]]},$t=n(52);var zt=()=>{$t.a.mediaSession&&($t.a.mediaSession.setActionHandler("play",null),$t.a.mediaSession.setActionHandler("pause",null),$t.a.mediaSession.setActionHandler("play",()=>{}),$t.a.mediaSession.setActionHandler("pause",()=>{}))};function Vt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class qt{constructor(e){if(Vt(this,"$activity",void 0),Vt(this,"id",void 0),Vt(this,"activityMode",void 0),Vt(this,"audioPlayer",void 0),Vt(this,"interactions",void 0),Vt(this,"$answerableObjects",void 0),Object(f.y)(e))throw"Empty / Invalid activity div passed to Activity View constructor";this.$activity=e,this.id=e[0].id,this.activityMode="default"}async initialise(){const e=qe.a,t=this.$activity;e(this.id);try{this.audioPlayer=await(async e=>{const t=e.find(".activityAudioPlayer"),n={audioQueue:[],audioCallback:null},i=Object(Ae.a)(t,{controls:[]});return e.addClass("has_plyr"),ze(e,i,n),_e(e,i,n),new Promise(e=>{i.on("ready",()=>{e(i)})})})(t),this.interactions=await Gt(t),this.$answerableObjects=function(e){return e.find('[data-rcfinteraction][data-ignoreNextAnswer!="y"]:not(.example,.distractor)')}(t),zt(),Qe(t)}catch(e){Pe.a.alert("Error setting up activity ["+this.id+"]\n\n"+e)}}close(){var e;this.interactions&&this.interactions.filter(e=>"function"==typeof e.close).forEach(e=>e.close()),this.$answerableObjects=null,this.interactions=[],e=this.$activity,this.audioPlayer&&Object(Ae.c)(e),this.audioPlayer=null}}function Ht(e,t){if(Object(f.y)(e))throw"Empty activity passed to RCF [validateJsonAnswers]";if(Object(f.y)(t))throw"Empty answers object passed to RCF [validateJsonAnswers]";if(t.id!=e.id)throw"Invalid JSON answers provided for RCF [validateJsonAnswers] - provided for activity ["+e.id+"]\n\nAnswers provided were for ["+t.id+"]";return!Object(f.y)(t.answers)}function Wt(e,t){if(Object(f.y)(e))throw"Empty activity passed to RCF [validateJsonMarkedAnswers]";if(Object(f.y)(t))throw"Empty answers object passed to RCF [validateJsonMarkedAnswers]";if(!t.activity_id)throw"Empty activity_id passed to RCF [validateJsonMarkedAnswers]";if(e.id!=t.activity_id)throw"Invalid Marked JSON Answers provided for activity ["+e.id+"]\n\nAnswers provided were for activity ["+t.activity_id+"]";if(Object(f.y)(t.answers))throw"No answers provided to the RCF"}function Kt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;if(!Ht(e,t))return!1;e.$activity&&e.$activity.toggleClass("dev-from-gradebook",!(null==t||!t.fromGradebook));const{interactions:r}=e;r.filter(e=>"function"==typeof e.showAnswers).forEach(e=>e.showAnswers(t,n,i))}function Jt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Yt{constructor(){Jt(this,"answerIndex",void 0),Jt(this,"subAnswerIndex",void 0),this.answerIndex=null,this.subAnswerIndex=null}isIndexWithinBounds(e){return(this.answerIndex||0)<e.length}setIndexToFirstAnswer(){this.answerIndex=0,this.subAnswerIndex=0}setIndexToNoAnswer(){this.answerIndex=null}}function Qt(e,t){const{interactions:n}=e;t||e.$activity.trigger("rcf.stop.audio",[!0]),e.$activity.removeClass("rcfFeedbackPlaying"),e.$activity.removeClass("dev-from-gradebook");try{n.filter(e=>"function"==typeof e.reset).forEach(e=>e.reset(t))}catch(e){throw"Error trying to reset answers : "+e}}function Xt(e,t){const n=Object(f.v)(e);if(!Object(f.y)(n))return t.answers.find(e=>e.elm===n)}var Zt=e=>{const t=e.closest(".collapsibleList");return!Object(f.y)(t)},en=n(163),tn=n(178);function nn(e,t,n,i,r){e.subAnswerIndex=e.subAnswerIndex||0,n.trigger("rcf.single.answer",[i,r]),e.subAnswerIndex||(e.subAnswerIndex=0),e.subAnswerIndex++,e.subAnswerIndex>t-1&&(e.subAnswerIndex=0,e.answerIndex||(e.answerIndex=0),e.answerIndex++)}function rn(e,t,n){let i=null;if(i=function(e){return e.hasClass("radioTable")?function(e){return e.find("table.radioTable .tableAnswerRow:not(.example)")}(e):e.hasClass("dev-hybrid")?function(e){return e.find(".wordBox li.dragItem:not(.distractor)")}(e):e.hasClass("checkboxTable")?function(e){return e.find("table.checkboxTable tr.tableAnswerRow[data-rcfid]:not(.distractor)")}(e):e.hasClass("dropDown")?function(e){return e.find(".categoriseDropDown:not(.example)")}(e):e.hasClass("radioList")?function(e){return e.find(".radioListCategoryItem:not(.example)")}(e):e.hasClass("checkboxList")?function(e){return e.find(".checkboxListCategoryItem:not(.distractor)")}(e):e.hasClass("itemSelectList")?function(e){return e.find(".itemSelectListItem:not(.example)")}(e):null}(t),!i)return;const r=function(e){var t=[];for(var n in e.value){var i=e.value[n];t=t.concat(i.value)}return t}(n);var a;const s=function(e,t){return e.filter((e,n)=>{const i=l()(n),r=Object(f.v)(i);return l.a.inArray(r,t)>-1})}(i,(a=r,Object(f.f)(a)));if(!s)return;const o=Object(f.v)(l()(s.get(e.subAnswerIndex||0)));nn(e,s.length,t,n,o)}n(48);var an=e=>e.find(".listenAndColourPalette li.colourPaletteItem:not(.distractor,.eraser)");n(101);var sn=n(8);function on(e,t,n,i){Array.isArray(n.value)&&[sn.a.list,sn.a.composite,sn.a.answerKey].includes(n.type)?nn(e,n.value.length,t,n,"".concat(e.subAnswerIndex||0)):(t.trigger("rcf.single.answer",n),e.answerIndex||(e.answerIndex=0),e.answerIndex>i-1?e.answerIndex=null:e.answerIndex++)}function cn(e,t,n,i){const r=t.attr("data-rcfinteraction");if(Zt(t)){const e=Object(en.a)(t);Object(tn.a)(e)}switch(r){case"categorise":rn(e,t,n);break;case"interactiveText":!function(e,t,n){let i=l()([]);const r=t.hasClass("type_selectableCat")||t.hasClass("type_selectableCatWords"),a=t.hasClass("type_selectableWords"),s=t.hasClass("type_selectable");if(r?i=l()(l.a.map(n.value,(function(e){return t.find('[data-rcfid="'.concat(e.elm,'"]'))}))):a?i=t.find(".selectable[data-catindex]:not(.example,.distractor)"):s&&(i=l()(l.a.map(n.value,(function(e){return t.find('[data-rcfid="'.concat(e,'"]:not(.distractor)'))})))),!i)return;const o=l()(i.get(e.subAnswerIndex||0)),c=Object(f.v)(o)||"";nn(e,i.length,t,n,c)}(e,t,n);break;case"crossword":case"fixedCrossword":!function(e,t,n){const i=t.find(".crosswordClueContainer li[data-wordid]:not(.example)"),r=l()(i.get(e.subAnswerIndex||0)).attr("data-wordid");nn(e,i.length,t,n,r)}(e,t,n);break;case"verticalCrossword":!function(e,t,n){const i=t.find(".vcLine:not(.example)"),r=l()(i.get(e.subAnswerIndex||0)).attr("data-rcf-wordid");nn(e,i.length,t,n,r)}(e,t,n);break;case"matching":!function(e,t,n){const i={elm:null};let r=t.find(".matchItem:not(.distractor, .example)"),a=((e,t)=>{if(!Array.isArray(t.value))return null;return(t.value.find(t=>Array.isArray(t.value)?t.value[0]===e:t.value===e)||i).elm})(l()(r.get(e.subAnswerIndex||0)).attr("data-rcfid"),n);nn(e,r.length,t,n,a)}(e,t,n);break;case"rotatingMatching":((e,t,n)=>{const i=n.value[e.subAnswerIndex].elm;nn(e,n.value.length,t,n,i)})(e,t,n);break;case"listenAndColour":!function(e,t,n){const i=an(t);if(f.y(i))return;const r=function(e){return e.value.map(e=>e.elm)}(n),a=r[e.subAnswerIndex||0];nn(e,r.length,t,n,a)}(e,t,n);break;case"mathsDivision":case"mathsMultiplication":!function(e,t,n,i){if("y"!==t.attr("data-rcfShowWorking")||t.hasClass("onlyShowRemainderWorking"))return void on(e,t,n,i);const r=t.hasClass("multiplication")?1:0;nn(e,t.find("tr.workingRow").length+r,t,n,(e.subAnswerIndex||0).toString())}(e,t,n,i);break;default:on(e,t,n,i)}}function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hn=e=>un(un({},e),{},{answers:e.answers.filter(e=>!e.ignoreNextAnswer||"y"!==e.ignoreNextAnswer)});function fn(e,t,n){if(!Ht(e,n))return!1;const i=hn(n);null===t.answerIndex&&(Qt(e,!0),t.setIndexToFirstAnswer());const r=function(e){let t=e.$answerableObjects||l()([]);return e.$activity.find(".rcfCarousel:not(.simple)").length>0&&(t=t.filter((function(){return l()(this).closest(".owl-item.active").length>0}))),t}(e);if(Object(f.y)(r))return!1;let a=!1;do{if(!t.isIndexWithinBounds(r))return Qt(e,!0),t.setIndexToNoAnswer(),!0;const n=l()(r[t.answerIndex||0]);if(0===n.length)return Qt(e,!0),t.setIndexToNoAnswer(),!1;const s=Xt(n,i);!s||Array.isArray(s.value)&&0===s.value.length?(t.subAnswerIndex=0,t.answerIndex||(t.answerIndex=0),t.answerIndex++):(cn(t,n,s,r.length),a=!0)}while(!a);return!!t.isIndexWithinBounds(i.answers)}function pn(e,t,n){Wt(e,t),e.$activity.addClass("marking");const{interactions:i}=e;try{i.filter(e=>"function"==typeof e.showMarkedAnswers).forEach(e=>e.showMarkedAnswers(t,n))}catch(e){throw"Error when trying to mark the answers : "+e}e.$activity.find("[data-requires-answers='y']").each((e,t)=>{!function(e){const t=e.find(".mark"),n=t.filter(":not(.correct,.wrong)");t.length>0&&t.length===n.length&&e.addClass("noGivenAnswer")}(l()(t))})}var mn=n(120),gn=n(210),bn=n(53);var yn=n(149);var vn=e=>{const{$activity:t,interactions:n}=e;try{n.filter(e=>"function"==typeof e.resize).forEach(e=>e.resize());const e=Object(yn.a)(t);e&&u.b(u.a.wordBoxContentsChanged,e),u.b(u.a.updateCategoriesSize)}catch(e){throw"Error trying to resize interactions : "+e}},wn=n(214);var kn=e=>e.activityMode,xn=n(70);var Sn=e=>{if(Object.keys(xn.a).indexOf(e)<0)throw new Error("Invalid activity mode specified ["+e+"]")};var On=e=>{Object.keys(xn.a).forEach(t=>{e.removeClass(xn.a[t])})};var Cn=(e,t,n)=>{const{interactions:i}=e;try{i.filter(e=>"function"==typeof e.setInteractionMode).forEach(e=>e.setInteractionMode(t,n))}catch(e){throw new Error("Error trying to set interaction mode : "+e)}};var Tn=(e,t,n)=>{const{$activity:i}=e,r=xn.a[t];if(Sn(t),!n)throw new Error("No answers provided to setActivityMode / setOpenGradableMode");On(i),i.addClass(r),e.activityMode=t,Cn(e,t,n)};function Pn(e){const{interactions:t}=e;var n;(n=e.$activity).trigger("rcf.stop.audio"),function(e){e.find(".inlinePlayer.playing").removeClass("playing")}(n),Object(Ae.f)(!0),t.filter(e=>"function"==typeof e.pause).forEach(e=>e.pause())}function An(e){const{interactions:t}=e;Object(Ae.g)(),t.filter(e=>"function"==typeof e.resume).forEach(e=>e.resume())}var In=n(122);var jn=e=>e.find(".feedback.dev-feedback");var En=e=>e.hasClass("showFeedback");var Ln=e=>{const t=jn(e),n=En(e);t.attr("aria-hidden",(!n).toString())};var Rn=n(104);const Mn=e=>{const t=Object(f.i)(l()(e.currentTarget)).get(0).id;if(e instanceof CustomEvent){const{detail:{event:n}}=e;l()(e.currentTarget).trigger(Rn.a,{eventName:n,activityId:t})}};function Nn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Dn{constructor(e){Nn(this,"activity",void 0),Nn(this,"answerState",void 0);const t=this;this.activity=e,this.answerState=new Yt,u.c(u.a.newCarouselPage,()=>{t.answerState.setIndexToNoAnswer()}),e.$activity.get(0).addEventListener(Rn.a,Mn)}showAnswers(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;Kt(this.activity,e,t,n)}showNextAnswer(e){return fn(this.activity,this.answerState,e)}showMarkedAnswers(e,t){pn(this.activity,e,t)}tryAgain(e,t){Kt(this.activity,e,!0,t)}hideMarkedAnswers(e){!function(e,t){const{interactions:n}=e;e.$activity.removeClass("marking");try{n.filter(e=>"function"==typeof e.clearMarkedAnswers).forEach(e=>e.clearMarkedAnswers(t))}catch(e){throw"Error trying to hide marked answers : "+e}}(this.activity,e)}showUserAnswers(e){!function(e,t){const{interactions:n}=e;try{n.filter(e=>"function"==typeof e.showUserAnswers).forEach(e=>e.showUserAnswers(t))}catch(e){throw"Error trying to show users answers : "+e}}(this.activity,e)}isComplete(e){return function(e,t){const{interactions:n}=e;return!n.filter(e=>"function"==typeof e.isComplete).some(e=>!e.isComplete(t))}(this.activity,e)}getUserAnswers(e){return function(e,t){const{interactions:n}=e;let i={id:e.id,answers:[]};try{n.filter(e=>"function"==typeof e.getUserAnswers).forEach(e=>{const n=e.getUserAnswers(t);i.answers=[...i.answers,...n]})}catch(e){throw"Error trying to get the users answers : "+e}return i}(this.activity,e)}resetAnswers(e){this.answerState.setIndexToNoAnswer(),Qt(this.activity,e)}closeView(){this.activity.$activity.get(0).removeEventListener(Rn.a,Mn),this.activity.close(),this.answerState.setIndexToNoAnswer(),u.d(u.a.newCarouselPage)}disable(){!function(e){const{$activity:t,interactions:n}=e;t.addClass("disabled");try{n.filter(e=>"function"==typeof e.disable).forEach(e=>e.disable())}catch(e){throw"Error trying to disable interactions : "+e}}(this.activity)}enable(){(e=>{const{$activity:t,interactions:n}=e;t.removeClass("disabled");try{n.filter(e=>"function"==typeof e.enable).forEach(e=>e.enable())}catch(e){throw"Error trying to enable interactions : "+e}})(this.activity)}provideFeedback(e){!function(e,t){Wt(e,t);const{interactions:n}=e;try{n.filter(e=>"function"==typeof e.provideFeedback).forEach(e=>e.provideFeedback(t))}catch(e){const t=h.a();throw t.feedbackOptions&&t.feedbackOptions.onFeedbackComplete&&t.feedbackOptions.onFeedbackComplete(),"Error when calling [provideFeedback] on interactions\n"+e}}(this.activity,e)}hasActivityCompleteUI(){return e=this.activity.$activity,Lt(e).some(e=>It.a.includes(e));var e}isAttachedToDom(){return e=this.activity.$activity,l.a.contains(document.body,e[0]);var e}getTeacherFeedback(){return function(e){var t={id:e.id,answers:[],score:0};const{interactions:n}=e;try{n.forEach((function(e){var n;if("function"==typeof e.getTeacherFeedback)n=e.getTeacherFeedback();else{if("function"!=typeof e.getUserAnswers)return;n=e.getUserAnswers()}l.a.merge(t.answers,n)}))}catch(e){throw"Error trying to get the users answers : "+e}var i=function(e){var t;return e.answers.forEach((function(e){e.value.teacher&&(e.value.teacher.score||0===e.value.teacher.score)&&(t=(t||0)+Number(e.value.teacher.score))})),t}(t);return(i||0===i)&&(t.score=i,t.teacherScore=i),t}(this.activity)}isAnswerKeyActivity(){return!(!(e=this.activity.$activity)||e.length<1)&&"y"===(Xe.a(e,"data-isAnswerKey")||"");var e}getGradableType(){return Object(mn.a)(this.activity.$activity)}getPointsAvailable(){return Object(gn.a)(this.activity.$activity)}getItemPointsAvailable(e){return function(e,t){const n=Object(bn.d)(e,t);return parseInt(Object(Xe.a)(n,"data-itemPointsAvailable"))||0}(this.activity.$activity,e)}getTeacherPointsAvailable(){return Object(wn.a)(this.activity.$activity)}getOpenGradableMode(){return kn(this.activity)}setActivityMode(e,t){console.warn("setActivityMode has been deprecated, please use `setOpenGradableMode` instead."),Tn(this.activity,e,t)}setOpenGradableMode(e,t){Tn(this.activity,e,t)}pause(){Pn(this.activity)}resume(){An(this.activity)}isItemBasedActivity(){return Ze(this.activity.$activity)}playItem(e){if(!Ze(this.activity.$activity))throw new Error("The current activity is not item based");!function(e,t){if(Object(f.y)(e))return;let n=bn.d(e,t);if(Object(f.y)(n))throw new Error("Cannot find item based question with id [".concat(t,"] defined in the activity / items"));Object(In.a)(e),bn.f(e,t),bn.e(e,t)}(this.activity.$activity,e)}setStoryPlayingMode(e){!function(e,t){let n=Object(h.a)();n=Object.assign(n,{storyPlayingMode:e}),Object(h.c)(n,t)}(e,this.activity.$activity)}getStoryPlayingMode(){return E()}showFeedback(){var e;(e=this.activity.$activity).addClass("showFeedback"),Ln(e)}hideFeedback(){var e;(e=this.activity.$activity).removeClass("showFeedback"),Ln(e)}resize(){vn(this.activity)}}async function Fn(e){const t=function(e){return new qt(e)}(e);return await t.initialise(),function(e){return new Dn(e)}(t)}function Bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Un(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _n=async(e,t)=>{const n=Oe(e);await Object(f.C)(e);!function(e,t){const n=be(be({},Object(h.a)()),e);Object(h.c)(n,t)}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bn(Object(n),!0).forEach((function(t){Un(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({showReferenceContentCollapsed:"n"},t),e);const i=Object(h.a)(),{showReferenceContentCollapsed:r="n"}=i;"n"===r&&Te(e),Object(O.d)(),function(e,t){const n=Object(O.b)();n?Se(e,t):(xe(e,t),ke(t)),t.addClass(n?"desktop":"mobile")}(n,e),Object(d.b)(e);return await Fn(n)};var Gn=()=>{u.c(u.a.getUserAnswers,()=>{u.b(u.a.deliverUserAnswers,R().getUserAnswers())})};var $n=()=>{u.c(u.a.hideMarkedAnswers,()=>{_()})};var zn=()=>{u.c(u.a.resetAnswers,()=>{G()})};var Vn=()=>{u.c(u.a.showCorrectAnswers,(e,t)=>{window.console&&console.log("show.correct.answers is deprecated and will be removed - please use 'set.answers' instead."),D(t)}),u.c(u.a.setAnswers,(e,t)=>{D(t)})};var qn=()=>{u.c(u.a.showMarkedAnswers,(e,t)=>{U(t)})};var Hn=()=>{u.c(u.a.showNextAnswer,(e,t)=>{N(t)})};var Wn=()=>{u.c(u.a.showUserAnswers,()=>{B()})};var Kn=()=>{u.c(u.a.tryAgain,(e,t)=>{F(t)})};var Jn=()=>{Gn(),$n(),zn(),Vn(),qn(),Hn(),Wn(),Kn()};const Yn=async(e,t)=>{pe();const n=!Object(f.y)(e.find(".activity")),i=await _n(e,t);n&&me(e),Jn(),M(i)};var Qn=()=>({initialize:A,cleanUp:pe,getDeviceMode:O.a,setDeviceMode:T,getVersion:()=>RCF.Version,updateContent:Yn,disableActivity:q,enableActivity:H,getGradableType:X,getItemPointsAvailable:ee,getOpenGradableMode:ne,getPointsAvailable:Z,getStoryPlayingMode:ce,getTeacherFeedback:z,getTeacherPointsAvailable:te,getUserAnswers:$,hasActivityBeenAttempted:V,hasActivityCompleteUI:K,hideFeedback:ue,hideMarkedAnswers:_,isAnswerKeyActivity:J,isItemBasedActivity:Y,pauseActivity:ae,playItem:Q,provideFeedback:W,resetAnswers:G,resize:he,resumeActivity:se,setActivityMode:ie,setAnswers:D,setOpenGradableMode:re,setStoryPlayingMode:oe,showFeedback:le,showMarkedAnswers:U,showNextAnswer:N,showUserAnswers:B,tryAgain:F,closeAllPopups:()=>{l()(document).trigger("rcf.close.popups")}});const Xn=async(e,t)=>{const n=l()(e);return await _n(n,t)};var Zn=()=>({newInstance:Xn});function ei(e){return"string"==typeof e&&""!==e}var ti=e=>{var t;switch(e.type){case sn.a.simple:case sn.a.choice:return ei(e.value);case sn.a.list:case sn.a.sequence:case sn.a.complexOrdering:return Array.isArray(e.value)&&e.value.length>0;case sn.a.composite:return!1!==Array.isArray(e.value)&&ni({answers:e.value})>0;case sn.a.openGradableRecording:return void 0!==e.value.user&&(ei(e.value.user.audioBase64)||ei(e.value.user.audioUrl));case sn.a.openGradableWriting:return void 0!==e.value.user&&ei(e.value.user.value);case sn.a.openGradableTeacherGradedTask:return!0;case sn.a.openGradableFreeDrawing:return void 0!==(null===(t=e.value)||void 0===t?void 0:t.user)&&ei(e.value.user.drawing);case sn.a.gamePelmanism:case sn.a.gameBalloons:case sn.a.gameCategoriseTileMaze:case sn.a.gameSequenceTileMaze:case sn.a.gameVendor:return!!e.value.completion&&!![sn.b.won,sn.b.lost].includes(e.value.completion);default:return!1}};var ni=e=>e.answers.reduce((e,t)=>e+Number(ti(t)),0);var ii=e=>1;var ri=e=>1;var ai=e=>1;var si=e=>1;var oi=e=>e.markType===sn.d.byItem&&Array.isArray(e.value)?e.value.length:1;var ci=e=>e.markType===sn.d.byItem&&Array.isArray(e.value)?e.value.length:1;var li=e=>1;var ui=e=>{if(e.markType===sn.d.byItem&&Array.isArray(e.value)){return di(e.value)}return 1};function di(e){return e.reduce((e,t)=>{switch(t.type){case sn.a.openGradableWriting:return e+ai(t);case sn.a.openGradableRecording:return e+si(t);case sn.a.simple:return e+ii(t);case sn.a.choice:return e+ri(t);case sn.a.list:return e+oi(t);case sn.a.sequence:return e+ci(t);case sn.a.complexOrdering:return e+li(t);case sn.a.composite:return e+ui(t);default:return 0}},0)}var hi=e=>e.value&&e.value.user&&e.value.user.value&&e.value.user.value.length>0?1:0;var fi=e=>e.value&&e.value.user&&(e.value.user.audioBase64||e.value.user.audioUrl)?1:0;var pi=e=>{var t,n;return null!==(t=e.value)&&void 0!==t&&null!==(t=t.user)&&void 0!==t&&t.drawing&&(null===(n=e.value)||void 0===n||null===(n=n.user)||void 0===n?void 0:n.drawing.length)>0?1:0};var mi=e=>{const t=e.value||"";return t||t.length>0?1:0};var gi=e=>Array.isArray(e.value)?e.value.length:1;var bi=e=>e.markType===sn.d.byItem&&Array.isArray(e.value)?e.value.length:1;var yi=e=>1;var vi=e=>{let t=e.markType,n=!0,i=0;return Array.isArray(e.value)?(e.value.forEach(e=>{const t=e.value;t&&t.length>0?i+=Array.isArray(t)?t.length:1:n=!1}),t===sn.d.byList&&n?1:t!==sn.d.byList||n?i:0):0};var wi=e=>{if(e.userChoiceAnswers)return e.userChoiceAnswers.length>0?1:0;const t=e.value||"";return t||t.length>0?1:0};var ki=e=>e&&e.value&&e.value.completion&&[sn.b.won,sn.b.lost].includes(e.value.completion)?1:0;var xi=e=>e.answers.reduce((e,t)=>{switch(t.type){case sn.a.openGradableWriting:return e+hi(t);case sn.a.openGradableRecording:return e+fi(t);case sn.a.openGradableTeacherGradedTask:return e+1;case sn.a.openGradableFreeDrawing:return e+pi(t);case sn.a.simple:return e+mi(t);case sn.a.list:return e+gi(t);case sn.a.sequence:return e+bi(t);case sn.a.complexOrdering:return e+yi(t);case sn.a.composite:return e+vi(t);case sn.a.choice:return e+wi(t);case sn.a.gamePelmanism:case sn.a.gameBalloons:case sn.a.gameCategoriseTileMaze:case sn.a.gameSequenceTileMaze:case sn.a.gameVendor:return e+ki(t);default:return 0}},0);var Si=(e,t)=>{const n=di(e.answers);return{numberOfAttemptedAnswers:xi(t),numberOfPossibleAnswers:n}};var Oi=(e,t)=>e.find(e=>e.elm===t);var Ci=e=>{const{elm:t,type:n}=e;return!Object(f.y)(t)&&!Object(f.y)(n)};function Ti(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Pi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ti(Object(n),!0).forEach((function(t){Ai(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ti(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ai(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ii=(e,t)=>{const n=e.answers.filter(e=>{const{elm:n}=e;if(!Ci(e))return!1;const i=Oi(t.answers,n);if(!i)return!1;const{markType:r,markedBy:a}=i;return r!==sn.d.unmarked&&a!==sn.c.nobody});return Pi(Pi({},e),{},{answers:n})};function ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ji(Object(n),!0).forEach((function(t){Li(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ji(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Li(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ri=(e,t)=>{const n=e.answers.filter(e=>{const{elm:n}=e;if(!Ci(e))return!1;const i=Oi(t.answers,n);if(!i)return!1;const{markType:r,markedBy:a}=i;return r===sn.d.unmarked||a===sn.c.nobody});return Ei(Ei({},e),{},{answers:n})};var Mi=(e,t)=>e.answers.filter(e=>{const n=e.elm,i=Oi(t.answers,n);return!!i&&i.type!==sn.a.composite}),Ni=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];i&&(e=Object(f.H)(e),t=Object(f.H)(t));return Di(e,t,n)};function Di(e,t,n){return Fi(e)&&Fi(t)?Number(e)==Number(t):n&&"n"==n?e.toLowerCase()==t.toLowerCase():e==t}const Fi=e=>!isNaN(Number(e));n(106);function Bi(e,t){return JSON.stringify(e)===JSON.stringify(t)}n(180);function Ui(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!n)return t.indexOf(e)>-1;const i=t.map(e=>e.toLowerCase());return i.indexOf(e.toLowerCase())>-1}var _i=(e,t)=>{switch(t.type){case sn.a.simple:return function(e,t){const n=e.value;return[Ni(n,t.value,t.caseSensitive||null,t.ignorePunctuation)?1:0]}(e,t);case sn.a.choice:return function(e,t){const n=e.value,{caseSensitive:i,ignorePunctuation:r}=t;return[t.value.some(e=>Ni(n,e,i,"y"===r))?1:0]}(e,t);case sn.a.sequence:return function(e,t){const n=t.markType||"item",i=t.value;switch(n){case sn.d.byList:return[Bi(e.value,i)?1:0];case sn.d.byItem:return i&&Array.isArray(i)&&i.length>0?i.map((t,n)=>e.value[n]===t?1:0):[0];default:return[0]}}(e,t);case sn.a.list:return function(e,t){const n=t.markType||sn.d.byItem,i=e.value,r=t.value;let a=!0;switch(n){case sn.d.byItem:return Array.isArray(i)&&i.length>0?i.map(e=>Ui(e,r)?1:0):[Ui(i,r)?1:0];case sn.d.byList:return a=(!r.length||i.length==r.length)&&i.every(e=>Ui(e,r)),[a?1:0];default:return[0]}}(e,t);case sn.a.complexOrdering:return function(e,t){const n=e.value;return[t.value.some(e=>Bi(n,e))?1:0]}(e,t);default:return[0]}};var Gi=e=>e.value&&e.value.length>0?[0]:[];function $i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$i(Object(n),!0).forEach((function(t){Vi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vi(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qi=(e,t)=>{const n=zi(zi({},e),{},{verification:[],score:0}),i=e.elm,r=Oi(t.answers,i);if(!r)return n;const{markType:a,penaliseWrongAnswers:s="n"}=r;switch(a){case sn.d.distractor:n.verification=Gi(e);break;default:n.verification=_i(e,r)}const o=n.verification.map(e=>"y"===s?Number(e)>0?Number(e):-1:Number(e)).reduce((e,t)=>e+t,0);return n.score=o>=0?o:0,n};var Hi=(e,t)=>{const n=Mi(e,t).map(e=>qi(e,t)),i=n.reduce((e,t)=>e+t.score,0);return{answers:n,score:i}};var Wi=(e,t)=>e.answers.filter(e=>{const n=e.elm,i=Oi(t.answers,n);return!!i&&i.type===sn.a.composite});var Ki=(e,t)=>{const n=e.value;if(!Array.isArray(n))return[0];return[n.every((e,n)=>{const i=t.value[n];if(e.elm!==i.elm)return!1;const r=e.value,a=i.value;switch(i.type){case sn.a.choice:return Ui(r,a,!!i.caseSensitive&&"n"===i.caseSensitive);case sn.a.simple:return Ni(r,a,i.caseSensitive);default:return!1}})?1:0]};var Ji=e=>e.reduce((e,t)=>parseInt(e)+parseInt(t),0);var Yi=(e,t)=>{const n=[...Wi(e,t)];let i=0;return n.forEach(e=>{e.verification=[];const n=e.value;if(!Array.isArray(n))return;const r=e.elm,a=Oi(t.answers,r);if(a)switch(a.markType){case sn.d.byItem:n.forEach(e=>{const t=Oi(a.value,e.elm);e.verification=t?_i(e,t):[0],i+=Ji(e.verification)});break;case sn.d.byList:e.verification=Ki(e,a),i+=Ji(e.verification)}}),{answers:n,score:i}};var Qi=(e,t)=>{let{pointsMultiplier:n=1,pointsAvailable:i=1,overrideScore:r=1}=t;const a=parseFloat(n),s=parseInt(e),o=parseInt(i),c=parseInt(r);if(1===a)return s;if(s===o)return r;const l=Math.round(s*a*2)/2;return l===c?l-.5:l};function Xi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xi(Object(n),!0).forEach((function(t){er(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function er(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tr=(e,t)=>{const n=Ii(t,e),i=Ri(t,e),r=Hi(n,e),a=Yi(n,e),s=r.score+a.score,o=Qi(s,e);return Zi(Zi({activity_id:t.id},t),{},{answers:[...i.answers,...r.answers,...a.answers],score:o})};var nr=e=>Array.isArray(e.value)?e.value.length:"string"==typeof e.value?1:0;var ir=e=>Array.isArray(e.value)?e.value.length:0;var rr=e=>{const{markType:t}=e;let n=0;return Array.isArray(e.value)?t===sn.d.byList?e.value.length:(e.value.forEach(e=>{Array.isArray(e.value)?n+=e.value.length:n++}),n):0};var ar=e=>Array.isArray(e.value)?e.value.length>0?1:0:"string"==typeof e.value&&e.value.length>0?1:0;var sr=e=>{let t=0;const n=hn(e);return n.answers.length<1?0:(n.answers.forEach(e=>{const{type:n}=e;switch(n){case sn.a.list:t+=nr(e);break;case sn.a.composite:t+=rr(e);break;case sn.a.simple:t+=ar(e);break;case sn.a.answerKey:t+=ir(e);break;case sn.a.sequence:case sn.a.choice:case sn.a.complexOrdering:t++}}),t)};var or=()=>o;var cr=()=>({cookie:f.c,isEmpty:f.y,isMobileDevice:f.A,isTabletDevice:f.B});var lr=()=>{const e="production";return{version:"2.4.113",env:e,isDevelopment:!1,webpackCacheName:"rcfRunTime_24113"}};window.RCF=window.RCF||{},RCF.Application=Qn(),RCF.Content=Zn(),RCF.Interactions=RCF.Interactions||{},RCF.Interactions.Marked=RCF.Interactions.Marked||{},RCF.Interactions.Unmarked=RCF.Interactions.Unmarked||{},RCF.MarkingEngine=or(),RCF.Utils=cr(),RCF.Version=lr(),RCF.subscribe=u.c,RCF.unsubscribe=u.d,RCF.publish=u.b}]);
/* build created on 15/08/2025 16:19 */
//# sourceMappingURL=http://localhost:4000/source-maps/rcf.js.map