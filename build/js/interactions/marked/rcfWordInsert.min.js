(window.rcfRunTime_24113=window.rcfRunTime_24113||[]).push([["interactions/marked/rcfWordInsert","interactions/marked/rcfSentenceBuilder"],{335:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(25);var r=n(339);function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c{constructor(e,t){i(this,"$activity",void 0),i(this,"$selector",void 0),i(this,"interactionFunctions",void 0),this.$activity=e,this.interactionFunctions=t}clearMarkedAnswers(){Object(r.a)(this.$selector)}getUserAnswers(e){return Object(r.b)(this,this.interactionFunctions.getUserAnswer,e)}isComplete(e){return Object(r.c)(this,this.interactionFunctions.isComplete,e)}showAnswers(e,t,n){Object(r.d)(this,e,t,this.interactionFunctions.showAnswer,n)}showMarkedAnswers(e,t){Object(r.e)(this,e,this.interactionFunctions.showMarkedAnswer,t)}showUserAnswers(e){Object(r.f)(this,this.interactionFunctions.showAnswer,e)}reset(){this.interactionFunctions.reset(this.$selector)}}},337:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(6),n(13);var r=n(5),i=n.n(r),c=n(4);function o(e,t){return Object(c.y)(t)?i()([]):e.filter((e,n)=>{let r=i()(n).closest(".itemBasedQuestion");return Object(c.v)(r)===t})}},406:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"showAnswer",(function(){return m})),n.d(r,"showMarkedAnswer",(function(){return j})),n.d(r,"getUserAnswer",(function(){return x})),n.d(r,"isComplete",(function(){return A})),n.d(r,"reset",(function(){return B}));n(25),n(6),n(11),n(15),n(16);var i=n(76),c=n.n(i),o=n(4),s=n(149);function a(e){return e.find(".sentenceBuilder ul.sentenceWordList")}var u=n(5),l=n.n(u);function d(e){const t=l()("<li></li>"),n=e.find("li.ui-sortable-helper");t.prependTo(e),function(e){const t=e.find("li.prefix");Object(o.y)(t)||(t.detach(),t.insertAfter(l()("li:first",e)))}(e),function(e){const t=e.find("li.suffix");Object(o.y)(t)||(t.detach(),t.insertAfter(l()("li:last",e)))}(e),n.detach(),n.insertAfter(l()("li:last",e)),t.remove()}var f=n(17);n(13);function v(e){return e.find(".sentenceBuilder ul li")}function b(e,t){const n=Object(s.a)(e),r=a(e);!function(e){v(e).filter(":not(.fixed)").remove()}(e),n.reset();t.items.forEach((e,t)=>{const i=function(e,t,n){let r=t.getWordItem(e);if(!Object(o.y)(r)){const e=r.clone();return t.removeWordItem(r),n.append(e),e}return r=n.find("li.fixed[data-rcfid='".concat(e,"']")),r}(e,n,r);Object(o.y)(i)||Object(f.c)(i,"data-sortindex",t)});const i=r.find("li[data-sortindex]");i.length>0&&c()(i,{attr:"data-sortindex",order:"asc"}),d(r)}var h=n(338);var m=(e,t)=>{const n=e.$interaction;(!t||t&&Object(h.a)(e))&&b(n,e)},p=n(340);var j=e=>{const t=e.$interaction,n=Object(h.a)(e);Object(p.a)(t,n)};n(59),n(100),n(48);var O=n(384);var g=e=>{const t=v(e);return Object(O.a)(t)};var w=e=>v(e).filter(":not(.fixed)"),y=n(8);var x=e=>{const t=function(e){const t=v(e).map((e,t)=>(l()(t).attr("data-originalValue")||"").toLowerCase()).get().join("").replace(/\s+/g,"");return Object(o.M)(t)}(e),n=g(e),r=Object(o.v)(e)||"",i=w(e),c=Object(O.a)(i);return{elm:r,type:y.a.choice,userChoiceAnswers:c,items:n,value:t}};var A=e=>w(e).length>0,$=n(336);function B(e){e.each((e,t)=>{const n=l()(t),r=Object(s.a)(n),i=w(n);Object($.a)(n),r.reset(),i.remove()})}function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sentenceBuilder";return e.find("*[data-rcfinteraction='".concat(t,"']:not(.example)"))}var S=n(401),T=n(408),k=n(347),C=n(350);function F(e,t){const n=Object(o.v)(e)||"";if(Object(o.y)(n))return!1;if(Object(C.a)(e))return!1;e.remove();const r=t.getWordItem(n);Object(k.a)(r,!1),t.addWordItem(r)}const P=e=>{e.remove()};function W(e,t){const n=t.getWordItems(),r=a(e);Object(T.a)(n,t),function(e){const t=e.$wordBox;t.droppable({accept:".sentenceBuilderContainer .dragItem",hoverClass:"hoverClass",drop:(t,n)=>{const r=n.draggable,i=n.helper;P(i),F(r,e)}}),t.disableSelection()}(t),n.draggable("option",{connectToSortable:r})}var M=n(99);function U(e){e.find("li").each((e,t)=>{const n=l()(t),r="y"===Object(f.a)(n,"data-fixed"),i=Object(f.a)(n,"data-fixedpos")||"";r&&Object(M.c)(n,"pos",i)})}var E=(e,t)=>{e.on("click","li.dragItem:not(.fixed)",e=>{F(l()(e.currentTarget),t)})},z=n(71),L=n(369),N=n(392);function R(e,t){const n=a(e);n.sortable({cancel:".fixed",placeholder:"draggablePlaceHolder",forcePlaceholderSize:!0,tolerance:"pointer",helper:"clone",cursor:"pointer",scrollSpeed:10,start:(e,t)=>{!function(e,t){const n=l()(t.placeholder),r=n.closest("ul");n.html("&nbsp;"),Object(L.a)(r,!0),Object(N.a)(r,!0),U(r)}(0,t)},over:()=>{d(n)},change:()=>{d(n)},update:()=>{d(n)},stop:(e,t)=>{!function(e,t){Object(L.a)(t,!1),Object(N.a)(t,!1),e&&e.helper&&l()(e.helper).remove()}(t,n)},receive:(e,t)=>{!function(e,t){const n=l()(t.item);l()(t.helper).removeAttr("style"),Object(k.a)(n,!0),Object(z.a)(n)}(0,t)}}),E(n,t),function(e){e.find("li.dev-placeholder").remove()}(n),function(e){e.disableSelection()}(n),U(n)}var _=e=>e.find(".suffix").length>0;var H=(e,t)=>{const n=e.clone();if(n.removeAttr("style"),_(t)){const e=t.find(".suffix");n.insertBefore(e)}else t.append(n);Object(k.a)(e,!0),Object(z.a)(e),t.sortable("refresh")};var Q=(e,t)=>{const{$wordBox:n}=t,r=a(e);n.on("click","li.dragItem",e=>{const t=l()(e.currentTarget);H(t,r)})};function V(e){const t=Object(s.a)(e);t.randomizeItems();const n=t.getWordItems();R(e,t),W(e,t),Q(e,t),Object(S.a)(e,n)}function q(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sentenceBuilder";e.on("rcf.single.answer","*[data-rcfinteraction='".concat(t,"']"),(e,t)=>{const n=l()(e.currentTarget);t.elm==Object(o.v)(n)&&b(n,t)})}var D=n(335);function G(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"default",(function(){return J}));class J extends D.a{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sentenceBuilder";super(e,r),G(this,"$selector",void 0),G(this,"$activity",void 0),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sentenceBuilder";const r=I(t,n);r.each((e,t)=>{V(l()(t))}),q(t,n),e.$activity=t,e.$selector=r}(this,e,t)}}},653:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(406);class i extends r.default{constructor(e){super(e,"wordInsert")}}}}]);
/* build created on 15/08/2025 16:19 */
//# sourceMappingURL=http://localhost:4000/source-maps/interactions/marked/rcfWordInsert.js.map