(window.rcfRunTime_24113=window.rcfRunTime_24113||[]).push([["interactions/marked/rcfFixedCrossword"],{335:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));r(25);var n=r(339);function o(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class i{constructor(t,e){o(this,"$activity",void 0),o(this,"$selector",void 0),o(this,"interactionFunctions",void 0),this.$activity=t,this.interactionFunctions=e}clearMarkedAnswers(){Object(n.a)(this.$selector)}getUserAnswers(t){return Object(n.b)(this,this.interactionFunctions.getUserAnswer,t)}isComplete(t){return Object(n.c)(this,this.interactionFunctions.isComplete,t)}showAnswers(t,e,r){Object(n.d)(this,t,e,this.interactionFunctions.showAnswer,r)}showMarkedAnswers(t,e){Object(n.e)(this,t,this.interactionFunctions.showMarkedAnswer,e)}showUserAnswers(t){Object(n.f)(this,this.interactionFunctions.showAnswer,t)}reset(){this.interactionFunctions.reset(this.$selector)}}},337:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));r(6),r(13);var n=r(5),o=r.n(n),i=r(4);function c(t,e){return Object(i.y)(e)?o()([]):t.filter((t,r)=>{let n=o()(r).closest(".itemBasedQuestion");return Object(i.v)(n)===e})}},382:function(t,e,r){"use strict";r(101);const n=[8,9,16,17,18,19,20,27,33,34,35,36,37,38,40,45,46,91,92,93,144,145,219,249];e.a=t=>!n.includes(t)},710:function(t,e,r){"use strict";r.r(e);var n={};r.r(n),r.d(n,"showAnswer",(function(){return o.a})),r.d(n,"getUserAnswer",(function(){return i.a})),r.d(n,"showMarkedAnswer",(function(){return c.a})),r.d(n,"isComplete",(function(){return a.a})),r.d(n,"reset",(function(){return s.a}));r(25);var o=r(440),i=r(443),c=r(470),a=r(444),s=r(472),d=r(5),l=r.n(d),u=r(4),f=r(623);r(6),r(11);var w=t=>t.find("*[data-rcfinteraction='fixedCrossword']"),p=r(563),h=r(564);var v=t=>Object(h.a)(t,"data-hiddenwordsjson"),b=r(566);r(15),r(16);const m="across",y="down";var j=t=>({xValue:t.direction===m?1:0,yValue:t.direction===y?1:0});var O=(t,e)=>{if(!e)throw"No clue number provided to add clue number to cell !";const r=t.find(".relSpan");Object(u.y)(r)&&t.prepend('\n\t\t<span class="relSpan">\n\t\t\t<span class="clueNumber">'.concat(e,"</span>\n\t\t</span>\n\t"))};var C=(t,e,r,n)=>{const o="y"===e.isExample||"y"===e.firstLetterExample&&0===n,i=l()('\n\t\t<input\n\t\t\ttype="text"\n\t\t\tclass="cwWord '.concat(o?"example":"",'"\n\t\t\tdata-direction="').concat(e.direction,'"\n\t\t\tdata-letter="').concat(r.toUpperCase(),'"\n\t\t\tdata-wordid="|').concat(e.id,'|"\n\t\t\tmaxlength="1"\n\t\t\t').concat(o?"readonly":"","\n\t\t>\n\t"));o&&i.val(r.toUpperCase()),t.addClass("word"),t.toggleClass("example",o),t.append(i),n<1&&O(t,e.clueNumber)},x=r(17);var g=(t,e,r,n)=>{const o="y"===r.isExample||"y"===r.firstLetterExample&&n<1,i=Object(x.a)(e,"data-wordid")||"",c=r.word.charAt(n).toUpperCase(),a=Object(x.a)(e,"data-letter")||"";if(t.toggleClass("example",o),c!==a)throw"Intersection of word '".concat(r.word.toUpperCase(),"' in Crossword is invalid");Object(x.c)(e,"data-wordid","".concat(i,"|").concat(r.id,"|")),Object(x.c)(e,"data-direction","none"),o&&(e.val(c),e.addClass("example"),e.attr("readonly","")),n<1&&O(t,r.clueNumber)};var A=(t,e)=>{const r=j(e);e.word.split("").forEach((n,o)=>{const i=e.startCol+r.xValue*o,c=e.startRow+r.yValue*o,a="r".concat(c,"c").concat(i),s=t.find("td[data-cellid='".concat(a,"']"));if(Object(u.y)(s))throw"Word '".concat(e.word,"' does not fit in the specified location");const d=s.find("input");Object(u.y)(d)?C(s,e,n,o):g(s,d,e,o)})};var E=(t,e)=>{e.forEach(e=>{const{cellId:r,value:n}=e,o=t.find("td[data-cellid='".concat(r,"']"));if(Object(u.y)(o))throw"Hidden word letter '".concat(n,"' at '").concat(r,"' does not fit in the specified location");const i=o.find("input");if(Object(u.y)(i))throw"Hidden word letter '".concat(n,"' at '").concat(r,"' does not have an existing crossword cell");const c=i.attr("data-letter")||"";if(c.toUpperCase()!==n.toUpperCase())throw"Hidden word letter '".concat(n,"' at '").concat(r,"' does not match underlying crossword value of '").concat(c,"'");i.addClass("hiddenLetter")})};r(48);var $=(t,e)=>{const r=e.split(",").map(t=>'<div class="crosswordError">'.concat(t,"</div>")).join("");t.prepend('<div class="crosswordErrors">'.concat(r,"</div>"))},F=r(565),U=r(99);var k=(t,e)=>{Object(U.c)(t,"data-hidden",e)},M=r(612);var N=t=>{const e=Object(p.a)(t);if(!e)throw"no words available in fixedCrossword";const r=v(t);r&&k(t,r),Object(F.a)(t,e),Object(b.a)(t);try{!function(t,e,r){const n=t.find("table");let o=[];if(e.forEach(t=>{try{A(n,t)}catch(t){o.push(t)}}),r)try{E(t,r)}catch(t){o.push(t)}if(o.length>0)throw o.join(",");n.find("td.word:not(.example)").addClass("dev-markable-container"),n.find("td:not(.word)").addClass("no-border")}(t,e,r)}catch(e){return void $(t,e)}Object(M.a)(t)};var P=r(446),S=r(335);function T(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,"default",(function(){return V}));class V extends S.a{constructor(t){super(t,n),T(this,"$activity",void 0),T(this,"$selector",void 0),function(t,e){if(Object(u.y)(e))throw"Empty Activity passed to FixedCrossword interaction constructor";t.$activity=e,t.$selector=w(e),t.$selector.each((t,e)=>{const r=l()(e);N(r)}),Object(f.a)(e,"fixedCrossword")}(this,t)}showMarkedAnswers(t){super.showMarkedAnswers(t),Object(P.a)(this.$selector)}}}}]);
/* build created on 15/08/2025 16:19 */
//# sourceMappingURL=http://localhost:4000/source-maps/interactions/marked/rcfFixedCrossword.js.map