(window.rcfRunTime_24113=window.rcfRunTime_24113||[]).push([["interactions/marked/rcfDroppables"],{703:function(t,e,c){"use strict";c.r(e);c(25);var r=c(613),a=c(616),n=c(602),i=c(404),o=c(422),s=c(5),b=c.n(s),d=c(4),f=(c(6),c(11),c(149)),l=c(336),O=c(399),j=c(374),u=c(99);function v(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const c=t.$interaction.find(".dev-droppable"),r=Object(d.i)(c),a=Object(f.a)(r),n=Array.isArray(t.value)?t.value[0]:t.value,i=a.getWordItem(n),o=Object(u.a)(c,"wordItemID");Object(d.y)(o)||Object(l.c)(c,o);const s=c,b=i,v=!!t.verification&&"1"==t.verification[0];!e||e&&v?(Object(j.a)(c),Object(d.y)(i)||(Object(O.a)(s,b,i,a),a.removeWordItem(i),a.setNextWordItemActive(i))):Object(j.a)(c,!0)}function m(t,e){const c=b()(t.currentTarget);e.elm===Object(d.v)(c)&&(e.$interaction=c,v(e,!1))}var p=c(17),w=c(8);var h=c(174),y=c(416);var g=(t,e)=>{t.$activity=e,t.$selector=Object(o.a)(e);const c=Object(i.a)(e),s=Object(f.a)(e);s.randomizeItems(),Object(y.a)(t.$selector,"title"),Object(h.a)(e)?(Object(r.a)(e,s),Object(a.a)(e,s.$wordBox,s)):c?Object(r.a)(e,s):Object(a.a)(e,s.$wordBox,s),Object(n.a)(e,s.$wordBox,s),function(t){t.on("rcf.single.answer","*[data-rcfinteraction*=roppable]",m)}(e),function(t){t.on("rcf.droppable.answer.changed","*[data-rcfinteraction*=roppable]",(e,c,r)=>{RCF.options.feedbackOptions&&RCF.options.feedbackOptions.onAnswerChanged&&RCF.options.feedbackOptions.onAnswerChanged({id:Object(p.a)(t,"id"),answers:[{elm:c,type:w.a.simple,value:r}]})})}(e)};c(15),c(16);function $(t){return t.find("*[data-rcfinteraction*='roppable']:not(.example)")}var I=c(342),k=c(353);var F=c(437);c(13);var C=c(340),A=c(379),R=c(60);var W=(t,e)=>{const c=t.find(".dragTarget"),r=c.attr("title"),a=e?R.a.t("components.marking.correct"):R.a.t("components.marking.incorrect");c.attr("title","".concat(r,", ").concat(a))};function H(t,e,c){const r=$(e);Object(I.a)(t),c.answers.forEach(t=>function(t,e){const c=e.elm;if(Object(d.y)(c))return;if(Object(d.y)(e.verification))return;const r=t.filter("[data-rcfid='".concat(c,"']"));if(Object(d.y)(r))return;const a=!!e.verification&&"1"==e.verification[0];W(r,a);const n=Object(A.a)(r);Object(C.a)(n,a)}(r,t))}c(48);var T=c(357);function x(t){const e=t.find(".dragTarget.movable"),c=Object(d.i)(e),r=Object(f.a)(c),a=Object(u.a)(e,"wordItemID");Object(j.a)(e),a&&r.addWordItem(r.getWordItem(a)),Object(l.a)(t),Object(T.a)(t),Object(I.a)(t)}var D=c(448),B=c(370),E=c(569),P=c(568);var M=(t,e)=>{t.find(".dragTarget").each((t,c)=>{const r=b()(c);if(Object(B.a)(r)){const t=Object(D.a)(r),c=Object(f.a)(e).getWordItem(t);Object(E.a)(r,c)}else Object(P.a)(r)})};function N(t,e,c){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var c=t[Symbol.toPrimitive];if(void 0!==c){var r=c.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[e]=c,t}c.d(e,"default",(function(){return S}));class S{constructor(t){N(this,"$activity",void 0),N(this,"$selector",void 0),g(this,t)}clearMarkedAnswers(){const t=$(this.$activity);Object(I.a)(t),M(t,this.$activity)}showAnswers(t,e){!function(t,e,c){const r=Object(f.a)(t),a=$(t);Object(I.a)(a),r.reset(),Object(k.a)(a,e).forEach(t=>v(t,c))}(this.$activity,t,e)}isComplete(){return function(t){let e=!0;return t.each((t,c)=>{const r=b()(c);(Object(u.a)(r,"wordItemID")||"").length<1&&(e=!1)}),e}(this.$selector)}getUserAnswers(){return this.$selector.map((t,e)=>{const c=b()(e),r=c.closest("[data-rcfid]"),a=Object(u.a)(c,"wordItemID")||"";return{elm:Object(d.v)(r)||"",type:w.a.simple,value:a}}).get()}showMarkedAnswers(t){H(this.$selector,this.$activity,t)}showUserAnswers(){!function(t,e){const c=Object(f.a)(e);c.reset(),t.each((t,e)=>{const r=b()(e),a=Object(F.a)(r),n=c.getWordItem(a);Object(j.a)(r),Object(d.y)(a)||(c.removeWordItem(n),Object(O.a)(r,n,n,c))})}(this.$selector,this.$activity)}provideFeedback(t){!function(t,e){const c=e.answers[0],r=$(t),a=c.elm,n=r.filter("[data-rcfid='".concat(a,"']"));if(Object(d.y)(n))return;const i=c.verification&&"1"==c.verification[0];window.RCF&&window.RCF.Handlers&&window.RCF.Handlers.FeedbackHandler&&window.RCF.Handlers.FeedbackHandler.provideFeedback&&RCF.Handlers.FeedbackHandler.provideFeedback(n,n,i,x)}(this.$activity,t)}reset(){!function(t){const e=Object(d.i)(t),c=$(e),r=t,a=Object(f.a)(e);Object(I.a)(c),Object(j.a)(r),a.reset(),Object(l.a)(r)}(this.$selector)}}}}]);
/* build created on 15/08/2025 16:19 */
//# sourceMappingURL=http://localhost:4000/source-maps/interactions/marked/rcfDroppables.js.map