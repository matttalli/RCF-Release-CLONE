(window.rcfRunTime_24113=window.rcfRunTime_24113||[]).push([["interactions/marked/rcfCategoriseItemSelectList"],{697:function(e,t,c){"use strict";c.r(t);c(25),c(6),c(11);var i=c(4);var n=c(5),r=c.n(n);function a(e){e.find(".itemSelectListItem:not(.example) .category:not(.example)").removeClass("selected disabled")}var s=c(336);function o(e){a(e),e.each((e,t)=>{const c=r()(t);Object(s.a)(c)})}var l=c(400);function f(e){const t=Object(l.a)(e),c=Object(l.c)(t);let i=parseInt(e.attr("data-restrictcount")||0);if(!c)return;i<1&&(i=1);const n=e.find(".category.selectable.selected:not(.example)").length>=i;e.find(".category.selectable:not(.selected, .example)").toggleClass("disabled",n)}function d(){var e=r()(this),t=Object(l.a)(e),c=Object(l.b)(t),i=e.closest(".itemSelectListItem"),n=Object(l.c)(t);c?e.toggleClass("selected"):(i.find(".categoriseItemSelect .category.selectable.selected:not(.example)").removeClass("selected"),e.addClass("selected")),n&&f(i)}function m(e,t,c){var n=r()(this);if(t.elm===Object(i.v)(n)){var a=[];for(var s in t.value){var o=t.value[s];for(var l in o.value)o.value[l]===c&&a.push(o.elm)}if(a.length>0)for(var d=0;d<a.length;d++){var m=n.find(".itemSelectListItem:not(.example)[data-rcfid=".concat(c,"] .category.selectable[data-rcfid=").concat(a[d],"]"));m.addClass("selected"),f(m.closest(".itemSelectListItem"))}}}function u(e,t){if(i.y(t))throw"Empty Activity passed to CategoriseItemSelectList constructor";var c;(e.$activity=t,e.$selector=t.find(".categorise.itemSelectList[data-rcfinteraction=categorise]"),i.y(e.$selector))||(c=e.$selector,Object(i.G)(c,"li.itemSelectListItem:not(.example)"),o(e.$selector),function(e){e.on("click",".itemSelectListItem:not(.example) .categoriseItemSelect .category.selectable:not(.disabled, .example)",d)}(e.$selector),function(e){e.on("rcf.single.answer",".categorise.itemSelectList",m)}(e.$activity))}c(15),c(16),c(48);var v=c(8);function b(e){const t=e.find(".categoriseItemSelect:first .category.selectable");return{elm:Object(i.v)(e)||"",type:v.a.composite,value:t.map((t,c)=>{const n=Object(i.v)(r()(c))||"";return{elm:n,type:v.a.list,value:e.find(".itemSelectListItem .category.selectable.selected:not(.example)[data-rcfid=".concat(n,"]")).map((function(){return Object(i.v)(r()(this).closest(".itemSelectListItem"))})).get()}}).get()}}function g(e){e.each((e,t)=>{!function(e){const t=b(e);Object(s.c)(e,t)}(r()(t))}),a(e)}function h(e,t,c){const n=Object(l.b)(e);t.value.forEach(t=>{const r=t.elm;t.value.forEach((a,s)=>{const o=e.find(".itemSelectListItem[data-rcfid=".concat(a,"]:not(.example)"));if(Object(i.y)(o))return;n||o.find(".selected").removeClass("selected");const l=o.find("[data-rcfid='".concat(r,"']"));c?t.verification&&"1"==t.verification[s]&&l.addClass("selected"):l.addClass("selected")})}),e.find(".itemSelectListItem:not(.example)").each((e,t)=>{f(r()(t))})}var p=c(353);var y=c(342),j=c(407),w=c(371),O=c(419);function S(e){const t=e.$interaction;e.value.forEach(e=>function(e,t){const c=t.elm;t.value.forEach((n,r)=>{const a=e.find(".itemSelectListItem[data-rcfid='".concat(n,"']:not(.example) .category.selectable[data-rcfid='").concat(c,"']"));if(Object(i.y)(a))return;const s=!!t.verification&&"1"==t.verification[r],o=s?"correct":"wrong",l=s?"correctAnswer":"incorrectAnswer",f=Object(w.a)(a),d=Object(O.a)(a);f.addClass(l),d.addClass(o)})}(t,e))}function I(e){a(e),e.each((e,t)=>{!function(e){const t=Object(s.b)(e);Object(i.y)(t)||h(e,t,!1)}(r()(t))})}function $(e,t,c){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var c=e[Symbol.toPrimitive];if(void 0!==c){var i=c.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:c,enumerable:!0,configurable:!0,writable:!0}):e[t]=c,e}c.d(t,"default",(function(){return L}));class L{constructor(e){$(this,"$activity",void 0),$(this,"$selector",void 0),u(this,e)}showAnswers(e,t){!function(e,t,c){if(!t.answers)throw"Invalid answers provided to rcf_Categorise_itemselectlist:showAnswers";g(e),a(e),Object(p.a)(e,t).forEach(e=>{h(e.$interaction||r()([]),e,c)})}(this.$selector,e,t)}showMarkedAnswers(e){!function(e,t){Object(y.a)(e),Object(j.a)(e,t).forEach(e=>S(e))}(this.$selector,e)}showUserAnswers(){I(this.$selector)}isComplete(){return function(e){let t=function(e){return e.find(".itemSelectListItem:not(.example)").length}(e);return function(e){return e.find(".itemSelectListItem:not(.example) .category.selected").length}(e)>=t}(this.$activity)}getUserAnswers(){return this.$selector.map((e,t)=>b(r()(t))).get()}clearMarkedAnswers(){Object(y.a)(this.$selector)}reset(){o(this.$selector)}}}}]);
/* build created on 15/08/2025 16:19 */
//# sourceMappingURL=http://localhost:4000/source-maps/interactions/marked/rcfCategoriseItemSelectList.js.map