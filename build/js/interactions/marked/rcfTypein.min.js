(window.rcfRunTime_24113=window.rcfRunTime_24113||[]).push([["interactions/marked/rcfTypein"],{335:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(25);var r=n(339);function i(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class o{constructor(t,e){i(this,"$activity",void 0),i(this,"$selector",void 0),i(this,"interactionFunctions",void 0),this.$activity=t,this.interactionFunctions=e}clearMarkedAnswers(){Object(r.a)(this.$selector)}getUserAnswers(t){return Object(r.b)(this,this.interactionFunctions.getUserAnswer,t)}isComplete(t){return Object(r.c)(this,this.interactionFunctions.isComplete,t)}showAnswers(t,e,n){Object(r.d)(this,t,e,this.interactionFunctions.showAnswer,n)}showMarkedAnswers(t,e){Object(r.e)(this,t,this.interactionFunctions.showMarkedAnswer,e)}showUserAnswers(t){Object(r.f)(this,this.interactionFunctions.showAnswer,t)}reset(){this.interactionFunctions.reset(this.$selector)}}},337:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n(6),n(13);var r=n(5),i=n.n(r),o=n(4);function a(t,e){return Object(o.y)(e)?i()([]):t.filter((t,n)=>{let r=i()(n).closest(".itemBasedQuestion");return Object(o.v)(r)===e})}},377:function(t,e,n){var r,i,o;i=[t,e],void 0===(o="function"==typeof(r=function(t,e){"use strict";var n,r,i="function"==typeof Map?new Map:(n=[],r=[],{has:function(t){return n.indexOf(t)>-1},get:function(t){return r[n.indexOf(t)]},set:function(t,e){-1===n.indexOf(t)&&(n.push(t),r.push(e))},delete:function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),r.splice(e,1))}}),o=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(t){o=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}function a(t){if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!i.has(t)){var e,n=null,r=null,a=null,s=function(){t.clientWidth!==r&&d()},c=function(e){window.removeEventListener("resize",s,!1),t.removeEventListener("input",d,!1),t.removeEventListener("keyup",d,!1),t.removeEventListener("autosize:destroy",c,!1),t.removeEventListener("autosize:update",d,!1),Object.keys(e).forEach((function(n){t.style[n]=e[n]})),i.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",c,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",d,!1),window.addEventListener("resize",s,!1),t.addEventListener("input",d,!1),t.addEventListener("autosize:update",d,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",i.set(t,{destroy:c,update:d}),"vertical"===(e=window.getComputedStyle(t,null)).resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),n="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(n)&&(n=0),d()}function u(e){var n=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=n,t.style.overflowY=e}function l(){if(0!==t.scrollHeight){var e=function(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}(t),i=document.documentElement&&document.documentElement.scrollTop;t.style.height="",t.style.height=t.scrollHeight+n+"px",r=t.clientWidth,e.forEach((function(t){t.node.scrollTop=t.scrollTop})),i&&(document.documentElement.scrollTop=i)}}function d(){l();var e=Math.round(parseFloat(t.style.height)),n=window.getComputedStyle(t,null),r="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):t.offsetHeight;if(r<e?"hidden"===n.overflowY&&(u("scroll"),l(),r="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight):"hidden"!==n.overflowY&&(u("hidden"),l(),r="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight),a!==r){a=r;var i=o("autosize:resized");try{t.dispatchEvent(i)}catch(t){}}}}function s(t){var e=i.get(t);e&&e.destroy()}function c(t){var e=i.get(t);e&&e.update()}var u=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((u=function(t){return t}).destroy=function(t){return t},u.update=function(t){return t}):((u=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],(function(t){return a(t)})),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],s),t},u.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],c),t}),e.default=u,t.exports=e.default})?r.apply(e,i):r)||(t.exports=o)},605:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"showAnswer",(function(){return l})),n.d(r,"showMarkedAnswer",(function(){return d.a})),n.d(r,"getUserAnswer",(function(){return p})),n.d(r,"isComplete",(function(){return v})),n.d(r,"reset",(function(){return j}));n(25),n(31);var i=n(341),o=n(4);n(6),n(11);function a(t){return t.find(".markedTextInput")}var s=n(364),c=n(338),u=n(402);var l=(t,e)=>{const n=a(t.$interaction);if(Object(o.y)(n))return;const r=Array.isArray(t.value)?t.value[0]:t.value,l=Object(c.a)(t),d=n.attr("data-preset-answer");e?n.val(l?r:d||""):n.val(r),r.length>0?Object(i.b)(n):Object(i.a)(n),Object(u.a)(n),Object(s.a)(n)},d=n(388),f=n(8);var p=t=>{const e=a(t).val().toString()||"",n=Object(o.O)(e);return{elm:Object(o.v)(t)||"",type:f.a.simple,value:Object(o.M)(n)}};var v=t=>a(t).val().toString().length>0,b=n(336),h=n(429),y=n(5),w=n.n(y),g=n(154);var m=t=>{Object(g.a)(t).find(".markedTextInput[data-preset-answer]").each((t,e)=>{const n=w()(e),r=n.attr("data-preset-answer");n.val(r)})},O=n(512);function j(t){const e=a(t);Object(h.a)(e),Object(i.a)(e),Object(O.a)(e),m(t);const n=t.find("textarea.rcfTextArea");Object(s.a)(n),Object(b.a)(t)}var x=n(37);function E(t){return t.find("*[data-rcfinteraction='markedTextInput']")}var T=n(17);var z=t=>{const e=w()("<textarea>"),n=t.closest('[data-rcfinteraction="markedTextInput"]');n.removeClass("typein"),n.addClass("mlTypein");const r={id:Object(T.a)(t,"id")||"",autocomplete:"false",autocapitalize:"off",spellcheck:"false",autocorrect:"off",tabIndex:0,rows:1,"data-longestitem":Object(T.a)(t,"data-longestitem")||"","data-casesensitive":Object(T.a)(t,"data-casesensitive")||"","data-acceptable":Object(T.a)(t,"data-acceptable")||"",class:"rcfTextArea wasTypein "+(Object(T.a)(t,"class")||""),"data-preset-answer":Object(T.a)(t,"data-preset-answer")||"","aria-label":t.attr("aria-label")||""},a=t.val().toString()||"";e.attr(r),e.val(a),Object(o.y)(a)||Object(i.b)(e),t.replaceWith(e),e.parent().css({display:"block"})};n(13),n(101);var A=t=>{const{userAgent:e}=window.navigator,n=e.includes("Safari")&&!e.includes("Chrom");return(parseInt(t.css("border-width"))+parseInt(t.css("padding-right"))+parseInt(t.css("margin-right")))*(n?2:1)};var S=(t,e)=>{const n=t.css("box-sizing");t.css({width:0,visibility:"hidden","box-sizing":"content-box"});const r=t.val()||"";t.removeAttr("size"),t.val(e);let i=t.prop("scrollWidth");"border-box"===n&&(i+=A(t)),t.css({width:"".concat(i,"px")});t.filter(":not(.example)").val(r),t.css({visibility:"visible","box-sizing":n})};var k=t=>{t.each((t,e)=>{const n=w()(e),r=n.data("longeststring");S(n,r)})};var $=t=>{const e=t.filter(":not(.example)");k(e);const n=Object(o.o)(t);e.filter('[data-resize="activity"]').css("width","".concat(n,"px"))};var P=t=>{t.each((t,e)=>{const n=w()(e);(n.data("longeststring")||"").length>30&&z(n)}),$(t),Object(T.b)(t,"data-longestString")};function F(t){return t.find("input.markedTextInput")}n(59),n(100);var I=n(511);n(15),n(16);function N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(Object(n),!0).forEach((function(e){M(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function M(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var L=t=>{t.on("rcf.single.answer",'*[data-rcfinteraction="markedTextInput"]',(function(t,e){const n=w()(this),r=C(C({},e),{},{$interaction:n});l(r,!1)}))},W=n(151);var H=t=>{const e=F(t);$(e);const n=t.find("textarea.rcfTextArea");Object(s.a)(n)};var Y=t=>{const e=t.attr("id");Object(W.b)("typeins-".concat(e),()=>{H(t)})};function D(t){!function(t){t.on("focusout",".markedTextInput",(function(){const t=w()(this),e=t.val().toString().replace(/\s+$/,"");t.val(e)}))}(t),function(t){t.on("input keyup change paste",".markedTextInput:not(.example)",(function(){const t=w()(this),e=t.val().toString(),n=t.hasClass("populated");!n&&e.length>0?(Object(i.b)(t),Object(u.a)(t)):n&&e.length<1&&(Object(i.a)(t),Object(I.a)(t))}))}(t),L(t),Y(t)}var U=n(424),X=n(403),B=n(416),R=n(428);var _=n(381),Q=n(622),q=n(335);function G(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"default",(function(){return J}));class J extends q.a{constructor(t){super(t,r),G(this,"$selector",void 0),G(this,"$activity",void 0),this.$activity=t}async initialise(){await async function(t,e){let n=E(e);t.$activity=e,Object(U.a)(n);const r=F(n);await x.a.fonts.ready,r.length>0&&P(r),n=E(e),m(n);const i=n.find("textarea.rcfTextArea");Object(X.a)(i);const o=n.find(".markedTextInput");Object(B.a)(o,"aria-label"),Object(R.a)(o),t.$selector=Object(g.a)(n),D(e),t.$selector=Object(g.a)(n)}(this,this.$activity)}clearMarkedAnswers(){Object(Q.a)(this.$selector)}disable(){const t=a(this.$selector);Object(_.d)(t)}enable(){const t=a(this.$selector);Object(_.b)(t)}resize(){H(this.$activity)}}}}]);
/* build created on 15/08/2025 16:19 */
//# sourceMappingURL=http://localhost:4000/source-maps/interactions/marked/rcfTypein.js.map