(window.rcfRunTime_24113=window.rcfRunTime_24113||[]).push([["interactions/marked/rcfCompositeScene"],{711:function(t,e,n){"use strict";n.r(e);n(25);var o=n(4),i=(n(6),n(11),n(17));function c(t){return t.find(".sceneItem.current")}function r(t){return Object(i.a)(t,"data-audio-clue")||""}function a(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.toggleClass("current",e)}var u=n(5),s=n.n(u);function f(t){t.removeClass("complete playing")}function d(t,e,n){t.on("click","[data-rcfinteraction='compositeScene']:not(.complete) .sceneItem.current",(function(){let c=s()(this);const u=(f=c,Object(i.a)(f,"data-audio-correct")||"");var f;let d="";a(c,!1),function(t){t.addClass("correct")}(c),c=c.next(),t.trigger("rcf.stop.audio"),Object(o.y)(c)?(d=n,function(t){t.removeClass("playing"),t.addClass("complete")}(e)):(a(c),d=r(c)),t.trigger("rcf.play.audio",{audio:[u,d]})}))}function m(t){const e=function(t){return t.find('.sceneItem[data-addedrank="y"]')}(t);var n;Object(o.y)(e)||(n=e,["data-addedrank","data-sortindex","data-rank"].forEach(t=>{Object(i.b)(n,t)}));const c=function(t){return Object(o.G)(t,".sceneItem",(new Date).getTime().toString()),t.find(".sceneItem")}(t);!function(t){t.removeClass("correct current")}(c);a(c.first())}function l(t){const{$activity:e,$compositeScene:n,gameOverAudio:i,incorrectAudio:a}=t;!function(t,e){t.on("click","[data-rcfinteraction='compositeScene']:not(.complete) .playClueButton",()=>{const n=r(c(e));t.trigger("rcf.stop.audio"),Object(o.y)(n)||t.trigger("rcf.play.audio",[n])})}(e,n),d(e,n,i),function(t,e,n){t.on("click","[data-rcfinteraction='compositeScene']:not(.complete) .sceneItem:not(.current)",(function(){const i=c(e);if(t.trigger("rcf.stop.audio"),!Object(o.y)(i)){const e=r(i);t.trigger("rcf.play.audio",{audio:[n,e]})}}))}(e,n,a),function(t,e){e.on("click",".startGameButton",()=>{m(e),f(e),function(t){t.addClass("playing")}(e);const n=r(c(e));t.trigger("rcf.stop.audio"),t.trigger("rcf.play.audio",[n])})}(e,n)}function p(t,e){if(Object(o.y)(e))throw"No activity passed to composite scene interaction";const n=function(t){return t.find("*[data-rcfinteraction='compositeScene']")}(e);if(Object(o.y)(n))throw"No composite scene is passed $activity";const c=function(t){return Object(i.a)(t,"data-audio-gamestart")||""}(n),r=function(t){return Object(i.a)(t,"data-audio-gameover")||""}(n),a=function(t){return Object(i.a)(t,"data-audio-incorrect")||""}(n),u=function(t){return t.find(".startGameButton")}(n);Object.assign(t,{$activity:e,$compositeScene:n,gameStartAudio:c,gameOverAudio:r,incorrectAudio:a,$startGameButton:u}),l(t)}function g(t){const{$compositeScene:e,$activity:n,gameStartAudio:o}=t;f(e),m(e),n.trigger("rcf.play.audio",[o])}function v(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"default",(function(){return y}));class y{constructor(t){v(this,"$activity",void 0),v(this,"$compositeScene",void 0),v(this,"gameStartAudio",void 0),v(this,"gameOverAudio",void 0),v(this,"incorrectAudio",void 0),v(this,"$startGameButton",void 0);p(this,t),g(this)}isComplete(){return function(t){return t.hasClass("complete")}(this.$compositeScene)}close(){var t,e;t=this.$activity,e=this.$compositeScene,t.trigger("rcf.stop.audio"),t.off("click",'[data-rcfinteraction="compositeScene"]:not(.complete) .playClueButton'),t.off("click","[data-rcfinteraction='compositeScene']:not(.complete) .sceneItem.current"),t.off("click","[data-rcfinteraction='compositeScene']:not(.complete) .sceneItem:not(.current)"),e.off("click",".startGameButton")}reset(){g(this)}}}}]);
/* build created on 15/08/2025 16:19 */
//# sourceMappingURL=http://localhost:4000/source-maps/interactions/marked/rcfCompositeScene.js.map