(window.rcfRunTime_24113=window.rcfRunTime_24113||[]).push([["interactions/marked/rcfVerticalCrossword"],{335:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));r(25);var n=r(339);function i(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class o{constructor(t,e){i(this,"$activity",void 0),i(this,"$selector",void 0),i(this,"interactionFunctions",void 0),this.$activity=t,this.interactionFunctions=e}clearMarkedAnswers(){Object(n.a)(this.$selector)}getUserAnswers(t){return Object(n.b)(this,this.interactionFunctions.getUserAnswer,t)}isComplete(t){return Object(n.c)(this,this.interactionFunctions.isComplete,t)}showAnswers(t,e,r){Object(n.d)(this,t,e,this.interactionFunctions.showAnswer,r)}showMarkedAnswers(t,e){Object(n.e)(this,t,this.interactionFunctions.showMarkedAnswer,e)}showUserAnswers(t){Object(n.f)(this,this.interactionFunctions.showAnswer,t)}reset(){this.interactionFunctions.reset(this.$selector)}}},337:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));r(6),r(13);var n=r(5),i=r.n(n),o=r(4);function a(t,e){return Object(o.y)(e)?i()([]):t.filter((t,r)=>{let n=i()(r).closest(".itemBasedQuestion");return Object(o.v)(n)===e})}},382:function(t,e,r){"use strict";r(101);const n=[8,9,16,17,18,19,20,27,33,34,35,36,37,38,40,45,46,91,92,93,144,145,219,249];e.a=t=>!n.includes(t)},679:function(t,e,r){"use strict";r.r(e);var n={};r.r(n),r.d(n,"showAnswer",(function(){return et})),r.d(n,"showMarkedAnswer",(function(){return nt})),r.d(n,"getUserAnswer",(function(){return st})),r.d(n,"isComplete",(function(){return ct})),r.d(n,"reset",(function(){return ut}));r(25),r(6),r(11);var i=t=>t.find("*[data-rcfinteraction='verticalCrossword']");var o=t=>t.find("input.vcTypeIn"),a=r(424),s=r(5),c=r.n(s);r(13);var l=t=>t.find(".crosswordClueContainer li");var u=(t,e)=>l(t).filter('[data-wordid="'.concat(e,'"]'));var v=t=>{const e=l(t);e.length<1||e.removeClass("selected")};var f=(t,e)=>{const r=u(t,e);v(t),r.length>0&&r.addClass("selected")};var d=t=>t.closest("tr");var p=t=>t.closest('*[data-rcfInteraction="verticalCrossword"]');var h=t=>p(t);var w=t=>{const e=c()(t),r=h(e),n=d(e).attr("data-rcf-wordid")||"";f(r,n),e.select()};var b=t=>p(t);var m=t=>{const e=c()(t),r=b(e),n=e.attr("data-rcf-wordid")||"";f(r,n)};var y=t=>{const e=t.target;e instanceof HTMLInputElement?w(e):e instanceof HTMLTableRowElement&&m(e),t.stopPropagation()},g=r(376),C=r(541);var k=t=>o(t).filter(":not(.skippableCell, .example)");var j=t=>{const e=h(t),r=k(e),n=r.eq(r.index(t)-1);return n.length>0?n:r.last()};var T=(t,e)=>{const r=c()(e),n=0===Object(C.a)(r),i=e.selectionStart!==e.selectionEnd;if(n||i){j(r).focus(),t.preventDefault()}};var O=t=>{const e=h(t),r=k(e),n=r.eq(r.index(t)+1);return n.length>0?n:r.first()};var x=t=>{O(t).focus()};var A=(t,e)=>{const r=c()(e),n=e.selectionStart!==e.selectionEnd;(e.selectionStart===e.value.length||n)&&(x(r),t.preventDefault())};var $=(t,e,r)=>{const n=c()(t.currentTarget),i=h(n),o=n.closest("td").prevAll().length+1,a=i.find("tr td:nth-child(".concat(o,") input")),s=a.index(e),l="up"===r?s-1:s+1;if(l>=0&&l<a.length){a.eq(l).focus()}t.preventDefault()};var I=(t,e)=>{$(t,e,"up")};var L=(t,e)=>{$(t,e,"down")};r(102);var E=t=>{const e=c()(t),r=d(e).find("input.vcTypeIn:not(.skippableCell, .example)"),n=r.eq(r.index(e)-1);if(n.length>0)return n};var F=(t,e)=>{if(""!==e.value.trim())return;const r=E(e);r&&r.focus(),t.preventDefault()};var M=t=>{const e=Object(g.a)(t),r=t.currentTarget;if(r instanceof HTMLInputElement)switch(e.key){case"ArrowLeft":T(e,r);break;case"ArrowRight":A(e,r);break;case"ArrowUp":I(e,r);break;case"ArrowDown":L(e,r);break;case"Backspace":F(e,r)}},P=r(382);var S=(t,e)=>e.length<1||!!(t.altKey&&t.keyCode>64&&t.keyCode<91||192===t.keyCode);var U=t=>{const e=c()(t.target),r=Object(g.a)(t),n=e.val()||"";S(r,n)||Object(P.a)(t.which)&&(x(e),t.preventDefault())},q=r(4);var D=t=>t.hasClass("hasClues");var R=(t,e)=>t.find("tr.vcLine[data-rcf-wordid='".concat(e,"']"));var _=(t,e,r)=>{const n=R(t,e),i=o(n),a=r.split("");i.each((t,e)=>{c()(e).val(a[t])})};r(48);var H=t=>t.find(".vcTypeIn.hiddenLetter");var B=t=>H(t).map((function(){return c()(this).val()||"_"})).get().join(""),N=(r(15),r(16),r(60));var W=t=>t.find(".crossingWordContainer .crossingWordLetter");var K=(t,e)=>{const r=W(t),n=e.toUpperCase().split(""),i=N.a.t("interactions.verticalCrossword.blank");n.forEach((t,e)=>{const n=r.eq(e);n.text(t),"_"===t?n.attr("aria-label",i):n.removeAttr("aria-label"),r.eq(e).text(t)})};var Q=(t,e,r)=>{const n=c()(t.currentTarget);if((Object(q.v)(n)||"")!==e.elm)return;const i=e.value.find(t=>t.elm===r);if(i&&(_(n,r,i.value),D(n))){l(n).length>0&&f(n,r);const t=B(n);K(n,t)}};var V=t=>{const e=t.closest(".verticalCrosswordContainer"),r=t.attr("data-wordid")||"";if(!r)return;return R(e,r)};var z=t=>{t.find('input[type="text"]').first().focus()};var G=t=>{const e=c()(t.currentTarget),r=V(e);!r||r.length<1||z(r)};var J=t=>{const e=c()(t.target),r=h(e),n=B(r);K(r,n)};var X=t=>{if("Enter"!==Object(g.a)(t).key)return;const e=c()(t.currentTarget),r=V(e);!r||r.length<1||z(r)};var Y=(t,e)=>{t.$activity=e,t.$selector=i(e);const r=t.$selector.find("tr.vcLine:not(.example)");t.$typeins=o(r),Object(a.a)(t.$typeins),function(t){t.on("focus","input.vcTypeIn:not(.skippableCell)",y),t.on("focus","tr.vcLine",y),t.on("keydown","input.vcTypeIn:not(.skippableCell)",M),t.on("keyup","input.vcTypeIn:not(.skippableCell)",U),t.on("change","input.vcTypeIn.hiddenLetter",J),t.on("click",".crosswordClueContainer li:not(.example)",G),t.on("keypress",".crosswordClueContainer li:not(.example)",X),t.on("rcf.single.answer",'*[data-rcfinteraction="verticalCrossword"]',Q)}(t.$activity)};var Z=t=>{const e=t.find("tr.vcLine:not(.example)");o(e).filter(":not(.skippableCell, .example)").val("")},tt=r(338);var et=(t,e)=>{const r=t.$interaction;Z(r);t.value.forEach(t=>{const n=t.elm,i=t.value;e&&!Object(tt.a)(t)||_(r,n,i)});const n=B(r);K(r,n)},rt=r(340);var nt=t=>{const e=t.$interaction;t.value.forEach(t=>{const r=t.elm,n=!!t.verification&&"1"==t.verification[0],i=R(e,r);Object(rt.a)(i,n)})};var it=t=>t.map((t,e)=>c()(e).val()||"").get().join("");var ot=(t,e)=>{const r=R(t,e),n=o(r);return it(n).toUpperCase()},at=r(8);var st=t=>{const e=t.find("tr.vcLine:not(.example)");return{elm:Object(q.v)(t)||"",type:at.a.composite,markType:at.d.byItem,value:e.map((e,r)=>{const n=c()(r).attr("data-rcf-wordid"),i=ot(t,n);return{elm:n,type:at.a.simple,value:i}}).get()}};var ct=t=>{const e=o(t);return it(e).trim().length===e.length},lt=r(378);var ut=t=>{t.each((t,e)=>{const r=c()(e);Object(lt.a)(r),Z(r),v(r);const n=B(r);K(r,n)})};var vt=t=>{t.off("focusin","input.vcTypeIn:not(.skippableCell)",y),t.off("keydown","input.vcTypeIn:not(.skippableCell)",M),t.off("keyup","input.vcTypeIn:not(.skippableCell)",U),t.off("change","input.vcTypeIn.hiddenLetter",J),t.off("click",".crosswordClueContainer li:not(.example)",G),t.off("keypress",".crosswordClueContainer li:not(.example)",X),t.off("rcf.single.answer",'*[data-rcfinteraction="verticalCrossword"]',Q)},ft=r(335);function dt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,"default",(function(){return pt}));class pt extends ft.a{constructor(t){super(t,n),dt(this,"$activity",void 0),dt(this,"$selector",void 0),dt(this,"$typeins",void 0),Y(this,t)}close(){vt(this.$activity)}}}}]);
/* build created on 15/08/2025 16:19 */
//# sourceMappingURL=http://localhost:4000/source-maps/interactions/marked/rcfVerticalCrossword.js.map