(window.rcfRunTime_24113=window.rcfRunTime_24113||[]).push([["interactions/marked/rcfCheckboxItemSelect"],{335:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(25);var r=n(339);function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class i{constructor(e,t){c(this,"$activity",void 0),c(this,"$selector",void 0),c(this,"interactionFunctions",void 0),this.$activity=e,this.interactionFunctions=t}clearMarkedAnswers(){Object(r.a)(this.$selector)}getUserAnswers(e){return Object(r.b)(this,this.interactionFunctions.getUserAnswer,e)}isComplete(e){return Object(r.c)(this,this.interactionFunctions.isComplete,e)}showAnswers(e,t,n){Object(r.d)(this,e,t,this.interactionFunctions.showAnswer,n)}showMarkedAnswers(e,t){Object(r.e)(this,e,this.interactionFunctions.showMarkedAnswer,t)}showUserAnswers(e){Object(r.f)(this,this.interactionFunctions.showAnswer,e)}reset(){this.interactionFunctions.reset(this.$selector)}}},337:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(6),n(13);var r=n(5),c=n.n(r),i=n(4);function s(e,t){return Object(i.y)(t)?c()([]):e.filter((e,n)=>{let r=c()(n).closest(".itemBasedQuestion");return Object(i.v)(r)===t})}},603:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"showAnswer",(function(){return p})),n.d(r,"showMarkedAnswer",(function(){return y})),n.d(r,"getUserAnswer",(function(){return O})),n.d(r,"isComplete",(function(){return j})),n.d(r,"reset",(function(){return g}));var c=n(4);function i(e){return parseInt(e.attr("data-rcfrestrict"),10)||0}n(6),n(11);function s(e){return e.find(".selectable.checkbox")}n(13);function a(e){return e.filter(":not(.example)")}function o(e){e.removeClass("disabled").removeAttr("aria-disabled")}function l(e){const t=i(e);if(t<1)return;let n=s(e);n=a(n);const r=n.filter(".selected");r.length>=t?(o(r),n.not(".selected").addClass("disabled").attr("aria-disabled","true")):o(n)}var u=n(336);function d(e,t){return e.find('.checkbox.selectable[data-rcfid="'.concat(t,'"]:not(.example)'))}function f(e,t,n){const r=d(e,t);r.toggleClass("selected",n),n?r.attr("aria-checked","true"):r.attr("aria-checked","false")}function b(e){e.removeClass("selected"),e.attr("aria-checked","false")}var h=n(438),v=n(8);function p(e,t){const n=e.value;if(e.type!==v.a.list)return;const r=e.$interaction;let d=s(r),p=i(r);!function(e){let t=s(e);t=a(t),Object(u.a)(t);const n=t.filter(".selected");Object(u.c)(n,"Y")}(r),d=a(d),o(d);const m=c.q(r);(m===v.d.byItem||m===v.d.byList&&!t||m===v.d.byList&&t&&e.verification&&"0"==e.verification[0])&&b(d);for(let c in n){let i=Object(h.a)(e,Number(c),m,t),s=n[Number(c)];"string"==typeof s&&f(r,s,i)}p>0&&l(r)}n(15),n(16);var m=n(340);function y(e){const t=e.$interaction,n=Object(c.q)(t),r=Array.isArray(e.value)?e.value:[e.value];if(n===v.d.byItem)r.forEach((n,r)=>{const c=d(t,n),i=!!e.verification&&"1"==e.verification[r];Object(m.a)(c,i)});else if(n==v.d.byList){const n=!!e.verification&&"1"==e.verification[0];Object(m.a)(t,n)}}n(48);var k=n(5),w=n.n(k);var O=e=>({elm:Object(c.v)(e)||"",type:v.a.list,value:e.find(".checkbox.selectable.selected:not(.example)").get().map(e=>Object(c.v)(w()(e))||"")});var j=e=>{const t=i(e),n=s(e).filter(".selected:not(.example)");return t>0?n.length===t:n.length>0};function g(e){const t=a(e.find(".selectable.checkbox"));b(t),o(t),Object(u.a)(t)}n(101);var C=n(365);var x=n(474),A=n(380);function F(e,t){t.on("click keypress",".selectable.checkbox:not(.example, .disabled) .inlinePlayerContainer[data-audiolink]",e=>{if("keypress"===e.type&&[13,32].includes(e.which))e.preventDefault();else if("click"!==e.type)return;Object(x.a)(w()(e.currentTarget)),Object(c.F)(e)}),t.on("click keypress",".selectable.checkbox:not(.example, .disabled)",e=>{const n=!Object(A.a)(t);if("keypress"===e.type&&[13,32].includes(e.which)&&n)e.preventDefault();else if("click"!==e.type)return;n&&function(e){const t=e.closest(".checkboxItemSelect"),n=Object(c.q)(t),r=e.attr("data-rcfid"),i=t.attr("data-rcfid"),s=t.closest(".activity").attr("id");e.toggleClass("selected"),e.hasClass("selected")?e.attr("aria-checked","true"):e.attr("aria-checked","false");const a=e.hasClass("selected");if(Object(u.c)(t,a?"Y":"N"),l(t),a){if(RCF.options.feedbackOptions&&n!==v.d.byList){if(!RCF.options.feedbackOptions.onAnswerChanged)return void console.log('Feedback specified but no "onAnswerChanged" method provided');RCF.options.feedbackOptions.onAnswerChanged({id:s,answers:[{elm:i,type:v.a.simple,value:r}]})}}else{const t=e.find(".mark");Object(C.a)(t)}}(w()(e.currentTarget))}),e.on("rcf.single.answer","*[data-rcfinteraction=checkboxItemSelect]:not(.example)",(e,t,n)=>{!function(e,t,n){if(t.elm===e.attr("data-rcfid")&&(0==n||!Object(c.y)(n))){var r=d(e,t.value[n]);r.data("user-answer",r.hasClass("selected")?"Y":"").addClass("selected").attr("aria-checked","true"),l(e)}}(w()(e.currentTarget),t,n)})}var $=n(366);var I=(e,t)=>{if(Object(c.y)(t))throw"Empty activity passed to CheckboxListItemSelect constructor";e.$activity=t,e.$selector=function(e){return e.find("*[data-rcfinteraction=checkboxItemSelect]")}(t),Object(c.y)(e.$selector)||(Object($.a)(t,e.$selector),F(e.$activity,e.$selector))};var S=n(335);n.d(t,"default",(function(){return R}));class R extends S.a{constructor(e){super(e,r),I(this,e)}provideFeedback(e){!function(e,t){const n=function(e,t){return e.filter('[data-rcfid="'.concat(t,'"]'))}(e,t.answers[0].elm);if(Object(c.y)(n))return;const r=d(n,t.answers[0].value),i=!!t.answers[0].verification&&"1"==t.answers[0].verification[0];Object(c.y)(r)||RCF.Handlers.FeedbackHandler.provideFeedback(n,r,i,(function(e,t){const n=t.find(".mark");Object(C.a)(n),t.removeClass("selected"),l(e)}))}(this.$selector,e)}}}}]);
/* build created on 15/08/2025 16:19 */
//# sourceMappingURL=http://localhost:4000/source-maps/interactions/marked/rcfCheckboxItemSelect.js.map