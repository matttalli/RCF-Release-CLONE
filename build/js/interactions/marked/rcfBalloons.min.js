(window.rcfRunTime_24113=window.rcfRunTime_24113||[]).push([["interactions/marked/rcfBalloons"],{455:function(e,t,n){!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(e)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function i(e,t){e.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function o(e){var t=e.g.offsetWidth,n=t+100;return e.j.style.width=n+"px",e.i.scrollLeft=n,e.h.scrollLeft=e.h.scrollWidth+100,e.l!==t&&(e.l=t,!0)}function s(e,n){function i(){var e=s;o(e)&&null!==e.g.parentNode&&n(e.l)}var s=e;t(e.h,i),t(e.i,i),o(e)}function a(e,t,n){t=t||{},n=n||window,this.family=e,this.style=t.style||"normal",this.weight=t.weight||"normal",this.stretch=t.stretch||"normal",this.context=n}var r=null,l=null,d=null,c=null;function u(e){return null===c&&(c=!!e.document.fonts),c}function h(e,t){var n=e.style,i=e.weight;if(null===d){var o=document.createElement("div");try{o.style.font="condensed 100px sans-serif"}catch(e){}d=""!==o.style.font}return[n,i,d?e.stretch:"","100px",t].join(" ")}a.prototype.load=function(e,t){var o=this,a=e||"BESbswy",d=0,c=t||3e3,m=(new Date).getTime();return new Promise((function(e,t){if(u(o.context)&&!function(e){return null===l&&(u(e)&&/Apple/.test(window.navigator.vendor)?(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),l=!!e&&603>parseInt(e[1],10)):l=!1),l}(o.context)){var g=new Promise((function(e,t){!function n(){(new Date).getTime()-m>=c?t(Error(c+"ms timeout exceeded")):o.context.document.fonts.load(h(o,'"'+o.family+'"'),a).then((function(t){1<=t.length?e():setTimeout(n,25)}),t)}()})),p=new Promise((function(e,t){d=setTimeout((function(){t(Error(c+"ms timeout exceeded"))}),c)}));Promise.race([p,g]).then((function(){clearTimeout(d),e(o)}),t)}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t),e()})):document.attachEvent("onreadystatechange",(function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())}))}((function(){function l(){var t;(t=-1!=f&&-1!=b||-1!=f&&-1!=v||-1!=b&&-1!=v)&&((t=f!=b&&f!=v&&b!=v)||(null===r&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),r=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=r&&(f==w&&b==w&&v==w||f==y&&b==y&&v==y||f==O&&b==O&&v==O)),t=!t),t&&(null!==C.parentNode&&C.parentNode.removeChild(C),clearTimeout(d),e(o))}var u=new n(a),g=new n(a),p=new n(a),f=-1,b=-1,v=-1,w=-1,y=-1,O=-1,C=document.createElement("div");C.dir="ltr",i(u,h(o,"sans-serif")),i(g,h(o,"serif")),i(p,h(o,"monospace")),C.appendChild(u.g),C.appendChild(g.g),C.appendChild(p.g),o.context.document.body.appendChild(C),w=u.g.offsetWidth,y=g.g.offsetWidth,O=p.g.offsetWidth,function e(){if((new Date).getTime()-m>=c)null!==C.parentNode&&C.parentNode.removeChild(C),t(Error(c+"ms timeout exceeded"));else{var n=o.context.document.hidden;!0!==n&&void 0!==n||(f=u.g.offsetWidth,b=g.g.offsetWidth,v=p.g.offsetWidth,l()),d=setTimeout(e,50)}}(),s(u,(function(e){f=e,l()})),i(u,h(o,'"'+o.family+'",sans-serif')),s(g,(function(e){b=e,l()})),i(g,h(o,'"'+o.family+'",serif')),s(p,(function(e){v=e,l()})),i(p,h(o,'"'+o.family+'",monospace'))}))}))},e.exports=a}()},681:function(e,t,n){"use strict";n.r(t);n(25),n(6),n(11);var i=n(4);n(101),n(15),n(16);function o(e,t){const n=Object.assign({},e);return Object.keys(e).forEach(e=>{t.items.includes(e)?n[e].found=!1:delete n[e]}),n}var s=(e,t,n)=>{const i=e.add.bitmapData(t,n),o=i.context.createLinearGradient(0,0,0,n);o.addColorStop(0,"#0873fa"),o.addColorStop(1,"#2e8cf0"),i.context.fillStyle=o,i.context.fillRect(0,0,t,n),e.add.sprite(0,0,i)};n(13);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={font:"72px castledown",boundsAlignH:"center",boundsAlignV:"middle",fontWeight:"bold",fill:"white"},c=(r(r({},d),{},{font:"36px castledown"}),"Load"),u="Play",h="Start",m=Object.freeze({correct:"correctAnswer_sfx",incorrect:"wrongAnswer_sfx"}),g=Object.freeze({life:"life",lostLife:"lost_life",foreground:"foreground",clouds:["cloud_1","cloud_2","cloud_3","cloud_4"],balloonAnim:["balloon_anim_1","balloon_anim_2","balloon_anim_3","balloon_anim_4","balloon_anim_5","balloon_anim_6","balloon_anim_7","balloon_anim_8","balloon_anim_9","balloon_anim_10","balloon_anim_11"]}),p=[15539833,14549504,6270512,24491,11931520,15817252,16760576];function f(e,t,n){let i=n.add.group();for(let t=0;t<e;t+=800){let e=n.add.sprite(t,0,"spritesheet",g.foreground);i.add(e)}n.add.sprite(0,t-100,i.generateTexture()),i.destroy()}function b(e,t){let n,i=e.add.sprite(0,0,t);i.width=85,i.height=85,n=e.add.graphics(0,0),n.beginFill(16777215),n.drawCircle(.5*i.width,.5*i.width,85),n.endFill(),i.mask=n;let o=e.add.group();o.add(i),o.add(n);let s=e.add.sprite(100,60,o.generateTexture());return s.anchor.setTo(.5),s.key=t,o.destroy(),s}var v=n(453);function w(e,t){Object(i.i)(e).trigger("rcf.balloons.livesCount.change",{userLives:t})}function y(e,t){return e.$selector.find(t)}function O(e){e.removeClass("paused")}function C(e,t,n){t.lives--,n.play(),function(e){e.find(".lives .life:not(.dead):first").addClass("dead")}(e),w(e,t.lives)}function j(e){e.inputEnabled=!0,e.children.forEach(e=>{e.destroy()}),e.kill()}function x(e){e.events.onInputUp.removeAll(),e.children.forEach(e=>{e.mask&&e.mask.destroy(),e.destroy()})}function S(e){return"multi"===e}function P(e,t,n){const i=Object.assign({},t);Object.keys(i).forEach(e=>{!n.items.includes(e)||delete i[e]});const o=Object.assign({},e);return Object.assign(o,i)}function Q(e,t,n,i){let o=e.add.graphics();return o.beginFill(0,.4),o.drawCircle(t,n+1,i+6),o.endFill(),o.lineStyle(3,14871712,1),o.beginFill(16777215),o.drawCircle(t,n,i+2),o.endFill(),o}function T(e,t,n,i,o){let s=e.add.graphics();return s.beginFill(0,.4),s.drawRoundedRect(t-12,n-3,i+24,o+3,15),s.endFill(),s.lineStyle(3,14871712,1),s.beginFill(16777215),s.drawRoundedRect(t-10,n-4,i+20,o,15),s.endFill(),s}function k(e,t,n,i){const o=e.add.sprite(n,i,t.generateTexture());return t.destroy(),o}var A=n(533);const E={font:"24px castledown",fill:"#000000"};function $(e,t,n,i){i?function(e,t,n){const i=e.children.length>0?20:10,o=n.position.x,s=n.position.y,a=e.width+i;let r=Q(t,o,s,50),l=Q(t,o,s,50);n.width=50,n.height=50;let d=t.add.group();d.add(r),d.add(n);let c=t.add.group(),u=k(t,l,a+3,-12),h=k(t,d,a,-15);u.visible=!1,c.add(u),c.add(h),e.add(c)}(e,t,n):function(e,t,n){const i=e.children.length>0?25:20;let o=t.add.text(0,0,n,E);const s=Object(A.a)(o.height,o.width,25),a=e.width+i;let r=T(t,o.position.x,o.position.y,s,25),l=T(t,o.position.x,o.position.y,s,25);o.height=25,o.width=s;let d=t.add.group();d.add(r),d.add(o);let c=t.add.group(),u=k(t,l,a+3,3),h=k(t,d,a,0);u.visible=!1,c.add(u),c.add(h),e.add(c)}(e,t,n.key)}var I=n(348);function _(e){return e.closest(".balloonsContainer")}var F=(e,t)=>{const n=t[0].clientWidth,i=t[0].clientHeight;e.scale.setGameSize(n,i)},B=n(104);function N(e,t){const n=_(t);var i;e.paused=!0,e.over=!0,Object(I.a)(t,B.b.isGameOverScreen),(i=n).removeClass("gameWon"),i.removeClass("start"),i.addClass("gameOver"),i.removeClass("playing")}function W(e,t){const n=_(t);var i;e.over=!0,F(e,t),Object(I.a)(t,B.b.isStartScreen),(i=n).removeClass("paused"),i.removeClass("gameWon"),i.removeClass("playing"),i.removeClass("gameOver"),i.addClass("start"),e.state.start(h)}var G=e=>{e.body.gravity.y=0,e.body.velocity.y=0};const D=(e,t)=>{let n=0;for(e.find("li").remove();n++<t;)e.append('<li class="item"></li>')};function L(e){const t=this.self,n=this.distractor,s=this.randomBalloon,a=S(t.gameSettings.mode),r=t.currentQuestionPool[s];if(n)C(t.$gameStage,t.gameSettings,t.audioTracks.incorrect);else{const n=e.children[0].key.slice(0),i=""!==r.imageName;if(t.answersFound++,t.gameSettings.numberOfCorrectBalloonsClicked++,!a){r.found||$(t.bottomGroup,t.game,e.children[0],i);t.balloonGroup.children.filter(e=>e.alive&&e.children.length>0&&e.children[0].key===n).forEach(e=>{e.inputEnabled=!1,x(e),e.animations.play("explode",60),e.animations.currentAnim.onComplete.addOnce(()=>{j(e)})})}a?(r.found?t.bottomGroup.children[t.orderQuestionsFound.indexOf(s)].children[0].visible=!0:($(t.bottomGroup,t.game,e.children[0],i),t.orderQuestionsFound.push(s)),r.found=!0):delete t.currentQuestionPool[s];try{t.$remainingItems.find("li:not(.found)").first().addClass("found")}catch(e){console.error("Error updating remaining items",e)}t.audioTracks.correct.play()}e.inputEnabled=!1,(t.answersFound>=t.answersInQuestion||t.gameSettings.lives<=0)&&(t.game.input.enabled=!1),x(e),e.animations.play("explode",60),G(e),e.animations.currentAnim.onComplete.addOnce(()=>{j(e),t.gameSettings.lives<=0?(t.gameSettings.endTime=new Date,t.audioTracks.incorrect.onStop.addOnce(()=>{t.game.input.enabled=!0,N(t.game,t.$gameStage)})):t.audioTracks.correct.onStop.addOnce(()=>{if(t.answersFound>=t.answersInQuestion){t.questionCounter++,t.totalQuestionsAnswered++,t.questionCounter===t.numberOfQuestions&&(t.randomQuestions=Object(i.L)(t.randomQuestions),t.questionCounter=0);const e=t.randomQuestions[t.questionCounter];t.distractors=P(t.realDistractors,t.items,t.randomQuestions[t.questionCounter]);const n=e.id;t.$promptContainer.find(".prompt.balloonQuestionPrompt.active").removeClass("active"),t.$promptContainer.find(".prompt.balloonQuestionPrompt[data-rcfid='".concat(n,"']")).addClass("active"),t.$inlinePlayer=t.$promptContainer.find(".prompt.balloonQuestionPrompt.active .inlinePlayerContainer"),t.currentQuestionPool=o(t.items,e),t.answersFound=0,t.answersInQuestion=S(t.gameSettings.mode)?t.answersInQuestion:Object.keys(t.currentQuestionPool).length,t.bottomGroup.removeChildren(),t.orderQuestionsFound=[];try{D(t.$remainingItems,t.answersInQuestion)}catch(e){console.error("ERROR SETTING REMAINING ITEMS ",e)}t.game.input.enabled=!0,t.totalQuestionsAnswered===t.gameSettings.play?(t.gameSettings.endTime=new Date,function(e,t){const n=_(t);var i;e.paused=!0,e.over=!0,Object(I.a)(t,B.b.isGameWonScreen),(i=n).removeClass("start"),i.removeClass("playing"),i.removeClass("gameOver"),i.addClass("gameWon")}(t.game,t.$gameStage)):(t.balloonGroup.forEach(e=>{e.animations.currentAnim.onComplete.forget(),e.animations.currentAnim.onComplete.removeAll(),x(e),j(e)}),function(e,t,n){const{width:i,height:o}=e.world,s=function(e){const{width:t,height:n}=e.world;let i=e.add.graphics();return i.beginFill(0,.4),i.drawRect(0,0,t,n),i}(e);let a=function(e,t,n){return e.add.text(0,0,t,n)}(e,"LEVEL UP!",d);a.setTextBounds(0,0,i,o),e.paused=!0,setTimeout((function(){e.paused=!1,s.destroy(),a.destroy(),Object(v.a)(t,n)}),3e3)}(t.game,t.$gameStage,t.$inlinePlayer))}})},this)}function M(e){let t=e.game,n=t.state.callbackContext,i=n.gameSettings,o=n.$gameStage,s=e.data.role,a=i.missedBalloonPenalty;"answer"==s&&"n"!=a&&C(o,i,n.audioTracks.incorrect),x(e),j(e),i.lives<=0&&(t.input.enabled=!1,i.endTime=new Date,n.audioTracks.incorrect.onStop.addOnce(()=>{t.input.enabled=!0,N(t,o)}))}function R(e){e.kill()}var q=n(352);const z={font:"24px castledown",align:"center",stroke:"rgba(0,0,0,0.75)",strokeThickness:3,fill:"#FFFFFF",wordWrap:!0,wordWrapWidth:100};function U(e,t){let n=e.add.text(0,0,t,z);n.padding.set(10,16);let i=e.add.sprite(100,240/4.5,n.generateTexture());i.anchor.setTo(.5,.3),n.destroy();const o=Math.min(100,i.width);return i.height=Object(A.a)(i.width,i.height,o),i.width=o,i.key=t,i}function H(e,t,n){return new class extends e{preload(){if(Object(i.y)(t))throw"No $gameStage passed to moving balloons";if(!n)throw"No this.game settings json passed to ballons";var e,s;this.gameSettings={width:t[0].clientWidth,height:t[0].clientHeight,mode:n.settings.correct,play:parseInt(n.settings.play,10),missedBalloonPenalty:n.settings.missedBalloonPenalty,baseSpeed:n.settings.baseSpeed,lives:3,numberOfCorrectBalloonsClicked:0,startTime:new Date},this.$container=_(t),this.$promptContainer=Object(q.a)(this.$container),this.$gameStage=t,this.questionCounter=0,this.totalQuestionsAnswered=0,this.totalItemsClickedCorrectly=0,this.numberOfQuestions=n.questions.length,this.questions=n.questions,this.answersInQuestion=0,this.answersFound=0,this.spawnTime=100,this.orderQuestionsFound=[],this.spawningArray=Object(i.J)(function(e){const t=parseInt((e-150)/100);let n=[];for(let e=0;e<=t;e++)n.push(100*e);return n}(this.gameSettings.width)),this.spawningIndex=0,this.audioTracks={correct:this.game.add.audio(m.correct),incorrect:this.game.add.audio(m.incorrect)},Math.seedrandom((new Date).getUTCMilliseconds()),this.items=n.items,this.realDistractors=n.distractors,this.randomQuestions=Object(i.J)(this.questions),this.lastQuestionId=this.randomQuestions[this.randomQuestions.length-1].id,this.distractors=P(this.realDistractors,this.items,this.randomQuestions[0]),this.$balloonQuestionPrompt=(e=this.$promptContainer,s=this.randomQuestions[0].id,e.find(".prompt.balloonQuestionPrompt[data-rcfid='".concat(s,"']"))),Object(q.f)(this.$promptContainer),Object(q.g)(this.$balloonQuestionPrompt),this.$inlinePlayer=this.$promptContainer.find(".balloonQuestionPrompt.active .inlinePlayerContainer"),this.currentQuestionPool=o(this.items,this.randomQuestions[0]),this.answersInQuestion=S(this.gameSettings.mode)?5:Object.keys(this.currentQuestionPool).length,0===this.answersInQuestion&&console.log("no valid answers for question ".concat(this.randomQuestions[0].id)),this.game.physics.arcade.checkCollision.left=!1,this.game.forceSingleUpdate=!0,function(e){e.find(".lives .life.dead").removeClass("dead")}(this.$gameStage),w(this.$gameStage,this.gameSettings.lives)}create(){this.$container.addClass("playing"),s(this.game,this.gameSettings.width,this.gameSettings.height),this.cloudGroup=function(e){let t=e.add.group();t.enableBody=!0;for(let e=0;e<g.clouds.length;e++)t.createMultiple(2,"spritesheet",g.clouds[e]);return t.callAll("events.onOutOfBounds.add","events.onOutOfBounds",R),t.setAll("checkWorldBounds",!0),e.physics.arcade.enable(t),t}(this.game),this.balloonGroup=function(e){let t=e.add.group();const n=g.balloonAnim[0],i=g.balloonAnim.length;t.enableBody=!0,t.createMultiple(20,"spritesheet",n);const o=Phaser.Animation.generateFrameNames("balloon_anim_",1,i);return t.callAll("animations.add","animations","explode",o,i),t.setAll("inputEnabled",!0),t.callAll("events.onOutOfBounds.add","events.onOutOfBounds",M),t.setAll("checkWorldBounds",!0),e.physics.arcade.enable(t),t}(this.game),f(this.gameSettings.width,this.gameSettings.height,this.game),this.bottomGroup=this.game.add.group(),this.bottomGroup.position.y=this.gameSettings.height-50;const e=this.$gameStage.find(".remainingItems");this.$remainingItems=e,D(e,this.answersInQuestion),this.game.input.mouse.capture=!0,Object(v.a)(t,this.$inlinePlayer)}update(){if(this.spawnTime+=this.game.time.physicsElapsed,this.spawnTime>1){if(Object(i.D)()<=.5||this.balloonGroup.countLiving()<=0){let e=this.balloonGroup.getFirstExists(!1);if(e){let t;if(function(e,t,n,o,s){const a=g.balloonAnim[0],r=5*(o+1)*s,l=7.5*(o+1)*s;e.tint=p[Object(i.t)(0,p.length)],e.reset(t,n),e.body.gravity.y=-1*Object(i.t)(r,l),e.frameName=a,e.hitArea=new Phaser.Circle(e.body.width/2,60,e.body.height/2)}(e,this.spawningArray[this.spawningIndex],this.gameSettings.height,this.totalQuestionsAnswered,this.gameSettings.baseSpeed),this.spawningIndex++,this.spawningIndex===this.spawningArray.length&&(this.spawningIndex=0,this.spawningArray=Object(i.L)(this.spawningArray)),Object(i.D)()<=.5){const n=Object.keys(this.currentQuestionPool),o=n[Object(i.t)(0,n.length)];this.currentQuestionPool[o]&&(t=this.currentQuestionPool[o].imageName?b(this.game,this.currentQuestionPool[o].imageName):U(this.game,this.currentQuestionPool[o].text),e.events.onInputUp.addOnce(L,{distractor:!1,randomBalloon:o,self:this},this),e.addChild(t)),e.data.role="answer"}else{const n=Object.keys(this.distractors);if(n.length>0){const o=n[Object(i.t)(0,n.length)];this.distractors[o]&&(t=this.distractors[o].imageName?b(this.game,this.distractors[o].imageName):U(this.game,this.distractors[o].text),e.events.onInputUp.addOnce(L,{distractor:!0,self:this},this)),e.addChild(t)}e.data.role="distractor"}}}if(Object(i.D)()<=.1){let e=this.cloudGroup.getRandom();e.exists||function(e,t,n){e.reset(t,Object(i.t)(-10,n-250)),e.body.velocity.x=-1*Object(i.t)(10,50)}(e,this.gameSettings.width,this.gameSettings.height)}this.spawnTime=0}}render(){this.game.renderer.renderSession.roundPixels=!0}}}var V=n(29);var J=n(14);function K(e,t){Object.keys(e).forEach(n=>{e[n].imageLocation&&t.load.image(e[n].imageName,e[n].imageLocation,!0)})}function X(e,t){const n=e+"."+function(){const e=Object(V.a)().mediaFormats.audio.format;return!e||e.length<1?"mp3":e}();let i="".concat(Object(J.a)(),"audio/").concat(n);t.load.audio(e,i)}function Y(e,t){const n=[m.correct,m.incorrect];K(t.items,e),K(t.distractors,e),function(e,t){const n="".concat(Object(J.a)(),"images/balloonGameAssets/"),i=t||"".concat(n,"spritesheet.png"),o="".concat(n,"spritesheet.json");e.load.atlasJSONHash("spritesheet",i,o)}(e,t.alternativeSprite),n.forEach(t=>{X(t,e)})}var Z=n(455),ee=n.n(Z),te=n(626);var ne=(e,t)=>{e.closest(".balloonsContainer").html("<h3>".concat(t,"</h3>"))};var ie=n(151);var oe=(e,t)=>{const n=Object(i.i)(e).attr("id");Object(ie.b)("balloons-".concat(n),()=>{e[0].clientWidth!==t.width&&W(t,e)})};function se(e,t,n,i){return new class extends e{constructor(){super({width:t[0].clientWidth,height:t[0].clientHeight,renderer:i.CANVAS,enableDebug:!1,parent:t[0].id}),oe(t,this);const e=function(e,t,n){return new class extends e{preload(){this.game.stage.disableVisibilityChange=!0,this.game.stage.backgroundColor="#4286f4",this.errorMessage="",this.game.load.onFileError.add((e,t)=>{this.errorMessage+=t.errorMessage+"<br>"},this),Y(this.game,n)}create(){Object(te.a)(),this.errorMessage&&ne(t,this.errorMessage);new ee.a("castledown").load().then(()=>{W(this.game,t)})}}}(i.State,t,n),o=function(e){return new class extends e{create(){f(this.game.width,this.game.height,this.game)}}}(i.State),s=H(i.State,t,n);this.state.add(c,e,!1),this.state.add(h,o,!1),this.state.add(u,s,!1)}}}var ae=n(451),re=n(532),le=n(625),de=n(423);function ce(e,t){e.$selector=function(e,t){return e.find("*[data-rcfinteraction='".concat(t,"']")).first()}(t,"balloons");const n=y(e,".rcfBalloons"),i=Object(re.a)(n),o=window.Phaser;Object(le.a)(t,n);const s=se(o.Game,n,i,window.Phaser);s.state.start(c),Object(ae.a)(t,".balloonsContainer",".startGameButton, .replayGameButton",()=>{Object(de.a)(e.$selector),function(e,t){const n=_(t);var i;e.paused=!1,e.over=!1,Object(I.a)(t,B.b.isPlaying),(i=n).removeClass("paused"),i.removeClass("gameWon"),i.removeClass("start"),i.removeClass("gameOver"),i.addClass("playing"),O(n),e.state.start(u)}(s,n)});const a=e.$selector;return a.find(".resumeGameButton").on("click",t=>{t.stopPropagation(),e.resume()}),s}n(48);var ue=n(5),he=n.n(ue),me=n(8),ge=n(536);var pe=(e,t)=>{var n;const o=t.states.Play;let s=0,a=0,r=0;o.gameSettings&&(s=o.gameSettings.numberOfCorrectBalloonsClicked,a=o.gameSettings.startTime,r=o.gameSettings.endTime||Date.now());const l=a?(r-a)/1e3:0,d=Object(i.x)(l),c=null==o||null===(n=o.gameSettings)||void 0===n?void 0:n.lives,u=isNaN(c)?3:c;return e.get().map(e=>{const t=he()(e),n=Object(ge.a)(t);return{elm:Object(i.v)(t)||"",markType:me.d.unmarked,markedBy:me.c.nobody,type:me.a.gameBalloons,ignoreNextAnswer:"y",value:{completion:n,livesLeft:u,correct:o.totalQuestionsAnswered||0,totalItemsFound:s||0,timeTaken:d||"00:00"}}})},fe=n(393);function be(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"default",(function(){return ve}));class ve{constructor(e){be(this,"game",void 0),be(this,"$activity",void 0),be(this,"$selector",void 0),this.game=ce(this,e)}showAnswers(e){Object(fe.a)(this.$selector,e,!1,e=>{Object(de.c)(this.$selector,e)})}close(){Object(ie.a)("balloons"),this.game.sound.removeAll(),this.game.destroy()}reset(){const e=y(this,".rcfBalloons");this.game.paused=!1,O(this.$selector),W(this.game,e)}pause(){if(!this.game.over){const e=y(this,".rcfBalloons");this.game.paused=!0,function(e,t){_(t).addClass("paused"),Object(I.a)(t,B.b.isPaused),e.paused=!0}(this.game,e)}}resume(){O(this.$selector),this.game.over||(this.game.paused=!1)}getUserAnswers(){const e=Object(de.b)(this.$selector);return e?[e]:pe(this.$selector,this.game.state)}}}}]);
/* build created on 15/08/2025 16:19 */
//# sourceMappingURL=http://localhost:4000/source-maps/interactions/marked/rcfBalloons.js.map