(window.rcfRunTime_24113=window.rcfRunTime_24113||[]).push([["interactions/unmarked/rcfChase"],{731:function(e,t,n){"use strict";n.r(t);n(25),n(59),n(6),n(13),n(11);var a=n(5);function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n){t.RCF=t.RCF||{},RCF.Interactions=RCF.Interactions||{},RCF.Interactions.Unmarked=RCF.Interactions.Unmarked||{},RCF.Interactions.Unmarked.Chase=function(){function t(e){this._initialize(e)}return t.prototype={_initialize:function(t){if(RCF.Utils.isEmpty(t))throw"Empty $chase selector passed into Chase interaction constructor";this.$selector=t,this.score=0,this.finalClass="",this.countDownInterval=0,this.interval=0,this.$chaseContents=this.$selector.find(".chaseDiv"),this.$playHeadControls=this.$selector.find(".playheadControls"),this.$countDownElement=this.$selector.find(".chaseCountDown"),this.$speedControls=this.$selector.find(".chaseControls.speedControls");var a=this.$chaseContents[0],s=n.createElement("span");s.className="chaseWord beforeChase",findAndReplaceDOMText(/([^\s<>]+)(?![^<>]*>)(?:(?=[<\s])|$)/g,a,s),this.chaseSpeed=0,this.interval=0;var r=this;this.$speedControls.on("click","a",(function(){var t=e(this),n=t.attr("data-level");r.chaseSpeed=n,r.$speedControls.find("a").removeClass("selected"),t.addClass("selected"),r.interval>0&&(clearInterval(r.interval),r.interval=0,r._createInterval())})),this.$speedControls.filter("a:first").addClass("selected"),this.chaseSpeed=this.$speedControls.find("a:first").attr("data-level"),this.$playHeadControls.on("click","a",(function(){switch(r.chaseType=r.$speedControls.attr("data-chasetype"),r.timed=r.$speedControls.attr("data-timed"),r.begin=r.$speedControls.attr("data-begin"),r.showCountDown=r.$speedControls.attr("data-countdown"),r.chaseType){case"appear":r.finalClass="";break;case"blur":r.finalClass="blurred";break;case"fade":r.finalClass="chaseFade";break;case"highlight":r.finalClass="chaseHighlight"}var t=e(this);t.hasClass("play")&&("Start"==t.text()?r.interval>0||r.countDownInterval>0?(r.pagePaused=!1,t.text("Pause")):r._startChase():(r.pagePaused=!0,t.text("Start"))),t.hasClass("stop")&&(r._stopCountDown(),r._stopChase(),r.reset())}))},_startChase:function(){if(delete this.$pageWords,this.$playHeadControls.find(".play").text("Pause"),this.interval>0&&(clearInterval(this.interval),this.interval=0),this.$pageWords=this.$chaseContents.find(".chaseWord"),this.wordTotal=this.$pageWords.length,"appear"==this.chaseType&&this.$pageWords.addClass("beforeChase"),"fade"!=this.chaseType&&"highlight"!=this.chaseType&&"blur"!=this.chaseType||this.$pageWords.removeClass("beforeChase chaseFade chaseBlurred chaseHighlight"),this.wordCounter=0,this.pagePaused=!1,"y"==this.timed){var e=this;this.countDownTimer=this.begin,this.countDownInterval=setInterval((function(){if(!e.pagePaused)if(0===e.countDownTimer)e._stopCountDown(),e._createInterval();else{var t=e.countDownTimer--,n=parseInt(t/3600)%24,a=parseInt(t/60)%60,s=parseInt(t%60,10),r=(n<10?"0"+n:n)+":"+(a<10?"0"+a:a)+":"+(s<10?"0"+s:s);e.$countDownElement.text("("+r+")")}}),1e3)}else this._createInterval()},_createInterval:function(){var t=this;this.interval=setInterval((function(){if(!t.pagePaused)if(t.wordCounter>t.wordTotal)clearInterval(t.interval),t.pagePaused=!0,t.$playHeadControls.find(".play").text("Start"),t.interval=0;else{var n=e(t.$pageWords[t.wordCounter++]);"fade"==t.chaseType||"highlight"==t.chaseType||"blur"==t.chaseType?n.addClass(t.finalClass):n.removeClass("beforeChase")}}),this.chaseSpeed)},_stopChase:function(){this.interval>0&&(clearInterval(this.interval),this.interval=0),RCF.Utils.isEmpty(this.$pageWords)||this.$pageWords.removeClass(this.finalClass),delete this.$pageWords,this.$playHeadControls.find(".play").text("Start"),this.wordCounter=0},_stopCountDown:function(){this.countDownInterval>0&&clearInterval(this.countDownInterval),this.countDownInterval=0,this.$countDownElement.text("")},reset:function(){"appear"!=this.chaseType?this.$chaseContents.find(".chaseWord").removeClass(this.finalClass).addClass("beforeChase"):this.$chaseContents.find(".chaseWord").addClass("beforeChase")},pause:function(){this._stopCountDown(),this._stopChase()},close:function(){this._stopCountDown(),this._stopChase(),this.$speedControls.off("click","a"),this.$playHeadControls.off("click","a")}},t}(),t.findAndReplaceDOMText=function(){function e(e,s,r,i){var o,l=[],d=function e(t){if(3===t.nodeType)return t.data;var n="";if(t=t.firstChild)do{n+=e(t)}while(t=t.nextSibling);return n}(s),h=function(e){var t;if(a=[],"function"!=typeof e){var s=e.nodeType?e:n.createElement(e);t=function(e){var t,a=n.createElement("div");return a.innerHTML=s.outerHTML||(new XMLSerializer).serializeToString(s),t=a.firstChild,e&&t.appendChild(n.createTextNode(e)),t}}else t=e;return function(e){var s=e.startNode,r=e.endNode,i=e.matchIndex,o=0,l=0;if(s===r){var d=s;e.startNodeIndex>0&&(l=n.createTextNode(d.data.substring(0,e.startNodeIndex)),d.parentNode.insertBefore(l,d));var h=t(e.match[0],i);return d.parentNode.insertBefore(h,d),e.endNodeIndex<d.length&&(o=n.createTextNode(d.data.substring(e.endNodeIndex)),d.parentNode.insertBefore(o,d)),d.parentNode.removeChild(d),a.push((function(){var e=h.parentNode;e.insertBefore(h.firstChild,h),e.removeChild(h),e.normalize()})),h}l=n.createTextNode(s.data.substring(0,e.startNodeIndex)),o=n.createTextNode(r.data.substring(e.endNodeIndex));for(var c=t(s.data.substring(e.startNodeIndex),i),f=[],u=0,p=e.innerNodes.length;u<p;++u){var C=e.innerNodes[u],v=t(C.data,i);C.parentNode.replaceChild(v,C),f.push(v)}var g=t(r.data.substring(0,e.endNodeIndex),i);return s.parentNode.insertBefore(l,s),s.parentNode.insertBefore(c,s),s.parentNode.removeChild(s),r.parentNode.insertBefore(g,r),r.parentNode.insertBefore(o,r),r.parentNode.removeChild(r),a.push((function(){f.unshift(c),f.push(g);for(var e=0,t=f.length;e<t;++e){var n=f[e],a=n.parentNode;a.insertBefore(n.firstChild,n),a.removeChild(n),a.normalize()}})),g}}(r);if(d){if(e.global)for(;o=e.exec(d);)l.push(t(o,i));else o=d.match(e),l.push(t(o,i));l.length&&function(e,t,n){var a,s,r,i,o=[],l=0,d=e,h=t.shift(),c=0;e:for(;;){if(3===d.nodeType&&(!s&&d.length+l>=h[1]?(s=d,i=h[1]-l):a&&o.push(d),!a&&d.length+l>h[0]&&(a=d,r=h[0]-l),l+=d.length),a&&s){if(d=n({startNode:a,startNodeIndex:r,endNode:s,endNodeIndex:i,innerNodes:o,match:h[2],matchIndex:c}),l-=s.length-i,a=null,s=null,o=[],h=t.shift(),c++,!h)break}else if(d.firstChild||d.nextSibling){d=d.firstChild||d.nextSibling;continue}for(;;){if(d.nextSibling){d=d.nextSibling;break}if(d.parentNode===e)break e;d=d.parentNode}}}(s,l,h)}}function t(e,t){if(t=t||0,!e[0])throw"findAndReplaceDOMText cannot handle zero-length matches";var n=e.index;if(t>0){var a=e[t];if(!a)throw"Invalid capture group";n+=e[0].indexOf(a),e[0]=a}return[n,n+e[0].length,[e[0]]]}var a;return e.revert=function(){for(var e=0,t=a.length;e<t;++e)a[e]();a=[]},e}()}(n.n(a).a,window,document),n.d(t,"default",(function(){return r}));class r{constructor(e){s(this,"baseInteraction",void 0),this.baseInteraction=new RCF.Interactions.Unmarked.Chase(e)}pause(){this.baseInteraction.pause()}reset(){this.baseInteraction.reset()}close(){this.baseInteraction.close()}}}}]);
/* build created on 15/08/2025 16:19 */
//# sourceMappingURL=http://localhost:4000/source-maps/interactions/unmarked/rcfChase.js.map