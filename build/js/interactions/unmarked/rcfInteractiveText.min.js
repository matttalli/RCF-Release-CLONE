(window.rcfRunTime_24113=window.rcfRunTime_24113||[]).push([["interactions/unmarked/rcfInteractiveText"],{729:function(t,e,s){"use strict";s.r(e);s(25),s(153),s(59),s(100),s(6),s(13),s(11);var a=s(5);function i(t,e,s){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var a=s.call(t,e||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}!function(t,e){e.RCF=e.RCF||{},RCF.Interactions=RCF.Interactions||{},RCF.Interactions.Unmarked=RCF.Interactions.Unmarked||{},RCF.Interactions.Unmarked.InteractiveText=function(){function e(t){this._initialize(t)}return e.prototype={_initialize:function(e){switch(this.$interactiveTextBlock=e,this.startInterval=0,this.interval=0,this.catType="",this.showCountDown="",this.playing=!1,this.paused=!1,this.$blockControls=this.$interactiveTextBlock.find(".speedControls"),this.$eElements=this.$interactiveTextBlock.find(".eSpan, .eDiv"),this.catType=this.$blockControls.attr("data-cattype"),this.timed=this.$blockControls.attr("data-timed"),this.showCountDown=this.$blockControls.attr("data-countdown"),this.startInterval=this.$blockControls.attr("data-begin"),this.controlType=this.$blockControls.attr("data-controltype"),this.cumulative="cumulative"==this.controlType,RCF.Utils.isEmpty(this.startInterval)&&(this.startInterval=0),this._setCatList(this.$blockControls.attr("data-catlist")),this.catType){case"blur":this.classToToggle="blurred";break;case"hide":case"show":this.classToToggle="hidden";break;case"highlight":this.classToToggle="highlight"}var s=this;if("y"==s.timed){if(!RCF.Utils.isEmpty(this.catList)){var a=this.catList;this.counter=0;var i=this.$blockControls.find(".play");this.$blockControls.find(".reset").on("click",(function(){i.text("Start"),s.playing=!1,s.paused=!1,s.reset()})),i.on("click",(function(){if(s.playing&&(s.paused="Pause"==i.text()),i.text("Start"==i.text()?"Pause":"Start"),!s.paused&&!s.playing){s.reset(),s.playing=!0;var t=0,e=parseInt(s.startInterval)+parseInt(a[a.length-1][1]);s.interval=setInterval((function(){if(!s.paused){if("y"==s.showCountDown){var i=e-s.counter,r=parseInt(i/3600)%24,n=parseInt(i/60)%60,o=parseInt(i%60,10),l=(r<10?"0"+r:r)+":"+(n<10?"0"+n:n)+":"+(o<10?"0"+o:o);s.$blockControls.find(".countDown").text("("+l+")")}for(var c=t;c<a.length;c++){var h=parseInt(a[c][1])+parseInt(s.startInterval);if(s.counter==h){var d=s.$eElements.filter("[data-cat='"+a[c][0].replace("'","\\'")+"']");switch(t=c,s.catType){case"hide":d.addClass(s.classToToggle);break;case"show":d.removeClass(s.classToToggle);break;case"highlight":case"blur":d.addClass(s.classToToggle)}c==a.length-1&&(clearInterval(s.interval),s.counter=0,s.$blockControls.find(".play").text("Start"),s.playing=!1,s.paused=!1,s.$blockControls.find(".countDown").text(""))}}s.counter++}}),1e3)}}))}}else{var r=this.$blockControls.attr("data-defaultcatid");RCF.Utils.isEmpty(r)||(s.cumulative?this._processCumulativeCategory(r,!0):s._toggleCategory(r)),this.$blockControls.on("click","a[data-cat]",(function(){var e=t(this),a=e.attr("data-cat"),i=e.attr("data-oncaption"),r=e.attr("data-offcaption");s.cumulative||"radio"==s.controlType?s._toggleCategory(a):(e.toggleClass("selected"),RCF.Utils.isEmpty(r)&&(r=e.text()),RCF.Utils.isEmpty(i)&&(i=r),e.text(e.hasClass("selected")?i:r),s.$eElements.filter("[data-cat='"+a.replace("'","\\'")+"']").toggleClass(s.classToToggle))}))}},_setCatList:function(t){if(this.catList=null,!RCF.Utils.isEmpty(t)){for(var e=t.split("|"),s=0,a=0;a<e.length;a++){var i=e[a].split(":");RCF.Utils.isEmpty(i[1])||isNaN(i[1])?i[1]=0:s+=parseInt(i[1]),e[a]=i}s>0&&e.sort((function(t,e){var s=parseInt(t[1]),a=parseInt(e[1]);return s===a?0:s<a?-1:s>a?1:0})),this.catList=e}},_toggleCategory:function(t){var e=this.$blockControls.find("a[data-cat='"+t.replace("'","\\'")+"']");"radio"===this.controlType||"cumulative"===this.controlType?(e.parent().find("a").removeClass("selected"),e.addClass("selected"),this.cumulative?this._processCumulativeCategory(t,!0):(this.$eElements.removeClass(this.classToToggle),this.$eElements.filter("[data-cat='"+t.replace("'","\\'")+"']").addClass(this.classToToggle))):(e.toggleClass("selected"),this.$eElements.filter("[data-cat='"+t.replace("'","\\'")+"']").toggleClass(this.classToToggle))},_processCumulativeCategory:function(t){for(var e=!1,s=0;s<this.catList.length;s++){var a=this.catList[this.catList.length-1-s][0],i=this.$eElements.filter("[data-cat='"+a+"']"),r=!1,n=!1;a==t||e?a!=t&&e?(r="show"===this.catType,n="hide"===this.catType):a==t&&(r="hide"===this.catType,n="show"===this.catType,e=!0):(r="hide"===this.catType,n="show"===this.catType),r&&i.addClass("hidden"),n&&i.removeClass("hidden")}},reset:function(){switch(this._clearInterval(),this.counter=0,this.$blockControls.find(" .countDown").text(""),this.catType){case"blur":this.$eElements.removeClass("blurred");break;case"hide":this.$eElements.removeClass("hidden");break;case"show":this.$eElements.addClass("hidden");break;case"highlight":this.$eElements.removeClass("highlight")}if("y"!=this.timed){var t=this.$blockControls.attr("data-defaultcatid");RCF.Utils.isEmpty(t)||(this._processCumulativeCategory(t,!0),this.$blockControls.find("a").removeClass("selected").filter("[data-cat='"+t.replace("'","\\'")+"']").addClass("selected"))}},pause:function(){this._clearInterval()},_clearInterval:function(){this.interval>0&&(clearInterval(this.interval),this.interval=0)},close:function(){this._clearInterval(),this.$blockControls.find(".reset").off(),this.$blockControls.find(".play").off(),this.$blockControls.find("a").off()}},e}()}(s.n(a).a,window),s.d(e,"default",(function(){return r}));class r{constructor(t){i(this,"baseInteraction",void 0),this.baseInteraction=new RCF.Interactions.Unmarked.InteractiveText(t)}pause(){this.baseInteraction.pause()}reset(){this.baseInteraction.reset()}close(){this.baseInteraction.close()}}}}]);
/* build created on 15/08/2025 16:19 */
//# sourceMappingURL=http://localhost:4000/source-maps/interactions/unmarked/rcfInteractiveText.js.map