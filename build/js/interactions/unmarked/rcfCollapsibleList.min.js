(window.rcfRunTime_24113=window.rcfRunTime_24113||[]).push([["interactions/unmarked/rcfCollapsibleList"],{690:function(t,e,a){"use strict";a.r(e);a(25),a(6),a(11);var i=t=>t.find('[data-rcfinteraction="collapsibleList"]'),r=a(5),n=a.n(r),l=a(163);var s=t=>{t.toggleClass("collapsed")};var o=t=>{let e=t.find(".collapsibleList_content > li:not(.active)"),a=t.find(".collapsibleList_content > .active");t.hasClass("collapsed")?(a.attr("aria-hidden","false"),e.attr("aria-hidden","true")):(a.removeAttr("aria-hidden"),e.removeAttr("aria-hidden"))};var c=t=>t.find("button.activeIndex");var d=(t,e)=>{const a={behavior:"smooth",block:"nearest",inline:"center"};e&&(a.behavior="auto"),t.scrollIntoView(a)},b=(a(13),a(162));var u=t=>t.find("li.active");var f=t=>{t.each((t,e)=>{const a=n()(e),i=a.hasClass("collapsed"),r=u(a),l=a.find("li:not(.active)"),s=Object(b.a)(r,!0),o=Object(b.a)(l,!0);s.attr("tabindex","0"),o.attr("tabindex",i?"-1":"0");const c=a.find(".collapsibleListNavigationContainer"),d=c.find("button.previousItem, button.nextItem"),f=c.find('.listItemIndex [role="tab"]'),v=f.filter(".activeIndex"),m=f.not(".activeIndex");i?(v.attr("tabindex","0"),m.attr("tabindex","-1"),d.attr("tabindex","-1")):(f.attr("tabindex","0"),d.attr("tabindex","0"))})};var v=(t,e)=>{t.attr("aria-expanded",e.hasClass("collapsed")?"false":"true")},m=a(363);let p=null;var h=t=>{t.on("click","button.toggle-collapsibleList",t=>{const e=n()(t.currentTarget),a=Object(l.a)(e),i=a.find(".collapsibleList_content").children("li"),r=a.find(".listItemIndex"),b=r.find("button.itemNavigation.itemIndex");if(s(a),v(e,a),a.hasClass("collapsed")){r.attr("role","tablist"),b.each((function(t){const e=n()(this),a=i.eq(t),r=a.attr("id"),l=e.attr("id");e.attr("role","tab"),r&&e.attr("aria-controls",r),a.attr("role","tabpanel"),l&&a.attr("aria-labelledby",l)}));const t=c(a);b.attr("aria-selected","false"),t&&t.length?t.attr("aria-selected","true"):b.length>0&&b.first().attr("aria-selected","true"),o(a),f(a);const l=c(a);l.length&&d(l[0],!0),"function"==typeof m.a&&(Object(m.a)(e,"List collapsed."),p&&clearTimeout(p),p=setTimeout(()=>Object(m.a)(e,""),2e3))}else{r.removeAttr("role"),b.removeAttr("role aria-controls"),b.attr("aria-selected","false"),i.removeAttr("role aria-labelledby");const t=a.find(".collapsibleList_content > li");t.attr("aria-hidden","true"),setTimeout(()=>{if(o(a),f(a),"function"==typeof m.a){const a=t.length;Object(m.a)(e,"List expanded, ".concat(a," items shown.")),p&&clearTimeout(p),p=setTimeout(()=>Object(m.a)(e,""),2e3)}},0)}})},g=a(4);var x=t=>t.find("li:first");var j=t=>{const e=u(t);let a;return a=Object(g.y)(e)?x(t):e.next(),a};var I=t=>t.find("div.listItemIndex .itemIndex:first");var O=t=>{const e=c(t);let a;return a=Object(g.y)(e)?I(t):e.next(),a};var y=t=>{t.find("li.active").attr("aria-hidden","true").removeClass("active")};var k=t=>{t.find("button.activeIndex").attr("aria-selected","false").removeClass("activeIndex")};var w=t=>t.find("button.itemNavigation.nextItem");var L=t=>t.find("button.itemNavigation.previousItem");var T=t=>{const e=Object(l.a)(t),a=w(e),i=L(e),r=a.find("span.remainingItems"),n=i.find("span.remainingItems"),s=t.nextAll().length,o=t.prevAll().length;r.text(s),n.text(o),a.prop("disabled",0===s),i.prop("disabled",0===o)};var C=t=>{T(t),t.attr("aria-hidden","false").addClass("active")};var A=t=>{t.attr("aria-selected","true").addClass("activeIndex")};var N=t=>{t.on("click",".collapsibleList button.itemNavigation.nextItem",t=>{const e=n()(t.currentTarget),a=Object(l.a)(e);let i=j(a),r=O(a);if(Object(g.y)(i)||Object(g.y)(r))return;a.find('[role="tab"]').attr("aria-selected","false"),r.attr("aria-selected","true"),y(a),C(i),k(a),A(r),d(r[0]),f(a),e.is(":disabled")?r.focus():e.focus()})};var q=t=>{const e=u(t);let a;return a=Object(g.y)(e)?x(t):e.prev(),a};var $=t=>{const e=c(t);let a;return a=Object(g.y)(e)?I(t):e.prev(),a};var _=t=>{t.on("click",".collapsibleList button.itemNavigation.previousItem",t=>{const e=n()(t.currentTarget),a=Object(l.a)(e);let i=q(a),r=$(a);if(Object(g.y)(i)||Object(g.y)(r))return;a.find('[role="tab"]').attr("aria-selected","false"),r.attr("aria-selected","true"),y(a),C(i),k(a),A(r),d(r[0]),f(a),e.is(":disabled")?r.focus():e.focus()})},D=(a(102),a(17));var E=t=>{let e=null;t.on("click",".collapsibleList button.itemNavigation.itemIndex",t=>{const a=n()(t.currentTarget),i=Object(l.a)(a),r=Number(Object(D.a)(a,"data-index")||1),s=i.find(".collapsibleList_content > li").eq(r-1);if(Object(g.y)(s))return;const o=a.text().trim();Object(m.a)(a,"".concat(o," selected.")),e&&clearTimeout(e),e=setTimeout(()=>{Object(m.a)(a,"")},1500);i.find('[role="tab"]').attr("aria-selected","false"),a.attr("aria-selected","true"),y(i),C(s),k(i),A(a),d(a[0]),f(i);const c=s.find('a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"]):not([disabled])');c.length>0?c.first().focus():(s.attr("tabindex","-1"),s.focus())})};var P=t=>{t.on("keydown",".collapsibleListNavigationContainer button",t=>{const e=n()(t.currentTarget),a=e.closest(".collapsibleListNavigationContainer"),i=a.find("button.previousItem"),r=a.find('.listItemIndex [role="tab"]'),l=a.find("button.nextItem");let s=n()();s=s.add(i),s=s.add(r),s=s.add(l);const o=s.index(e),c=t.originalEvent?t.originalEvent:null;let d=null;switch(c?c.key:""){case"ArrowLeft":{t.preventDefault();let e=o;do{if(e=(e-1+s.length)%s.length,!s.eq(e).is(":disabled")){d=s.eq(e);break}}while(e!==o);break}case"ArrowRight":{t.preventDefault();let e=o;do{if(e=(e+1)%s.length,!s.eq(e).is(":disabled")){d=s.eq(e);break}}while(e!==o);break}case"Home":t.preventDefault();for(let t=0;t<s.length;t++)if(!s.eq(t).is(":disabled")){d=s.eq(t);break}break;case"End":t.preventDefault();for(let t=s.length-1;t>=0;t--)if(!s.eq(t).is(":disabled")){d=s.eq(t);break}break;case"Enter":case" ":t.preventDefault(),e.trigger("click");break;default:return}d&&d.length&&d.focus()})};var R=t=>{h(t),N(t),_(t),E(t),P(t)};var S=(t,e)=>{const a=i(e);R(e),setTimeout(()=>{f(a)},100),t.$activity=e,t.$selector=a};var H=t=>{t.addClass("collapsed")},M=a(178);var V=t=>{const e="collapsed"===Object(D.a)(t,"data-default"),a=x(t),i=I(t);y(t),C(a),k(t),A(i),e?(H(t),d(i[0])):Object(M.a)(t),o(t)};var z=t=>{t.each((t,e)=>{const a=n()(e);V(a)})};function B(t,e,a){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var i=a.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}a.d(e,"default",(function(){return F}));class F{constructor(t){B(this,"$activity",void 0),B(this,"$selector",void 0),S(this,t)}showAnswers(){Object(M.a)(this.$selector)}showMarkedAnswers(){Object(M.a)(this.$selector)}reset(){z(this.$selector)}}}}]);
/* build created on 15/08/2025 16:19 */
//# sourceMappingURL=http://localhost:4000/source-maps/interactions/unmarked/rcfCollapsibleList.js.map