(window.rcfRunTime_24113=window.rcfRunTime_24113||[]).push([["interactions/unmarked/rcfBlendedFlashcards"],{688:function(t,a,e){"use strict";e.r(a);e(25),e(6),e(13);var n=e(5),r=e.n(n);var i=t=>t.closest(".card");var c=t=>{t.toggleClass("hideTop")};var s=t=>{t.toggleClass("hideBottom")};e(101),e(11);var o=t=>{t.addClass("hideTop hideBottom")};var l=t=>{t.removeClass("layoutGrid layoutSingleThumbnails"),t.addClass("layoutSingle")},d=e(4);var f=t=>t.closest("li.active");var u=(t,a,e)=>{t.each((t,n)=>{r()(n).attr(a,e[t])})},h=e(76),v=e.n(h);var b=t=>{t.length>0&&v()(t,{attr:"data-rank",order:"asc"})};var g=(t,a,e,n)=>{const r=e.length-1;t.toggleClass("active",n>0),a.toggleClass("active",n<r)};var m=t=>t.closest(".blendedFlashcards");var p=t=>t.find(".cardNavigation.nextCard");var k=t=>t.find(".cardNavigation.previousCard"),C=e(60);var y=(t,a)=>{const e=t.get(a);return r()(e)},w=e(363);var F=(t,a,e,n,r)=>{const i=m(t.length?t:a.first()),c=k(i),s=p(i),o=y(a,n),l=a.index(t),d=y(e,l),f=y(e,n),u="listbox"===i.find(".cardSet").attr("role");t.removeClass("active"),u&&t.attr("aria-selected","false"),o.addClass("active"),u&&o.attr("aria-selected","true"),e.removeClass("active"),f.addClass("active");const h=a.length;if(d&&d.length){const t=d.data("originalorder"),a=d.find("button"),e="".concat(C.a.t("interactions.blendedFlashcards.flashcardOf.flashcard")," ").concat(t," ").concat(C.a.t("interactions.blendedFlashcards.flashcardOf.of")," ").concat(h," ").concat(C.a.t("interactions.blendedFlashcards.pagination.clickToSelect"));a.attr("aria-label",e)}if(f&&f.length){const t=f.data("originalorder"),a=f.find("button"),e="".concat(C.a.t("interactions.blendedFlashcards.flashcardOf.flashcard")," ").concat(t," ").concat(C.a.t("interactions.blendedFlashcards.flashcardOf.of")," ").concat(h," ").concat(C.a.t("interactions.blendedFlashcards.pagination.selected"));a.attr("aria-label",e)}if(g(c,s,a,n),r&&r.customAnnouncement)Object(w.a)(i,r.customAnnouncement);else{const t=o.attr("aria-label");t&&Object(w.a)(i,"".concat(t,", selected"))}};var x=(t,a)=>{const e=m(t),n=t.length;let r=[];for(let t=1;t<=n;t++)r.push(t);Object(d.K)(r),u(t,"data-rank",r),u(a,"data-rank",r),b(t),b(a);const i=f(t),c=i.index(),s=p(e),o=k(e);g(o,s,t,c),F(i,t,a,0)},S=e(17);var T=t=>Object(S.a)(t,"data-mode")||"";function O(t){const a=t.find(".cardSet"),e=a.find("> li"),n=e.length;a.attr("role","carousel"),a.attr("aria-label","Flashcards"),e.each((function(){const t=r()(this),a=parseInt(t.attr("data-originalorder"),10);t.attr("role","group"),t.attr("aria-roledescription","slide"),t.attr("aria-label","Card ".concat(a," of ").concat(n)),t.removeAttr("aria-setsize"),t.removeAttr("aria-posinset"),t.removeAttr("aria-selected")}))}e(59),e(100),e(102);var j=(t,a)=>{t.attr("aria-expanded",String(a));const e=t.hasClass("imageContainer");let n;n=e?a?"interactions.blendedFlashcards.image.revealed":"interactions.blendedFlashcards.image.hidden":a?"interactions.blendedFlashcards.text.revealed":"interactions.blendedFlashcards.text.hidden";let i=C.a.t(n);if(i){if(a){const a=t.attr("aria-controls");if(a){const t=r()("#".concat(a));if(t&&t.length){let a="";if(e){const e=t.attr("alt");e&&(a=e.trim())}else a=t.text().replace(/\s+/g," ").trim();a&&(i+=": ".concat(a))}}}t.attr("aria-label",i)}const c=t.attr("aria-controls");if(c){const t=r()("#".concat(c));t&&t.length&&t.attr("aria-hidden",String(!a))}};function A(t){G(t),t.addClass("layoutSingle"),O(t)}function P(t){G(t),t.addClass("layoutGrid"),function(t){const a=t.find(".cardSet"),e=a.find("> li"),n=e.length;a.attr("role","listbox"),a.attr("aria-label","Flashcards"),e.each((function(){const t=r()(this),a=parseInt(t.attr("data-originalorder"),10);t.attr("role","option"),t.removeAttr("aria-roledescription"),t.removeAttr("aria-label"),t.attr("aria-setsize",n),t.attr("aria-posinset",a),t.hasClass("active")?t.attr("aria-selected","true"):t.attr("aria-selected","false")}))}(t)}function I(t){o(t),t.addClass("hideTop hideBottom"),t.find('[role="button"]').each((function(){j(r()(this),!1)}))}function B(t){E(t),t.addClass("hideBottom"),t.find('.topContainer[role="button"]').each((function(){j(r()(this),!0)})),t.find('.textContainer[role="button"]').each((function(){j(r()(this),!1)}))}function D(t){E(t),t.addClass("hideTop"),t.find('.topContainer[role="button"]').each((function(){j(r()(this),!1)})),t.find('.textContainer[role="button"]').each((function(){j(r()(this),!0)}))}function $(t){E(t),t.find('[role="button"]').each((function(){j(r()(this),!0)}))}function N(t){const a=t.siblings();t.addClass("active"),a.removeClass("active")}function E(t){t.removeClass("hideBottom hideTop")}function G(t){l(t),t.removeClass("layoutGrid layoutSingle layoutSingleThumbnails")}var z=t=>t.find(".cardSet .card");var L=t=>t.find(".cardSet li");var R=t=>t.find(".cardList li");let _=!1;var K=t=>{const a=T(t);if(!a)return;const e=m(t);let n=L(e),r=R(e);const i=z(e);switch("shuffle"!==a&&N(t),a){case"shuffle":!function(t,a,e,n){E(e),x(t,a);let r=n.find("ul.blendedFlashcardModes li.button.active");switch(T(r)){case"show-all":$(e);break;case"hide-all":I(e);break;case"text":D(e);break;case"image":B(e)}}(n,r,i,e);break;case"full":A(e);break;case"single":!function(t){G(t),t.addClass("layoutSingleThumbnails"),O(t)}(e);break;case"grid":P(e);break;case"hide-all":I(i);break;case"image":B(i);break;case"text":D(i);break;case"show-all":$(i)}"shuffle"===a&&(n=L(e),r=R(e));if(["full","single","grid","shuffle","hide-all","image","text","show-all"].includes(a)){const t=n.filter(".active");let e;e="shuffle"===a?n.first():t,e&&0!==e.length||(e=n.first());const i=n.index(e);if(i>-1){_=!_;const e=_?"​":"‌";let c="";switch(a){case"shuffle":c=C.a.t("interactions.blendedFlashcards.shuffle.shuffled")+e;break;case"full":c=C.a.t("interactions.blendedFlashcards.full.activated")+e;break;case"single":c=C.a.t("interactions.blendedFlashcards.single.activated")+e;break;case"grid":c=C.a.t("interactions.blendedFlashcards.grid.activated")+e;break;case"hide-all":c=C.a.t("interactions.blendedFlashcards.hideAll.activated")+e;break;case"image":c=C.a.t("interactions.blendedFlashcards.image.activated")+e;break;case"text":c=C.a.t("interactions.blendedFlashcards.text.activated")+e;break;case"show-all":c=C.a.t("interactions.blendedFlashcards.showAll.activated")+e}F(t,n,r,i,{customAnnouncement:c})}}};var M=t=>t.index(".cardSet li");var q=t=>Object(S.a)(t,"data-nav-mode")||"";var H=t=>{const a=q(t);if(Object(d.y)(a))return;const e=m(t),n=z(e);switch(a){case"nextCard":!function(t){const a=z(t),e=L(t),n=R(t),r=f(a),i=a.length;if(Object(d.y)(r))return;const c=M(r)+1;c<i&&F(r,e,n,c)}(e);break;case"previousCard":!function(t){const a=z(t),e=L(t),n=R(t),r=f(a);if(Object(d.y)(r))return;const i=M(r);i>0&&F(r,e,n,i-1)}(e);break;case"thumbnailClick":!function(t,a,e){const n=Object(d.v)(a)||"";if(Object(d.y)(n))return;const r=f(e),i=e.closest("li"),c=a.index(".cardList li"),s=e.filter('[data-rcfid="'.concat(n,'"]')),o=R(t);Object(d.y)(s)||F(r,i,o,c)}(e,t,n)}};var J=t=>"keydown"===t.type&&![" ","Enter"].includes(t.key);var Q=t=>{const{$activity:a}=t;a.on("click keydown",".topContainer",a=>{if("default"!==t.mode||J(a))return;a.preventDefault(),a.stopImmediatePropagation();const e=r()(a.currentTarget),n=i(e);c(n);const s="true"===e.attr("aria-expanded");j(e,!s)}),a.on("click keydown",".textContainer",a=>{if("default"!==t.mode||J(a))return;a.preventDefault(),a.stopImmediatePropagation();const e=r()(a.currentTarget),n=i(e);s(n);const c="true"===e.attr("aria-expanded");j(e,!c)}),a.on("click keydown",".blendedFlashcardControls .button",t=>{if(J(t))return;const a=r()(t.currentTarget);K(a),t.stopImmediatePropagation(),t.preventDefault()}),a.on("click keydown",".blendedFlashcardSelection .cardNavigation",t=>{if(J(t))return;const a=r()(t.currentTarget);H(a),t.stopImmediatePropagation(),t.preventDefault()}),a.on("focusin",".cardSet > li",t=>{const a=r()(t.currentTarget),e=m(a),n=L(e),i=R(e),c=n.filter(".active");if(a.is(c))return;const s=n.index(a);s>-1&&F(c,n,i,s)}),a.on("keydown",t=>{const a=document.activeElement;if(!a)return;const e=r()(a).closest(".cardSet > li");if(0===e.length)return;if(37!==t.which&&39!==t.which)return;t.preventDefault(),t.stopImmediatePropagation();const n=m(e),i=L(n),c=R(n),s=i.index(e),o=i.length;if(-1===s)return;let l=s;37===t.which?l=0===s?o-1:s-1:39===t.which&&(l=s===o-1?0:s+1);const d=i.filter(".active");F(d,i,c,l),y(i,l).focus()})};var U=t=>t.find(".blendedFlashcards .cardSet .card");var V=(t,a,e)=>{t.each((t,n)=>{const i=r()(n);let c=i.attr(e);i.attr(a,c)})};var W=t=>{const a=t.$activity,e=U(a),n=m(e),r=L(n),i=n.find('.button[data-mode="full"]'),c=n.find('.button[data-mode="hide-all"]'),s=R(n),o=f(r);V(r,"data-rank","data-originalorder"),V(s,"data-rank","data-originalorder"),b(r),b(s),N(i),N(c),I(e),A(n),F(o,r,s,0)};function X(t,a,e){return(a=function(t){var a=function(t,a){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,a||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==typeof a?a:a+""}(a))in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}e.d(a,"default",(function(){return Y}));class Y{constructor(t){X(this,"$activity",void 0),X(this,"$selector",void 0),X(this,"mode",void 0);this.mode="default",this.$activity=t,Q(this)}reset(){W(this)}}}}]);
/* build created on 15/08/2025 16:19 */
//# sourceMappingURL=http://localhost:4000/source-maps/interactions/unmarked/rcfBlendedFlashcards.js.map