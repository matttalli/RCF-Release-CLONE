(window.rcfRunTime_24113=window.rcfRunTime_24113||[]).push([["interactions/itemBased/rcfItemRadioItemSelect","interactions/marked/rcfRadioListItemSelectable"],{335:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(25);var r=n(339);function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s{constructor(e,t){i(this,"$activity",void 0),i(this,"$selector",void 0),i(this,"interactionFunctions",void 0),this.$activity=e,this.interactionFunctions=t}clearMarkedAnswers(){Object(r.a)(this.$selector)}getUserAnswers(e){return Object(r.b)(this,this.interactionFunctions.getUserAnswer,e)}isComplete(e){return Object(r.c)(this,this.interactionFunctions.isComplete,e)}showAnswers(e,t,n){Object(r.d)(this,e,t,this.interactionFunctions.showAnswer,n)}showMarkedAnswers(e,t){Object(r.e)(this,e,this.interactionFunctions.showMarkedAnswer,t)}showUserAnswers(e){Object(r.f)(this,this.interactionFunctions.showAnswer,e)}reset(){this.interactionFunctions.reset(this.$selector)}}},337:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(6),n(13);var r=n(5),i=n.n(r),s=n(4);function c(e,t){return Object(s.y)(t)?i()([]):e.filter((e,n)=>{let r=i()(n).closest(".itemBasedQuestion");return Object(s.v)(r)===t})}},604:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"showAnswer",(function(){return c})),n.d(r,"showMarkedAnswer",(function(){return f})),n.d(r,"getUserAnswer",(function(){return b})),n.d(r,"isComplete",(function(){return g})),n.d(r,"reset",(function(){return w}));n(6),n(11);function i(e){e.addClass("selected"),e.attr("aria-checked","true")}function s(e,t){i(e.find("[data-rcfid='".concat(t,"']")))}function c(e,t){const n=e.$interaction,r=!!e.verification&&"1"==e.verification[0],i=Array.isArray(e.value)?e.value[0]:e.value;(!t||t&&r)&&s(n,i)}var a=n(4);function o(e,t){return e.find("[data-rcfid='".concat(t,"']"))}var u=n(371),l=n(340);function f(e){if(!e.$interaction)return;const t=e.$interaction,n=Array.isArray(e.value)?e.value[0]:e.value;if(Object(a.y)(n))return;const r=o(t,n);if(Object(a.y)(r))return;const i=!!e.verification&&"1"==e.verification[0],s=Object(u.a)(r);Object(l.a)(s,i)}function d(e){return e.find(".selectable.radio.selected")}var v=n(8);var b=e=>{const t=d(e);return{elm:Object(a.v)(e)||"",type:v.a.simple,value:Object(a.v)(t)||""}};var g=e=>d(e).length>0,h=n(336);function m(e){const t=d(e);var n;(n=t).removeClass("selected"),n.attr("aria-checked","false")}var w=e=>{Object(h.a)(e),m(e)},p=n(5),j=n.n(p);var O=n(17),y=n(29);function A(e){const t=Object(a.i)(e),n=e.closest(".radioItemSelect"),r=Object(O.a)(t,"id")||"",i=Object(y.a)();if(!i.feedbackOptions)return;const s=i.feedbackOptions.onAnswerChanged;"function"==typeof s&&s({id:r,answers:[{elm:Object(a.v)(n),type:v.a.simple,value:Object(a.v)(e)}]})}var k=e=>e.closest(".radioItemSelect").hasClass("example");var F=e=>{e.on("click",".selectable.radio",e=>{if(e.currentTarget!==e.target){const t=j()(e.target).closest(".inlinePlayerContainer[data-audiolink]");if(!Object(a.y)(t))return}const t=j()(e.currentTarget);if(k(t))e.preventDefault();else{m(t.closest("[data-rcfinteraction='radioItemSelect']")),t.trigger("focus"),i(t),A(t)}}),e.on("mousedown mouseup",".selectable.radio",e=>{const t=j()(e.currentTarget);k(t)&&e.preventDefault()})},C=(n(13),n(162)),$=n(380);const I=e=>j()(e.currentTarget),S=e=>{if(!Object($.a)(e)&&!k(e)){m(e.closest("[data-rcfinteraction='radioItemSelect']")),i(e),A(e)}e.trigger("focus")},T=(e,t)=>{const n=t.parent().children().hasClass("selected"),r=t.hasClass("selected"),i=e.currentTarget!==e.target,s=Object(C.a)(j()("html"));let c=s;c=i&&n&&r?s.not(t.siblings()):i&&n?s.not(t):i?s:s.not(t.siblings());const a=c.filter(":visible"),o=a.index(j()(e.target));return{$tabbableElements:a,currentFocusedElementIndex:o}};var x=e=>{e.on("keydown",".selectable.radio",e=>{const{keyCode:t}=e;switch(t){case 32:(e=>{e.preventDefault();const t=I(e);S(t)})(e);break;case 39:case 40:(e=>{e.preventDefault();const t=I(e);0===t.next().length?S(t.siblings().first()):S(t.next())})(e);break;case 37:case 38:(e=>{e.preventDefault();const t=I(e);0===t.prev().length?S(t.siblings().last()):S(t.prev())})(e);break;case 9:(e=>{e.preventDefault();const t=I(e),{shiftKey:n}=e,{$tabbableElements:r,currentFocusedElementIndex:i}=T(e,t);if(n){const e=r[i-1];void 0===e?j()(r[r.length-1]).trigger("focus"):j()(e).trigger("focus")}else{const e=r[i+1];void 0===e?j()(r[0]).trigger("focus"):j()(e).trigger("focus")}})(e)}}),e.on("focus",".selectable.radio",e=>{(e=>{const t=I(e),n=!t.siblings().is(j()(e.relatedTarget));if(e.currentTarget===e.target&&n){const e=t.find('[data-rcfinteraction="inlineAudioElement"] .audioPlayButton');if(t.siblings().hasClass("selected"))if(e.length>0)e.trigger("focus");else{t.siblings().filter(".selected").trigger("focus")}}})(e)})};var D=e=>{const t=e.find("span.radioItemSelect");F(t),x(t),function(e){e.on("rcf.single.answer","*[data-rcfinteraction='radioItemSelect']",(e,t)=>{const n=j()(e.target),r=Object(a.v)(n)||"",i=t.elm;let c=t.value;i===r&&(Array.isArray(c)&&(c=c[0]),m(n),s(n,c))})}(e)},E=n(366);var P=(e,t)=>{const n=t.find("span.radioItemSelect:not(.example)");D(t),Object(E.a)(t,n),e.$activity=t,e.$selector=n},R=n(335);var M=n(342);function U(e){Object(h.a)(e),m(e),Object(M.a)(e)}n.d(t,"default",(function(){return B}));class B extends R.a{constructor(e){super(e,r),P(this,e)}provideFeedback(e){!function(e,t){const n=function(e,t){return e.filter("[data-rcfid='".concat(t,"']"))}(e,t.answers[0].elm);if(Object(a.y)(n))return;const r=t.answers[0].value||"",i=!!t.answers[0].verification&&"1"==t.answers[0].verification[0],s=o(n,r);Object(M.a)(n);const c=RCF.Handlers.FeedbackHandler.provideFeedback;"function"==typeof c&&c(n,s,i,U)}(this.$selector,e)}}},669:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n(604);class i extends r.default{}}}]);
/* build created on 15/08/2025 16:19 */
//# sourceMappingURL=http://localhost:4000/source-maps/interactions/itemBased/rcfItemRadioItemSelect.js.map