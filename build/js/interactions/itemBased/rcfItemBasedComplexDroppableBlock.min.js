(window.rcfRunTime_24113=window.rcfRunTime_24113||[]).push([["interactions/itemBased/rcfItemBasedComplexDroppableBlock"],{337:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r(6),r(13);var o=r(5),c=r.n(o),a=r(4);function n(e,t){return Object(a.y)(t)?c()([]):e.filter((e,r)=>{let o=c()(r).closest(".itemBasedQuestion");return Object(a.v)(o)===t})}},708:function(e,t,r){"use strict";r.r(t);r(25);var o=r(5),c=r.n(o),a=r(99),n=(r(6),r(11),r(226));var i=e=>{const t=e.find(".wordBox.itemComplexDroppableBlockWordBox");return new n.a(t,".itemComplexDroppableBlock")};var l=e=>e.find(".itemComplexDroppableBlockWordBox.wordBox"),s=r(616),b=r(613),u=r(404),m=r(401),d=r(602),f=r(422),p=r(416);function v(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class j{constructor(e){v(this,"$complexDroppableBlock",void 0);const t=Object(u.a)(e),r=i(e),o=l(e);this.$complexDroppableBlock=e,r.randomizeItems();const c=Object(f.a)(e);Object(p.a)(c,"title"),t&&Object(b.a)(e,r),Object(s.a)(e,o,r),Object(d.a)(e,o,r);const a=r.getWordItems();Object(m.a)(e,a)}clear(){const e="ontouchend"in document?"touchend":"click";l(this.$complexDroppableBlock).off(e),this.$complexDroppableBlock.off(e)}}var O=r(17),h=r(4);var y=e=>{e.find(".itemComplexDroppable .inlinePlayerContainer").each((e,t)=>{const r=c()(t),o="audio-".concat(Object(h.u)(10));Object(O.c)(r,"data-audiolinkid",o)})};var w=e=>{e.each((e,t)=>{const r=c()(t),o=new j(r);Object(a.c)(r,"handler",o),y(r)})};var g=e=>e.find('[data-rcfinteraction="itemComplexDroppableBlock"]');var x=(e,t)=>{e.$activity=t,e.$selector=g(t),w(e.$selector)},$=(r(48),r(8));var k=e=>e.map((e,t)=>{const r=c()(t);return{elm:Object(h.v)(r),type:$.a.composite,value:r.find(".dev-droppable.dragTarget:not(.example)").map((e,t)=>{const r=c()(t),o=r.closest("[data-rcfid]");return{elm:Object(h.v)(o),type:$.a.simple,value:Object(a.a)(r,"wordItemID")||""}}).get()}}).get();r(13);var B=e=>{let t=e.find(".itemComplexDroppable.dragTarget:not(.example)");return t.filter(".populated").length===t.length};var D=e=>{e.each((e,t)=>{const r=c()(t),o=r,n=Object(a.a)(o,"handler");Object(h.y)(n)||"function"!=typeof n.clear||(n.clear(),Object(a.b)(r,"handler"))})},C=r(336),I=r(374);var A=e=>{e.each((e,t)=>{const r=c()(t),o=i(r),a=Object(f.a)(r);Object(I.a)(a),o.reset(),Object(C.a)(a)})},P=(r(15),r(16),r(337));var T=e=>{e.find(".itemComplexDroppable.movable:not(.example)").each((e,t)=>{const r=c()(t),o=Object(a.a)(r,"wordItemID")||"";Object(C.c)(r,o)})},W=r(353),E=r(399);var S=(e,t,r)=>{const o=r.elm,c=Array.isArray(r.value)?r.value[0]:r.value,a=e.find('.itemComplexDroppable.clickAndStickable[data-rcfid="'.concat(o,'"] .dragTarget.movable'));if(Object(I.a)(a),Object(h.y)(c))return;const n=t.getWordItem(c);t.removeWordItem(n),Object(E.a)(a,n,n,t)};var M=(e,t,r)=>{const o=Object(P.a)(e,r),c=Object(W.a)(o,t);Object(h.y)(c)||c.forEach(e=>{if(!e.$interaction)return;const t=e.$interaction,r=i(t);T(t),r.reset();e.value.forEach(e=>{S(t,r,e)})})},N=r(340),R=r(379);var U=(e,t)=>{t.answers.forEach(t=>{const r=t.elm;if(Object(h.y)(r))return;const o=e.filter('[data-rcfid="'.concat(r,'"]'));if(Object(h.y)(o))return;t.value.forEach(e=>{const t=!!e.verification&&"1"==e.verification[0],r=e.elm,c=o.find('[data-rcfid="'.concat(r,'"]')),a=Object(R.a)(c);Object(N.a)(a,t)})})};var _=e=>{e.each((e,t)=>{const r=c()(t),o=i(r);o.reset();Object(f.a)(r).each((e,t)=>{const r=c()(t),a=Object(C.b)(r),n=o.getWordItem(a);Object(I.a)(r),Object(h.y)(a)||(o.removeWordItem(n),Object(E.a)(r,n,n,o))})})},z=r(342);function Q(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"default",(function(){return q}));class q{constructor(e){Q(this,"$activity",void 0),Q(this,"$selector",void 0),x(this,e)}clearMarkedAnswers(){Object(z.a)(this.$selector)}showAnswers(e,t,r){M(this.$selector,e,r)}isComplete(e){const t=F(this.$selector,e);return B(t)}getUserAnswers(e){const t=F(this.$selector,e);return k(t)}showMarkedAnswers(e,t){this.clearMarkedAnswers();const r=F(this.$selector,t);U(r,e)}showUserAnswers(){_(this.$selector)}close(){D(this.$selector)}reset(){A(this.$selector)}}function F(e,t){return t?Object(P.a)(e,t):e}}}]);
/* build created on 15/08/2025 16:19 */
//# sourceMappingURL=http://localhost:4000/source-maps/interactions/itemBased/rcfItemBasedComplexDroppableBlock.js.map