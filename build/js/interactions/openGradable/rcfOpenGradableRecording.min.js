(window.rcfRunTime_24113=window.rcfRunTime_24113||[]).push([["interactions/openGradable/rcfOpenGradableRecording","interactions/unmarked/rcfSmallAudioRecorder"],{343:function(t,e,r){"use strict";var n,i,a,o=r(409),s=r(42),c=r(23),u=r(24),l=r(43),h=r(41),f=r(126),d=r(91),p=r(44),v=r(54),g=r(49).f,y=r(75),m=r(159),b=r(105),w=r(28),R=r(165),A=c.Int8Array,P=A&&A.prototype,T=c.Uint8ClampedArray,k=T&&T.prototype,U=A&&m(A),E=P&&m(P),S=Object.prototype,L=c.TypeError,x=w("toStringTag"),C=R("TYPED_ARRAY_TAG"),O=R("TYPED_ARRAY_CONSTRUCTOR"),I=o&&!!b&&"Opera"!==f(c.opera),B=!1,j={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},$={BigInt64Array:8,BigUint64Array:8},M=function(t){if(!l(t))return!1;var e=f(t);return h(j,e)||h($,e)};for(n in j)(a=(i=c[n])&&i.prototype)?p(a,O,i):I=!1;for(n in $)(a=(i=c[n])&&i.prototype)&&p(a,O,i);if((!I||!u(U)||U===Function.prototype)&&(U=function(){throw L("Incorrect invocation")},I))for(n in j)c[n]&&b(c[n],U);if((!I||!E||E===S)&&(E=U.prototype,I))for(n in j)c[n]&&b(c[n].prototype,E);if(I&&m(k)!==E&&b(k,E),s&&!h(E,x))for(n in B=!0,g(E,x,{get:function(){return l(this)?this[C]:void 0}}),j)c[n]&&p(c[n],C,n);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:I,TYPED_ARRAY_CONSTRUCTOR:O,TYPED_ARRAY_TAG:B&&C,aTypedArray:function(t){if(M(t))return t;throw L("Target is not a typed array")},aTypedArrayConstructor:function(t){if(u(t)&&(!b||y(U,t)))return t;throw L(d(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,r,n){if(s){if(r)for(var i in j){var a=c[i];if(a&&h(a.prototype,t))try{delete a.prototype[t]}catch(r){try{a.prototype[t]=e}catch(t){}}}E[t]&&!r||v(E,t,r?e:I&&P[t]||e,n)}},exportTypedArrayStaticMethod:function(t,e,r){var n,i;if(s){if(b){if(r)for(n in j)if((i=c[n])&&h(i,t))try{delete i[t]}catch(t){}if(U[t]&&!r)return;try{return v(U,t,r?e:I&&U[t]||e)}catch(t){}}for(n in j)!(i=c[n])||i[t]&&!r||v(i,t,e)}},isView:function(t){if(!l(t))return!1;var e=f(t);return"DataView"===e||h(j,e)||h($,e)},isTypedArray:M,TypedArray:U,TypedArrayPrototype:E}},377:function(t,e,r){var n,i,a;i=[t,e],void 0===(a="function"==typeof(n=function(t,e){"use strict";var r,n,i="function"==typeof Map?new Map:(r=[],n=[],{has:function(t){return r.indexOf(t)>-1},get:function(t){return n[r.indexOf(t)]},set:function(t,e){-1===r.indexOf(t)&&(r.push(t),n.push(e))},delete:function(t){var e=r.indexOf(t);e>-1&&(r.splice(e,1),n.splice(e,1))}}),a=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(t){a=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}function o(t){if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!i.has(t)){var e,r=null,n=null,o=null,s=function(){t.clientWidth!==n&&h()},c=function(e){window.removeEventListener("resize",s,!1),t.removeEventListener("input",h,!1),t.removeEventListener("keyup",h,!1),t.removeEventListener("autosize:destroy",c,!1),t.removeEventListener("autosize:update",h,!1),Object.keys(e).forEach((function(r){t.style[r]=e[r]})),i.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",c,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",h,!1),window.addEventListener("resize",s,!1),t.addEventListener("input",h,!1),t.addEventListener("autosize:update",h,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",i.set(t,{destroy:c,update:h}),"vertical"===(e=window.getComputedStyle(t,null)).resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),r="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(r)&&(r=0),h()}function u(e){var r=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=r,t.style.overflowY=e}function l(){if(0!==t.scrollHeight){var e=function(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}(t),i=document.documentElement&&document.documentElement.scrollTop;t.style.height="",t.style.height=t.scrollHeight+r+"px",n=t.clientWidth,e.forEach((function(t){t.node.scrollTop=t.scrollTop})),i&&(document.documentElement.scrollTop=i)}}function h(){l();var e=Math.round(parseFloat(t.style.height)),r=window.getComputedStyle(t,null),n="content-box"===r.boxSizing?Math.round(parseFloat(r.height)):t.offsetHeight;if(n<e?"hidden"===r.overflowY&&(u("scroll"),l(),n="content-box"===r.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight):"hidden"!==r.overflowY&&(u("hidden"),l(),n="content-box"===r.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight),o!==n){o=n;var i=a("autosize:resized");try{t.dispatchEvent(i)}catch(t){}}}}function s(t){var e=i.get(t);e&&e.destroy()}function c(t){var e=i.get(t);e&&e.update()}var u=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((u=function(t){return t}).destroy=function(t){return t},u.update=function(t){return t}):((u=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],(function(t){return o(t)})),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],s),t},u.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],c),t}),e.default=u,t.exports=e.default})?n.apply(e,i):n)||(t.exports=a)},390:function(t,e,r){"use strict";var n=r(23),i=r(20),a=r(42),o=r(409),s=r(132),c=r(44),u=r(239),l=r(21),h=r(150),f=r(85),d=r(125),p=r(410),v=r(480),g=r(159),y=r(105),m=r(157).f,b=r(49).f,w=r(411),R=r(244),A=r(127),P=r(63),T=s.PROPER,k=s.CONFIGURABLE,U=P.get,E=P.set,S=n.ArrayBuffer,L=S,x=L&&L.prototype,C=n.DataView,O=C&&C.prototype,I=Object.prototype,B=n.Array,j=n.RangeError,$=i(w),M=i([].reverse),N=v.pack,F=v.unpack,G=function(t){return[255&t]},_=function(t){return[255&t,t>>8&255]},D=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},q=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},W=function(t){return N(t,23,4)},H=function(t){return N(t,52,8)},z=function(t,e){b(t.prototype,e,{get:function(){return U(this)[e]}})},Y=function(t,e,r,n){var i=p(r),a=U(t);if(i+e>a.byteLength)throw j("Wrong index");var o=U(a.buffer).bytes,s=i+a.byteOffset,c=R(o,s,s+e);return n?c:M(c)},V=function(t,e,r,n,i,a){var o=p(r),s=U(t);if(o+e>s.byteLength)throw j("Wrong index");for(var c=U(s.buffer).bytes,u=o+s.byteOffset,l=n(+i),h=0;h<e;h++)c[u+h]=l[a?h:e-h-1]};if(o){var X=T&&"ArrayBuffer"!==S.name;if(l((function(){S(1)}))&&l((function(){new S(-1)}))&&!l((function(){return new S,new S(1.5),new S(NaN),X&&!k})))X&&k&&c(S,"name","ArrayBuffer");else{(L=function(t){return h(this,x),new S(p(t))}).prototype=x;for(var J,Q=m(S),K=0;Q.length>K;)(J=Q[K++])in L||c(L,J,S[J]);x.constructor=L}y&&g(O)!==I&&y(O,I);var Z=new C(new L(2)),tt=i(O.setInt8);Z.setInt8(0,2147483648),Z.setInt8(1,2147483649),!Z.getInt8(0)&&Z.getInt8(1)||u(O,{setInt8:function(t,e){tt(this,t,e<<24>>24)},setUint8:function(t,e){tt(this,t,e<<24>>24)}},{unsafe:!0})}else x=(L=function(t){h(this,x);var e=p(t);E(this,{bytes:$(B(e),0),byteLength:e}),a||(this.byteLength=e)}).prototype,O=(C=function(t,e,r){h(this,O),h(t,x);var n=U(t).byteLength,i=f(e);if(i<0||i>n)throw j("Wrong offset");if(i+(r=void 0===r?n-i:d(r))>n)throw j("Wrong length");E(this,{buffer:t,byteLength:r,byteOffset:i}),a||(this.buffer=t,this.byteLength=r,this.byteOffset=i)}).prototype,a&&(z(L,"byteLength"),z(C,"buffer"),z(C,"byteLength"),z(C,"byteOffset")),u(O,{getInt8:function(t){return Y(this,1,t)[0]<<24>>24},getUint8:function(t){return Y(this,1,t)[0]},getInt16:function(t){var e=Y(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=Y(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return q(Y(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return q(Y(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return F(Y(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return F(Y(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){V(this,1,t,G,e)},setUint8:function(t,e){V(this,1,t,G,e)},setInt16:function(t,e){V(this,2,t,_,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){V(this,2,t,_,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){V(this,4,t,D,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){V(this,4,t,D,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){V(this,4,t,W,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){V(this,8,t,H,e,arguments.length>2?arguments[2]:void 0)}});A(L,"ArrayBuffer"),A(C,"DataView"),t.exports={ArrayBuffer:L,DataView:C}},391:function(t,e,r){"use strict";var n=r(19),i=r(23),a=r(34),o=r(42),s=r(483),c=r(343),u=r(390),l=r(150),h=r(88),f=r(44),d=r(484),p=r(125),v=r(410),g=r(412),y=r(130),m=r(41),b=r(126),w=r(43),R=r(131),A=r(89),P=r(75),T=r(105),k=r(157).f,U=r(486),E=r(251).forEach,S=r(161),L=r(49),x=r(129),C=r(63),O=r(160),I=C.get,B=C.set,j=L.f,$=x.f,M=Math.round,N=i.RangeError,F=u.ArrayBuffer,G=F.prototype,_=u.DataView,D=c.NATIVE_ARRAY_BUFFER_VIEWS,q=c.TYPED_ARRAY_CONSTRUCTOR,W=c.TYPED_ARRAY_TAG,H=c.TypedArray,z=c.TypedArrayPrototype,Y=c.aTypedArrayConstructor,V=c.isTypedArray,X=function(t,e){Y(t);for(var r=0,n=e.length,i=new t(n);n>r;)i[r]=e[r++];return i},J=function(t,e){j(t,e,{get:function(){return I(this)[e]}})},Q=function(t){var e;return P(G,t)||"ArrayBuffer"==(e=b(t))||"SharedArrayBuffer"==e},K=function(t,e){return V(t)&&!R(e)&&e in t&&d(+e)&&e>=0},Z=function(t,e){return e=y(e),K(t,e)?h(2,t[e]):$(t,e)},tt=function(t,e,r){return e=y(e),!(K(t,e)&&w(r)&&m(r,"value"))||m(r,"get")||m(r,"set")||r.configurable||m(r,"writable")&&!r.writable||m(r,"enumerable")&&!r.enumerable?j(t,e,r):(t[e]=r.value,t)};o?(D||(x.f=Z,L.f=tt,J(z,"buffer"),J(z,"byteOffset"),J(z,"byteLength"),J(z,"length")),n({target:"Object",stat:!0,forced:!D},{getOwnPropertyDescriptor:Z,defineProperty:tt}),t.exports=function(t,e,r){var o=t.match(/\d+$/)[0]/8,c=t+(r?"Clamped":"")+"Array",u="get"+t,h="set"+t,d=i[c],y=d,m=y&&y.prototype,b={},R=function(t,e){j(t,e,{get:function(){return function(t,e){var r=I(t);return r.view[u](e*o+r.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,n){var i=I(t);r&&(n=(n=M(n))<0?0:n>255?255:255&n),i.view[h](e*o+i.byteOffset,n,!0)}(this,e,t)},enumerable:!0})};D?s&&(y=e((function(t,e,r,n){return l(t,m),O(w(e)?Q(e)?void 0!==n?new d(e,g(r,o),n):void 0!==r?new d(e,g(r,o)):new d(e):V(e)?X(y,e):a(U,y,e):new d(v(e)),t,y)})),T&&T(y,H),E(k(d),(function(t){t in y||f(y,t,d[t])})),y.prototype=m):(y=e((function(t,e,r,n){l(t,m);var i,s,c,u=0,h=0;if(w(e)){if(!Q(e))return V(e)?X(y,e):a(U,y,e);i=e,h=g(r,o);var f=e.byteLength;if(void 0===n){if(f%o)throw N("Wrong length");if((s=f-h)<0)throw N("Wrong length")}else if((s=p(n)*o)+h>f)throw N("Wrong length");c=s/o}else c=v(e),i=new F(s=c*o);for(B(t,{buffer:i,byteOffset:h,byteLength:s,length:c,view:new _(i)});u<c;)R(t,u++)})),T&&T(y,H),m=y.prototype=A(z)),m.constructor!==y&&f(m,"constructor",y),f(m,q,y),W&&f(m,W,c);var P=y!=d;b[c]=y,n({global:!0,constructor:!0,forced:P,sham:!D},b),"BYTES_PER_ELEMENT"in y||f(y,"BYTES_PER_ELEMENT",o),"BYTES_PER_ELEMENT"in m||f(m,"BYTES_PER_ELEMENT",o),S(c)}):t.exports=function(){}},398:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));r(25);function n(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class i{constructor(t,e){n(this,"$activity",void 0),n(this,"$selector",void 0),n(this,"interactionFunctions",void 0),this.interactionFunctions=e,this.$activity=t}getUserAnswers(){return this.interactionFunctions.getUserAnswers(this.$selector)}showAnswers(t){this.interactionFunctions.showAnswers(this.$selector,t)}setInteractionMode(t,e){this.interactionFunctions.setInteractionMode(this.$selector,t,e)}getTeacherFeedback(){return this.interactionFunctions.getTeacherFeedback(this.$selector)}isComplete(){return!this.interactionFunctions.isComplete||this.interactionFunctions.isComplete(this.$selector)}reset(){this.interactionFunctions.reset&&this.interactionFunctions.reset(this.$selector)}}},409:function(t,e){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},410:function(t,e,r){var n=r(85),i=r(125),a=RangeError;t.exports=function(t){if(void 0===t)return 0;var e=n(t),r=i(e);if(e!==r)throw a("Wrong length or index");return r}},411:function(t,e,r){"use strict";var n=r(68),i=r(158),a=r(62);t.exports=function(t){for(var e=n(this),r=a(e),o=arguments.length,s=i(o>1?arguments[1]:void 0,r),c=o>2?arguments[2]:void 0,u=void 0===c?r:i(c,r);u>s;)e[s++]=t;return e}},412:function(t,e,r){var n=r(485),i=RangeError;t.exports=function(t,e){var r=n(t);if(r%e)throw i("Wrong offset");return r}},413:function(t,e,r){var n=r(87),i=r(128),a=r(68),o=r(62),s=function(t){var e=1==t;return function(r,s,c){for(var u,l=a(r),h=i(l),f=n(s,c),d=o(h);d-- >0;)if(f(u=h[d],d,l))switch(t){case 0:return u;case 1:return d}return e?-1:void 0}};t.exports={findLast:s(0),findLastIndex:s(1)}},414:function(t,e,r){var n=r(21),i=r(28),a=r(46),o=i("iterator");t.exports=!n((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,r="";return t.pathname="c%20d",e.forEach((function(t,n){e.delete("b"),r+=n+t})),a&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},415:function(t,e,r){"use strict";r(32);var n=r(19),i=r(23),a=r(34),o=r(20),s=r(42),c=r(414),u=r(54),l=r(239),h=r(127),f=r(169),d=r(63),p=r(150),v=r(24),g=r(41),y=r(87),m=r(126),b=r(26),w=r(43),R=r(61),A=r(89),P=r(88),T=r(236),k=r(155),U=r(245),E=r(28),S=r(243),L=E("iterator"),x=d.set,C=d.getterFor("URLSearchParams"),O=d.getterFor("URLSearchParamsIterator"),I=Object.getOwnPropertyDescriptor,B=function(t){if(!s)return i[t];var e=I(i,t);return e&&e.value},j=B("fetch"),$=B("Request"),M=B("Headers"),N=$&&$.prototype,F=M&&M.prototype,G=i.RegExp,_=i.TypeError,D=i.decodeURIComponent,q=i.encodeURIComponent,W=o("".charAt),H=o([].join),z=o([].push),Y=o("".replace),V=o([].shift),X=o([].splice),J=o("".split),Q=o("".slice),K=/\+/g,Z=Array(4),tt=function(t){return Z[t-1]||(Z[t-1]=G("((?:%[\\da-f]{2}){"+t+"})","gi"))},et=function(t){try{return D(t)}catch(e){return t}},rt=function(t){var e=Y(t,K," "),r=4;try{return D(e)}catch(t){for(;r;)e=Y(e,tt(r--),et);return e}},nt=/[!'()~]|%20/g,it={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},at=function(t){return it[t]},ot=function(t){return Y(q(t),nt,at)},st=f((function(t,e){x(this,{type:"URLSearchParamsIterator",iterator:T(C(t).entries),kind:e})}),"Iterator",(function(){var t=O(this),e=t.kind,r=t.iterator.next(),n=r.value;return r.done||(r.value="keys"===e?n.key:"values"===e?n.value:[n.key,n.value]),r}),!0),ct=function(t){this.entries=[],this.url=null,void 0!==t&&(w(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===W(t,0)?Q(t,1):t:R(t)))};ct.prototype={type:"URLSearchParams",bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,r,n,i,o,s,c,u=k(t);if(u)for(r=(e=T(t,u)).next;!(n=a(r,e)).done;){if(o=(i=T(b(n.value))).next,(s=a(o,i)).done||(c=a(o,i)).done||!a(o,i).done)throw _("Expected sequence with length 2");z(this.entries,{key:R(s.value),value:R(c.value)})}else for(var l in t)g(t,l)&&z(this.entries,{key:l,value:R(t[l])})},parseQuery:function(t){if(t)for(var e,r,n=J(t,"&"),i=0;i<n.length;)(e=n[i++]).length&&(r=J(e,"="),z(this.entries,{key:rt(V(r)),value:rt(H(r,"="))}))},serialize:function(){for(var t,e=this.entries,r=[],n=0;n<e.length;)t=e[n++],z(r,ot(t.key)+"="+ot(t.value));return H(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ut=function(){p(this,lt);var t=arguments.length>0?arguments[0]:void 0;x(this,new ct(t))},lt=ut.prototype;if(l(lt,{append:function(t,e){U(arguments.length,2);var r=C(this);z(r.entries,{key:R(t),value:R(e)}),r.updateURL()},delete:function(t){U(arguments.length,1);for(var e=C(this),r=e.entries,n=R(t),i=0;i<r.length;)r[i].key===n?X(r,i,1):i++;e.updateURL()},get:function(t){U(arguments.length,1);for(var e=C(this).entries,r=R(t),n=0;n<e.length;n++)if(e[n].key===r)return e[n].value;return null},getAll:function(t){U(arguments.length,1);for(var e=C(this).entries,r=R(t),n=[],i=0;i<e.length;i++)e[i].key===r&&z(n,e[i].value);return n},has:function(t){U(arguments.length,1);for(var e=C(this).entries,r=R(t),n=0;n<e.length;)if(e[n++].key===r)return!0;return!1},set:function(t,e){U(arguments.length,1);for(var r,n=C(this),i=n.entries,a=!1,o=R(t),s=R(e),c=0;c<i.length;c++)(r=i[c]).key===o&&(a?X(i,c--,1):(a=!0,r.value=s));a||z(i,{key:o,value:s}),n.updateURL()},sort:function(){var t=C(this);S(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,r=C(this).entries,n=y(t,arguments.length>1?arguments[1]:void 0),i=0;i<r.length;)n((e=r[i++]).value,e.key,this)},keys:function(){return new st(this,"keys")},values:function(){return new st(this,"values")},entries:function(){return new st(this,"entries")}},{enumerable:!0}),u(lt,L,lt.entries,{name:"entries"}),u(lt,"toString",(function(){return C(this).serialize()}),{enumerable:!0}),h(ut,"URLSearchParams"),n({global:!0,constructor:!0,forced:!c},{URLSearchParams:ut}),!c&&v(M)){var ht=o(F.has),ft=o(F.set),dt=function(t){if(w(t)){var e,r=t.body;if("URLSearchParams"===m(r))return e=t.headers?new M(t.headers):new M,ht(e,"content-type")||ft(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),A(t,{body:P(0,R(r)),headers:P(0,e)})}return t};if(v(j)&&n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return j(t,arguments.length>1?dt(arguments[1]):{})}}),v($)){var pt=function(t){return p(this,N),new $(t,arguments.length>1?dt(arguments[1]):{})};N.constructor=pt,pt.prototype=N,n({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:pt})}}t.exports={URLSearchParams:ut,getState:C}},479:function(t,e,r){"use strict";var n=r(19),i=r(23),a=r(390),o=r(161),s=a.ArrayBuffer;n({global:!0,constructor:!0,forced:i.ArrayBuffer!==s},{ArrayBuffer:s}),o("ArrayBuffer")},480:function(t,e){var r=Array,n=Math.abs,i=Math.pow,a=Math.floor,o=Math.log,s=Math.LN2;t.exports={pack:function(t,e,c){var u,l,h,f=r(c),d=8*c-e-1,p=(1<<d)-1,v=p>>1,g=23===e?i(2,-24)-i(2,-77):0,y=t<0||0===t&&1/t<0?1:0,m=0;for((t=n(t))!=t||t===1/0?(l=t!=t?1:0,u=p):(u=a(o(t)/s),t*(h=i(2,-u))<1&&(u--,h*=2),(t+=u+v>=1?g/h:g*i(2,1-v))*h>=2&&(u++,h/=2),u+v>=p?(l=0,u=p):u+v>=1?(l=(t*h-1)*i(2,e),u+=v):(l=t*i(2,v-1)*i(2,e),u=0));e>=8;)f[m++]=255&l,l/=256,e-=8;for(u=u<<e|l,d+=e;d>0;)f[m++]=255&u,u/=256,d-=8;return f[--m]|=128*y,f},unpack:function(t,e){var r,n=t.length,a=8*n-e-1,o=(1<<a)-1,s=o>>1,c=a-7,u=n-1,l=t[u--],h=127&l;for(l>>=7;c>0;)h=256*h+t[u--],c-=8;for(r=h&(1<<-c)-1,h>>=-c,c+=e;c>0;)r=256*r+t[u--],c-=8;if(0===h)h=1-s;else{if(h===o)return r?NaN:l?-1/0:1/0;r+=i(2,e),h-=s}return(l?-1:1)*r*i(2,h-e)}}},481:function(t,e,r){"use strict";var n=r(19),i=r(20),a=r(21),o=r(390),s=r(26),c=r(158),u=r(125),l=r(164),h=o.ArrayBuffer,f=o.DataView,d=f.prototype,p=i(h.prototype.slice),v=i(d.getUint8),g=i(d.setUint8);n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:a((function(){return!new h(2).slice(1,void 0).byteLength}))},{slice:function(t,e){if(p&&void 0===e)return p(s(this),t);for(var r=s(this).byteLength,n=c(t,r),i=c(void 0===e?r:e,r),a=new(l(this,h))(u(i-n)),o=new f(this),d=new f(a),y=0;n<i;)g(d,y++,v(o,n++));return a}})},482:function(t,e,r){r(391)("Float32",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},483:function(t,e,r){var n=r(23),i=r(21),a=r(258),o=r(343).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,c=n.Int8Array;t.exports=!o||!i((function(){c(1)}))||!i((function(){new c(-1)}))||!a((function(t){new c,new c(null),new c(1.5),new c(t)}),!0)||i((function(){return 1!==new c(new s(2),1,void 0).length}))},484:function(t,e,r){var n=r(43),i=Math.floor;t.exports=Number.isInteger||function(t){return!n(t)&&isFinite(t)&&i(t)===t}},485:function(t,e,r){var n=r(85),i=RangeError;t.exports=function(t){var e=n(t);if(e<0)throw i("The argument can't be less than 0");return e}},486:function(t,e,r){var n=r(87),i=r(34),a=r(253),o=r(68),s=r(62),c=r(236),u=r(155),l=r(238),h=r(343).aTypedArrayConstructor;t.exports=function(t){var e,r,f,d,p,v,g=a(this),y=o(t),m=arguments.length,b=m>1?arguments[1]:void 0,w=void 0!==b,R=u(y);if(R&&!l(R))for(v=(p=c(y,R)).next,y=[];!(d=i(v,p)).done;)y.push(d.value);for(w&&m>2&&(b=n(b,arguments[2])),r=s(y),f=new(h(g))(r),e=0;r>e;e++)f[e]=w?b(y[e],e):y[e];return f}},487:function(t,e,r){r(391)("Uint8",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},488:function(t,e,r){r(391)("Uint32",(function(t){return function(e,r,n){return t(this,e,r,n)}}))},489:function(t,e,r){"use strict";var n=r(343),i=r(62),a=r(85),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("at",(function(t){var e=o(this),r=i(e),n=a(t),s=n>=0?n:r+n;return s<0||s>=r?void 0:e[s]}))},490:function(t,e,r){"use strict";var n=r(343),i=r(411),a=r(491),o=r(126),s=r(34),c=r(20),u=r(21),l=n.aTypedArray,h=n.exportTypedArrayMethod,f=c("".slice);h("fill",(function(t){var e=arguments.length;l(this);var r="Big"===f(o(this),0,3)?a(t):+t;return s(i,this,r,e>1?arguments[1]:void 0,e>2?arguments[2]:void 0)}),u((function(){var t=0;return new Int8Array(2).fill({valueOf:function(){return t++}}),1!==t})))},491:function(t,e,r){var n=r(248),i=TypeError;t.exports=function(t){var e=n(t,"number");if("number"==typeof e)throw i("Can't convert number to bigint");return BigInt(e)}},492:function(t,e,r){"use strict";var n=r(23),i=r(34),a=r(343),o=r(62),s=r(412),c=r(68),u=r(21),l=n.RangeError,h=n.Int8Array,f=h&&h.prototype,d=f&&f.set,p=a.aTypedArray,v=a.exportTypedArrayMethod,g=!u((function(){var t=new Uint8ClampedArray(2);return i(d,t,{length:1,0:3},1),3!==t[1]})),y=g&&a.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var t=new h(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));v("set",(function(t){p(this);var e=s(arguments.length>1?arguments[1]:void 0,1),r=c(t);if(g)return i(d,this,r,e);var n=this.length,a=o(r),u=0;if(a+e>n)throw l("Wrong length");for(;u<a;)this[e+u]=r[u++]}),!g||y)},493:function(t,e,r){"use strict";var n=r(23),i=r(20),a=r(21),o=r(35),s=r(243),c=r(343),u=r(255),l=r(256),h=r(107),f=r(257),d=c.aTypedArray,p=c.exportTypedArrayMethod,v=n.Uint16Array,g=v&&i(v.prototype.sort),y=!(!g||a((function(){g(new v(2),null)}))&&a((function(){g(new v(2),{})}))),m=!!g&&!a((function(){if(h)return h<74;if(u)return u<67;if(l)return!0;if(f)return f<602;var t,e,r=new v(516),n=Array(516);for(t=0;t<516;t++)e=t%4,r[t]=515-t,n[t]=t-2*e+3;for(g(r,(function(t,e){return(t/4|0)-(e/4|0)})),t=0;t<516;t++)if(r[t]!==n[t])return!0}));p("sort",(function(t){return void 0!==t&&o(t),m?g(this,t):s(d(this),function(t){return function(e,r){return void 0!==t?+t(e,r)||0:r!=r?-1:e!=e?1:0===e&&0===r?1/e>0&&1/r<0?1:-1:e>r}}(t))}),!m||y)},494:function(t,e,r){"use strict";var n=r(343),i=r(413).findLast,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLast",(function(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0)}))},495:function(t,e,r){"use strict";var n=r(343),i=r(413).findLastIndex,a=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLastIndex",(function(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0)}))},496:function(t,e,r){"use strict";var n=r(497),i=r(343),a=i.aTypedArray,o=i.exportTypedArrayMethod,s=i.TYPED_ARRAY_CONSTRUCTOR;o("toReversed",(function(){return n(a(this),this[s])}))},497:function(t,e,r){var n=r(62);t.exports=function(t,e){for(var r=n(t),i=new e(r),a=0;a<r;a++)i[a]=t[r-a-1];return i}},498:function(t,e,r){"use strict";var n=r(343),i=r(20),a=r(35),o=r(499),s=n.aTypedArray,c=n.exportTypedArrayMethod,u=n.TYPED_ARRAY_CONSTRUCTOR,l=i(n.TypedArrayPrototype.sort);c("toSorted",(function(t){void 0!==t&&a(t);var e=s(this),r=o(e[u],e);return l(r,t)}))},499:function(t,e,r){var n=r(62);t.exports=function(t,e){for(var r=0,i=n(e),a=new t(i);i>r;)a[r]=e[r++];return a}},500:function(t,e,r){"use strict";var n=r(501),i=r(343),a=i.aTypedArray,o=i.exportTypedArrayMethod,s=i.TYPED_ARRAY_CONSTRUCTOR;o("with",{with:function(t,e){return n(a(this),this[s],t,e)}}.with)},501:function(t,e,r){var n=r(62),i=r(85),a=RangeError;t.exports=function(t,e,r,o){var s=n(t),c=i(r),u=c<0?s+c:c;if(u>=s||u<0)throw a("Incorrect index");for(var l=new e(s),h=0;h<s;h++)l[h]=h===u?o:t[h];return l}},502:function(t,e,r){r(503)},503:function(t,e,r){"use strict";r(504);var n,i=r(19),a=r(42),o=r(414),s=r(23),c=r(87),u=r(20),l=r(54),h=r(241),f=r(150),d=r(41),p=r(505),v=r(506),g=r(244),y=r(242).codeAt,m=r(507),b=r(61),w=r(127),R=r(245),A=r(415),P=r(63),T=P.set,k=P.getterFor("URL"),U=A.URLSearchParams,E=A.getState,S=s.URL,L=s.TypeError,x=s.parseInt,C=Math.floor,O=Math.pow,I=u("".charAt),B=u(/./.exec),j=u([].join),$=u(1..toString),M=u([].pop),N=u([].push),F=u("".replace),G=u([].shift),_=u("".split),D=u("".slice),q=u("".toLowerCase),W=u([].unshift),H=/[a-z]/i,z=/[\d+-.a-z]/i,Y=/\d/,V=/^0x/i,X=/^[0-7]+$/,J=/^\d+$/,Q=/^[\da-f]+$/i,K=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Z=/[\0\t\n\r #/:<>?@[\\\]^|]/,tt=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,et=/[\t\n\r]/g,rt=function(t){var e,r,n,i;if("number"==typeof t){for(e=[],r=0;r<4;r++)W(e,t%256),t=C(t/256);return j(e,".")}if("object"==typeof t){for(e="",n=function(t){for(var e=null,r=1,n=null,i=0,a=0;a<8;a++)0!==t[a]?(i>r&&(e=n,r=i),n=null,i=0):(null===n&&(n=a),++i);return i>r&&(e=n,r=i),e}(t),r=0;r<8;r++)i&&0===t[r]||(i&&(i=!1),n===r?(e+=r?":":"::",i=!0):(e+=$(t[r],16),r<7&&(e+=":")));return"["+e+"]"}return t},nt={},it=p({},nt,{" ":1,'"':1,"<":1,">":1,"`":1}),at=p({},it,{"#":1,"?":1,"{":1,"}":1}),ot=p({},at,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),st=function(t,e){var r=y(t,0);return r>32&&r<127&&!d(e,t)?t:encodeURIComponent(t)},ct={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ut=function(t,e){var r;return 2==t.length&&B(H,I(t,0))&&(":"==(r=I(t,1))||!e&&"|"==r)},lt=function(t){var e;return t.length>1&&ut(D(t,0,2))&&(2==t.length||"/"===(e=I(t,2))||"\\"===e||"?"===e||"#"===e)},ht=function(t){return"."===t||"%2e"===q(t)},ft={},dt={},pt={},vt={},gt={},yt={},mt={},bt={},wt={},Rt={},At={},Pt={},Tt={},kt={},Ut={},Et={},St={},Lt={},xt={},Ct={},Ot={},It=function(t,e,r){var n,i,a,o=b(t);if(e){if(i=this.parse(o))throw L(i);this.searchParams=null}else{if(void 0!==r&&(n=new It(r,!0)),i=this.parse(o,null,n))throw L(i);(a=E(new U)).bindURL(this),this.searchParams=a}};It.prototype={type:"URL",parse:function(t,e,r){var i,a,o,s,c,u=this,l=e||ft,h=0,f="",p=!1,y=!1,m=!1;for(t=b(t),e||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,t=F(t,tt,"")),t=F(t,et,""),i=v(t);h<=i.length;){switch(a=i[h],l){case ft:if(!a||!B(H,a)){if(e)return"Invalid scheme";l=pt;continue}f+=q(a),l=dt;break;case dt:if(a&&(B(z,a)||"+"==a||"-"==a||"."==a))f+=q(a);else{if(":"!=a){if(e)return"Invalid scheme";f="",l=pt,h=0;continue}if(e&&(u.isSpecial()!=d(ct,f)||"file"==f&&(u.includesCredentials()||null!==u.port)||"file"==u.scheme&&!u.host))return;if(u.scheme=f,e)return void(u.isSpecial()&&ct[u.scheme]==u.port&&(u.port=null));f="","file"==u.scheme?l=kt:u.isSpecial()&&r&&r.scheme==u.scheme?l=vt:u.isSpecial()?l=bt:"/"==i[h+1]?(l=gt,h++):(u.cannotBeABaseURL=!0,N(u.path,""),l=xt)}break;case pt:if(!r||r.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==a){u.scheme=r.scheme,u.path=g(r.path),u.query=r.query,u.fragment="",u.cannotBeABaseURL=!0,l=Ot;break}l="file"==r.scheme?kt:yt;continue;case vt:if("/"!=a||"/"!=i[h+1]){l=yt;continue}l=wt,h++;break;case gt:if("/"==a){l=Rt;break}l=Lt;continue;case yt:if(u.scheme=r.scheme,a==n)u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=g(r.path),u.query=r.query;else if("/"==a||"\\"==a&&u.isSpecial())l=mt;else if("?"==a)u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=g(r.path),u.query="",l=Ct;else{if("#"!=a){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=g(r.path),u.path.length--,l=Lt;continue}u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=g(r.path),u.query=r.query,u.fragment="",l=Ot}break;case mt:if(!u.isSpecial()||"/"!=a&&"\\"!=a){if("/"!=a){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,l=Lt;continue}l=Rt}else l=wt;break;case bt:if(l=wt,"/"!=a||"/"!=I(f,h+1))continue;h++;break;case wt:if("/"!=a&&"\\"!=a){l=Rt;continue}break;case Rt:if("@"==a){p&&(f="%40"+f),p=!0,o=v(f);for(var w=0;w<o.length;w++){var R=o[w];if(":"!=R||m){var A=st(R,ot);m?u.password+=A:u.username+=A}else m=!0}f=""}else if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&u.isSpecial()){if(p&&""==f)return"Invalid authority";h-=v(f).length+1,f="",l=At}else f+=a;break;case At:case Pt:if(e&&"file"==u.scheme){l=Et;continue}if(":"!=a||y){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&u.isSpecial()){if(u.isSpecial()&&""==f)return"Invalid host";if(e&&""==f&&(u.includesCredentials()||null!==u.port))return;if(s=u.parseHost(f))return s;if(f="",l=St,e)return;continue}"["==a?y=!0:"]"==a&&(y=!1),f+=a}else{if(""==f)return"Invalid host";if(s=u.parseHost(f))return s;if(f="",l=Tt,e==Pt)return}break;case Tt:if(!B(Y,a)){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&u.isSpecial()||e){if(""!=f){var P=x(f,10);if(P>65535)return"Invalid port";u.port=u.isSpecial()&&P===ct[u.scheme]?null:P,f=""}if(e)return;l=St;continue}return"Invalid port"}f+=a;break;case kt:if(u.scheme="file","/"==a||"\\"==a)l=Ut;else{if(!r||"file"!=r.scheme){l=Lt;continue}if(a==n)u.host=r.host,u.path=g(r.path),u.query=r.query;else if("?"==a)u.host=r.host,u.path=g(r.path),u.query="",l=Ct;else{if("#"!=a){lt(j(g(i,h),""))||(u.host=r.host,u.path=g(r.path),u.shortenPath()),l=Lt;continue}u.host=r.host,u.path=g(r.path),u.query=r.query,u.fragment="",l=Ot}}break;case Ut:if("/"==a||"\\"==a){l=Et;break}r&&"file"==r.scheme&&!lt(j(g(i,h),""))&&(ut(r.path[0],!0)?N(u.path,r.path[0]):u.host=r.host),l=Lt;continue;case Et:if(a==n||"/"==a||"\\"==a||"?"==a||"#"==a){if(!e&&ut(f))l=Lt;else if(""==f){if(u.host="",e)return;l=St}else{if(s=u.parseHost(f))return s;if("localhost"==u.host&&(u.host=""),e)return;f="",l=St}continue}f+=a;break;case St:if(u.isSpecial()){if(l=Lt,"/"!=a&&"\\"!=a)continue}else if(e||"?"!=a)if(e||"#"!=a){if(a!=n&&(l=Lt,"/"!=a))continue}else u.fragment="",l=Ot;else u.query="",l=Ct;break;case Lt:if(a==n||"/"==a||"\\"==a&&u.isSpecial()||!e&&("?"==a||"#"==a)){if(".."===(c=q(c=f))||"%2e."===c||".%2e"===c||"%2e%2e"===c?(u.shortenPath(),"/"==a||"\\"==a&&u.isSpecial()||N(u.path,"")):ht(f)?"/"==a||"\\"==a&&u.isSpecial()||N(u.path,""):("file"==u.scheme&&!u.path.length&&ut(f)&&(u.host&&(u.host=""),f=I(f,0)+":"),N(u.path,f)),f="","file"==u.scheme&&(a==n||"?"==a||"#"==a))for(;u.path.length>1&&""===u.path[0];)G(u.path);"?"==a?(u.query="",l=Ct):"#"==a&&(u.fragment="",l=Ot)}else f+=st(a,at);break;case xt:"?"==a?(u.query="",l=Ct):"#"==a?(u.fragment="",l=Ot):a!=n&&(u.path[0]+=st(a,nt));break;case Ct:e||"#"!=a?a!=n&&("'"==a&&u.isSpecial()?u.query+="%27":u.query+="#"==a?"%23":st(a,nt)):(u.fragment="",l=Ot);break;case Ot:a!=n&&(u.fragment+=st(a,it))}h++}},parseHost:function(t){var e,r,n;if("["==I(t,0)){if("]"!=I(t,t.length-1))return"Invalid host";if(!(e=function(t){var e,r,n,i,a,o,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,h=0,f=function(){return I(t,h)};if(":"==f()){if(":"!=I(t,1))return;h+=2,l=++u}for(;f();){if(8==u)return;if(":"!=f()){for(e=r=0;r<4&&B(Q,f());)e=16*e+x(f(),16),h++,r++;if("."==f()){if(0==r)return;if(h-=r,u>6)return;for(n=0;f();){if(i=null,n>0){if(!("."==f()&&n<4))return;h++}if(!B(Y,f()))return;for(;B(Y,f());){if(a=x(f(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;h++}c[u]=256*c[u]+i,2!=++n&&4!=n||u++}if(4!=n)return;break}if(":"==f()){if(h++,!f())return}else if(f())return;c[u++]=e}else{if(null!==l)return;h++,l=++u}}if(null!==l)for(o=u-l,u=7;0!=u&&o>0;)s=c[u],c[u--]=c[l+o-1],c[l+--o]=s;else if(8!=u)return;return c}(D(t,1,-1))))return"Invalid host";this.host=e}else if(this.isSpecial()){if(t=m(t),B(K,t))return"Invalid host";if(null===(e=function(t){var e,r,n,i,a,o,s,c=_(t,".");if(c.length&&""==c[c.length-1]&&c.length--,(e=c.length)>4)return t;for(r=[],n=0;n<e;n++){if(""==(i=c[n]))return t;if(a=10,i.length>1&&"0"==I(i,0)&&(a=B(V,i)?16:8,i=D(i,8==a?1:2)),""===i)o=0;else{if(!B(10==a?J:8==a?X:Q,i))return t;o=x(i,a)}N(r,o)}for(n=0;n<e;n++)if(o=r[n],n==e-1){if(o>=O(256,5-e))return null}else if(o>255)return null;for(s=M(r),n=0;n<r.length;n++)s+=r[n]*O(256,3-n);return s}(t)))return"Invalid host";this.host=e}else{if(B(Z,t))return"Invalid host";for(e="",r=v(t),n=0;n<r.length;n++)e+=st(r[n],nt);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return d(ct,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"==this.scheme&&1==e&&ut(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,r=t.username,n=t.password,i=t.host,a=t.port,o=t.path,s=t.query,c=t.fragment,u=e+":";return null!==i?(u+="//",t.includesCredentials()&&(u+=r+(n?":"+n:"")+"@"),u+=rt(i),null!==a&&(u+=":"+a)):"file"==e&&(u+="//"),u+=t.cannotBeABaseURL?o[0]:o.length?"/"+j(o,"/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},setHref:function(t){var e=this.parse(t);if(e)throw L(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"==t)try{return new Bt(t.path[0]).origin}catch(t){return"null"}return"file"!=t&&this.isSpecial()?t+"://"+rt(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(b(t)+":",ft)},getUsername:function(){return this.username},setUsername:function(t){var e=v(b(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<e.length;r++)this.username+=st(e[r],ot)}},getPassword:function(){return this.password},setPassword:function(t){var e=v(b(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<e.length;r++)this.password+=st(e[r],ot)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?rt(t):rt(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,At)},getHostname:function(){var t=this.host;return null===t?"":rt(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,Pt)},getPort:function(){var t=this.port;return null===t?"":b(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""==(t=b(t))?this.port=null:this.parse(t,Tt))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+j(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,St))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){""==(t=b(t))?this.query=null:("?"==I(t,0)&&(t=D(t,1)),this.query="",this.parse(t,Ct)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){""!=(t=b(t))?("#"==I(t,0)&&(t=D(t,1)),this.fragment="",this.parse(t,Ot)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Bt=function(t){var e=f(this,jt),r=R(arguments.length,1)>1?arguments[1]:void 0,n=T(e,new It(t,!1,r));a||(e.href=n.serialize(),e.origin=n.getOrigin(),e.protocol=n.getProtocol(),e.username=n.getUsername(),e.password=n.getPassword(),e.host=n.getHost(),e.hostname=n.getHostname(),e.port=n.getPort(),e.pathname=n.getPathname(),e.search=n.getSearch(),e.searchParams=n.getSearchParams(),e.hash=n.getHash())},jt=Bt.prototype,$t=function(t,e){return{get:function(){return k(this)[t]()},set:e&&function(t){return k(this)[e](t)},configurable:!0,enumerable:!0}};if(a&&(h(jt,"href",$t("serialize","setHref")),h(jt,"origin",$t("getOrigin")),h(jt,"protocol",$t("getProtocol","setProtocol")),h(jt,"username",$t("getUsername","setUsername")),h(jt,"password",$t("getPassword","setPassword")),h(jt,"host",$t("getHost","setHost")),h(jt,"hostname",$t("getHostname","setHostname")),h(jt,"port",$t("getPort","setPort")),h(jt,"pathname",$t("getPathname","setPathname")),h(jt,"search",$t("getSearch","setSearch")),h(jt,"searchParams",$t("getSearchParams")),h(jt,"hash",$t("getHash","setHash"))),l(jt,"toJSON",(function(){return k(this).serialize()}),{enumerable:!0}),l(jt,"toString",(function(){return k(this).serialize()}),{enumerable:!0}),S){var Mt=S.createObjectURL,Nt=S.revokeObjectURL;Mt&&l(Bt,"createObjectURL",c(Mt,S)),Nt&&l(Bt,"revokeObjectURL",c(Nt,S))}w(Bt,"URL"),i({global:!0,constructor:!0,forced:!o,sham:!a},{URL:Bt})},504:function(t,e,r){"use strict";var n=r(242).charAt,i=r(61),a=r(63),o=r(252),s=a.set,c=a.getterFor("String Iterator");o(String,"String",(function(t){s(this,{type:"String Iterator",string:i(t),index:0})}),(function(){var t,e=c(this),r=e.string,i=e.index;return i>=r.length?{value:void 0,done:!0}:(t=n(r,i),e.index+=t.length,{value:t,done:!1})}))},505:function(t,e,r){"use strict";var n=r(42),i=r(20),a=r(34),o=r(21),s=r(250),c=r(249),u=r(247),l=r(68),h=r(128),f=Object.assign,d=Object.defineProperty,p=i([].concat);t.exports=!f||o((function(){if(n&&1!==f({b:1},f(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol();return t[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=f({},t)[r]||"abcdefghijklmnopqrst"!=s(f({},e)).join("")}))?function(t,e){for(var r=l(t),i=arguments.length,o=1,f=c.f,d=u.f;i>o;)for(var v,g=h(arguments[o++]),y=f?p(s(g),f(g)):s(g),m=y.length,b=0;m>b;)v=y[b++],n&&!a(d,g,v)||(r[v]=g[v]);return r}:f},506:function(t,e,r){"use strict";var n=r(87),i=r(34),a=r(68),o=r(167),s=r(238),c=r(168),u=r(62),l=r(254),h=r(236),f=r(155),d=Array;t.exports=function(t){var e=a(t),r=c(this),p=arguments.length,v=p>1?arguments[1]:void 0,g=void 0!==v;g&&(v=n(v,p>2?arguments[2]:void 0));var y,m,b,w,R,A,P=f(e),T=0;if(!P||this===d&&s(P))for(y=u(e),m=r?new this(y):d(y);y>T;T++)A=g?v(e[T],T):e[T],l(m,T,A);else for(R=(w=h(e,P)).next,m=r?new this:[];!(b=i(R,w)).done;T++)A=g?o(w,v,[b.value,T],!0):b.value,l(m,T,A);return m.length=T,m}},507:function(t,e,r){"use strict";var n=r(20),i=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",s=RangeError,c=n(a.exec),u=Math.floor,l=String.fromCharCode,h=n("".charCodeAt),f=n([].join),d=n([].push),p=n("".replace),v=n("".split),g=n("".toLowerCase),y=function(t){return t+22+75*(t<26)},m=function(t,e,r){var n=0;for(t=r?u(t/700):t>>1,t+=u(t/e);t>455;)t=u(t/35),n+=36;return u(n+36*t/(t+38))},b=function(t){var e,r,n=[],i=(t=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=h(t,r++);if(i>=55296&&i<=56319&&r<n){var a=h(t,r++);56320==(64512&a)?d(e,((1023&i)<<10)+(1023&a)+65536):(d(e,i),r--)}else d(e,i)}return e}(t)).length,a=128,c=0,p=72;for(e=0;e<t.length;e++)(r=t[e])<128&&d(n,l(r));var v=n.length,g=v;for(v&&d(n,"-");g<i;){var b=2147483647;for(e=0;e<t.length;e++)(r=t[e])>=a&&r<b&&(b=r);var w=g+1;if(b-a>u((2147483647-c)/w))throw s(o);for(c+=(b-a)*w,a=b,e=0;e<t.length;e++){if((r=t[e])<a&&++c>2147483647)throw s(o);if(r==a){for(var R=c,A=36;;){var P=A<=p?1:A>=p+26?26:A-p;if(R<P)break;var T=R-P,k=36-P;d(n,l(y(P+T%k))),R=u(T/k),A+=36}d(n,l(y(R))),p=m(c,w,g==v),c=0,g++}}c++,a++}return f(n,"")};t.exports=function(t){var e,r,n=[],o=v(p(g(t),a,"."),".");for(e=0;e<o.length;e++)r=o[e],d(n,c(i,r)?"xn--"+b(r):r);return f(n,".")}},508:function(t,e,r){"use strict";var n=r(19),i=r(34);n({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},509:function(t,e,r){r(415)},600:function(t,e,r){"use strict";r.r(e);r(25),r(32),r(31),r(33);var n=r(5),i=r.n(n),a=(r(6),r(11),r(4));var o=t=>{const e=Object(a.i)(t);t.find("button.audioRecordButton").prop("disabled",!0),e.find('button[data-plyr="record"]').prop("disabled",!0)},s=r(55),c=r(115);var u=t=>{const e=Object(a.i)(t);Object(s.j)(),Object(c.a)(e)};var l=t=>{const e=Object(a.i)(t);t.find("button.audioRecordButton").prop("disabled",!1),e.find('button[data-plyr="record"]').prop("disabled",!1)};var h=t=>{const e=i()("html");e.toggleClass("getusermedia",t),e.toggleClass("no-getusermedia",!t)},f=(r(15),r(16),r(52));var d=async()=>{try{const t=await f.a.mediaDevices.getUserMedia({audio:!0}),e=t&&t.active;return t&&t.getTracks().forEach(t=>t.stop()),e}catch(t){return console.error("Microphone not available : ".concat(t)),!1}},p=r(14);var v=async()=>{try{const t="".concat(Object(p.a)(),"wasm/rcfTest.wasm"),e=await fetch(t);await WebAssembly.instantiateStreaming(e)}catch(t){return console.error(t),!1}return!0};var g=async()=>{if(!await d())return!1;if(!await v()){const t="Cannot load the required WASM file - this will require a server change to serve the file with the correct MIME type";return console.error(t),alert(t),!1}return!0},y=r(103);const m=[],b=t=>{const e=()=>{m.push(e);try{t()}finally{m.pop()}};e()},w=t=>{const e=new Set;return[()=>{const r=m[m.length-1];return r&&e.add(r),t},r=>{t=r;for(const t of e)t()}]};var R=t=>{const{$container:e,$playbackPlayButton:r,$playbackStopButton:n}=t;r.on("click",async n=>{n.stopPropagation(),e.hasClass("playbackRecording")?r.hasClass("inlineAudioRecordingPlayButton")?await t.stop():await t.togglePause():await t.play()}),n.on("click",async e=>{e.stopPropagation(),await t.stop()})};var A=t=>{const{state:e,audioPlayer:r}=t,n=Object(a.i)(i()(r));r.addEventListener("play",()=>{e.setPlaying(!0)}),r.addEventListener("ended",()=>{e.setPlaying(!1),e.setPaused(!1)}),r.addEventListener("canplay",()=>{n.hasClass("disabled")||e.setDisabled(!1)}),r.addEventListener("timeupdate",()=>{e.setCurrentTime(r.currentTime)})};var P=t=>{const{state:e,$container:r,displayType:n,$recordButton:i,$playbackPlayButton:o,$playbackStopButton:s}=t,c=r.hasClass("hasRecording");r.toggleClass("playbackRecording",e.playing()),r.toggleClass("playbackRecordingPaused",e.paused()),[o,s].forEach(t=>{t.prop("disabled",!c)}),s.prop("disabled",!e.playing());const u=r.closest(".activity.disabled").length>0,l=e.playing()||e.disabled()||u;if(i.prop("disabled",l),o.prop("disabled",0===e.audioSrc().length),n===y.a.inline)return;const{audioPlayer:h,$playbackCurrentTime:f,$playbackDuration:d,$progress:p}=t,v=isNaN(h.duration)?y.c/1e3:h.duration;f.text(Object(a.x)(e.currentTime())),d.text("".concat(Object(a.x)(v))),p.attr("value","".concat(e.currentTime()/v*100))};var T=async t=>{const{$container:e,audioPlayer:r,state:n}=t,i=Object(a.i)(e).get(0),o=new CustomEvent(y.b.startPlayback,{detail:{activityId:i.id,audioRecordingPlaybackPlayer:t},bubbles:!0,cancelable:!1,composed:!1});e.get(0).dispatchEvent(o),await r.play(),n.setPlaying(!0)};var k=async t=>{const{audioPlayer:e,state:r}=t;await e.pause(),e.currentTime=0,r.setPlaying(!1),r.setPaused(!1)};var U=async t=>{const{state:e}=t;e.paused()?await t.resume():await t.pause()};var E=async t=>{const{audioPlayer:e,state:r}=t;await e.pause(),r.setPaused(!0)};var S=async t=>{const{audioPlayer:e,state:r}=t;await e.play(),r.setPaused(!1)};const L=(t,e)=>t.find('[data-rcf-media="'.concat(e,'"]'));function x(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var C=class{constructor(t){x(this,"$container",void 0),x(this,"displayType",void 0),x(this,"audioPlayer",void 0),x(this,"$recordButton",void 0),x(this,"$playbackPlayButton",void 0),x(this,"$playbackStopButton",void 0),x(this,"$playbackPauseButton",void 0),x(this,"$playbackCurrentTime",void 0),x(this,"$playbackDuration",void 0),x(this,"$progress",void 0),x(this,"state",void 0),this.$container=t,this.audioPlayer=(t=>L(t,"playbackAudioPlayer"))(t).get(0),this.displayType=t.hasClass("inlineAudioRecordingContainer")?y.a.inline:y.a.full,this.$recordButton=(t=>L(t,"record"))(t),this.$playbackPlayButton=(t=>L(t,"playbackRecording"))(t),this.$playbackStopButton=(t=>L(t,"stopPlaybackRecording"))(t),this.$playbackCurrentTime=(t=>L(t,"recordingCurrentTime"))(t),this.$playbackDuration=(t=>L(t,"recordingTotalTime"))(t),this.$progress=(t=>L(t,"recordingProgressBar"))(t),this.state=(()=>{const[t,e]=w(!1),[r,n]=w(!1),[i,a]=w(0),[o,s]=w(!1),[c,u]=w("");return{audioSrc:c,setAudioSrc:u,playing:t,setPlaying:e,paused:r,setPaused:n,currentTime:i,setCurrentTime:a,disabled:o,setDisabled:s}})(),R(this),A(this),b(()=>P(this))}set disabled(t){this.state.setDisabled(t)}get disabled(){return this.state.disabled()}set src(t){if(void 0===t&&(t=""),t.length>0)return this.audioPlayer.addEventListener("canplay",()=>{this.state.setAudioSrc(t)},{once:!0}),this.audioPlayer.src=t,void this.audioPlayer.load();this.audioPlayer.src=t,this.state.setAudioSrc(t)}get src(){return this.audioPlayer.src}isPlaying(){return this.state.playing()}async play(){await T(this)}async stop(){await k(this)}async togglePause(){await U(this)}async pause(){await E(this)}async resume(){await S(this)}reset(){const{state:t}=this;this.src="",t.setPlaying(!1),t.setPaused(!1),t.setCurrentTime(0)}};var O=t=>{const{$container:e}=t;e.find('button[data-rcf-media="record"]').on("click",async r=>{r.stopPropagation(),e.hasClass("isRecording")?await t.stopRecording():await t.startRecording()})};var I=t=>{const{$container:e}=t;e.on("click",t=>{t.stopPropagation()});const r=e.get(0);r.addEventListener(y.b.startPlayback,e=>{e instanceof CustomEvent&&(e.detail.audioRecorder=t)}),r.addEventListener(y.b.changePlaybackUrl,e=>{e instanceof CustomEvent&&(t.playbackAudioPlayer.src=e.detail.audioUrl)})};r(479),r(481),r(59),r(482),r(487),r(488),r(489),r(490),r(492),r(493),r(494),r(495),r(496),r(498),r(500),r(502),r(508),r(509);function B(){function t(t,e){return new Promise((r,n)=>{const i=new XMLHttpRequest;i.open("GET",t),i.responseType="arraybuffer",i.onload=()=>{r(WebAssembly.instantiate(i.response,e))},i.onerror=n,i.send()})}let e=null,r=5242880;function n(t){const e=r;return r+=t,e}function i(t){postMessage({type:"internal-error",data:t})}let a=null,o=null,s=null;onmessage=r=>{const c=r.data;switch(c.type){case"init":const{wasmURL:r,shimURL:l}=c.data;Promise.resolve().then(()=>(self.WebAssembly&&!function(){const t=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),e=new WebAssembly.Module(t);return 0!==new WebAssembly.Instance(e,{}).exports.test(4)}()&&delete self.WebAssembly,self.WebAssembly||importScripts(l),e=new WebAssembly.Memory({initial:256,maximum:256}),{memory:e,pow:Math.pow,exit:i,powf:Math.pow,exp:Math.exp,sqrtf:Math.sqrt,cos:Math.cos,log:Math.log,sin:Math.sin,sbrk:n})).then(e=>function(e,r){if(!WebAssembly.instantiateStreaming)return t(e,r);const n=fetch(e,{credentials:"same-origin"});return WebAssembly.instantiateStreaming(n,r).catch(n=>{if(n.message&&n.message.indexOf("Argument 0 must be provided and must be a Response")>0)return t(e,r);throw n})}(r,{env:e})).then(t=>{a=t.instance.exports,postMessage({type:"init",data:null})}).catch(t=>{postMessage({type:"init-error",data:t.toString()})});break;case"start":if(!function(t){if(o=a.vmsg_init(t),!o)return!1;const r=new Uint32Array(e.buffer,o,1)[0];return s=new Float32Array(e.buffer,r),!0}(c.data))return postMessage({type:"error",data:"vmsg_init"});break;case"data":if(u=c.data,s.set(u),!(a.vmsg_encode(o,u.length)>=0))return postMessage({type:"error",data:"vmsg_encode"});break;case"stop":const h=function(){if(a.vmsg_flush(o)<0)return null;const t=new Uint32Array(e.buffer,o+4,1)[0],r=new Uint32Array(e.buffer,o+8,1)[0],n=new Uint8Array(e.buffer,t,r),i=new Blob([n],{type:"audio/mpeg"});return a.vmsg_free(o),o=null,s=null,i}();if(!h)return postMessage({type:"error",data:"vmsg_flush"});postMessage({type:"stop",data:h})}var u}}class j{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.wasmURL=new URL(t.wasmURL||"/static/js/vmsg.wasm",location).href,this.shimURL=new URL(t.shimURL||"/static/js/wasm-polyfill.js",location).href,this.onStop=e,this.pitch=t.pitch||0,this.stream=null,this.audioCtx=null,this.gainNode=null,this.pitchFX=null,this.encNode=null,this.worker=null,this.workerURL=null,this.blob=null,this.blobURL=null,this.resolve=null,this.reject=null,Object.seal(this)}close(){this.encNode&&this.encNode.disconnect(),this.encNode&&(this.encNode.onaudioprocess=null),this.stream&&this.stopTracks(),this.audioCtx&&this.audioCtx.close(),this.worker&&(this.worker.terminate(),this.worker=null),this.workerURL&&URL.revokeObjectURL(this.workerURL),this.blobURL&&URL.revokeObjectURL(this.blobURL)}initAudio(){return(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?function(t){return navigator.mediaDevices.getUserMedia(t)}:function(t){const e=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return e?new Promise((function(r,n){e.call(navigator,t,r,n)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))})({audio:!0}).then(t=>{this.stream=t;const e=this.audioCtx=new(window.AudioContext||window.webkitAudioContext),r=e.createMediaStreamSource(t),n=this.gainNode=(e.createGain||e.createGainNode).call(e);n.gain.value=1,r.connect(n);const i=this.pitchFX=new M(e);i.setPitchOffset(this.pitch);const a=this.encNode=(e.createScriptProcessor||e.createJavaScriptNode).call(e,0,1,1);i.output.connect(a),n.connect(0===this.pitch?a:i.input)})}initWorker(){if(this.worker)return Promise.resolve();const t=new Blob(["(",B.toString(),")()"],{type:"application/javascript"}),e=this.workerURL=URL.createObjectURL(t),r=this.worker=new Worker(e),{wasmURL:n,shimURL:i}=this;return r.postMessage({type:"init",data:{wasmURL:n,shimURL:i}}),new Promise((t,e)=>{r.onmessage=r=>{const n=r.data;switch(n.type){case"init":t();break;case"init-error":this.close(),e(new Error(n.data));break;case"error":case"internal-error":this.close(),console.error("Worker error:",n.data),this.reject&&this.reject(n.data);break;case"stop":this.blob=n.data,this.blobURL=URL.createObjectURL(n.data),this.onStop&&this.onStop(),this.resolve&&this.resolve(this.blob)}}})}init(){return this.initAudio().then(this.initWorker.bind(this))}startRecording(){if(!this.stream)throw new Error("missing audio initialization");if(!this.worker)throw new Error("missing worker initialization");this.blob=null,this.blobURL&&URL.revokeObjectURL(this.blobURL),this.blobURL=null,this.resolve=null,this.reject=null,this.worker.postMessage({type:"start",data:this.audioCtx.sampleRate}),this.encNode.onaudioprocess=t=>{const e=t.inputBuffer.getChannelData(0);this.worker.postMessage({type:"data",data:e})},this.encNode.connect(this.audioCtx.destination)}stopRecording(){if(!this.stream)throw new Error("missing audio initialization");if(!this.worker)throw new Error("missing worker initialization");return this.encNode.disconnect(),this.encNode.onaudioprocess=null,this.stopTracks(),this.audioCtx.close(),this.worker.postMessage({type:"stop",data:null}),new Promise((t,e)=>{this.resolve=t,this.reject=e})}stopTracks(){this.stream.getTracks&&this.stream.getTracks().forEach(t=>t.stop())}}function $(t,e,r,n){for(var i=e*t.sampleRate,a=i+(e-2*r)*t.sampleRate,o=t.createBuffer(1,a,t.sampleRate),s=o.getChannelData(0),c=0;c<i;++c)s[c]=n?(i-c)/a:c/i;for(c=i;c<a;++c)s[c]=0;return o}function M(t){this.context=t;var e=(t.createGain||t.createGainNode).call(t),r=(t.createGain||t.createGainNode).call(t);this.input=e,this.output=r;var n=t.createBufferSource(),i=t.createBufferSource(),a=t.createBufferSource(),o=t.createBufferSource();this.shiftDownBuffer=$(t,.1,.05,!1),this.shiftUpBuffer=$(t,.1,.05,!0),n.buffer=this.shiftDownBuffer,i.buffer=this.shiftDownBuffer,a.buffer=this.shiftUpBuffer,o.buffer=this.shiftUpBuffer,n.loop=!0,i.loop=!0,a.loop=!0,o.loop=!0;var s=(t.createGain||t.createGainNode).call(t),c=(t.createGain||t.createGainNode).call(t),u=(t.createGain||t.createGainNode).call(t);u.gain.value=0;var l=(t.createGain||t.createGainNode).call(t);l.gain.value=0,n.connect(s),i.connect(c),a.connect(u),o.connect(l);var h=(t.createGain||t.createGainNode).call(t),f=(t.createGain||t.createGainNode).call(t),d=(t.createDelay||t.createDelayNode).call(t),p=(t.createDelay||t.createDelayNode).call(t);s.connect(h),c.connect(f),u.connect(h),l.connect(f),h.connect(d.delayTime),f.connect(p.delayTime);var v=t.createBufferSource(),g=t.createBufferSource(),y=function(t,e,r){for(var n=e*t.sampleRate,i=n+(e-2*r)*t.sampleRate,a=t.createBuffer(1,i,t.sampleRate),o=a.getChannelData(0),s=r*t.sampleRate,c=s,u=n-s,l=0;l<n;++l){var h;h=l<c?Math.sqrt(l/s):l>=u?Math.sqrt(1-(l-u)/s):1,o[l]=h}for(l=n;l<i;++l)o[l]=0;return a}(t,.1,.05);v.buffer=y,g.buffer=y,v.loop=!0,g.loop=!0;var m=(t.createGain||t.createGainNode).call(t),b=(t.createGain||t.createGainNode).call(t);m.gain.value=0,b.gain.value=0,v.connect(m.gain),g.connect(b.gain),e.connect(d),e.connect(p),d.connect(m),p.connect(b),m.connect(r),b.connect(r);var w=t.currentTime+.05,R=w+.1-.05;n.start(w),i.start(R),a.start(w),o.start(R),v.start(w),g.start(R),this.mod1=n,this.mod2=i,this.mod1Gain=s,this.mod2Gain=c,this.mod3Gain=u,this.mod4Gain=l,this.modGain1=h,this.modGain2=f,this.fade1=v,this.fade2=g,this.mix1=m,this.mix2=b,this.delay1=d,this.delay2=p,this.setDelay(.1)}M.prototype.setDelay=function(t){this.modGain1.gain.setTargetAtTime(.5*t,0,.01),this.modGain2.gain.setTargetAtTime(.5*t,0,.01)},M.prototype.setPitchOffset=function(t){t>0?(this.mod1Gain.gain.value=0,this.mod2Gain.gain.value=0,this.mod3Gain.gain.value=1,this.mod4Gain.gain.value=1):(this.mod1Gain.gain.value=1,this.mod2Gain.gain.value=1,this.mod3Gain.gain.value=0,this.mod4Gain.gain.value=0),this.setDelay(.1*Math.abs(t))};var N=async()=>{let t;return t=new j({wasmURL:Object(p.b)("vmsg/vmsg.wasm")}),await t.init(),t};var F=t=>setTimeout(async()=>{await t()},y.c);var G=t=>{let e=0;return setInterval(()=>{e+=.25,t.setCurrentTime(e)},250)};const _=t=>{const{recordingExpiredTimeout:e,recordingProgressTimer:r}=t;clearTimeout(e),clearInterval(r)};var D=async t=>{const{playbackAudioPlayer:e,$container:r,state:n}=t;e.isPlaying()&&await e.stop();const i=Object(a.i)(r).get(0),o=new CustomEvent(y.b.startRecording,{detail:{activityId:i.id,audioRecorder:t},bubbles:!0,cancelable:!1,composed:!1});if(r.get(0).dispatchEvent(o),e.reset(),n.setHasRecording(!1),!t.vmsgRecorderInstance)try{t.vmsgRecorderInstance=await N()}catch(t){Promise.reject("Cannot start recording ".concat(t))}(t=>{t.recordingExpiredTimeout=F(t.stopRecording.bind(t)),t.recordingProgressTimer=G(t.state)})(t),n.setRecordingStartTime(new Date),await t.vmsgRecorderInstance.startRecording(),n.setRecordingInProgress(!0)};var q=()=>new FileReader;var W=t=>new Promise((e,r)=>{const n=q();n.onloadend=()=>e(n.result),n.onerror=t=>r("Error converting blob to data: ".concat(t.toString())),n.readAsDataURL(t)});var H=async function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{state:r,$container:n,playbackAudioPlayer:i}=t;if(!r.recordingInProgress())return;r.setRecordingInProgress(!1),_(t),await t.vmsgRecorderInstance.stopRecording();const o=Object(a.i)(n),s=o.get(0),c=new CustomEvent(y.b.stopRecording,{detail:{activityId:s.id,audioRecorder:t},bubbles:!0,cancelable:!1,composed:!1}),u=n.get(0);if(u.dispatchEvent(c),e)return r.setHasRecording(!1),r.setCurrentTime(0),t.vmsgRecorderInstance=null,t.vmsgRecorderInstance=await N(),void(i.src="");const l=await W(t.vmsgRecorderInstance.blob);i.src=l,r.setHasRecording(!0),r.setRecordingInProgress(!1),r.setCurrentTime(0),t.vmsgRecorderInstance=null,t.vmsgRecorderInstance=await N()};var z=t=>{const{state:e,$container:r,displayType:n}=t;if(r.toggleClass("isRecording",e.recordingInProgress()),r.toggleClass("hasRecording",e.hasRecording()),n===y.a.inline)return;const{$recordingCurrentTimeElement:i,$recordingTotalTimeElement:o,$progress:s}=t,c=e.recordingStartTime()||new Date;let u;u=e.recordingInProgress()?((new Date).getTime()-c.getTime())/1e3:e.currentTime(),i.text(Object(a.x)(u)),o.text(Object(a.x)(e.duration()));const l=e.recordingInProgress()?u/e.duration()*100:0;s.attr("value","".concat(l))};var Y=async t=>{const{playbackAudioPlayer:e}=t;await e.stop()};function V(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var X=class{constructor(t){V(this,"$container",void 0),V(this,"$recordingCurrentTimeElement",void 0),V(this,"$recordingTotalTimeElement",void 0),V(this,"$progress",void 0),V(this,"mp3DataURL",void 0),V(this,"playbackAudioPlayer",void 0),V(this,"vmsgRecorderInstance",void 0),V(this,"recordingExpiredTimeout",void 0),V(this,"recordingProgressTimer",void 0),V(this,"displayType",void 0),V(this,"state",void 0),this.$container=t,this.playbackAudioPlayer=new C(t),this.displayType=this.$container.hasClass("inlineAudioRecordingContainer")?y.a.inline:y.a.full}async initialise(){this.displayType===y.a.full&&(this.$recordingCurrentTimeElement=this.$container.find(".recordingCurrentTime"),this.$recordingTotalTimeElement=this.$container.find(".recordingTotalTime"),this.$progress=this.$container.find('[data-rcf-media="recordingProgressBar"]')),O(this),I(this),this.state=(()=>{const[t,e]=w(!1),[r,n]=w(!1),[i,a]=w(0),[o,s]=w(y.c/1e3),[c,u]=w(null);return{recordingInProgress:t,setRecordingInProgress:e,hasRecording:r,setHasRecording:n,currentTime:i,setCurrentTime:a,duration:o,setDuration:s,recordingStartTime:c,setRecordingStartTime:u}})(),b(()=>{z(this)})}async startRecording(){await D(this)}async stopRecording(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];await H(this,t)}async stopPlayback(){await Y(this)}disable(){this.playbackAudioPlayer.disabled=!0}enable(){this.playbackAudioPlayer.disabled=!1}reset(){_(this),this.state.setHasRecording(!1),setTimeout(()=>{this.playbackAudioPlayer.reset()},50)}async close(){_(this),this.vmsgRecorderInstance&&this.state.recordingInProgress()&&await this.vmsgRecorderInstance.stopRecording()}};const J=new Map,Q=async(t,e)=>{const r=t.get(0).id,n=J.get(r)||[],i=new X(e);return await i.initialise(),n.push(i),J.set(r,n),i},K=async()=>{for(const t of J.values())for(const e of t.values())e.stopRecording(!0)},Z=async()=>{for(const t of J.values())for(const e of t.values())await e.stopPlayback()},tt=t=>{const e=t.get(0).id;return J.get(e)||[]};function et(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}e.default=class{constructor(t){et(this,"$activity",void 0),et(this,"$selector",void 0),this.$selector=t,this.$activity=Object(a.i)(this.$selector)}async initialise(){const t=this.$selector.get();if(!await g())return h(!1),void o(this.$selector);h(!0),l(this.$selector);for(const e of t)await Q(this.$activity,i()(e));const e=this.$activity.get(0);e.addEventListener(y.b.startRecording,this.recordingStarted.bind(this)),e.addEventListener(y.b.startPlayback,this.playbackStarted.bind(this)),e.addEventListener(y.b.stopAllRecording,this.stopAllRecording.bind(this)),e.addEventListener(y.b.stopAllPlayback,this.stopAllPlayback.bind(this)),this.$activity.addClass("has_wasmRecording")}async recordingStarted(t){if(u(this.$selector),await Z(),!(t instanceof CustomEvent))return;const{detail:{audioRecorder:e}}=t;(async t=>{for(const e of J.values())for(const r of e.values())r!==t&&await r.stopRecording()})(e)}async stopAllRecording(){await K()}async stopAllPlayback(){await Z()}async playbackStarted(t){if(u(this.$selector),!(t instanceof CustomEvent))return;await K();const{detail:{audioRecorder:e}}=t;await(async t=>{for(const e of J.values())for(const r of e.values())r!==t&&await r.stopPlayback()})(e)}disable(){var t;t=this.$activity,tt(t).forEach(t=>{t.disable()})}enable(){var t;t=this.$activity,tt(t).forEach(t=>{t.enable()})}async close(){await(async t=>{const e=tt(t);for(const t of e.values())await t.close()})(this.$activity)}reset(){var t;t=this.$activity,tt(t).forEach(t=>{t.reset()})}}},693:function(t,e,r){"use strict";r.r(e);r(25),r(31),r(6),r(11);var n=r(469),i=r(600),a=r(5),o=r.n(a);var s=r(60);var c=t=>{const e=s.a.language;t.find(".audioRecordingControls").attr("lang",e)};var u=async t=>{const e=t.$activity.find('[data-rcfinteraction="recording"]');t.audioRecorders=new i.default(e.find(".largeAudioRecording")),await t.audioRecorders.initialise(),t.$selector=e,Object(n.a)(e);!function(t){function e(t){const e=o()(t.target),r=e.closest('[role="tablist"]'),n=r.parent();r.children('[aria-selected="true"]').attr("aria-selected","false"),e.attr("aria-selected","true"),n.children('[role="tabpanel"]').attr("hidden","true");const i=e.attr("aria-controls");n.children("#".concat(i)).removeAttr("hidden")}t.find('.teacherLeaveFeedbackContainer [role="tablist"]').each((function(){const t=o()(this),r=t.children('[role="tab"]');r.on("click",e);let n=0;t.on("keydown",t=>{"ArrowRight"!==t.key&&"ArrowLeft"!==t.key||(r.eq(n).attr("tabindex",-1),"ArrowRight"===t.key?(n++,n>=r.length&&(n=0)):"ArrowLeft"===t.key&&(n--,n<0&&(n=r.length-1)),r.eq(n).attr("tabindex",0).focus())}),r.eq(0).click()}))}(t.$activity),c(e)},l=(r(48),r(8));function h(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=t.find(".teacherScoreInput").val()||void 0,n=t.find(".teacherInteractionCommentTextArea").val()||"",i=t.find(".audioRecorder.studentAudioRecorder > .largeAudioRecording"),a=t.find(".audioRecorder.teacherAudioRecorder > .largeAudioRecording"),o=i.find("audio").attr("src")||"",s=a.find("audio").attr("src")||"",c=o.startsWith("data:"),u=s.startsWith("data:"),h={};c?h.audioBase64=o:o.length>0&&(h.audioUrl=o);const f={elm:t.attr("data-rcfid"),type:l.a.openGradableRecording,markType:l.d.byFeedback,max_score:t.attr("data-maxscore"),value:{user:h}},d={comment:n};return(r||0===r)&&(d.score=Number(r)),u?d.audioBase64=s:s.length>0&&(d.audioUrl=s),e&&(f.value.teacher=d),f}r(15),r(16);var f=r(4),d=r(353),p=r(103);var v=(t,e)=>{const r=t.get(0),n=Object(f.i)(t).get(0),i=new CustomEvent(p.b.changePlaybackUrl,{detail:{audioUrl:e,activityId:n.id},bubbles:!0,cancelable:!1,composed:!1});r.dispatchEvent(i)};var g=t=>{var e,r,n,i;const{$interaction:a}=t,o=t.value,s=(null===(e=o.user)||void 0===e?void 0:e.audioUrl)||(null===(r=o.user)||void 0===r?void 0:r.audioBase64)||"",c=(null===(n=o.teacher)||void 0===n?void 0:n.audioUrl)||(null===(i=o.teacher)||void 0===i?void 0:i.audioBase64)||"";if(s){const e=a.find('[data-rcfid="studentRecording-'.concat(t.elm,'"]'));v(e,s)}if(c){const e=a.find('[data-rcfid="teacherRecording-'.concat(t.elm,'"]'));v(e,c)}};function y(t,e){const r=Object(f.i)(t),n=e.id,i=r.attr("id");if(n!==i)throw"Invalid JSON answers provided for activity [".concat(i,"]");Object(d.a)(t,e).forEach(g)}var m=r(473),b=r(463),w=r(464),R=r(55),A=r(181);var P=(t,e)=>{const r=Object(R.d)(t);if(!r)return;const n=Object(f.i)(t),i=Object(A.a)(n,{audioQueue:[e],audioCallback:null},!1);i.sources||(i.sources=[]),r.source=i};var T=function(t,e){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(f.y)(t)||!r&&e.length<1||t.each((t,r)=>{const n=o()(r);P(n,e)})};var k=(t,e)=>{var r;const n=(null==e||null===(r=e.value)||void 0===r||null===(r=r.user)||void 0===r?void 0:r.audioUrl)||"";if(Object(f.y)(n))return;const i=t.find('.studentRecordedAudio div[data-rcfinteraction="audioElement"].audioContainer');T(i,n)};var U=t=>t.find(".reviewFeedbackInteractions .teacherRecordingPanel"),E=r(70);var S=(t,e,r)=>{const n=U(t);r===E.a.reviewTeacherFeedback&&n.toggleClass("noRecording",Object(f.y)(e))};var L=(t,e,r)=>{var n;const i=(null==e||null===(n=e.value)||void 0===n||null===(n=n.teacher)||void 0===n?void 0:n.audioUrl)||"";if(S(t,i,r),Object(f.y)(i))return;const a=t.find('.teacherFeedbackAudio div[data-rcfinteraction="audioElement"].audioContainer');T(a,i)};var x=(t,e)=>{const{$interaction:r}=t;Object(b.a)(r,t),Object(w.a)(r,t,e),k(r,t),L(r,t,e)};var C={getUserAnswers:function(t){return t.map((t,e)=>h(o()(e))).get()},showAnswers:y,setInteractionMode:function(t,e,r){switch(e){case E.a.default:return void y(t,r);case E.a.leaveTeacherFeedback:return void Object(m.a)(t,e,r,y,x,()=>{Object(n.a)(t)});case E.a.reviewTeacherFeedback:return void Object(m.a)(t,e,r,y,x)}},getTeacherFeedback:function(t){return t.map((t,e)=>h(o()(e),!0)).get()}},O=r(465),I=r(466);var B=t=>{const e=t.find(".audioContainer");T(e,"",!0)};var j=t=>{const e=t.find(".scoreTotalLabel .score"),r=t.find(".teacherScoreInput");e.val(0),r.val("")};var $=t=>{t.find(".dev-teacher-comment-container").removeClass("noComment");t.find(".reviewTeacherInteractionComment").html("")};var M=t=>{U(t).removeClass("noRecording")};var N=t=>{const e=Object(O.a)(t);j(t),Object(I.a)(e),$(t),M(t),B(t)};var F=r(398);function G(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,"default",(function(){return _}));class _ extends F.a{constructor(t){super(t,C),G(this,"audioRecorders",void 0)}async initialise(){await u(this)}enable(){this.audioRecorders.enable()}disable(){this.audioRecorders.disable()}reset(){this.$selector.each((t,e)=>{const r=o()(e);N(r)}),this.audioRecorders.reset()}}}}]);
/* build created on 15/08/2025 16:19 */
//# sourceMappingURL=http://localhost:4000/source-maps/interactions/openGradable/rcfOpenGradableRecording.js.map