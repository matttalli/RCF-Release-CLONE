(window.rcfRunTime_24113=window.rcfRunTime_24113||[]).push([["interactions/openGradable/rcfOpenGradableTeacherGradedTask"],{377:function(e,t,n){var r,o,i;o=[e,t],void 0===(i="function"==typeof(r=function(e,t){"use strict";var n,r,o="function"==typeof Map?new Map:(n=[],r=[],{has:function(e){return n.indexOf(e)>-1},get:function(e){return r[n.indexOf(e)]},set:function(e,t){-1===n.indexOf(e)&&(n.push(e),r.push(t))},delete:function(e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),r.splice(t,1))}}),i=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){i=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function a(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!o.has(e)){var t,n=null,r=null,a=null,s=function(){e.clientWidth!==r&&l()},c=function(t){window.removeEventListener("resize",s,!1),e.removeEventListener("input",l,!1),e.removeEventListener("keyup",l,!1),e.removeEventListener("autosize:destroy",c,!1),e.removeEventListener("autosize:update",l,!1),Object.keys(t).forEach((function(n){e.style[n]=t[n]})),o.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",c,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",l,!1),window.addEventListener("resize",s,!1),e.addEventListener("input",l,!1),e.addEventListener("autosize:update",l,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",o.set(e,{destroy:c,update:l}),"vertical"===(t=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),n="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(n)&&(n=0),l()}function d(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function u(){if(0!==e.scrollHeight){var t=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),o=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+n+"px",r=e.clientWidth,t.forEach((function(e){e.node.scrollTop=e.scrollTop})),o&&(document.documentElement.scrollTop=o)}}function l(){u();var t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null),r="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):e.offsetHeight;if(r<t?"hidden"===n.overflowY&&(d("scroll"),u(),r="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==n.overflowY&&(d("hidden"),u(),r="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),a!==r){a=r;var o=i("autosize:resized");try{e.dispatchEvent(o)}catch(e){}}}}function s(e){var t=o.get(e);t&&t.destroy()}function c(e){var t=o.get(e);t&&t.update()}var d=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((d=function(e){return e}).destroy=function(e){return e},d.update=function(e){return e}):((d=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],(function(e){return a(e)})),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],s),e},d.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],c),e}),t.default=d,e.exports=t.default})?r.apply(t,o):r)||(e.exports=i)},398:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(25);function r(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o{constructor(e,t){r(this,"$activity",void 0),r(this,"$selector",void 0),r(this,"interactionFunctions",void 0),this.interactionFunctions=t,this.$activity=e}getUserAnswers(){return this.interactionFunctions.getUserAnswers(this.$selector)}showAnswers(e){this.interactionFunctions.showAnswers(this.$selector,e)}setInteractionMode(e,t){this.interactionFunctions.setInteractionMode(this.$selector,e,t)}getTeacherFeedback(){return this.interactionFunctions.getTeacherFeedback(this.$selector)}isComplete(){return!this.interactionFunctions.isComplete||this.interactionFunctions.isComplete(this.$selector)}reset(){this.interactionFunctions.reset&&this.interactionFunctions.reset(this.$selector)}}},715:function(e,t,n){"use strict";n.r(t);n(6),n(11);var r=n(403),o=n(469);var i=e=>{const t=e.$activity.find('[data-rcfinteraction="teacherGradedTask"]');e.$selector=t;const n=t.find("textarea.rcfTextArea");Object(r.a)(n),Object(o.a)(t)},a=n(473),s=(n(15),n(16),n(4)),c=n(353);var d=()=>{};var u=(e,t)=>{const n=Object(s.i)(e),r=t.id,o=n.attr("id");if(r!==o)throw"Invalid JSON answers provided for activity ["+o+"]";Object(c.a)(e,t).forEach(()=>d())},l=n(463),h=n(464);var f=(e,t)=>{const{$interaction:n}=e;Object(l.a)(n,e),Object(h.a)(n,e,t)},p=n(70);var v=(e,t,n)=>{switch(t){case p.a.default:return void u(e,n);case p.a.leaveTeacherFeedback:case p.a.reviewTeacherFeedback:return void Object(a.a)(e,t,n,u,f)}},y=(n(48),n(5)),w=n.n(y),m=n(17),b=n(8);var g=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.find(".teacherScoreInput").val()||void 0,r=e.find(".teacherInteractionCommentTextArea").val()||"";let o={elm:Object(s.v)(e)||"",type:b.a.openGradableTeacherGradedTask,markType:b.d.byFeedback,max_score:Object(m.a)(e,"data-maxscore")||"",value:{user:{value:""}}},i={comment:r};return(n||0===n)&&(i.score=Number(n)),t&&(o.value.teacher=i),o};var E=e=>e.map((e,t)=>{const n=w()(t);return g(n,!0)}).get();var T=e=>Object(s.i)(e).hasClass(p.a.answerKeyMode)?[]:e.map((e,t)=>{const n=w()(t);return g(n)}).get(),F=n(465),x=n(466);var O=e=>{const t=Object(F.a)(e),n=e.find(".scoreResult"),r=e.find(".teacherScoreInput"),o=e.find(".reviewTeacherInteractionComment");n.text(0),r.val(""),Object(x.a)(t),o.html("")};var z={getUserAnswers:T,showAnswers:u,setInteractionMode:v,getTeacherFeedback:E,isComplete:()=>!0,reset:e=>{e.each((e,t)=>{const n=w()(t);O(n)})}},j=n(398);class k extends j.a{constructor(e){super(e,z),i(this)}}t.default=k}}]);
/* build created on 15/08/2025 16:19 */
//# sourceMappingURL=http://localhost:4000/source-maps/interactions/openGradable/rcfOpenGradableTeacherGradedTask.js.map